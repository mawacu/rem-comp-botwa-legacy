"use strict";

const pino = require('pino')
const util = require('util')
const FormData = require('form-data')
const axios = require('axios')
const path = require('path')
const fs = require('fs')
const os = require('os')
const { sizeFormatter } = require('human-readable')
const moment = require('moment-timezone')
const urlShortener = require('./lib/shortener')
const canvas = require('canvacord')
const cnvs = require('canvas')
const google = require('googlethis')
const googleSr = require("google-sr")
const PhoneNumber = require('awesome-phonenumber');
const toMs = require('ms')
const cron = require('node-cron')
const yts = require('yt-search')
const fetch = require('node-fetch')
const { Agent } = require('node:https')
const agent = new Agent({ rejectUnauthorized: false })
const cheerio = require('cheerio')
const PDFDocument = require('pdfkit');
const xml2js = require('xml2js')
const exec = require('child_process').exec;
const sizeOf = require('image-size');
const speedTest = require('speedtest-net');
const { createSticker, StickerTypes } = require('wa-sticker-formatter')
const stringSimilarity = require("string-similarity");
const QRCode = require('qrcode')
const imageThumbnail = require('image-thumbnail');
const HttpsProxyAgent = require('https-proxy-agent');
const Math_js = require('mathjs')
const ffmpeg = require('fluent-ffmpeg')
const config = require('./config')
const spawn = require("child_process").spawn;
const { execSync } = require('child_process')
const cryptoJS = require('crypto-js')
const crypto = require('crypto')
const Big = require('big.js')

// Configure Big.js for high precision
Big.DP = 20; // decimal places
Big.RM = Big.roundHalfUp;

// Utility function to safely handle large numbers
const safeBig = (value) => {
    try {
        return new Big(value || 0)
    } catch (e) {
        console.warn('Failed to convert to Big:', value, e.message)
        return new Big(0)
    }
}

// Utility function to safely convert Big to display number
const safeToNumber = (bigValue, defaultValue = 0) => {
    try {
        if (bigValue && typeof bigValue.toNumber === 'function') {
            const num = bigValue.toNumber()
            return isFinite(num) ? num : defaultValue
        }
        return defaultValue
    } catch (e) {
        console.warn('Failed to convert Big to number:', bigValue, e.message)
        return defaultValue
    }
}
const md5 = require('md5')
const stream = require('stream')
const WebSocket = require('ws')
// const mailgunServices = require("mailgun.js");
// const mailgun = new mailgunServices(FormData);
// const mailgunClient = mailgun.client({ username: 'api', key: process.env.mailgunApiKey });
const sgMail = require('@sendgrid/mail');
sgMail.setApiKey(process.env.sendgridApikey);
const FileType = require('file-type')
const mime = require('mime-types')
const sharp = require('sharp')
const file_size_url = require('url-file-size')
const tesseract = require("node-tesseract-ocr")
// const pdf = require('pdf-parse')
// const docx = require('docx')

const httpsAgent = agent

const isNotifErrorRecord = true

const geniusAPIKey = 'Bearer Tip3y-tZ3x9Jf7-uPtNDjSDHxa82TUz-6yg7QhxEXzUy_8_AcLCgbujeRRRu2m-Q'
//const Pixiv = require("@ibaraki-douji/pixivts");
//const pixiv = new (Pixiv.Pixiv);
//const webDomain = JSON.parse(fs.readFileSync('./lib/database/web/subdomain.json'))
const isUrl = new RegExp(/https?:\/\/(www\.)?[-a-zA-Z0-9@:%._+~!=]{1,256}\.[a-zA-Z0-9()]{1,6}\b([-a-zA-Z0-9()@:%_+.~!?&/=]*)/gi)
// const agentJadibot = new HttpsProxyAgent('http://dwi:vl2XO6o4ANLs1zBKmMR5SRzjDgReBPxL@108.136.137.118:3128')

const listJadibotServer = [9027, 7027, 5027, 3027, 1027, 1127, 2027, 4027, 6027, 8027]

const _rumahHarga = {
    "16": 2000000,
    "28": 30000000,
    "36": 100000000,
    "49": 400000000,
    "52": 900000000,
    "63": 1800000000,
    "75": 4600000000,
    "86": 7800000000,
    "99": 9300000000,
    "01": 10000000000,
    "69": 1000000000000000,
    "77": 1000000000000000000,
    "757": 700000000000000000000000,
    "879": 80000000000000000000000000000000
}
const _rumahListrikHarga = {
    "16": 50000,
    "28": 200000,
    "36": 600000,
    "49": 1500000,
    "52": 2500000,
    "63": 5000000,
    "75": 10000000,
    "86": 30000000,
    "99": 60000000,
    "01": 100000000,
    "69": 500000000,
    "77": 1000000000,
    "757": 70000000000,
    "879": 80000000000000
}
const _rumahRegenEnergy = {
    "16": 5,
    "28": 15,
    "36": 25,
    "49": 35,
    "52": 45,
    "63": 55,
    "75": 65,
    "86": 75,
    "99": 85,
    "01": 95,
    "69": 110,
    "77": 130,
    "757": 150,
    "879": 195
}
const _rumahGarasi = {
    "16": 1,
    "28": 1,
    "36": 1,
    "49": 1,
    "52": 1,
    "63": 1,
    "75": 1,
    "86": 1,
    "99": 1,
    "01": 2,
    "69": 3,
    "77": 4,
    "757": 5,
    "879": 6
}

let nyehTemp = []
//let listCharaIdWhitelist = [203940, 182964, 194503, 246268, 194501, 250452, 224273, 203623, 177568, 159640, 206128, 250641, 253703, 191086, 148141, 197751, 248828, 188176, 242986, 198565, 87287, 122211, 168985, 198675, 244323, 173008, 257523]
// let listCharaIdWhitelist = [36828, 192049, 105289, 198565, 188267, 163271, 215718, 70069, 128917, 208568, 223129, 186362, 189839, 184047, 152715, 236300, 214700, 192919, 181611, 201774, 212968, 204780, 128911, 128910, 160679, 6046, 173261, 229960, 243960, 188176, 122211, 201458, 168985, 225665]
let listCharaIdWhitelist = [277870, 280375, 278615, 211945, 182080, 206128, 221477, 203940, 182964, 206128, 178722, 246268, 194501, 250452, 198572, 206279, 197751, 248828, 159640, 244771, 244323, 173008, 54899, 191086, 173261, 164471, 205633, 238029, 70069, 36828, 192049, 198565, 188267, 163271, 128503, 215718, 128917, 208568, 186362, 189839, 184047, 152715, 236300, 214700, 192919, 181611, 201774, 212968, 204780, 128911, 160679, 173261, 243960, 178275, 225665, 188430, 229960, 188176, 2224262, 39102, 209622, 174027, 188622, 245943, 247896, 206721, 207955, 175281, 87287, 194751, 244289, 142261, 122211, 224273, 203623, 201458, 168985, 198675, 191314, 224281, 217592, 250641, 141354, 195230, 257523, 194501, 222740, 222742, 222744, 222739, 222741, 222743, 244323, 244327, 160603, 161472, 161471, 161470, 161469, 185061, 214385, 166779, 242986, 177568, 223977, 199895, 199894,172812]

const superOwnerPajak = '6281358181668@s.whatsapp.net'
const numberReportError = '62856038120076@s.whatsapp.net'
const ownerNumber = '6281358181668@s.whatsapp.net, 62856038120076@s.whatsapp.net, 160472879886569@s.whatsapp.net, 6288809279029@s.whatsapp.net'
const ownerNumber2 = '6281358181668@s.whatsapp.net, 62856038120076@s.whatsapp.net, 6282229778223@s.whatsapp.net, 6288809279029@s.whatsapp.net'
const sideOwnerNumber = '6281358181668@s.whatsapp.net, 62856038120076@s.whatsapp.net, 6288809279029@s.whatsapp.net, 6288991122630@s.whatsapp.net, 62856038120076@s.whatsapp.net, 6282229778223@s.whatsapp.net, 6285858254388@s.whatsapp.net, 85294853160@s.whatsapp.net'
const hideGroups = [ '120363359122117558@g.us, 120363372660164190@g.us']

const newDbMap = (uid, sender) => {
    return {
        iId: sender,
        uid,
        isAdmin: false,
        isPremium: false,
        afk: {
            isAfk: false,
            time: 0,
            reason: ''
        },
        isBanned: false,
        bannedReason: '',
        isSuperBanned: false,
        timeBanned: 0,
        isCvrtE: false,
        isHidePP: false,
        tictac: { poin: 0, win: 0, lose: 0, draw: 0, lastlead: null },
        tc: {},
        rl: {
            name: '',
            gender: '',
            antispamAct: 0,
            food: 100,
            stamina: 100,
            mantan: [],
            rumah: {}
        },
        nametag: {
            select: '',
            list: ["üå¥ Member üå¥"],
        },
        economy: {
            level: 1,
            xp: 0,
            money: 2000,
            moneyharam: 0,
            mining: {},
            job: { job: "Pengangguran", lvljob: 1, xpjob: 0, multi: 1},
            worklimit: 0
        },
        lastAction: { rl: Date.now(), pd: Date.now() },
        ig: '',
        item: { dscinv: {}, level: { level: 0, time: 0 }, joinkey: 0, redeemed: [] },
        limit: {
            limit: 25,
            lgivein: [],
            lpaym: []
        },
        invest: {},
        image: {
            bg: './media/img/bg.png',
            bgProfile: './media/img/bgProfile.png'
        }
    }
}
// const sideOwnerNumber = ''

moment.tz.setDefault('Asia/Jakarta').locale('id');
const { 
    help,
    creatormenu,
    admingroupmenu,
    shopmenu,
    allcmd,
    commandd,
    premu,
    nopremu,
    premcmd,
    //admincmd,
    ownercmd,
    nsfwcmd,
    mediacmd,
    animecmd,
    praycmd,
    groupcmd,
    gamemenu,
    bahasalist,
    snk, 
    info, 
    sumbang,
    membership, 
    readme, 
    listChannel,
    setuser
    } = require('./lib/help')

const { 
    uploadImages, 
    } = require('./lib/fetcher')

let setting = {"restart":false,"limitCount":25,"memberLimit":50,"groupLimit":25,"barbarkey":"YOUR_APIKEY","vhtearkey":"MizukiWaifuisHoriCan","tobzkey":"BotWeA","prefix":"!","owner":"6281358181668@c.us","mtc":false,"restartState":false,"restartId":"YUI","banChats":false,"Rest":true}
let { 
    limitCount,
    banChats,
    } = setting
const nsfw = require('./lib/nsfw');
const { get } = require('http');
const { group } = require('node:console');

const inArray_single = (needle, haystack) => {
    let length = haystack.length;
    for(let i = 0; i < length; i++) {
        if(haystack[i] == needle) return true;
    }
    return false;
}
const inArray_includes = (needle, haystack) => {
    let length = haystack.length;
    for(let i = 0; i < length; i++) {
        if(needle.includes(haystack[i])) return true;
    }
    return false;
}

function find_duplicate_in_array_result(array){
const count = {}
const result = []

array.forEach(item => {
    if (count[item]) {
       count[item] +=1
       return
    }
    count[item] = 1
})

for (let prop in count){
    if (count[prop] >=2){
        result.push(prop)
    }
}

console.log(count)
console.log(result)
return count;

}

let isCommandExists = true
let pushedCmdDb = {}
let allCase = undefined

const dbAccess = require('./lib/dbtype')(false)
module.exports = async (remRaw = undefined, reply = undefined, messageRaw = undefined, message = undefined, MessageType = undefined/*, browserMAL*/, browserSS, canvass = undefined, canvasRenderService1 = undefined, clientjs = '', isVirtualBot, virtualBotID, ytDlpWrap, cord = undefined, socket, groupMETA, ClientGenius) => {
    console.log('d')
    if(message.sender == undefined) return
    if(config.isDebug) console.log(`----- START -----`)
    if(isVirtualBot && message.from == '120363043619573873@g.us') return

    const rem = remRaw

    if(rem == undefined || message == {}) return
    const { text, extendedText, contact, location, liveLocation, image, video, sticker, document, audio, product } = { text: 'text', extendedText: 'extendedText', contact: 'contactMessage', location: 'locationMessage', liveLocation: 'liveLocation', image: 'imageMessage', video: 'videoMessage', sticker: 'stickerMessage', document: 'documentMessage', audio: 'audioMessage', product: 'productMessage' }
    let { 
        body,
        type, 
        id, 
        from, 
        t, 
        sender, 
        isGroupMsg,
        chatId, 
        caption,
        isMedia, 
        mimetype,
        quotedMsg,
        mentionedJidList 
    } = message
    let groupMetadata = groupMETA
    if(message.sender.includes('@lid')) {
        const checkContactLid = await dbAccess._mongo_ContactSchema.findOne({ lid: { $in: [message.sender, (message.sender + '@s.whatsapp.net')] } });
        if(checkContactLid?.iId) {
            message.sender = checkContactLid.iId
            sender = checkContactLid.iId
            if(message?.key?.participant) message.key.participant = checkContactLid.iId
            else { message.key.remoteJid = checkContactLid.iId }
        }
    }

    const {
        makeWASocket,
        fetchLatestWaWebVersion,
        fetchLatestBaileysVersion,
        useMultiFileAuthState,
        DisconnectReason,
        generateWAMessageFromContent, 
        proto,
        generateWAMessage,
        prepareWAMessageMedia
        //MessageType,
    } = await import('baileys')

    let isCmd = false
    let prefix = ''
    try {
        
        const dateNowProccessIs = Date.now()
        if(config.isDebug) console.log(`${Date.now() - dateNowProccessIs}ms - Load DB [1]`)


// LOAD FILE
// {
//     iId: 'XXX',
//     prefix: '.',
//     muted: {
//         isMuted: false,
//         isMutedAdmin: false
//     },
//     isSimsimi: false,
//     isNsfw: false,
//     isAntiBadword: false,
//     isAntiLink: false,
//     isJoinMsg: false,
//     isLeaveMsg: false,
//     rulesSet: 'XXX',
//     scInsert: 'XXX || undefined',
//     setGroup: {
//         lvlupdisable: false,
//         nocmd: false
//     },
//     count: {},
//     giveaway: {}
// }
let _botDb = await dbAccess._mongo_BotSchema.findOne({ iId: 'CORE' })

let _groupDb = undefined
if(isGroupMsg) {
    _groupDb = await dbAccess._mongo_GroupSchema.findOne({ iId: from })
    if(_groupDb == undefined) {
        const _obj = {
            iId: from,
            join: {},
            prefix: '.',
            muted: {
                isMuted: false,
                isMutedAdmin: false
            },
            isImageSafeSearch: false,
            isSimsimi: false,
            isNsfw: false,
            isAntiNsfw: false,
            isAntiBadword: false,
            isAntiLink: false,
            isJoinMsg: false,
            isLeaveMsg: false,
            isNoCmd: false,
            rulesSet: '',
            scInsert: '',
            setGroup: {
                lvlupdisable: false,
                nocmd: false
            },
            game: {
                mathgame: [],
                quizgame: [],
            },
            giveaway: []
        }
        await dbAccess._mongo_GroupSchema.create(_obj)
        _groupDb = await dbAccess._mongo_GroupSchema.findOne({ iId: from })
    }
}

// {
//     iId: 'XXX',
//     isAdmin: false,
//     isPremium: false,
//     isAfk: false,
//     isBanned: false,
//     isSuperBanned: false,
//     timeBanned: 0,
//     isCvrtE: false,
//     tictac: {},
//     rl: {
//         name: 'XXX',
//         gender: 'XXX',
//         pd: {},
//         makan: {},
//         mantan: {},
//         rumah: {}
//     },
//     economy: {
//         level: 999,
//         money: 89,
//         moneyharam: 8908,
//         job: {}
//     },
//     limit: {
//         limit: 99,
//         lgivein: []
//         lpaym: []
//     },
//     invest: {},
//     image: {
//         bg: 'XXX',
//         bgProfile: 'XXX'
//     }
// }

async function getNextSequenceValue(sequenceName){
    const sequenceDocument = await dbAccess._mongo_CounterSchema.findOneAndUpdate({ iId: sequenceName }, { $inc: { count: 1 } }, { new: true });
    return sequenceDocument.count;
}

let _userDb = await dbAccess._mongo_RawUserSchema.findOne({ iId: sender })
let isVirtualAccount = false

if(_userDb?.setUser?.switchNum && !message.rawFromSender) {
    message.rawFromSender = message.sender
    message.rawFromSenderUserDb = _userDb
    message.sender = _userDb.setUser.switchNum
    messageRaw.sender = _userDb.setUser.switchNum

    return require('./client_whatsmeow')(remRaw, reply, messageRaw, message, MessageType, browserSS, canvass, canvasRenderService1, clientjs, isVirtualBot, virtualBotID, ytDlpWrap, cord, socket, groupMETA, ClientGenius)
}
//if(_userDb?.setUser?.version == 'beta' && !__filename.includes('beta')) return require('./client_beta')(remRaw, reply, messageRaw, message, MessageType, browserSS, canvass, canvasRenderService1, clientjs, isVirtualBot, virtualBotID, ytDlpWrap, cord, socket, groupMETA, ClientGenius)

if(_userDb == undefined && sender != undefined) {
    const user_id_new = await getNextSequenceValue('user_id')
    const _obj = newDbMap(user_id_new, sender)
    await dbAccess._mongo_UserSchema.create(_obj)
    _userDb = await dbAccess._mongo_UserSchema.findOne({ iId: sender })
}

let _userDbRaw = _userDb
if(_userDb?.accountList?.select != undefined && _userDb?.accountList?.select != '' && _userDb?.accountList?.select != _userDb?._id) {
    _userDb = await dbAccess._mongo_UserAccountSchema.findOne({ _id: _userDb.accountList.select })
    if(_userDb == undefined) {
        const _obj = newDbMap(Math.random() * 1000, sender)
        await dbAccess._mongo_UserAccountSchema.create(_obj)
        _userDb = await dbAccess._mongo_UserAccountSchema.findOne({ iId: sender })
        await dbAccess._mongo_RawUserSchema.updateOne({ iId: sender }, { $pull: { "accountList.list": _userDbRaw.accountList.select }, $set: { "accountList.select": _userDb._id } })
        await dbAccess._mongo_RawUserSchema.updateOne({ iId: sender }, { $push: { "accountList.list": _userDb._id } })
    }
    isVirtualAccount = true
}
if(message.sender === '6281358181668@s.whatsapp.net') console.log(isVirtualAccount)

const { _mongo_GroupSchema, _mongo_RawUserSchema, _mongo_UserSchema, _mongo_UserAccountSchema, _mongo_BotSchema, _mongo_CommandSchema, _mongo_ContactSchema, _mongo_CommandMessageSchema, _mongo_JadibotSchema, _mongo_RedeemSchema, _mongo_InvestHistorySchema  } = require('./lib/dbtype')(isVirtualAccount)
const {
    liriklagu,
    processTime,
    sleep,
    randomNimek,
    jadwalTv,
    random,
    //Nametag
    setNameTag,
    getNameTag,
    getNameTagList,
    replaceNameTag,
    addNameTag_tag,
    //Achievements
    // getAchievements,
    //AFINITAS
    getAfinitas,
    getAfinitasLover,
    getAfinitasSaudara,
    getAfinitasSahabat,
    getAfinitasKepercayaan,
    checkAfinitasLimit,
    sendAfinitasRequest,
    getAfinitasRequests,
    acceptAfinitas,
    rejectAfinitas,
    removeAfinitas,
    //Mantan Afinitas Lover
    getUserMantanPasrl,
    setUserMantanPasrl,
    addUserMantanPasrl,
    //truth or dare
    startTodGame,
    selectNextTodPlayer,
    handleTodTimeout,
    continueTodGame,
    handleTodChoice,
    checkActiveGame,
    //EASTER EGG
    addPoint,
    MinPoint,
    getPoint,
    setPoint,
    // CHRISTMAS EVENT
    addToken,
    MinToken,
    getToken,
    setToken,

    addFrag,
    MinFrag,
    getFrag,
    setFrag,
    addSpentToken,
    MinSpentToken,
    getSpentToken,
    setSpentToken,
    getUserItemSpy,

    getChristmasLeaderboard,
    getChristmasShopInventory,
    buyChristmasShopItem,
    generateChristmasReward,
    addChristmasSpentToken,
    //WARN
    addWarn,
    getWarn,
    removeWarn,
    //MONEY
    setMoney,
    getMoney,
    MinMoney,
    addMoney,
    setMoney_haram,
    getMoney_haram,
    MinMoney_haram,
    addMoney_haram,
    //Give Money Limit
    setMoneyLimitGive,
    getMoneyLimitGive,
    addMoneyLimitGive,
    //InvestUser
    setInvest_user,
    getInvest_user,
    MinInvest_user_coal,
    MinInvest_user_copper,
    MinInvest_user_iron,
    MinInvest_user_gold,
    MinInvest_user_diamond,
    MinInvest_user_sacoin,
    MinInvest_user_naocoin,
    MinInvest_user_elacoin,
    MinInvest_user_recoin,
    addInvest_user_coal,
    addInvest_user_copper,
    addInvest_user_iron,
    addInvest_user_gold,
    addInvest_user_diamond,
    addInvest_user_sacoin,
    addInvest_user_naocoin,
    addInvest_user_elacoin,
    addInvest_user_recoin,
    investTransaction,
    addInvest_counter_market,
    addInvest_limit,
    getInvest_limit,
    //Money Ren/RPG
    setHunt_profile,
    getHunt,
    getHunt_position,
    getDuel_ses,
    AnimalAtk_hunt,
    addHunt_Poin,
    replaceHunt_Xp,
    minHunt_Xp,
    addHunt_Xp,
    minHunt_Lvl,
    addHunt_Lvl,
    replaceHunt_Hp,
    minHunt_Hp,
    addHunt_Hp,
    replaceHunt_Atk,
    minHunt_Atk,
    addHunt_Atk,
    replaceHunt_Def,
    minHunt_Def,
    addHunt_Def,
    replaceHunt_Partner,
    replaceHunt_Area,
    minHunt_renMoney,
    addHunt_renMoney,
    replaceHunt_Weapon,
    replaceHunt_Class,
    addHunt_Inventory,
    replaceHunt_Inventory,
    addHunt_PartInven,
    // RPG
    registerRpg,
    getRpg,
    actionRpgDb,
    addInventoryRpg,
    removeInventoryRpg,
    addEconomyDbBatch,
    setMoneyRpg,
    calculateFightRpg,
    setStatsRpg,
    //XP
    getLevelingXp,
    getLevelingLevel,
    getLevelingId,
    getItemLevel,
    replaceLevelingXp,
    addLevelingXp,
    MinLevelingXp,
    addLevelingLevel,
    MinLevelingLevel,
    addLevelingId,
    //MINING
    getMiningJum,
    addMining,
    addJumMining,
    //BG
    addBg,
    getBg,
    replaceBg,
    //BGPROFILE
    addBgProfile,
    getBgProfile,
    replaceBgProfile,
    //AFK
    addAfk,
    getAfk,
    getAfkReason,
    getAfkTime,
    getAfkId,
    //ANTISPAM
    setLevelAntiSpam,
    getLevelAntiSpamId,
    addLevelAntiSpamCount,
    addLevelAntiSpamCountCmd,
    //TIME REMAINING
    getTimeRemaining,
    //LIMIT
    isLimit,
    limitAdd,
    limitMin,
    getLimit,
    limitGive,
    monospace,
    // LIST ITEM
    getUserListItem,
    addUserListItem,
    enableUserListItem,
    disableUserListItem,
    //ITEM
    getUserItemId,
    //ITEM LEVEL
    addItemLevel,
    addJumItemLevel,
    //ITEM JOB BOOST
    addItemJobBoost,
    addJumItemJobBoost,
    getItemJobBoost,
    // spy
    getUserItemIdSpy,
    addItemSpy,
    //PROFILE
    getCmd,
    addCmd,
    CmdAddJum,
    getCmdmsg,
    getCmdjum,
    getCmdPosition,
    //PREFIX
    replacePref,
    //SET RULES
    addrules,
    getrules,
    replaceRules,
    //SETUSER NAMA
    addNama,
    replaceNama,
    //SETUSER GENDER
    addGen,
    replaceGen,
    getGen,
    getMention,
    //SETUSER IG
    addIg,
    replaceIg,
    getIg,
    //TICTAC
        //Profile
    setTicTac_profile,
    getTicTac_profile,
    addTicTac_profile,
        //Game
    setTicTac_toe,
    getTicTac_toe,
    replaceTicTac_xo,
    replaceTicTac_status,
    replaceTicTac_turn,
    replaceTicTac_toe_game,
    //ww
    setWW_game,
    getWW_game,
    replaceWWValue_game,
    addWWPlayer_game,
    removeWWPlayer_game,
    getWWPlayer_game,
    replaceWWPlayer_status,
    replaceWWPlayer_value,
    stateWWGame_starting,
    stateWWGame_night,
    stateWWGame_midnight,
    stateWWGame_day,
    //ANTISIDER
    setMcount,
    setMcountData,
    addMcountData,
    replaceLastMsg,
    replaceSiderSet,
    getMcountDataGroupSet,
    getMcountData,
    getMcountDataId,
    //getMcountLastData,
    getMCountPosition,
    //GROUP JOIN TIME
    addJoinTime,
    getJoinGroup,
    //getJoinKey,
    //getJoinTime,
    //getJoinId,
    adduserKeyTime,
    getuserKeyId,
    //RANDOM
    GenerateRandomNumber,
    GenerateRandomChar,
    GenerateSerialNumber,
    //BACKUP
    addTimeBackup,
    //BANTEMP
    setTempBan,
    getTempBanUser,
    //,
    numberWithCommas,
    numberWithCommas2,
    //HITS
    addHitsCount,
    getHitsCount,
    //Convert Size
    clacSize_kb,
    bytestobits,
    //ZIPPY
    GetLink,
    getLinkRacaty,
    getBufferMega,
    getBufferOtakuFiles,
    //YT
    yt,
    //WEB
    getWebUser,
    setWebUser,
    //Redeem
    addCodeRedeem,
    getRedeemed,
    addUserRedeemed,
    //Limit Give
    setLimitGive_invest,
    getLimitGive_invest,
    addLimitGive_invest,
    //Zerochan Cache
    setZerochan_cache,
    getZerochan_cache,
    //Roleplay
    setUserMakanan,
    getUserMakan,
    replaceUserMakan,
    minUserMakan,
    addUserMakan,
    //Roleplay - Rumah
    setUserRoleplay_rumah,
    getUserRoleplay_rumah,
    replaceUserRoleplay_rumah,
    //addUserRoleplay_rumah,
    //Roleplay - Mobil
    setUserRoleplay_mobil,
    getUserRoleplay_mobil,
    getUserRoleplay_listMobil,
    addUserRoleplay_mobil,
    selectRoleplay_mobilUtama,
    addUserRoleplay_mobilModif,
    calculateMobilModif,
    metersToKm,
    kmHrMSec,
    pxToMeters,
    //Mantan
    setUserRoleplayMantan_pasangan,
    getUserRoleplayMantan_pasangan,
    addUserRoleplayMantan_pasangan,
    //Pasangan
    setUserRoleplay_pasangan,
    getUserRoleplay_pasangan,
    getUserRoleplayMood_pasangan,
    addUserRoleplayXP_pasangan,
    addUserRoleplayLevel_pasangan,
    replaceUserRoleplayFood_pasangan,
    replaceUserRoleplayHubungan_pasangan,
    replaceUserRoleplayHubungan_pasangan_force,
    replaceUserRoleplayUang_pasangan,
    replaceUserRoleplayMood_pasangan,
    replaceUserRoleplayStatus_pasangan,
    replaceUserRoleplayStatus2_pasangan,
    replaceUserRoleplayValue_pasangan,
    /*addUserRoleplayAnakKandungan_pasangan,
    getUserRoleplayAnakKandungan_pasangan,*/
    addUserRoleplayAnak_pasangan,
    //Pasangan 2
    setUserRoleplay_pasangan2,
    getUserRoleplay_pasangan2,
    getUserRoleplayMood_pasangan2,
    addUserRoleplayXP_pasangan2,
    addUserRoleplayLevel_pasangan2,
    replaceUserRoleplayFood_pasangan2,
    replaceUserRoleplayHubungan_pasangan2,
    replaceUserRoleplayHubungan_pasangan_force2,
    replaceUserRoleplayUang_pasangan2,
    replaceUserRoleplayMood_pasangan2,
    replaceUserRoleplayStatus_pasangan2,
    replaceUserRoleplayStatus2_pasangan2,
    replaceUserRoleplayValue_pasangan2,
    /*addUserRoleplayAnakKandungan_pasangan2,
    getUserRoleplayAnakKandungan_pasangan2,*/
    addUserRoleplayAnak_pasangan2,
    //
    //InvDiscount-item
    addDiscInv,
    getDscInv,
    delDscInvTimeCheck,
    //AutoDelete
    createAutoDelete,
    getAutoDelete,
    //WEB
    addDelTime,
    shuffleArray,
    zipDirectory,
    timeConvert,
    //WebpToMp4
    webp2mp4,
    webp2jpg,
    gif2mp4,
    //WriteStreamFetch
    responseToReadable,
    //FixE+
    fixNumberEPlus,
    showElapsedTime,
    decodeBase64Image,
    _notFoundQualityHandler,
    _epsQualityFunction,
    getQualityOtakudesu,
    requestPuppeteer,
    html2img,
    mobileLegendsWinRate,
    capitalizeFirstLetter,
    storeNameMsg,
    nocache,
    uncache,
    timeDifference,
    getAnimePlanetChara,
    getAniListChara,
    getArrayDoubleTop,
    requestWithProxyRandom,
    requestWithProxy,
    encryptValue,
    decryptValue,
    addExif,
    gif2webpFfmpeg,
    getAllJadibotFromAPI,
    getAllJadibotNewFromAPI,
    sendRequestRandomJadibotNew,
    sendRequestRandomJadibot,
    sendReqToGroupJadibot,
    arrayFindStartsWith,
    addCollectorMessage,
    textProgressBar,
    saveFormIgDown,
    checkImageNsfw,
    initLogCrashData,
    fetchFromObject,
    getLevelImageTemplate,
    convertStringToJSX,
    getProfileBgTemplate,
    toArrayBuffer,
    urlFileSize,
    addUserAndConnectClientJadibot,
    requestPairPhoneClientJadibot,
    getQrClientJadibot,
    checkConnectClientJadibot,
    getRandomMood,
    downloadWithCobalt
} = require('./lib/functions')(isVirtualAccount, message.sender)
const kerjajob = require('./lib/job')(isVirtualAccount)

const lidIds = []
const iIds = []

if(message.sender) {
    if(message.sender.includes('@lid')) {
        lidIds.push(message.sender)
    } else {
        iIds.push(message.sender)
    }
}
if(message.quotedMsg?.sender) {
    if(message.quotedMsg.sender.includes('@lid')) {
        lidIds.push(message.quotedMsg.sender)
    } else {
        iIds.push(message.quotedMsg.sender)
    }
}
let isMentionedLid = false
if(message.mentionedJidList && message.mentionedJidList?.length > 0) {
    for(const mention of message.mentionedJidList) {
        if(mention.includes('@lid')) {
            isMentionedLid = true
            lidIds.push(mention)
        } else {
            iIds.push(mention)
        }
    }
}

// Create a query that searches for contacts by iId or lid based on their type
const queryConditions = []
if(iIds.length > 0) {
    queryConditions.push({ iId: { $in: iIds } })
}
if(lidIds.length > 0) {
    queryConditions.push({ lid: { $in: lidIds } })
}

const findContactDb = queryConditions.length > 0 ? {
    $or: queryConditions
} : {}

const _contactDb = await dbAccess._mongo_ContactSchema.find(findContactDb).lean()
storeNameMsg(rem, message, _contactDb.find((c => (c.iId == message.sender) || (c.lid == message.sender) || (c.lid == (message.sender + '@s.whatsapp.net'))))) // only store master sender
const findContactDbQuoted = message.quotedMsg?.sender ? _contactDb.find((c => (c.iId == message.quotedMsg?.sender) || (c.lid == message.quotedMsg?.sender) || (c.lid == (message.quotedMsg?.sender?.split('@')[0] + '@s.whatsapp.net') || (c.lid == (message.quotedMsg?.sender?.split('@')[0] + '@lid'))))) : null
if(findContactDbQuoted) {
    message.quotedMsg.senderName = findContactDbQuoted.name
    message.quotedMsg.senderLid = findContactDbQuoted.lid
    message.quotedMsg.sender = findContactDbQuoted.iId
    message.quotedMsg.fromMe = message.quotedMsg.sender === (rem.user && rem.user.id?.split('@')[0].split(':')[0] + '@s.whatsapp.net')
    quotedMsg = message.quotedMsg
}
if(message.sender?.includes('@lid')) {
    const checkContactLid = _contactDb.find(c => c.lid == message.sender || c.lid == (message.sender + '@s.whatsapp.net'))
    if(checkContactLid?.iId) {
        message.sender = checkContactLid.iId
        if(message?.key?.participant) {
            message.key.participant = checkContactLid.iId
            message.key.participantPn = checkContactLid.iId
            message.key.participantLid = checkContactLid.lid
            message.sender = checkContactLid.iId
            sender = checkContactLid.iId
        } else {
            message.key.remoteJid = checkContactLid.iId
            message.key.senderPn = checkContactLid.iId
            message.key.senderLid = checkContactLid.lid
            message.sender = checkContactLid.iId
            sender = checkContactLid.iId
        }
    }
}
// filter contactDb to only show mentionedJidList lid
if(isMentionedLid) {
    message.mentionedJidList = message.mentionedJidList.map((all, index) => {
        // find _contactDb.lid === all.lid
        const contactMatch = _contactDb.find(c => c.lid === all || c.lid === (all + '@s.whatsapp.net'))
        return contactMatch ? contactMatch.iId : all
    })
}

// Initialize
if(_userDb?.timeBanned != 0 && Date.now() >= _userDb?.timeBanned) {
    await _mongo_UserSchema.updateOne({ iId: sender }, { $set: { isBanned: false, listCmdBan: [], timeBanned: 0, bannedReason: '' } })
    _userDb.isBanned = false
    _userDb.listCmdBan = []
    _userDb.timeBanned = 0
    _userDb.bannedReason = ''
}

// if(_userDb.rl?.pd?.mal_id != undefined && _userDb.rl?.pd?.hubungan <= 5 && !_userDb.rl?.pd?.status?.startsWith('Putus')) {
//     console.log('Putus', _userDb.rl.pd.status)
//     const textPdPutus_pacar = ["Pacar kamu selingkuh dengan orang lain karena kamu tidak memperhatikannya", "Pacar kamu telah memilih orang lain karena kamu tidak pernah memperhatikannya", "Pacarnmu sudah tidak sudi lagi denganmu karena kamu tidak memperhatikannya", `Jangankan cinta real life, disini bisa selingkuh andai kata _"Suatu cinta akan berbeda ketika salah satu dari mereka tidak pernah memperhatikan pasangannya"_ *_~SideOwn_*`, "Kamu telah ditinggal pacarmu selingkuh karena kamu tidak pernah peduli dengan-nya", `_"Cinta tidak akan datang ke 2 kalinya"_, sama halnya dengan pasangan mu disini yang meninggalkan dirimu hanya demi orang lain karena kamu tidak pernah peduli dengan dia.`, "Kamu telah ditinggal pergi oleh pacarmu dengan alasan kamu tidak pernah perduli dengan dia dan dia pun memilih orang lain", `_"Pernah singgah namun tidak di anggap"_, itulah yang dirasakan oleh pacarmu sehingga meninggalkan dirimu dan pergi berselingkuh dengan orang lain.`]
//     const randomTextPdPutus_pacar = textPdPutus_pacar[Math.floor(Math.random() * textPdPutus_pacar.length)]

//     const textPdPutus_pasangan = ["Pasangan kamu telah selingkuh dengan orang lain karena kamu tidak memperhatikannya", "Pasangan kamu telah memilih orang lain karena kamu tidak pernah memperhatikannya", "Pasanganmu sudah tidak sudi lagi denganmu karena kamu tidak memperhatikannya", `Jangankan cinta real life, disini bisa selingkuh andai kata _"Suatu cinta akan berbeda ketika salah satu dari mereka tidak pernah memperhatikan pasangannya"_ *_~SideOwn_*`, "Kamu telah ditinggal pasangamu selingkuh karena kamu tidak pernah peduli dengan-nya", `_"Cinta tidak akan datang ke 2 kalinya"_, sama halnya dengan pasangan mu disini yang meninggalkan dirimu hanya demi orang lain karena kamu tidak pernah peduli dengan dia.`, "Kamu telah ditinggal pergi oleh pasanganmu dengan alasan kamu tidak pernah perduli dengan dia dan dia pun memilih orang lain", `_"Pernah singgah namun tidak di anggap"_, itulah yang dirasakan oleh pasanganmu sehingga meninggalkan dirimu dan pergi berselingkuh dengan orang lain.`]
//     const randomTextPdPutus_pasangan = textPdPutus_pasangan[Math.floor(Math.random() * textPdPutus_pasangan.length)]
//     if (_userDb?.rl?.pd?.status == 'Pacaran') {
//         await _mongo_UserSchema.updateOne({ iId: sender }, { $set: { "rl.pd.status": `Putus.${randomTextPdPutus_pacar}` } })
//     } else if (_userDb?.rl?.pd?.status == 'Menikah' || _userDb?.rl?.pd?.status?.startsWith('Berkeluarga')) {
//         await _mongo_UserSchema.updateOne({ iId: sender }, { $set: { "rl.pd.status": `Putus.${randomTextPdPutus_pasangan}` } })
//     } else {
//         await _mongo_UserSchema.updateOne({ iId: sender }, { $set: { "rl.pd.status": `Putus.${randomTextPdPutus_pasangan}` } })
//     }
//     _userDb.rl.pd.status = `Putus.${randomTextPdPutus_pasangan}`
// }

if(((_userDb.item?.dscinv?.time != undefined && _userDb.item?.dscinv?.time != 0) && Date.now() >= _userDb.item?.dscinv?.time)) {
    await _mongo_UserSchema.updateOne({ iId: sender }, { $set: { "item.dscinv": {} } })
    _userDb.item.dscinv = {}
}

if(_userDb.item?.level?.time != 0 && Date.now() >= _userDb.item?.level?.time) {
    await _mongo_UserSchema.updateOne({ iId: sender }, { $set: { "item.level": { level: 0, time: 0 } } })
    _userDb.item.level = { level: 0, time: 0 }
}

if(_userDb.item?.spy?.time != 0 && Date.now() >= _userDb.item?.spy?.time) {
    await _mongo_UserSchema.updateOne({ iId: sender }, { $set: { "item.spy": { time: 0 } } })
    _userDb.item.spy = { time: 0 }
}

if(_userDb?.item?.item?.[0] != undefined) {
    _userDb?.item?.item.forEach(async (item, index) => {
        const keys = Object.keys(item)[0]
        if(item?.[keys]?.time != undefined && Date.now() >= item?.[keys]?.time) {
            await _mongo_UserSchema.updateOne({ iId: sender }, { $pull: { "item.item": { [keys]: item[keys] } } })
            _userDb.item.item.splice(index, 1)
        }
    })
}

if(_userDb.item?.jobBoost?.time != 0 && Date.now() >= _userDb.item?.jobBoost?.time) {
    await _mongo_UserSchema.updateOne({ iId: sender }, { $set: { "item.jobBoost": { xp: 0, time: 0 } } })
    _userDb.item.jobBoost = { xp: 0, time: 0 }
}

if(!_userDb.economy?.evntChristmas) {
    await _mongo_UserSchema.updateOne({ iId: sender }, { $set: {
        "economy.evntChristmas": {
            token: 0,
            frag: 0,
            spentToken: 0
        }
    }})
    _userDb.economy.evntChristmas = {
        token: 0,
        frag: 0,
        spentToken: 0
    }
}

if(!_userDb.rl?.afinitas) {
    await _mongo_UserSchema.updateOne({ iId: sender }, { $set: { 
        "rl.afinitas": {
            lover: null,
            saudara: { list: [] },
            sahabat: { list: [] }, 
            kepercayaan: { list: [] },
            requests: [],
            requestsLogs: []
        }
    }})
    _userDb.rl.afinitas = {
        lover: null,
        saudara: { list: [] },
        sahabat: { list: [] },
        kepercayaan: { list: [] },
        requests: [],
        requestsLogs: []
    }
}

if(Date.now() >= _userDb.economy?.worklimit) {
    await _mongo_UserSchema.updateOne({ iId: sender }, { $set: { "economy.worklimit": 0 } })
}

if(_userDb.limit?.ltagall == undefined) {
  await _mongo_UserSchema.updateOne({ iId: sender }, { $set: { "limit.ltagall": 0 } })
}



if((_userDb.limit?.invest?.time_limit_reset != 0) && (Date.now() >= _userDb.limit?.invest?.time_limit_reset)) {
    await _mongo_UserSchema.updateOne({ iId: sender }, { $set: { "limit.invest": { time_limit_reset: 0 } } })
    _userDb.limit.invest = { time_limit_reset: 0 }
}
// Group Initialize
if(isGroupMsg && !isVirtualBot) {
    if(Date.now() >= _groupDb?.join?.time) {
        await _mongo_GroupSchema.updateOne({ iId: from }, { $set: { "join": {} } })
        await rem.sendText(from, `Masa join telah habis, Silahkan *_.join_* di private chat`)
        await sleep(10000)
        return global?.remOutsideAccess?.groupLeave(from)
    }
}

if(!_userDb?.rl?.isImportedPd) {
    const readFromOldDb = JSON.parse(fs.readFileSync('./lib/database/pasangan.json', 'utf-8'))
    const findOldUserDb = readFromOldDb.findIndex(all => all.id == sender)
    console.log(findOldUserDb)
    console.log('Imported')

    let pdDbImport = {}
    if(findOldUserDb != -1) {
        const importedDb = readFromOldDb[findOldUserDb]

        await readFromOldDb.splice(findOldUserDb, 1)
        await fs.writeFileSync('./lib/database/pasangan.json', JSON.stringify(readFromOldDb))

        const characterGender = await getAnimePlanetChara(importedDb.nama)
        delete importedDb.id
        delete importedDb.anime
        delete importedDb.manga
        importedDb.gender = characterGender?.gender == '?' || characterGender?.gender == undefined ? 'Unknown' : characterGender?.gender
        pdDbImport = importedDb
    }

    //Rumah
    const readRumahOldDb = JSON.parse(fs.readFileSync('./lib/database/rumah.json', 'utf-8'))
    const findRumahOldUserDb = readRumahOldDb.findIndex(all => all.id == sender)
    let rumahDbImport = {}
    if(findRumahOldUserDb != -1) {
        const importedRumahDb = readRumahOldDb[findRumahOldUserDb]

        await readRumahOldDb.splice(findRumahOldUserDb, 1)
        await fs.writeFileSync('./lib/database/rumah.json', JSON.stringify(readRumahOldDb))

        delete importedRumahDb.id
        delete importedRumahDb.lastlistrikbayar
        rumahDbImport = importedRumahDb
    }

    //Nametag
    const readNametagOldDb = JSON.parse(fs.readFileSync('./lib/database/nametag.json', 'utf-8'))
    const findNametagOldUserDb = readNametagOldDb.findIndex(all => all.id == sender)
    let nametagDbImport = {}
    if(findNametagOldUserDb != -1) {
        const importedNametagDb = readNametagOldDb[findNametagOldUserDb]

        await readNametagOldDb.splice(findNametagOldUserDb, 1)
        await fs.writeFileSync('./lib/database/nametag.json', JSON.stringify(readNametagOldDb))

        delete importedNametagDb.id
        nametagDbImport = importedNametagDb
    }

    //Limit
    const readLimitOldDb = JSON.parse(fs.readFileSync('./lib/database/limit.json', 'utf-8'))
    const findLimitOldUserDb = readLimitOldDb.findIndex(all => all.id == sender)
    let limitDbImport = {}
    if(findLimitOldUserDb != -1) {
        const importedLimitDb = readLimitOldDb[findLimitOldUserDb]

        await readLimitOldDb.splice(findLimitOldUserDb, 1)
        await fs.writeFileSync('./lib/database/limit.json', JSON.stringify(readLimitOldDb))

        delete importedLimitDb.id
        limitDbImport = importedLimitDb
    }

    const updateDbImported = { "rl.isImportedPd": true }
    if(pdDbImport?.mal_id != undefined) updateDbImported["rl.pd"] = pdDbImport
    if(rumahDbImport?.crid != undefined) updateDbImported["rl.rumah"] = rumahDbImport

    if(limitDbImport?.limit != undefined) updateDbImported["limit.limit"] = (Math.abs(limitDbImport.limit) + 25)

    if(nametagDbImport?.select != undefined) updateDbImported["nametag.select"] = nametagDbImport.select
    if(nametagDbImport?.tag != undefined) updateDbImported["nametag.list"] = nametagDbImport.tag

    await _mongo_UserSchema.updateOne({ iId: sender }, { $set: updateDbImported })
}

if(_userDb.collectMessage != undefined && _userDb.collectMessage.length > 0) {
    const isExistCMessage = _userDb.collectMessage.find(all => all.from == from)
    if(isExistCMessage != undefined) {
        await _mongo_UserSchema.updateOne({ iId: sender }, { $pull: { "collectMessage": { id: isExistCMessage.id, from: isExistCMessage.from } } })
        if(Date.now() >= isExistCMessage.timeout) {
            const textSend = `Waktu untuk membalas pesan telah habis, silahkan ulangi kembali`
            return isExistCMessage.isReply ? await rem.sendText(from, { text: textSend }, { quoted: JSON.parse(isExistCMessage.messageReply) }) : await rem.sendText(from, textSend)
        }
        message.selectedButtonId = isExistCMessage.id
        message.collectMessage = message.body
    }
}

//tod
// Handle TOD choice button
// if (body && body.startsWith('tod_choice')) {
//     const parts = body.split(' ')
//     const choice = parts[1] // 'truth' or 'dare'
//     const gameId = parts[2] // game ID
    
//     if (choice && gameId) {
//         handleTodChoice(rem, from, sender, choice, gameId)
//     }
//     return
// }

// // Handle TOD answer via collector
// if (_userDb?.collectMessage?.[0]) {
//     const isExistCMessage = _userDb.collectMessage.find(all => 
//         all.from == from && all.id.startsWith('tod_answer_'))
        
    // if (isExistCMessage) {
    //     const gameId = isExistCMessage.id.replace('tod_answer_', '')
    //     const game0 = await _mongo_CommandSchema.findOne({ cId: 'tod', content: { $elemMatch: { from: from } } }, { content: { $elemMatch: { from: from } } } )
    //     const game = game0?.content[0]

    //     if (game && game.currentPlayer === sender) {
    //         // Clear timeout
    //         if (global.todTimeouts[sender]) {
    //             clearTimeout(global.todTimeouts[sender])
    //             delete global.todTimeouts[sender]
    //         }
            
    //         await _mongo_UserSchema.updateOne(
    //             { iId: sender }, 
    //             { $pull: { "collectMessage": { id: isExistCMessage.id } } }
    //         );
            
    //         const playerNumber = sender.split('@')[0]
            
    //         // Send answer to group
    //         await rem.sendText(
    //             from, 
    //             `*‚úÖ JAWABAN DITERIMA ‚úÖ*\n\n@${playerNumber} telah menjawab tantangan!`,
    //             { mentions: [sender] }
    //         );
            
    //         // Continue to next player
    //         continueTodGame(rem, gameId)
    //     }
    // }
// }

//counter afinitas button
// if (!isCmd && _userDb?.collectMessage) {
//     const isExistCMessage = _userDb.collectMessage.find(all => all.from == from)
//     if (isExistCMessage && !isExistCMessage.timeout) {
//         const responseText = body.trim()

//         if (responseText === '1' || responseText === '2') {
//             const requestId = isExistCMessage.id

//             const afinitasRequests = getAfinitasRequests(_userDb)
//             const requestExists = afinitasRequests.some(req => req.id === requestId)
            
//             if (!requestExists) {
//                 await _mongo_UserSchema.updateOne({ iId: sender }, { $pull: { "collectMessage": { id: isExistCMessage.id, from: isExistCMessage.from } } }
//                 )
//                 return reply(from, 'Permintaan afinitas tidak ditemukan atau sudah tidak valid.', id)
//             }
            
//             if (responseText === '1') {
//                 const result = await acceptAfinitas(sender, requestId)
                
//                 if (result.success) {
//                     await _mongo_UserSchema.updateOne({ iId: sender }, { $pull: { "collectMessage": { id: isExistCMessage.id, from: isExistCMessage.from } } }
//                     )
//                     return reply(from, `‚úÖ Berhasil menerima permintaan afinitas dari *${result.senderName}*`, id)
//                 } else {
//                     return reply(from, `‚ùå Gagal menerima permintaan: ${result.message || 'Terjadi kesalahan'}`, id)
//                 }
//             } else if (responseText === '2') {
//                 const result = await rejectAfinitas(sender, requestId)
                
//                 if (result.success) {
//                     await _mongo_UserSchema.updateOne({ iId: sender }, { $pull: { "collectMessage": { id: isExistCMessage.id, from: isExistCMessage.from } } }
//                     )
//                     return reply(from, `‚úÖ Berhasil menolak permintaan afinitas dari *${result.senderName}*`, id)
//                 } else {
//                     return reply(from, `‚ùå Gagal menolak permintaan: ${result.message || 'Terjadi kesalahan'}`, id)
//                 }
//             }
//         }
//     }
// }

// Counter food
if(_userDb?.lastAction == undefined || ((_userDb?.lastAction?.rl || 0) <= 0) || ((_userDb?.lastAction?.pd || 0) <= 0) || ((_userDb?.lastAction?.mood || 0) <= 0)) {
    await _mongo_UserSchema.updateOne({ iId: sender }, { $set: { "lastAction": { rl: Date.now(), pd: Date.now(), mood: Date.now() } } })
    _userDb.lastAction = { rl: Date.now(), pd: Date.now(), mood: Date.now() }
}
const lastActionRpTime = _userDb?.lastAction?.rl
const lastActionRpTime_minute = Math.floor((Date.now() - lastActionRpTime) / 60000)
let dbChangePayload = { $set: {}, $inc: {} }
if(lastActionRpTime_minute >= 1) {
    dbChangePayload.$set["lastAction.rl"] = Date.now()
    if(_userDb?.rl?.food >= 1) {
        let calculateFoodNgurang = Math.floor(_userDb.rl.food - lastActionRpTime_minute)
        if(calculateFoodNgurang <= 0) calculateFoodNgurang = 0
        dbChangePayload.$set["rl.food"] = calculateFoodNgurang
        _userDb.rl.food = calculateFoodNgurang
    }
    
    if(_userDb?.rl?.stamina <= 200) {
        let staminaRegen = 3
        if(_userDb?.rl?.rumah != undefined) {
            const rumahDb = _userDb?.rl?.rumah
            if(rumahDb?.listrikstatus == 'mati') {
                staminaRegen = 3
            } else if(rumahDb?.crid != undefined) {
                staminaRegen = _rumahRegenEnergy[rumahDb.crid]
            } else {
                staminaRegen = 3
            }
        }

        let calculateValueStaminaInput = Math.floor(_userDb?.rl?.stamina + (staminaRegen * lastActionRpTime_minute))
        if(calculateValueStaminaInput >= 200) calculateValueStaminaInput = 200
        dbChangePayload.$set["rl.stamina"] = calculateValueStaminaInput
    }
}
const lastActionPdTime = _userDb?.lastAction?.pd
const lastActionPdTime_minute = Math.floor((Date.now() - lastActionPdTime) / 60000)
if(lastActionPdTime_minute >= 3) {
    dbChangePayload.$set["lastAction.pd"] = Date.now()
    const time3MinutePassed = Math.floor(lastActionPdTime_minute / 3)
    const _pasangan = _userDb?.rl?.pd

    if(_pasangan?.food != undefined && _pasangan?.nama != undefined) {
        for(let i = 0; i < time3MinutePassed; i++) {
            if (Math.floor(_pasangan.food) <= 0 && Math.floor(_pasangan.uang) >= 40000) {
                !dbChangePayload.$inc["rl.pd.uang"] ? dbChangePayload.$inc["rl.pd.uang"] = -40000 : dbChangePayload.$inc["rl.pd.uang"] -= 40000
                _pasangan.uang -= 40000
                !dbChangePayload.$inc["rl.pd.food"] ? dbChangePayload.$inc["rl.pd.food"] = 100 : dbChangePayload.$inc["rl.pd.food"] += 100
                _pasangan.food += 100
            } else if (Math.floor(_pasangan.food) <= 0 && Math.floor(_pasangan.uang) >= 20000) {
                !dbChangePayload.$inc["rl.pd.uang"] ? dbChangePayload.$inc["rl.pd.uang"] = -20000 : dbChangePayload.$inc["rl.pd.uang"] -= 20000
                _pasangan.uang -= 20000
                !dbChangePayload.$inc["rl.pd.food"] ? dbChangePayload.$inc["rl.pd.food"] = 70 : dbChangePayload.$inc["rl.pd.food"] += 70
                _pasangan.food += 70
            } else if (Math.floor(_pasangan.food) <= 0 && Math.floor(_pasangan.uang) >= 15000) {
                !dbChangePayload.$inc["rl.pd.uang"] ? dbChangePayload.$inc["rl.pd.uang"] = -15000 : dbChangePayload.$inc["rl.pd.uang"] -= 15000
                _pasangan.uang -= 15000
                !dbChangePayload.$inc["rl.pd.food"] ? dbChangePayload.$inc["rl.pd.food"] = 50 : dbChangePayload.$inc["rl.pd.food"] += 50
                _pasangan.food += 50
            } else if (Math.floor(_pasangan.food) <= 0 && Math.floor(_pasangan.uang) <= 14999) {
                !dbChangePayload.$inc["rl.pd.hubungan"] ? dbChangePayload.$inc["rl.pd.hubungan"] = -1 : dbChangePayload.$inc["rl.pd.hubungan"] -= 1
                _pasangan.hubungan -= 1
            } else if(Math.floor(_pasangan.food) >= 1) {
                !dbChangePayload.$inc["rl.pd.food"] ? dbChangePayload.$inc["rl.pd.food"] = -1 : dbChangePayload.$inc["rl.pd.food"] -= 1
                _pasangan.food -= 1
            }
        }
    }
}
// check mood every 12 hours same as above
// const lastActionMoodTime = _userDb?.lastAction?.mood
// const lastActionMoodTime_minute = Math.floor((Date.now() - lastActionMoodTime) / 60000)
// if(lastActionMoodTime_minute >= 1) {
//     dbChangePayload.$set["lastAction.mood"] = Date.now()
//     const time12HourPassed = Math.floor(lastActionMoodTime_minute / 1)
//     const _pasangan = _userDb?.rl?.pd

//     // if(_pasangan?.mood != 'Buruk üò°') {
//     //     if(_pasangan?.mood != undefined && _pasangan?.nama != undefined) {
//     //         for(let i = 0; i < time12HourPassed; i++) {
//     //             const randomMoody = getRandomMood()
//     //             dbChangePayload.$set["rl.pd.mood"] = randomMoody
//     //             _pasangan.mood = randomMoody
//     //         }
//     //     }
//     // }

//     if(!_pasangan?.mood) {
//         const randomMood = getRandomMood()
//         dbChangePayload.$set["rl.pd.mood"] = randomMood
//         _pasangan.mood = randomMood
//     }
// }
// if(_userDb?.rl?.pd?.mood == undefined && _userDb?.rl?.pd?.nama != undefined) {
//     const randomMood = getRandomMood()
//     dbChangePayload.$set["rl.pd.mood"] = randomMood
//     _userDb.rl.pd.mood = randomMood
// }
if((dbChangePayload.$set?.["lastAction.rl"] != undefined) || dbChangePayload.$set?.["lastAction.pd"] != undefined || dbChangePayload.$set?.["lastAction.mood"] != undefined) {
    await _mongo_UserSchema.updateOne({ iId: sender }, dbChangePayload)
    _userDb = await dbAccess._mongo_UserSchema.findOne({ iId: sender })
}

if(config.isDebug) console.log(`${Date.now() - dateNowProccessIs}ms - Loaded DB [2]`)
// if(rem.token === 'CORE') return // debug jadibot

    if(_userDb.isCvrtE) {
        var fixNumberE = (number) => {
            return fixNumberEPlus(number)
        }
    } else {
        var fixNumberE = (number) => {
            return number
        }
    }
    //try {
        const name = isGroupMsg ? groupMetadata.subject : ''
        const getNama = (_userDbA) => {
            const _nama = _userDbA?.rl?.name
            if(_nama == undefined || _nama == '') return undefined
            return _nama
        }
        var pushname = getNama(_userDb) || message.pushname
        //pushname = pushname || verifiedName

        const groupId = isGroupMsg ? from : ''

        const getPref = () => {
            return _groupDb?.prefix
        }

        let prefixInz = '.'
        if(isGroupMsg) {
            prefixInz = getPref() || '.'
        } else {
            if(body != undefined ? body.startsWith('!') : false) {
                prefixInz = '!'
            } else if(body != undefined ? body.startsWith('.') : false) {
                prefixInz = '.'
            } else if(caption != undefined && caption.startsWith('!')) {
                prefixInz = '!'
            } else if(caption != undefined && caption.startsWith('.')) {
                prefixInz = '.'
            } else if(message.selectedButtonId != undefined && message.selectedButtonId.startsWith('!')) {
                prefixInz = '!'
            } else if(message.selectedButtonId != undefined && message.selectedButtonId.startsWith('.')) {
                prefixInz = '.'
            } else if(message.selectedRowId != undefined && message.selectedRowId.startsWith('!')) {
                prefixInz = '!'
            } else if(message.selectedRowId != undefined && message.selectedRowId.startsWith('.')) {
                prefixInz = '.'
            }
        }
        let commands = caption || body || ''
        // if(message.selectedButtonId != undefined && message.selectedButtonId.startsWith(prefixInz)) {
        //     commands = message.selectedButtonId
        // } else if(message.selectedRowId != undefined && message.selectedRowId.startsWith(prefixInz)) {
        //     commands = message.selectedRowId
        // }
        const chats = (type === text) ? body : (type === image || type === video) ? caption : ''
        let args =  commands.split(' ')
        prefix = prefixInz

        if(message.selectedButtonId != undefined && message.selectedButtonId.startsWith(prefix)) {
            var allArgs = message.selectedButtonId.split(' ') || ''
            var command = allArgs[0].toLowerCase() || ''
            console.log(command)
        } else if(message.selectedRowId != undefined && message.selectedRowId.startsWith(prefix)) {
            var allArgs = message.selectedRowId.split(' ') || ''
            var command = allArgs[0].toLowerCase() || ''
            console.log(command)
        } else {
            var allArgs = commands.split(' ') || ''
            var command = allArgs[0].toLowerCase() || ''
        }
        //console.log(body)
        
        //const argx = commands.toLowerCase()
        //const ar = args.map((v) => v.toLowerCase())
        isCmd = command.startsWith(prefix)
        // if(isCmd) global.isReadMessage[message.from] = { read: true, id: message.id }
        const isImage = type === image
        const isVideo = type === video
        const q = args.join(' ')
        
        const isQuotedImage = quotedMsg && quotedMsg.type === image
        const isQuotedVideo = quotedMsg && quotedMsg.type === video
        const authorWm = pushname
        const packWm = 'REM BOT'

        isCommandExists = isCmd
        
        //const isQuotedAudio = quotedMsg && (quotedMsg.type === 'audio' || quotedMsg.type === 'ptt' || quotedMsg.type === 'ppt')
        //const isQuotedFile = quotedMsg && quotedMsg.type === 'document'
        
        /*function restartAwal(rem){
            setting.restartState = false
            isRestart = false
            rem.sendText(setting.restartId, 'Restart Succesfull!')
            setting.restartId = 'undefined'
            fs.writeFileSync('./lib/database/bot/setting.json', JSON.stringify(setting, null,2));
        }*/

        const isLevelUpMsgDisable = () => {
            return _groupDb.setGroup.lvlupdisable
        }

        const isMsgNoCmd = () => {
            return _groupDb?.setGroup?.nocmd
        }

        const isMutedAdmin = _groupDb?.muted?.isMutedAdmin
        const isMuted = _groupDb?.muted?.isMuted

        function banChat () {
            if(banChats == true) {
                return false
            } else{
                return true
            }
        }

        /*if (typeof Array.prototype.splice === 'undefined') {
            Array.prototype.splice = function (index, howmany, elemes) {
                howmany = typeof howmany === 'undefined' || this.length;
                var elems = Array.prototype.slice.call(arguments, 2), newArr = this.slice(0, index), last = this.slice(index + howmany);
                newArr = newArr.concat.apply(newArr, elems);
                newArr = newArr.concat.apply(newArr, last);
                return newArr;
            }
        }*/

        const apakah = [
            'Ya',
            'Tidak',
            'Kayaknya Iya',
            'Kayaknya Tidak',
            'Coba Ulangi',
            'Ha?',
            'Apa?',
            'Gapaham...',
            'Mungkin?',
            'Maybe??'
            ]

        const bisakah = [
            'Bisa',
            'Tidak Bisa',
            'Coba Ulangi',
            'Mungkin?',
            'Maybe??'
            ]
        const randomhari = Math.floor(Math.random() * 100)
        const randomming = Math.floor(Math.random() * 7)
        const randombulan = Math.floor(Math.random() * 12)
        const kapankah = [
            `${randomhari} Hari lagi`,
            `${randomming} Minggu lagi`,
            `${randombulan} Bulan lagi`,
            '1 Tahun lagi',
            '1 Abad lagi',
            'Impossible'
            ]

        const mess = {
            wait: '[ WAIT ] Sedang di proses‚è≥ silahkan tunggu sebentar',
            magernulissatu: 'Harap Tunggu, BOT Sedang Menulis Di Buku 1!',
            error: {
                St: '[‚ùó] Kirim gambar dengan caption *'+prefix+'sticker* atau tag gambar yang sudah dikirim',
                Ti: '[‚ùó] Replay sticker dengan caption *'+prefix+'stickertoimg* atau tag sticker yang sudah dikirim',
                Qm: '[‚ùó] Terjadi kesalahan, mungkin themenya tidak tersedia!',
                Yt3: '[‚ùó] Terjadi kesalahan, tidak dapat meng konversi ke mp3!',
                Yt4: '[‚ùó] Terjadi kesalahan, mungkin error di sebabkan oleh sistem.',
                Ig: '[‚ùó] Terjadi kesalahan, mungkin karena akunnya private',
                Ki: '[‚ùó] Bot tidak bisa mengeluarkan Admin group!',
                Sp: '[‚ùó] Bot tidak bisa mengeluarkan Admin',
                Ow: '[‚ùó] Bot tidak bisa mengeluarkan Owner',
                Bk: '[‚ùó] Bot tidak bisa memblockir Owner',
                Ad: '[‚ùó] Tidak dapat menambahkan target, mungkin karena di private',
                Iv: '[‚ùó] Link yang anda kirim tidak valid!'
            }
        }

        const time = moment(t * 1000).format('DD/MM/YYYY HH:mm:ss')
        const botNumber = rem.user.jid
        const blocked = []
        const blockNumber = blocked
        const groupMembers = isGroupMsg ? groupMetadata.participants : ''
        const groupAdmins0 = isGroupMsg ? groupMembers.filter(admn => admn.admin != null) : ''
        const groupAdmins = isGroupMsg ? groupAdmins0.map(admn2 => admn2.jid) : ''
        let isGroupAdmins = isGroupMsg ? groupAdmins.includes(sender) : false
        const isBotGroupAdmins = isGroupMsg ? groupAdmins.includes(botNumber) : false
        const serial = sender

        let isPrem = _userDb.isPremium
        //const isPrem = isGroupMsg
        // const sideOwnerNumber = '62856038120076@s.whatsapp.net'
        let isSuperOwner = ownerNumber.includes(sender)
        let isOwner = ownerNumber2.includes(sender)
        let isSideOwner = sideOwnerNumber.includes(sender)
        let isAdmin = _userDb.isAdmin || isSideOwner || isOwner || isSuperOwner
        let isMod = _userDb.rl.isMod || isSideOwner || isOwner || isSuperOwner

        // if(rem.user.jid == '6285646519381@s.whatsapp.net' && (!isOwner && !isSideOwner )) return

        if(config.isDebug) console.log(Date.now() - dateNowProccessIs + 'ms - Initializing [1]')
        // PROTECT
        let isDetectorLink = _groupDb?.isAntiLink
        const isAntiHidetag = _groupDb?.isAntiHidetag
        // const isDetectorBadword = _groupDb?.isAntiBadword
        
        let isSuperBanned = _userDb?.isSuperBanned
        let isBanned = _userDb?.isBanned
        let isListCmdBan = _userDb?.listCmdBan?.length > 0
        let isBlocked = blockNumber.includes(sender)
        let isAfkOn = _userDb?.afk?.isAfk || false
        let isNsfw = isGroupMsg ? _groupDb.isNsfw : false
        let isSimi = isGroupMsg ? _groupDb.isSimsimi : false
        let isWelcomeOn = isGroupMsg ? _groupDb.isJoinMsg : false
        let isLeaveOn = isGroupMsg ? _groupDb.isLeaveMsg : false
        let isHideppOn = _userDb?.isHidePP
        // let isRegisteredUser = _userRegister.includes(sender)
        let isMention = _botDb?.setBot?.mention
        // const errorImg = 'https://drive.google.com/uc?export=download&id=1X_syuBq1iAte7yDfpcR0EWR7zi2zufVq'
        // const uaOverride = 'WhatsApp/2.2126.11 Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/92.0.4515.159 Safari/537.36'
        //const url = args.length !== 0 ? args[0] : ''
        const isHuruf = ['a','b','c','d','e','f','g','h','i','j','k','l','m','n','o','p','q','r','s','t','u','v','w','x','y','z','@',',','.','/','<','>','?',';',':',`'`,'"','|','[',']','{','}','-','_','=','+','!','#','$','%','^','&','*','(',')','`','~']
        //const ytIdRegex = /(?:http(?:s|):\/\/|)(?:(?:www\.|)youtube(?:\-nocookie|)\.com\/(?:shorts\/)?(?:watch\?.*(?:|\&)v=|embed\/|v\/)|youtu\.be\/)([-_0-9A-Za-z]{11})/

        if(message.isGroupMsg && (message.from == '120363115657382776@g.us' || message.from == '120363182176344572@g.us') && !sideOwnerNumber.split(', ').includes(message.sender)) return
        
        const getLevelAntiSpamCount = (userId) => {
            let position =  global.antispam.findIndex(object => object.id == userId)
            if (position !== -1) {
                return global.antispam[position]
            }
        }
        if(getLevelAntiSpamId(sender) == undefined) await setLevelAntiSpam(sender)

        const isSpamLevel = getLevelAntiSpamCount(sender).count > 30
        const isSpamCmd = getLevelAntiSpamCount(sender).countcmd > 15
        // pushedCmdDb = { iId: sender, iIdM: id, time: Date.now(), cmd: args[0].replace(prefix, ''), type, body: args.join(' '), isVirtualBot, virtualBotId: virtualBotID ? virtualBotID : '', botNumber: rem.user.jid || rem.user.id.split('@')[0].split(':')[0] + '@s.whatsapp.net', isGroup: isGroupMsg, metaGroup: isGroupMsg ? _groupDb : {}, meta: { isGroupAdmins, isBotGroupAdmins, isBanned, listCmdBan: _userDb?.listCmdBan || [], isSuperBanned, isBlocked, isSpamLevel, isSpamCmd, isAfkOn, isHideppOn, isPrem, isHavePd: _userDb.pd ? true : false, isAdmin, isSideOwner, isOwner, isUpOwner: ownerNumber.includes(sender) }, isQ: quotedMsg ? true : false, Q: {}, isErr: false, err: [], status: 'active' }
        pushedCmdDb = { iId: sender, iIdM: id, time: Date.now(), cmd: args[0].replace(prefix, ''), type, body: args.join(' '), isVirtualBot, virtualBotId: virtualBotID ? virtualBotID : '', botNumber: rem.user.jid || rem.user.id.split('@')[0].split(':')[0] + '@s.whatsapp.net', isGroup: isGroupMsg, meta: { isGroupAdmins, isBotGroupAdmins, isBanned, listCmdBan: _userDb?.listCmdBan || [], isSuperBanned, isBlocked, isSpamLevel, isSpamCmd, isAfkOn, isHideppOn, isPrem, isHavePd: _userDb.pd ? true : false, isAdmin, isMod, isSideOwner, isOwner, isUpOwner: ownerNumber.includes(sender) }, isQ: quotedMsg ? true : false, Q: {}, isErr: false, err: [], status: 'active' }
        // if(quotedMsg) {
        //     pushedCmdDb.Q = { sender: quotedMsg.sender, body: quotedMsg.body }
        // }
        try {
            if(isCmd) await _mongo_CommandMessageSchema.create(pushedCmdDb)
        } catch (err) {
            if(config.isDebug) console.error('Error Create CmdMSG: ', err)
            return
        }

        // if(!isOwner) {
        //     if(isCmd) {
        //         return reply(from, '*Bot sedang Maintenance*\nJam: 11.00 WIB - 12.00 WIB\nAlasan: Persiapan Season', id)
        //     } else {
        //         return
        //     }
        // }

        // if(getNameTag(_userDb) == undefined) await setNameTag(_userDb)

        if(config.isDebug) console.log(Date.now() - dateNowProccessIs + 'ms - ' + 'Get Nametag')
        const nameTag_help = getNameTag(_userDb).select
        var roleid = nameTag_help
        if (nameTag_help == '') var roleid = `Ketik ${prefix}nametag`

        const isLevelingOn = isGroupMsg

        if(isCmd) {
            if(config.isDebug) console.log(Date.now() - dateNowProccessIs + 'ms - ' + 'Add Hits Count')
            await _mongo_BotSchema.updateOne({ iId: 'CORE' }, { $inc: { "hits.today": 1, "hits.total": 1 } })
        }

        const _mentionUserDb = mentionedJidList?.[0] != undefined ? await _mongo_UserSchema.findOne({ iId: mentionedJidList[0] }) : {}
        // AFK
        if (isGroupMsg && mentionedJidList?.length != 0) {
            if(config.isDebug) console.log(Date.now() - dateNowProccessIs + 'ms - ' + 'isAfk [1]')
                if (_mentionUserDb?.afk?.isAfk) {
                    if(config.isDebug) console.log(Date.now() - dateNowProccessIs + 'ms - ' + 'isAfk [2]')
                    const getReason = _mentionUserDb?.afk?.reason
                    const getTime = showElapsedTime(_mentionUserDb?.afk?.time)
                    let nameRequestedAfk = getNama(_mentionUserDb)
                    if(nameRequestedAfk == undefined) {
                        const contactDbAfk = await _mongo_ContactSchema.findOne({ iId: _mentionUserDb.iId })
                        nameRequestedAfk = rem.contacts(_mentionUserDb.iId, contactDbAfk)
                    }
                    rem.sendText(from, `*„Äå AFK „Äç*\n\n${nameRequestedAfk}, Orangnya lagi afk!\n‚û§ *Alasan*: ${getReason}\n‚û§ *Sejak*: ${getTime}`, id)
                }
        } else if (!isCmd) {
            if(config.isDebug) console.log(Date.now() - dateNowProccessIs + 'ms - ' + 'isAfk sender [1]')
            const checking = _userDb?.afk?.isAfk
            if (checking) {
                console.log('Afk Remove')
                const getReason = _userDb?.afk?.reason
                const getTime = showElapsedTime(_userDb?.afk?.time)
                await _mongo_UserSchema.updateOne({ iId: sender }, { $set: { afk: { isAfk: false, reason: '', time: 0 } } })
                rem.sendText(from, `*${pushname}* telah kembali dari AFK!\n‚û§ *Alasan*: ${getReason}\nWaktu Afk: ${getTime}`)
            }
            // console.log(checking)
        }

        if(config.isDebug) console.log(Date.now() - dateNowProccessIs + 'ms - ' + 'Calculate tiertag')
        const getMoneyUser = getMoney(_userDb)
        if(getMoneyUser >= 100000000000000000) {
            var tierTag = 'üçÄ Infinity üçÄ'
        } else if(getMoneyUser >=  10000000000000000) {
            var tierTag = '‰π° Dominator ‰π°'
        } else if(getMoneyUser >= 1000000000000000) {
            var tierTag = '‚õ§ Mytic ‚õ§'
        } else if(getMoneyUser >= 500000000000000) {
            var tierTag = 'üîÜ Crown üîÜ'
        } else if(getMoneyUser >= 100000000000000) {
            var tierTag = '‚òÆ Ace ‚òÆ'
        } else if(getMoneyUser >= 1000000000000) {
            var tierTag = '‚ãÜ Master ‚ãÜ'
        } else if(getMoneyUser >= 100000000000) {
            var tierTag = '‚öï Expert ‚öï'
        } else if(getMoneyUser >= 1000000000) {
            var tierTag = 'Junior V'
        } else if(getMoneyUser >= 100000000) {
            var tierTag = 'Junior IV'
        } else if(getMoneyUser >= 30000000) {
            var tierTag = 'Junior III'
        } else if(getMoneyUser >= 1500000) {
            var tierTag = 'Junior II'
        } else if(getMoneyUser >= 500) {
            var tierTag = 'Junior I'
        } else if(getMoneyUser == 0) {
            var tierTag = 'Misqueen :('
        } else if(getMoneyUser <= -10000) {
            var tierTag = 'Penghoetank Handal'
        } else if(getMoneyUser <= -1) {
            var tierTag = 'Penghoetank'
        } else {
            var tierTag = 'Newbie'
        }

        // if(!isVirtualBot && global.isCheckFreeStorage) {
        //     global.isCheckFreeStorage = false
        //     checkDiskSpace('/').then(async (diskSpace) => {
        //         const { free, size } = diskSpace
        //         const freePercent = Math.floor((free / size) * 100)
        //         if(freePercent <= 10) {
        //             // rem.sendText('120363021660813196@g.us', `*!! CRITICAL WARNING !!*\n\n*Total storage hampir habis!*\nFree Space : _${freePercent}%_\n\n*Bot akan melakukan pembersihan cache*\n*Jika command downloader seperti ytmp3, ytmp4, dll tidak berfungsi*\n*Silahkan coba kembali*`)
        //             const specialPathFolder = ['doujin/tmp', 'kerang/cache']
        //             const dontDelPathFolder = ['chart', 'kerang']

        //             //get list folder
        //             const listFolder = fs.readdirSync(`${process.cwd()}/lib/cache`)
        //             for(let i = 0; i < listFolder.length; i++) {
        //                 const folderName = listFolder[i]
        //                 if(!dontDelPathFolder.includes(folderName)) {
        //                     await fs.rmSync(`${process.cwd()}/lib/cache/${folderName}`, { recursive: true })
        //                     await fs.mkdirSync(`${process.cwd()}/lib/cache/${folderName}`)
        //                 }

        //                 //last loop
        //                 if(i == listFolder.length - 1) {
        //                     specialPathFolder.forEach(async (path) => {
        //                         if(fs.existsSync(`${process.cwd()}/lib/cache/${path}`)) await fs.rmSync(`${process.cwd()}/lib/cache/${path}`, { recursive: true })
        //                         await fs.mkdirSync(`${process.cwd()}/lib/cache/${path}`)
        //                     })
        //                 }
        //             }
        //         } else if(freePercent <= 30) {
        //             // rem.sendText('120363021660813196@g.us', `*!! WARNING !!*\n\n*Total storage hampir habis!*\nFree Space : _${freePercent}%_`)
        //         }
        //     })
        // }


        // if(isRegisteredUser && getUserMakan(sender) == undefined) await setUserMakanan(sender)

        if(config.isDebug) console.log(Date.now() - dateNowProccessIs + 'ms - ' + 'Check AntiSpam [1]')
        if(isSpamLevel) {
            if (!isCmd && isNaN(body) && !isBanned) {
                await _mongo_UserSchema.updateOne({ iId: sender }, { $set: { isBanned: true, timeBanned: Date.now() + toMs('4h'), bannedReason: 'Spam Pesan/Level' } })
                return reply(from, 'Kamu terdeteksi spam!\n*Ban : 4jam*', id)
            }
        }
        if(!isBlocked && !isBanned && !isSuperBanned && isCmd) {
            if(config.isDebug) console.log(Date.now() - dateNowProccessIs + 'ms - ' + 'Check AntiSpam [2]')
            if(message.selectedButtonId == undefined) addLevelAntiSpamCountCmd(sender)
            if(isSpamCmd) {
                if(config.isDebug) console.log(Date.now() - dateNowProccessIs + 'ms - ' + 'Check AntiSpam [3]')
                await _mongo_UserSchema.updateOne({ iId: sender }, { $set: { isBanned: true, timeBanned: Date.now() + toMs('4h'), bannedReason: 'Spam Cmd' } })
                return reply(from, 'Kamu terdeteksi spam!\n*Ban : 4jam*', id)
            }
        }

        if(!isOwner && isCmd && (isBanned || isSuperBanned) && _userDb.bannedReason != '' && _userDb.bannedReason != undefined && _userDb.bannedReason != 'No Reason') {
            if(config.isDebug) console.log(Date.now() - dateNowProccessIs + 'ms - ' + 'Check Banned [1]')

            const timeConvertBanned = timeConvert(_userDb.timeBanned)
            return reply(from, `Kamu terbanned!\n*Reason : ${_userDb.bannedReason}*\n*Time : ${_userDb.timeBanned == 0 ? 'Selamanya' : `${timeConvertBanned.day} Hari | ${timeConvertBanned.hour} Jam : ${timeConvertBanned.minute} Menit : ${timeConvertBanned.second} Detik`}*\n\n*_Jika kamu merasa ini salah, silahkan hubungi admin bot._*`, id)
        }

        if(isCmd && isListCmdBan && _userDb.listCmdBan.includes(command.replace(prefix, ''))) {
            if(config.isDebug) console.log(Date.now() - dateNowProccessIs + 'ms - ' + 'Check Banned Cmd [1]')
            
            const timeConvertBanCmd = timeConvert(_userDb.timeBanned)
            return reply(from, `*Kamu terbanned untuk menggunakan command _${command}_*\n*Reason : ${_userDb.bannedReason}*\n*Time : ${_userDb.timeBanned == 0 ? 'Selamanya' : `${timeConvertBanCmd.day} Hari | ${timeConvertBanCmd.hour} Jam : ${timeConvertBanCmd.minute} Menit : ${timeConvertBanCmd.second} Detik`}*\n\n*_Jika kamu merasa ini salah, silahkan hubungi admin bot._*`, id)
        }

        if (isGroupMsg && !isBlocked && !isBanned && !isSuperBanned && !isSpamLevel) {
            if(config.isDebug) console.log(Date.now() - dateNowProccessIs + 'ms - ' + 'Check Level [1]')

            const currentLevel = getLevelingLevel(_userDb)
            addLevelAntiSpamCount(sender)
            try {
                if(config.isDebug) console.log(Date.now() - dateNowProccessIs + 'ms - ' + 'Check Level [2]')
                // if (currentLevel === undefined && checkId === undefined) await addLevelingId(sender)
                // if (checkBg === undefined) addBg(sender)

                if(config.isDebug) console.log(Date.now() - dateNowProccessIs + 'ms - ' + 'Check Level_calculate_nambah [3]')
                if(currentLevel < 5) {
                    var amountXpNambah = 300
                } else if(currentLevel > 10) {
                    var amountXpNambah = 2300
                } else if(currentLevel > 7) {
                    var amountXpNambah = 1500
                } else if(currentLevel > 4) {
                    var amountXpNambah = 1000
                } else {
                    var amountXpNambah = 500
                }
                if (getUserItemId(_userDb) == undefined) {
                    if(config.isDebug) console.log(Date.now() - dateNowProccessIs + 'ms - ' + 'Check Level_calculate_nambah [4]')
                    var amountXpss = Math.floor(amountXpNambah)
                } else {
                    if(config.isDebug) console.log(Date.now() - dateNowProccessIs + 'ms - ' + 'Check Level_calculate_nambah_doubleItem [5]')
                    let addKaliLevelMultiplier = getItemLevel(_userDb).level
                    if(Number(addKaliLevelMultiplier) <= 0) addKaliLevelMultiplier = 1
                    var amountXpss = Math.floor(amountXpNambah * addKaliLevelMultiplier)
                }
                
                if(config.isDebug) console.log(Date.now() - dateNowProccessIs + 'ms - ' + 'Check Level_required [6]')
                const requiredXp = 2000 * (Math.pow(2, currentLevel) - 1)
                const getLevel = currentLevel
                addLevelingXp(sender, amountXpss)
                // _mongo_UserSchema.updateOne({ iId: sender }, { $inc: { xp: amountXpss } })
                if (requiredXp <= getLevelingXp(_userDb)) {

                    if(config.isDebug) console.log(Date.now() - dateNowProccessIs + 'ms - ' + 'Check Level_loop [7]')
                    let currentLevel2 = currentLevel
                    const currentXp2 = getLevelingXp(_userDb) + amountXpss
                    let xpLevelUpLooping = 1
                    let xpLevelUpResult = 0
                    for(let i = 0; i < xpLevelUpLooping; i++) {
                        if(config.isDebug) console.log(`${Date.now() - dateNowProccessIs}ms - Check Level_loop_in [8] [${xpLevelUpLooping}] [${sender}]`)
                        const requiredXp2 = 2000 * (Math.pow(2, currentLevel2) - 1)
                        // if required max infinity break
                        if(requiredXp2 >= Infinity) {
                            console.log(`${Date.now() - dateNowProccessIs}ms - Check Level_loop_in [8_break_infinity] [${xpLevelUpLooping}] [${sender}]`)
                            break
                        }
                        if (requiredXp2 <= currentXp2) {
                            if(config.isDebug) console.log(`${Date.now() - dateNowProccessIs}ms - Check Level_check_up [9] [${xpLevelUpLooping}] [${sender}]`)
                            currentLevel2 += 1
                            xpLevelUpLooping += 1
                            xpLevelUpResult += 1
                        }
                    }

                    // _mongo_UserSchema.updateOne({ iId: sender }, { $inc: { level: xpLevelUpResult } })

                    addLevelingLevel(sender, xpLevelUpResult)
                    if(!_groupDb?.setGroup?.lvlupdisable) {
                        if(config.isDebug) console.log(`${Date.now() - dateNowProccessIs}ms - Check Level__up [10]`)
                        reply(from, `*„Äå LEVEL UP „Äç*\n\n‚û§ *Name*: ${pushname}\n‚û§ *XP*: ${numberWithCommas(fixNumberE(getLevelingXp(_userDb) + xpLevelUpResult))}\n‚û§ *Level*: ${getLevel} -> ${currentLevel2}\n\nOmedatou!! „Éæ(‚âß‚ñΩ‚â¶*)o`)
                    }
                }
            } catch (err) {
                console.error(err)
            }

            if(getRpg(_userDb)) {
                const dataRpgr = getRpg(_userDb)
                const maxLevelRpg = 200 * (Math.pow(2, dataRpgr.economy.level)¬†-¬†1)
                if((dataRpgr.economy.xp >= maxLevelRpg)) {
                    const readSettingsRpg = JSON.parse(fs.readFileSync('./lib/database/rpg/settings.json'))
                    const multiplierHp = readSettingsRpg.hpPerLevelMultiplier
                    const multiplierAtk = readSettingsRpg.atkPerLevelMultiplier
                    const multiplierDef = readSettingsRpg.defPerLevelMultiplier

                    const hpIncreaseMultiplier = dataRpgr.hp.max + (dataRpgr.hp.max * multiplierHp)
                    const atkIncreaseMultiplier = dataRpgr.atk + (dataRpgr.atk * multiplierAtk)
                    const defIncreaseMultiplier = dataRpgr.def + (dataRpgr.def * multiplierDef)
                    await actionRpgDb(sender, { $set: { 
                        'rpg.economy.level': dataRpgr.economy.level + 1, 
                        'rpg.economy.xp': 0, 
                        'rpg.hp.max': hpIncreaseMultiplier, 
                        'rpg.hp.value': hpIncreaseMultiplier,
                        'rpg.atk': atkIncreaseMultiplier,
                        'rpg.def': defIncreaseMultiplier
                    } })
                    reply(from, `*„Äå RPG LEVEL UP „Äç*\n\n‚û§ *Name*: ${pushname}\n*_${dataRpgr.economy.level}_ -> _${dataRpgr.economy.level + 1}_*\n\nOmedatou!! üéâüéâ`, id)
                }
            }
        }

        

        // if(getHunt(sender) == undefined) {
        //     if(config.isDebug) console.log(`${Date.now() - dateNowProccessIs}ms - GetHunt [1]`)
        //     var getRegist_hunt = undefined
        // } else {
        //     if(config.isDebug) console.log(`${Date.now() - dateNowProccessIs}ms - GetHunt [2]`)
        //     var getRegist_hunt = getHunt(sender).id
        // }
        // if (getRegist_hunt == sender && isGroupMsg && !isBlocked && !isBanned && !isSuperBanned) {
        //     try {
        //         if(config.isDebug) console.log(`${Date.now() - dateNowProccessIs}ms - GetHunt_level [3]`)
        //         const requiredXp = 3000 * (Math.pow(2, getHunt(sender).level) - 1)
        //         const getLevel = getHunt(sender).level
        //         if (requiredXp <= getHunt(sender).xp) {
        //             if(config.isDebug) console.log(`${Date.now() - dateNowProccessIs}ms - GetHunt_level_up [4]`)
        //             addHunt_Lvl(sender, 1)
        //             await rem.sendText(from, `*„Äå HUNT LEVEL UP „Äç*\n\n‚û§ *Name*: ${pushname}\n‚û§ *XP*: ${numberWithCommas(fixNumberE(getLevelingXp(sender)))}\n‚û§ *Level*: ${getLevel} -> ${getHunt(sender).level}\n\nOmedatou!! üéâüéâ`, id)
        //         }
        //     } catch (err) {
        //         console.error(err)
        //     }
        // }
        
        /*if(isGroupMsg && !isBlocked && !isBanned) {
            const currentRpgLvl = rpg.getLevel(sender, _rpgstat)
            const requiredRpgXp = 200 * (Math.pow(2, currentRpgLvl) - 1)
            try {
                if (requiredRpgXp <= rpg.getXp(sender, _rpgstat)) {
                    const getLevelRpg = rpg.getLevel(sender, _rpgstat)
                    await rpg.addLevel(sender, _rpgstat)
                    rem.sendText(from, `*„Äå RPG LEVEL UP „Äç*\n\n‚û§ *Name*: ${pushname}\n‚û§ *XP*: ${rpg.getXp(sender, _rpgstat)}\n‚û§ *Level*: ${getLevelRpg} -> ${rpg.getLevel(sender, _rpgstat)}\n\nOmedatou!! üéâüéâ`, id)
                }
            } catch (err) {
                console.error(err)
            }
        }*/
        if(!isBlocked && !isBanned && !isSuperBanned) {
            if(config.isDebug) console.log(`${Date.now() - dateNowProccessIs}ms - Check pasangan pd [1]`)
            //const currentPdLevel = getUserPasanganLvl.level
            const currentPdXp = _userDb?.rl?.pd?.xp
            const currentPdLevel = _userDb?.rl?.pd?.level
            const requiredPdXp = 2000 * (Math.pow(2, currentPdLevel) - 1)
            try {
                if(requiredPdXp <= currentPdXp) {
                    if(config.isDebug) console.log(`${Date.now() - dateNowProccessIs}ms - Add Level pasangan pd [2]`)
                    // await _mongo_UserSchema.updateOne({ iId: sender }, { $inc: { "rl.pd.level": 1 } })
                    await addUserRoleplayLevel_pasangan(sender, 1)
                }
            } catch (err) {
                console.error(err)
            }
        }

        if(isGroupMsg && !isBlocked && !isBanned && !isSuperBanned) {
            if(config.isDebug) console.log(`${Date.now() - dateNowProccessIs}ms - Check Job [1]`)
            if(kerjajob.getUserJobId(_userDb) == undefined) await kerjajob.setUserJob(sender)
            let currentJobLvl = kerjajob.getLvlJob(_userDb)
            const requiredJobXp = 1000 * (Math.pow(2, currentJobLvl) - 1)
            const currentJobXp = kerjajob.getXpJob(_userDb)
            try {
                if (requiredJobXp <= currentJobXp) {
                    let xpJobLevelUpLooping = 1
                    let xpJobLevelUpResult = 0
                    for(let i = 0; i < xpJobLevelUpLooping; i++) {
                        if(config.isDebug) console.log(`${Date.now() - dateNowProccessIs}ms - Check Job_Level_loop_in [8] [${xpJobLevelUpLooping}] [${sender}]`)
                        const requiredJobXp2 = 1000 * (Math.pow(2, currentJobLvl) - 1)
                        if (requiredJobXp2 <= currentJobXp) {
                            if(config.isDebug) console.log(`${Date.now() - dateNowProccessIs}ms - Check Job_Level_check_up [9] [${xpJobLevelUpLooping}] [${sender}]`)
                            currentJobLvl += 1
                            xpJobLevelUpLooping += 1
                            xpJobLevelUpResult += 1
                        }
                    }

                    await kerjajob.addJobLvl(sender, xpJobLevelUpResult)
                    await kerjajob.addJobMulti(sender, xpJobLevelUpResult)

                    if(config.isDebug) console.log(`${Date.now() - dateNowProccessIs}ms - Job Level Up [2]`)
                    const getLevelJob = kerjajob.getLvlJob(_userDb)

                    if(kerjajob.getUserJob(_userDb) == 'miner') {
                        var kerja = 'Miner/Penambang'
                    } else if(kerjajob.getUserJob(_userDb) == 'lj') {
                        var kerja = 'Lumberjack/Penebang Pohon'
                    } else if(kerjajob.getUserJob(_userDb) == 'gojek') {
                        var kerja = 'Gojek'
                    } else if(kerjajob.getUserJob(_userDb) == 'tsampah') {
                        var kerja = 'Tukang Sampah'
                    } else if(kerjajob.getUserJob(_userDb) == 'polisi')  {
                        var kerja = 'Polisi'
                    } else if(kerjajob.getUserJob(_userDb) == 'bo') {
                        var kerja = 'Prostitusi Online :V'
                    } else if(kerjajob.getUserJob(_userDb) == 'Kantoran') {
                        var kerja = 'Kantoran'
                    }
                    if(config.isDebug) console.log(`${Date.now() - dateNowProccessIs}ms - Job Level Up [3]`)
                    reply(from, `*„Äå JOB LVL UP „Äç*\n\n‚û§ *Name*: ${pushname}\n‚û§ *XP*: ${kerjajob.getXpJob(_userDb)}\n‚û§ *Level*: ${getLevelJob} -> ${Number(kerjajob.getLvlJob(_userDb)) + xpJobLevelUpResult}\n‚û§ *JOB*: ${kerja}\n\nOmedatou!! üéâüéâ`)
                }
            } catch (err) {
                console.error(err)
            }
        }
                if(config.isDebug) console.log(`${Date.now() - dateNowProccessIs}ms - workCheck`)

                //END
                //Quiz Game
                const setQuizGame = async (msg, soal, jawaban, gameoption, reason = undefined) => {
                    const obj = { mid: msg, soal, jawaban, game: gameoption, reason }
                    await _mongo_GroupSchema.updateOne({ iId: groupId }, { $push: { "game.quizgame": obj } })
                }
            
                // END HELPER FUNCTION
                if (isGroupMsg && isDetectorLink && !isGroupAdmins && !isPrem){
                    if(config.isDebug) console.log(`${Date.now() - dateNowProccessIs}ms - check Link Group Detector [1]`)
                    if(type != sticker) {
                        if(config.isDebug) console.log(`${Date.now() - dateNowProccessIs}ms - check Link Group Detector [2]`)
                        if (body != undefined && body.includes('chat.whatsapp.com/')) {
                            if(config.isDebug) console.log(`${Date.now() - dateNowProccessIs}ms - check Link Group Detector [3]`)
                            const filterLinkGroup0 = body.split('chat.whatsapp.com/')[1]
                            const filterLinkGroup1 = filterLinkGroup0.split(' ')[0]
                            const filterLinkGroup = 'https://chat.whatsapp.com/' + filterLinkGroup1

                            let linkRegex = /chat.whatsapp.com\/([0-9A-Za-z]{20,24})/i
                            let [_, code] = filterLinkGroup.match(linkRegex) || []
                            let checkSenderLink = undefined
                            try {
                                checkSenderLink = await rem.groupGetInviteInfo(code) || { size: 10 }
                            } catch (err) {
                                console.error(err)
                            }

                            let checkGroupLink = undefined
                            try {
                                checkGroupLink = await rem.groupInviteCode(from)
                            } catch (err) {
                                console.error(err)
                            }
                            
                            if(checkSenderLink != undefined) {
                                if(checkGroupLink != undefined) {
                                    if(checkGroupLink != code) {
                                        console.log('inside 3')
                                        reply(from, `*„Äå GROUP LINK DETECTOR „Äç*\nKamu mengirimkan link grup chat, maaf kamu di kick dari grup :(`, id).then(() => {
                                            if(config.isDebug) console.log(`${Date.now() - dateNowProccessIs}ms - check Link Group Detector [6]`)
                                            rem.deleteMessage(from, { id: id, remoteJid: from, fromMe: message.key.fromMe, participant : message.key.participant } )
                                            rem.groupParticipantsUpdate(groupId, [sender], "remove")
                                        })
                                    }
                                } else {
                                    reply(from, `*„Äå GROUP LINK DETECTOR „Äç*\nKamu mengirimkan link grup chat, maaf kamu di kick dari grup :(`, id).then(() => {
                                        rem.groupParticipantsUpdate(groupId, [sender], "remove")
                                    })
                                }
                            }
                        }
                    }
                }
                if(isGroupMsg && isAntiHidetag && !isGroupAdmins && !isPrem) {
                    if(config.isDebug) console.log(`${Date.now() - dateNowProccessIs}ms - check Hidetag Detector [1]`)
                    const bodyMsgAntiHidetag = caption || body
                    const mentionedJidListAntiHidetag = mentionedJidList
                    if((bodyMsgAntiHidetag != undefined && !bodyMsgAntiHidetag?.includes('@')) && (mentionedJidListAntiHidetag?.[0] != undefined)) {
                        if(config.isDebug) console.log(`${Date.now() - dateNowProccessIs}ms - check Hidetag Detector [2]`)
                        
                        reply(from, `*„Äå ANTI HIDETAG „Äç*\n\nKamu mengirimkan hidetag, maaf kamu di kick dari grup :(`, id)
                        .then(async () => {
                            if(config.isDebug) console.log(`${Date.now() - dateNowProccessIs}ms - check Hidetag Detector [3]`)
                            await rem.deleteMessage(from, { id: id, remoteJid: from, fromMe: message.key.fromMe, participant : message.key.participant } )
                            rem.groupParticipantsUpdate(groupId, [sender], "remove")
                        })
                    }
                }
                // MRHRTZ
                /*if (isGroupMsg && isDetectorBadword && !isGroupAdmins && !isAdmin && !isSideOwner){
                    if(type === 'chat') {
                        if (chats.match("anjing") || chats.match("gblk") || chats.match("tolol") || chats.match("kntl")) {
                            if (!isGroupAdmins) {
                                return reply(from, "JAGA UCAPAN DONG!! üò†", id)
                                .then(() => rem.removeParticipant(groupId, sender))
                                .then(() => {
                                    rem.sendText(from, `*„Äå ANTI BADWORD „Äç*\nKamu berkata kasar, maaf kamu di kick dari grup üôÅ`)
                                }).catch(() => rem.sendText(from, `Untung bukan admin group, kalo iya udah ku kick kamu -_-`))
                            } else {
                                return reply(from, "Tolong jaga ucapan, banyak anak kecil", id)
                            }
                        }
                    }
                }*/
                
                
                if(body == prefix+'muteadmin') {
                    if(!isGroupMsg) return reply(from, 'Perintah ini hanya bisa di gunakan dalam group!', id)
                    if(!isGroupAdmins) return reply(from, 'Maaf, perintah ini hanya dapat dilakukan oleh Admin Group!', id)
                    if(isMutedAdmin) return reply(from, `Bot sudah di mute pada chat ini! _${prefix}unmuteadmin_ untuk unmute!`, id)

                    await _mongo_GroupSchema.updateOne({ iId: groupId }, { $set: { muted: { isMutedAdmin: true } } })
                    reply(from, 'Bot telah di mute dari member pada chat ini! _'+prefix+'unmuteadmin_ untuk unmute!')
                } else if(body == prefix+'unmuteadmin') {
                    if(!isGroupMsg) return reply(from, 'Perintah ini hanya bisa di gunakan dalam group!', id)
                    if(!isGroupAdmins) return reply(from, 'Maaf, perintah ini hanya dapat dilakukan oleh Admin Group!', id)
                    if(!isMutedAdmin) return reply(from, `Bot tidak di mute pada chat ini!`, id)

                    await _mongo_GroupSchema.updateOne({ iId: groupId }, { $set: { muted: { isMutedAdmin: false } } })
                    reply(from, 'Bot telah di unmute!')
                }

                
                if(body === prefix+'mute'){
                    if(isGroupMsg) {
                        if(!isAdmin && !isSideOwner && !isGroupAdmins) return reply(from, 'Maaf, perintah ini hanya dapat dilakukan oleh Admin Group!', id)
                        if(isMuted) return reply(from, `Bot sudah di mute pada chat ini! _${prefix}unmute_ untuk unmute!`, id)

                        await _mongo_GroupSchema.updateOne({ iId: groupId }, { $set: { muted: { isMuted: true } } })
                        reply(from, 'Bot telah di mute pada chat ini! '+prefix+'unmute untuk unmute!')
                    }
                } else if(body === prefix+'unmute'){
                    if(isGroupMsg) {
                        if(!isAdmin && !isSideOwner && !isGroupAdmins) return reply(from, 'Maaf, perintah ini hanya dapat dilakukan oleh Admin Group!', id)
                        if(!isMuted) return reply(from, `Bot tidak di mute pada chat ini!`, id)

                        await _mongo_GroupSchema.updateOne({ iId: groupId }, { $set: { muted: { isMuted: false } } })
                        reply(from, 'Bot telah di unmute!')         
                    }
                }

                if (body === prefix+'unbanchat') {
                    if (!isOwner) return reply(from, 'Perintah ini hanya untuk Dwi!')
                    if(setting.banChats === false) return
                    setting.banChats = false
                    banChats = false
                    rem.sendText(from, 'Global chat has been disable!')
                }

                // if(isGroupMsg && !isGroupAdmins && _groupDb.isAntiNsfw && isMedia) {
                //     let imageBuffer = await message.getMedia()

                //     if(type === 'stickerMessage') {
                //         const checkNsfwDiff = await checkImageNsfw(resultImageDiff)
                //     }
                // }
                // JS EVALUATE
            const AsyncFunction = Object.getPrototypeOf(async function () { }).constructor
            let rawText = body
        if ((rawText||'').startsWith('> ')  && isOwner) {
            console.log(sender, 'is trying to use the execute command')
            let type = Function
            if (/await/.test(rawText)) type = AsyncFunction
            let func = new type('_userDb', 'cheerio', 'print', 'rem', 'message', 'fetch', 'yts', 'axios', 'getPref',  'toMs', 'fs', 'cmd', 'ti', 'cmd2case', !/^return /.test(rawText.slice(2)) && rawText.slice(2).split('\n').length === 1 ? 'return ' + rawText.slice(2) : rawText.slice(2))
            let output
            try {
                output = func((...args) => {
                    console.log(...args)
                    reply(from, util.format(...args), id)
                }, _userDb, cheerio, rem, message, fetch, yts, axios, toMs, fs, require, text => text.replace(/^(async function|function|async).+\(.+?\).+{/, `case 'command':`).replace(/this\.(text|url|args)/g, (_, text) => {
                  switch (text) {
                    case 'text': 
                        return "args.join(' ')"
                        break
                    case 'args': 
                        return "args"
                        break
                    case 'url': 
                        return "args[0]"
                        break
                    case 'prefix': 
                        return "prefix"
                        break
                    default: return _
                  }
                }).replace(/}$/, '    break'))
                console.log(output)
                reply(from, '*Console Output*\n\n' + util.format(output))
            } catch (e) {
                reply(from, '*Console Error*\n\n' + util.format(e))
            }
        }

        if (isCmd && sender.includes('@lid')) {
            return reply(from, `*!! Group ini menggunakan ID _@lid_ !!*\n\nMohon untuk private chat bot dengan cmd *_"${prefix}set_user lid"_* untuk melanjutkan\n\nwa.me/${rem?.user?.jid?.replace('@s.whatsapp.net', '')}?text=${encodeURIComponent(`${prefix}set_user lid`)}`, id)
        }

        // [BETA] Avoid Spam Message
        //if (isCmd && isFiltered(from) && !isGroupMsg) { return console.log(color('[SPAM]', 'red'), color(moment(t * 1000).format('DD/MM/YY HH:mm:ss'), 'yellow'), color(`${command} [${args.length}]`), 'from', color(pushname)) }
        //if (isCmd && isFiltered(from) && isGroupMsg) { return console.log(color('[SPAM]', 'red'), color(moment(t * 1000).format('DD/MM/YY HH:mm:ss'), 'yellow'), color(`${command} [${args.length}]`), 'from', color(pushname), 'in', color(name || name)) }
        if (isCmd && !isGroupMsg) {console.log(color('CMD ~>', 'red'), color(moment(t * 1000).format('DD/MM/YY HH:mm:ss'), 'white'), color(`${command} [${args.length}]`, 'cyan'), 'from', color(pushname, 'blue'), ` | ${sender.replace('@s.whatsapp.net', '')}`)}
        if (isCmd && isGroupMsg) {console.log(color('CMD ~>', 'red'), color(moment(t * 1000).format('DD/MM/YY HH:mm:ss'), 'white'), color(`${command} [${args.length}]`, 'cyan'), 'from', color(pushname, 'blue'), ` | ${sender.replace('@s.whatsapp.net', '')} `, 'in', color(name, 'blue'), groupId)}
        // if (isCmd && isVirtualBot && socket != undefined) socket.emit('logCmdFromServer', { id: virtualBotID, data: `CMD ~> ${moment(t * 1000).format('DD/MM/YY HH:mm:ss')} ${command} [${args.length}] from ${pushname} | ${sender.replace('@s.whatsapp.net', '')} ${isGroupMsg ? 'in ' + name : ''}` })
        // [BETA] Avoid Spam Message
        //addFilter(from)
        if (args[0] == 'Cekprefix' || args[0] == 'cekprefix' || args[0] == 'cekPrefix' || args[0].toLowerCase() == 'prefix') {
            if(isGroupMsg) {
                reply(from, `Prefix Group Ini: *${prefix}*`)
            } else {
                reply(from, `Prefix: *${prefix}*`)
            }
        }
        //LONET FILTER
        /*if(type == 'chat' && !isBlocked && !isBanned) {
        const kata2Sayu = ['rem', 's a y u', 'sa yu', 'say u', 's ayu', 'remr', 'sa yu r', 's ayur', 'sa yur', 'say ur', 'rem r', 's a y u r']
        const kata2SayuLonet = ['lonte', 'l o n t e', 'lonthe', 'l o n t h e', 'l onthe', 'lo nthe', 'lon the', 'lont he', 'lonth e', 'l onte', 'lo nte', 'lon te', 'lont e', 'lont', 'lonet', 'l o n e t', 'l onet', 'lo net', 'lon et', 'lone t', 'lonthey', 'l o n t h e y', 'l onthey', 'lo nthey', 'lon they', 'lont hey', 'lonth ey', 'lonthe y', 'lo n they', 'bolong', 'b o l o n g', 'b olong', 'bo long', 'bol ong', 'bolo ng', 'bolon g', 'lontong', 'l ontong', 'lo ntong', 'lon tong', 'lont ong', 'lonto ng', 'lonton g', 'l o n t o n g', 'entot', 'entod', 'longgar', 'longar']
        const NoCek = sender
        const BodyToLowercase = body.toLowerCase()
        if (BodyToLowercase.includes('rem') || BodyToLowercase.includes('s a y u') || BodyToLowercase.includes('sa yu') || BodyToLowercase.includes('say u') || BodyToLowercase.includes('s ayu') || BodyToLowercase.includes('remr') || BodyToLowercase.includes('s ayur') || BodyToLowercase.includes('sa yur') || BodyToLowercase.includes('say ur') || BodyToLowercase.includes('rem r') || BodyToLowercase.includes('s a y u r')) {
        //if(!isCmd && kata2Sayu.includes(chats.toLowerCase())) {
        if (BodyToLowercase.includes('lonte') || BodyToLowercase.includes('l onte') || BodyToLowercase.includes('lo nte') || BodyToLowercase.includes('lon te') || BodyToLowercase.includes('lont e') || BodyToLowercase.includes('l o n t e') || BodyToLowercase.includes('lonthe') || BodyToLowercase.includes('l onthe') || BodyToLowercase.includes('lo nthe') || BodyToLowercase.includes('lon the') || BodyToLowercase.includes('lont he') || BodyToLowercase.includes('lonth e') || BodyToLowercase.includes('lont') || BodyToLowercase.includes('lonet') || BodyToLowercase.includes('l onet') || BodyToLowercase.includes('lo net') || BodyToLowercase.includes('lon et') || BodyToLowercase.includes('lone t') || BodyToLowercase.includes('lonthey') || BodyToLowercase.includes('l onthey') || BodyToLowercase.includes('lo nthey') || BodyToLowercase.includes('lon they') || BodyToLowercase.includes('lont hey') || BodyToLowercase.includes('lonth ey') || BodyToLowercase.includes('lonthe y') || BodyToLowercase.includes('bolong') || BodyToLowercase.includes('b olong') || BodyToLowercase.includes('bo long') || BodyToLowercase.includes('bol ong') || BodyToLowercase.includes('bolo ng') || BodyToLowercase.includes('bolon g') || BodyToLowercase.includes('lontong') || BodyToLowercase.includes('l ontong') || BodyToLowercase.includes('lo ntong') || BodyToLowercase.includes('lon tong') || BodyToLowercase.includes('lont ong') || BodyToLowercase.includes('lonto ng') || BodyToLowercase.includes('lonton g') || BodyToLowercase.includes('entot') || BodyToLowercase.includes('e ntot') || BodyToLowercase.includes('en tot') || BodyToLowercase.includes('ent ot') || BodyToLowercase.includes('ento t') || BodyToLowercase.includes('entod') || BodyToLowercase.includes('e ntod') || BodyToLowercase.includes('en tod') || BodyToLowercase.includes('ent od') || BodyToLowercase.includes('ento d') || BodyToLowercase.includes('ento') || BodyToLowercase.includes('longar') || BodyToLowercase.includes('longgar')) {
            //if(kata2SayuLonet.includes(chats.toLowerCase())) {
            await rem.contactBlock(NoCek)
            await banned.push(NoCek)
            fs.writeFileSync('./lib/database/bot/banned.json', JSON.stringify(banned))
            await rem.sendFile(from,  './media/img/menangis.png', 'menangis.png', '', id)
            await rem.sendText(from, 'Kamu telah diban')
            if (groupId == '120363021660813196@g.us') {
                rem.removeParticipant('120363021660813196@g.us', NoCek)
            }
            console.log('Mengejek '+NoCek)
        } else {
            console.log('MengManggil1 '+NoCek)
        }
    }
}
    const getMathGamePosition = (msg) => {
        let position = null
        Object.keys(_mathgame).forEach((i) => {
            if (_mathgame[i].mid === msg) {
                position = i
            }
        })
        if (position !== null) {
            return position
        }
    }
    const getMathGame = (msg) => {
        let position = false
        Object.keys(_mathgame).forEach((i) => {
            if (_mathgame[i].mid === msg) {
                position = i
            }
        })
        if (position !== false) {
            return _mathgame[position]
        }
    }*/
    if(isGroupMsg) {
        let isMessageMathGame = false
        var isMessageQuiz = false
        let positionMathGame_player = false
        let positionQuizGame_player = false
        const _mathgame = _groupDb?.game?.mathgame
        const _quizgame = _groupDb?.game?.quizgame
        if(quotedMsg != null &&  quotedMsg.fromMe) {
            if(config.isDebug) console.log(`${Date.now() - dateNowProccessIs}ms - check Msg MathGame [1]`)
            var messageMathGame = _mathgame.map(mth => mth?.mid)
            var replyied_body = quotedMsg.id
            if(config.isDebug) console.log(`${Date.now() - dateNowProccessIs}ms - check Msg MathGame [2]`)
    
            if(messageMathGame.includes(replyied_body)) {
                isMessageMathGame = true
                positionMathGame_player = _mathgame.findIndex(el => el?.mid == replyied_body)
            }
            if(config.isDebug) console.log(`${Date.now() - dateNowProccessIs}ms - check Msg MathGame [3]`)
    
            var responsesquizgame = _quizgame.map(qz => qz?.mid)
            if(responsesquizgame.includes(replyied_body)) {
                isMessageQuiz = true
                positionQuizGame_player = _quizgame.findIndex(el => el?.mid == replyied_body)
            }
            if(config.isDebug) console.log(`${Date.now() - dateNowProccessIs}ms - check Msg MathGame [4]`)
        } 
        if(isMessageMathGame) {
            if(config.isDebug) console.log(`${Date.now() - dateNowProccessIs}ms - check is MathGame [1]`)
            //console.log('inMathGame')
            const jawabanMathGame_Answer = _mathgame[positionMathGame_player]
            //console.log(jawabanMathGame_Answer)
            if(args[0].includes(',')) {
                var args012Filter_mathgame = args[0].replace(/,/gi, '.')
                var args02Filter_mathgame = args012Filter_mathgame
            } else {
                var args02Filter_mathgame = args[0]
            }
            if(config.isDebug) console.log(`${Date.now() - dateNowProccessIs}ms - check is MathGame [2]`)

            if(args02Filter_mathgame.includes('-')) {
                if(config.isDebug) console.log(`${Date.now() - dateNowProccessIs}ms - check is MathGame [3]`)
                if(args02Filter_mathgame.includes('.')) {
                    var args01Filter_mathgame = Math.abs(args02Filter_mathgame).toFixed(1)
                    var args0Filter_mathgame = '-'+args01Filter_mathgame
                } else {
                    var args01Filter_mathgame = Math.abs(args02Filter_mathgame)
                    var args0Filter_mathgame = '-'+args01Filter_mathgame
                }
                if(config.isDebug) console.log(`${Date.now() - dateNowProccessIs}ms - check is MathGame [4]`)
            } else if(args02Filter_mathgame.includes('.')) {
                if(config.isDebug) console.log(`${Date.now() - dateNowProccessIs}ms - check is MathGame [5]`)
                var args01Filter_mathgame = Math.abs(args02Filter_mathgame).toFixed(1)
                var args0Filter_mathgame = `${args01Filter_mathgame}`
            } else {
                if(config.isDebug) console.log(`${Date.now() - dateNowProccessIs}ms - check is MathGame [6]`)
                var args0Filter_mathgame = args[0]
            }
            console.log(args0Filter_mathgame)
            if(args0Filter_mathgame == jawabanMathGame_Answer.jawaban) {
                if(config.isDebug) console.log(`${Date.now() - dateNowProccessIs}ms - check is MathGame [7]`)
                if(jawabanMathGame_Answer.diff == 'Easy') {
                    var XPNambahMathGame = Math.floor(Math.random() * 10) + 1000
                } else if(jawabanMathGame_Answer.diff == 'Normal') {
                    var XPNambahMathGame = Math.floor(Math.random() * 10) + 3000
                } else if(jawabanMathGame_Answer.diff == 'Hard') {
                    var XPNambahMathGame = Math.floor(Math.random() * 10) + 5000
                }

                if(config.isDebug) console.log(`${Date.now() - dateNowProccessIs}ms - check is MathGame [8]`)

                if (getUserItemId(_userDb) == undefined) {
                    var amountXpssNambahMath = Math.floor(XPNambahMathGame)
                } else {
                    var amountXpssNambahMath = Math.floor(XPNambahMathGame * getItemLevel(_userDb).level)
                }

                if(config.isDebug) console.log(`${Date.now() - dateNowProccessIs}ms - check is MathGame [9]`)
                reply(from, `BTUL\n\n+${numberWithCommas(fixNumberE(amountXpssNambahMath))} XP`)
                await addLevelingXp(sender, amountXpssNambahMath)
                await _mongo_GroupSchema.updateOne({ iId: from, "game.mathgame.mid": quotedMsg.id }, { $unset: { "game.mathgame.$": 1 } })
                await _mongo_GroupSchema.updateOne({ iId: from }, { $pull: { "game.mathgame": null } })

                if(config.isDebug) console.log(`${Date.now() - dateNowProccessIs}ms - check is MathGame [10]`)
            } else {
                reply(from, 'SLAH')
            }
        } else if (isMessageQuiz) {
            if(_quizgame[positionQuizGame_player].game == 'fm100') { // fm100
                if(config.isDebug) console.log(`${Date.now() - dateNowProccessIs}ms - check is Quiz [1]_fm100`)
                const jawabanQuizGame_answer = (typeof _quizgame[positionQuizGame_player].jawaban === 'string') ? [_quizgame[positionQuizGame_player].jawaban?.toLowerCase().replace(/\s/g, '')] : _quizgame[positionQuizGame_player].jawaban.map(all => all.toLowerCase().replace(/\s/g, ''))
                const jawabanArgs_chat = body.toLowerCase().replace(/\s/g, '')
                console.log(jawabanQuizGame_answer)
                console.log(jawabanArgs_chat)
    
                if(config.isDebug) console.log(`${Date.now() - dateNowProccessIs}ms - check is Quiz [2]_fm100`)
                if(_quizgame[positionQuizGame_player]?.isJawab?.includes(jawabanArgs_chat)) return reply(from, `sudah ada yang menjawab dengan jawaban yang sama sebelumnya`, id)
                if(jawabanQuizGame_answer.includes(jawabanArgs_chat)) {
                    if(config.isDebug) console.log(`${Date.now() - dateNowProccessIs}ms - check is Quiz [3]_fm100`)
                    var XPNambahQuizGame = Math.floor(Math.random() * 10) + 6000
                    reply(from, `BTUL\n\n+${numberWithCommas(fixNumberE(XPNambahQuizGame))} XP`)
                    if(_quizgame[positionQuizGame_player].reason != undefined) rem.sendText(from, _quizgame[positionQuizGame_player].reason)

                    await addLevelingXp(sender, XPNambahQuizGame)
                    await _mongo_GroupSchema.updateOne({ iId: from, "game.quizgame.mid": quotedMsg.id }, { $set: { "game.quizgame.$.isDone": true }, $push: { "game.quizgame.$.isJawab": jawabanArgs_chat } })
    
                    if(config.isDebug) console.log(`${Date.now() - dateNowProccessIs}ms - check is Quiz [4]_fm100`)
                } else {
                    reply(from, 'SLAH')
                }
            } else if(!_quizgame[positionQuizGame_player].isDone && _quizgame[positionQuizGame_player].game == 'tebakgambar') { // tebakgambar
                if(config.isDebug) console.log(`${Date.now() - dateNowProccessIs}ms - check is Quiz [1]`)
                //console.log('haha')
                const jawabanQuizGame_answer = _quizgame[positionQuizGame_player].jawaban.replace(/\s/g, '').toLowerCase()
                const jawabanArgs_chat = body.toLowerCase().replace(/\s/g, '')
                console.log(jawabanQuizGame_answer)
                console.log(jawabanArgs_chat)
    
                if(config.isDebug) console.log(`${Date.now() - dateNowProccessIs}ms - check is Quiz [2]`)
                if(jawabanArgs_chat == jawabanQuizGame_answer) {
                    if(config.isDebug) console.log(`${Date.now() - dateNowProccessIs}ms - check is Quiz [3]`)
                    var XPNambahQuizGame = Math.floor(Math.random() * 10) + 6000
                    reply(from, `BTUL\n\n+${numberWithCommas(fixNumberE(XPNambahQuizGame))} XP`)
                    if(_quizgame[positionQuizGame_player].reason != undefined) rem.sendText(from, _quizgame[positionQuizGame_player].reason)
                    await addLevelingXp(sender, XPNambahQuizGame)
                    await _mongo_GroupSchema.updateOne({ iId: from, "game.quizgame.mid": quotedMsg.id }, { $set: { "game.quizgame.$.isDone": true } })
    
                    if(config.isDebug) console.log(`${Date.now() - dateNowProccessIs}ms - check is Quiz [4]`)
                } else {
                    reply(from, 'SLAH')
                }
            } else if(!_quizgame[positionQuizGame_player].isDone && _quizgame[positionQuizGame_player].game == 'tebakbendera') { // tebaklbendera
                if(config.isDebug) console.log(`${Date.now() - dateNowProccessIs}ms - check is Quiz [1]`)
                //console.log('haha')
                const jawabanQuizGame_answer = _quizgame[positionQuizGame_player].jawaban.replace(/\s/g, '').toLowerCase()
                const jawabanArgs_chat = body.toLowerCase().replace(/\s/g, '')
                console.log(jawabanQuizGame_answer)
                console.log(jawabanArgs_chat)

                if(config.isDebug) console.log(`${Date.now() - dateNowProccessIs}ms - check is Quiz [2]`)
                if(jawabanArgs_chat == jawabanQuizGame_answer) {
                    if(config.isDebug) console.log(`${Date.now() - dateNowProccessIs}ms - check is Quiz [3]`)
                    var XPNambahQuizGame = Math.floor(Math.random() * 10) + 6000
                    var MoneyNambahQuizGame = Math.floor(Math.random() * 10) + 6000
                    reply(from, `BTUL\n\n+${numberWithCommas(fixNumberE(XPNambahQuizGame))} XP!\n+${MoneyNambahQuizGame} Money!`)
                    if(_quizgame[positionQuizGame_player].reason != undefined) rem.sendText(from, _quizgame[positionQuizGame_player].reason)

                    await addMoney(sender, MoneyNambahQuizGame)
                    await addLevelingXp(sender, XPNambahQuizGame)
                    await _mongo_GroupSchema.updateOne({ iId: from, "game.quizgame.mid": quotedMsg.id }, { $set: { "game.quizgame.$.isDone": true } })
                    
                    if(config.isDebug) console.log(`${Date.now() - dateNowProccessIs}ms - check is Quiz [4]`)
                } else {
                    reply(from, 'SLAH')
                }
            } else if(!_quizgame[positionQuizGame_player].isDone && _quizgame[positionQuizGame_player].game == 'tbjapan') { //tebak huruf japan
                if(config.isDebug) console.log(`${Date.now() - dateNowProccessIs}ms - check is Quiz [1]`)
                const jawabanQuizGame_answer = _quizgame[positionQuizGame_player].jawaban.replace(/\s/g, '').toLowerCase()
                const jawabanArgs_chat = body.toLowerCase().replace(/\s/g, '')
                console.log(jawabanQuizGame_answer)
                console.log(jawabanArgs_chat)

                if(config.isDebug) console.log(`${Date.now() - dateNowProccessIs}ms - check is Quiz [2]`)
                if(jawabanArgs_chat == jawabanQuizGame_answer) {
                    if(config.isDebug) console.log(`${Date.now() - dateNowProccessIs}ms - check is Quiz [3]`)
                    var XPNambahQuizGame = Math.floor(Math.random() * 10) + 6000
                    var MoneyNambahQuizGame = Math.floor(Math.random() * 10) + 8000
                    reply(from, `BTUL\n\n+${numberWithCommas(fixNumberE(XPNambahQuizGame))} XP!\n+${MoneyNambahQuizGame} Money!`)
                    if(_quizgame[positionQuizGame_player].reason != undefined) rem.sendText(from, _quizgame[positionQuizGame_player].reason)
    
                    await addMoney(sender, MoneyNambahQuizGame)
                    await addLevelingXp(sender, XPNambahQuizGame)
                    await _mongo_GroupSchema.updateOne({ iId: from, "game.quizgame.mid": quotedMsg.id }, { $set: { "game.quizgame.$.isDone": true } })
                        
                    if(config.isDebug) console.log(`${Date.now() - dateNowProccessIs}ms - check is Quiz [4]`)
                } else {
                    reply(from, 'SLAH!')
                }
            } else if(!_quizgame[positionQuizGame_player].isDone && _quizgame[positionQuizGame_player].game == 'tebakwilayah') { // tebaklbendera
                if(config.isDebug) console.log(`${Date.now() - dateNowProccessIs}ms - check is Quiz [1]`)
                //console.log('haha')
                const jawabanQuizGame_answer = _quizgame[positionQuizGame_player].jawaban.replace(/\s/g, '').toLowerCase()
                const jawabanArgs_chat = body.toLowerCase().replace(/\s/g, '')
                console.log(jawabanQuizGame_answer)
                console.log(jawabanArgs_chat)

                if(config.isDebug) console.log(`${Date.now() - dateNowProccessIs}ms - check is Quiz [2]`)
                if(jawabanArgs_chat == jawabanQuizGame_answer) {
                    if(config.isDebug) console.log(`${Date.now() - dateNowProccessIs}ms - check is Quiz [3]`)
                    var XPNambahQuizGame = Math.floor(Math.random() * 10) + 8000
                    var MoneyNambahQuizGame = Math.floor(Math.random() * 10) + 8000
                    reply(from, `BTUL\n\n+${numberWithCommas(fixNumberE(XPNambahQuizGame))} XP!\n+${MoneyNambahQuizGame} Money!`)
                    if(_quizgame[positionQuizGame_player].reason != undefined) rem.sendText(from, _quizgame[positionQuizGame_player].reason)

                    await addMoney(sender, MoneyNambahQuizGame)
                    await addLevelingXp(sender, XPNambahQuizGame)
                    await _mongo_GroupSchema.updateOne({ iId: from, "game.quizgame.mid": quotedMsg.id }, { $set: { "game.quizgame.$.isDone": true } })
                    
                    if(config.isDebug) console.log(`${Date.now() - dateNowProccessIs}ms - check is Quiz [4]`)
                } else {
                    reply(from, 'SLAH')
                }
            }
        }
    }

        const getQuizGamePosition = (msg) => {
            if(config.isDebug) console.log(`${Date.now() - dateNowProccessIs}ms - getQuizGamePosition`)
            let position = _quizgame.findIndex(object => object.mid == msg)
            if (position !== -1) {
                return position
            }
        }
        // if(message.selectedButtonId != undefined) {
        //     if(message.selectedButtonId.startsWith('ytmp3')) {
        //         rem.sendText(from, mess.wait)
        //         try {
        //         const { dl_link, thumb, title, filesizeF, filesize } = await yt(message.selectedButtonId.replace('ytmp3 ', ''), '128kbps', 'mp3', '128', 'en68')
        //         const captions = `*„Äå YOUTUBE MP3 „Äç*\n\n‚Ä¢ *Judul* : ${title}\n‚Ä¢ *Filesize* : ${clacSize_kb(filesize)}\n\n_Silahkan tunggu file media sedang dikirim mungkin butuh beberapa menit_`
        //         //await rem.sendFile(from, thumb, `thumb.jpg`, captions)
        //         if(filesize >= 15000) return rem.sendText(from, `Maaf, size music melebihi 15 MB\n\nJudul : ${title}\nLink : ${dl_link}`)
        //         const responses = await fetch(dl_link, { agent });
        //         const buffer = await responses.buffer();
        //         const filenameYtMp3 = GenerateSerialNumber("00000000000000000000000")
        //         await fs.writeFile(`./lib/cache/yt/${filenameYtMp3}.mp3`, buffer)
        //         await rem.sendFile(from, buffer, `${title}.mp3`, '', message, document, 'audio/mpeg')
        //         await rem.sendFile(from, `./lib/cache/yt/${filenameYtMp3}.mp3`, `${title}.mp3`, '', message, audio, 'audio/mpeg').catch(() => rem.sendText(from, mess.error.Yt4))
        //         console.log('Success sending YT MP3!')
        //         fs.unlinkSync(`./lib/cache/yt/${filenameYtMp3}.mp3`)
        //             /*const ytmp3SementaraDownload = await axios.get(`https://api.zeks.me/api/ytmp3?apikey=n1Grf6Dn6F4Xyv1021d6tGSwYhD&url=${message.selectedButtonId.replace('ytmp3 ', '')}`)
        //             //const captions = `*„Äå YOUTUBE MP3 „Äç*\n\n‚Ä¢ *Judul* : ${ytmp3SementaraDownload.data.result.title}\n‚Ä¢ *Filesize* : ${ytmp3SementaraDownload.data.result.size}\n\n_Silahkan tunggu file media sedang dikirim mungkin butuh beberapa menit_`
        //             //await rem.sendFile(from, ytmp3SementaraDownload.data.result.thumbnail, `thumb.jpg`, captions, id)
        //             const responses = await fetch(ytmp3SementaraDownload.data.result.url_audio);
        //             const buffer = await responses.buffer();
        //             await fs.writeFile(`./lib/cache/yt/${sender}.mp3`, buffer)
        //             await rem.sendFile(from, `./lib/cache/yt/${sender}.mp3`, `${ytmp3SementaraDownload.data.result.title}.mp3`, '')
        //             fs.unlinkSync(`./lib/cache/yt/${sender}.mp3`)*/
        //         } catch (err) {
        //             console.error(err)
        //             rem.sendText('6281358181668@s.whatsapp.net', 'Error ytmp3_button : '+ err)
        //             reply(from, mess.error.Yt3, id)
        //         }
        //     } else if(message.selectedButtonId.startsWith('ytmp4')) {
        //         //if (!isOwner) return reply(from, 'Maaf, fitur ini Error!', id)
        //         const buttonYtmp4 = message.selectedButtonId.replace('ytmp4 ')
        //         rem.sendText(from, mess.wait)
        //         const checkFileSizeYt_auto1 = await yt(buttonYtmp4, '720p', 'mp4', '720', 'en68')
        //         const checkFileSizeYt_auto2 = await yt(buttonYtmp4, '480p', 'mp4', '480', 'en68')
        //         const checkFileSizeYt_auto3 = await yt(buttonYtmp4, '360p', 'mp4', '360', 'en68')
        //         if(checkFileSizeYt_auto1.filesize == undefined) { 
        //             var qualityCheckYt_auto1 = 999999999999999
        //         } else { 
        //             var qualityCheckYt_auto1 = checkFileSizeYt_auto1.filesize
        //         }
        //         if(checkFileSizeYt_auto2.filesize == undefined) {
        //             var qualityCheckYt_auto2 = 999999999999999
        //         } else {
        //             var qualityCheckYt_auto2 = checkFileSizeYt_auto2.filesize
        //         }
        //         if(checkFileSizeYt_auto3.filesize == undefined) {
        //             var qualityCheckYt_auto3 = 999999999999999
        //         } else {
        //             var qualityCheckYt_auto3 = checkFileSizeYt_auto3.filesize
        //         }
        //         console.log(checkFileSizeYt_auto2.filesizeF)
        //         console.log(checkFileSizeYt_auto2.filesize)
        //         if(qualityCheckYt_auto1 <= 40960 && checkFileSizeYt_auto1.dl_link != 'https://app.y2mate.com/download') { //40MB
        //             var ytanTest = checkFileSizeYt_auto1
        //             console.log(ytanTest.dl_link)
        //             /*if(ytanTest.dl_link.startsWith('https://redirector.googlevideo.com')) {
        //                 var ytanTest2 = checkFileSizeYt_auto2
        //                 if(ytanTest2.dl_link.startsWith('https://redirector.googlevideo.com')) {
        //                     var qualityYt_auto = '360p'
        //                 } else {
        //                     var qualityYt_auto = '480p'
        //                 }
        //             } else {
        //                 var qualityYt_auto = '720p'
        //             }*/
        //             var qualityYt_auto = '720p'
        //         } else if(qualityCheckYt_auto2 <= 40960 && checkFileSizeYt_auto2.dl_link != 'https://app.y2mate.com/download') {
        //             var ytanTest = checkFileSizeYt_auto2
        //             /*if(ytanTest.dl_link.startsWith('https://redirector.googlevideo.com')) {
        //                 var qualityYt_auto = '360p'
        //             } else {
        //                 var qualityYt_auto = '480p'
        //             }*/
        //             var qualityYt_auto = '480p'
        //         } else if(qualityCheckYt_auto3 <= 40960) {
        //             var qualityYt_auto = '360p'
        //         } else {
        //             var qualityYt_auto = '360p'
        //         }
        //         const ytan = await yt(buttonYtmp4, qualityYt_auto, 'mp4', qualityYt_auto.replace('p', ''), 'en68')
        //         console.log(ytan.filesize)
        //         //await rem.sendFile(from, ytan.thumb, 'thumb.jpg', `*„Äå YOUTUBE MP4 „Äç*\n\n‚Ä¢ *Judul* : ${ytan.title}\n‚Ä¢ *Filesize* : ${clacSize_kb(ytan.filesize)}\n‚Ä¢ *Resolusi* : ${qualityYt_auto} (Auto)\n\n_Silahkan tunggu file media sedang dikirim mungkin butuh beberapa menit_`, id)
        //         if(ytan.filesize >= 40960) {
        //             const ytan360 = checkFileSizeYt_auto3
        //             const ytan480 = checkFileSizeYt_auto2
        //             const ytan720 = checkFileSizeYt_auto1
        //             return rem.sendText(from, `Maaf, size video melebihi 40 MB\n\nJudul : ${ytan.title}\nLink : \n  720p : ${ytan720.dl_link} | ${clacSize_kb(ytan720.filesize)}\n  480p : ${ytan480.dl_link} | ${clacSize_kb(ytan480.filesize)}\n  360p : ${ytan360.dl_link} | ${clacSize_kb(ytan360.filesize)}`)
        //         }
        //         //await rem.sendFile(from, ytan.imgUrl, 'thumb.jpg',`*„Äå YOUTUBE MP4 „Äç*\n\n‚Ä¢ *Judul* : ${ytan.title}\n‚Ä¢ *Filesize* : ${ytan.size}\n\n_Maaf, Internet lagi down. Silahkan download video melalui link dibawah_.\n${ytan.UrlVideo}`, id)
        //         //await rem.sendFile(from, ytan.UrlVideo, `${ytan.title}.mp4`, '', id).catch(() => reply(from, mess.error.Yt4, id))
        //         console.log(ytan.dl_link)
        //         console.log(ytan.title)
        //         const responses = await fetch(ytan.dl_link, { agent });
        //         const buffer = await responses.buffer();
        //         const filenameYtMp4 = GenerateSerialNumber("00000000000000000000000")
        //         await fs.writeFile(`./lib/cache/yt/${filenameYtMp4}.mp4`, buffer)
        //         await rem.sendFile(from, `./lib/cache/yt/${filenameYtMp4}.mp4`, `${ytan.title}.mp4`, `*${ytan.title}*\nResolusi : ${qualityYt_auto}`, message, video).catch((e) => {
        //             rem.sendText(from, mess.error.Yt4)
        //             console.log(e)
        //         })
        //         console.log('Success sending YT MP4!')
        //         fs.unlinkSync(`./lib/cache/yt/${filenameYtMp4}.mp4`)
        //     }
        // }
        //Tictac
        if(config.isDebug) console.log(`${Date.now() - dateNowProccessIs}ms - check Tictac [1]`)
        // if(tcProfile.lastlead == null) await replaceTicTac_profile_lastlead(sender, Math.floor(getTicTac_profile_position(_userDb) + 1))
        // const checkTictacToePlayer = await getTicTac_toe(_userDb)
        const checkTictacToePlayer = getTicTac_toe(_userDb)
        if(checkTictacToePlayer != null || checkTictacToePlayer != undefined) {
            if(config.isDebug) console.log(`${Date.now() - dateNowProccessIs}ms - check Tictac [2]`)

            if(checkTictacToePlayer.status == 'waiting' && checkTictacToePlayer.player2 == sender) {
                if(config.isDebug) console.log(`${Date.now() - dateNowProccessIs}ms - check Tictac [3]`)
                if(!isMedia && type != 'sticker' && args[0].toLowerCase() == '*y*' || args[0].toLowerCase() == 'y') {
                    if(config.isDebug) console.log(`${Date.now() - dateNowProccessIs}ms - check Tictac [4]`)

                    var playerListTictacToe = [checkTictacToePlayer.player1, checkTictacToePlayer.player2]
                    await shuffleArray(playerListTictacToe)
                    await replaceTicTac_status(sender, 'playing')
                    await replaceTicTac_xo(sender, [{x: playerListTictacToe[0], o: playerListTictacToe[1]}])
                    await replaceTicTac_turn(sender, playerListTictacToe[0])
                    rem.sendTextWithMentions(from, `*Tictac*\n\n‚ùå : @${playerListTictacToe[0].replace('@s.whatsapp.net', '')}\n‚≠ï : @${playerListTictacToe[1].replace('@s.whatsapp.net', '')}\n*Giliran : @${playerListTictacToe[0].replace('@s.whatsapp.net', '')}*\n\n 1Ô∏è‚É£ 2Ô∏è‚É£ 3Ô∏è‚É£\n 4Ô∏è‚É£ 5Ô∏è‚É£ 6Ô∏è‚É£\n 7Ô∏è‚É£ 8Ô∏è‚É£ 9Ô∏è‚É£`)
                }
            } else if(checkTictacToePlayer.status == 'playing' && !isCmd && !isMedia && type != 'sticker') {
                if(config.isDebug) console.log(`${Date.now() - dateNowProccessIs}ms - check Tictac [5]`)

                if(!isNaN(args[0])) {
                    if(config.isDebug) console.log(`${Date.now() - dateNowProccessIs}ms - check Tictac [6]`)
                    if(checkTictacToePlayer.turn != sender) return rem.sendTextWithMentions(from, `Sekarang giliran @${(await getTicTac_toe(_userDb)).turn}`)
                    var kepilihTictacNumber = Math.floor(args[0]) - 1
                    if(!isNaN(kepilihTictacNumber) && kepilihTictacNumber <= 9 || kepilihTictacNumber >= 1) {
                        if(config.isDebug) console.log(`${Date.now() - dateNowProccessIs}ms - check Tictac [7]`)

                        var kepilihTictac = `a${kepilihTictacNumber}`
                        if(checkTictacToePlayer[kepilihTictac] != '') return reply(from, `Nomor *${kepilihTictacNumber+1}* telah terpilih`, id)
                        if(checkTictacToePlayer.turn == checkTictacToePlayer.player1) {
                            await replaceTicTac_turn(sender, checkTictacToePlayer.player2)
                        } else {
                            await replaceTicTac_turn(sender, checkTictacToePlayer.player1)
                        }

                        if(checkTictacToePlayer.xo[0].x == sender) {
                            await replaceTicTac_toe_game(sender, 'x', kepilihTictac)
                        } else if(checkTictacToePlayer.xo[0].o == sender) {
                            await replaceTicTac_toe_game(sender, 'o', kepilihTictac)
                        } else { //Errror990
                            reply(from, `Invalid!\nerr: unauthorized`, id)
                        }

                        if(config.isDebug) console.log(`${Date.now() - dateNowProccessIs}ms - check Tictac [8]`)

                        if(config.isDebug) console.log(`${Date.now() - dateNowProccessIs}ms - check Tictac [9]`)

                        _userDb = await _mongo_UserSchema.findOne({ iId: sender })
                        var gameState = getTicTac_toe(_userDb)

                        var iconTictac1 = '1Ô∏è‚É£'
                        var iconTictac2 = '2Ô∏è‚É£'
                        var iconTictac3 = '3Ô∏è‚É£'
                        var iconTictac4 = '4Ô∏è‚É£'
                        var iconTictac5 = '5Ô∏è‚É£'
                        var iconTictac6 = '6Ô∏è‚É£'
                        var iconTictac7 = '7Ô∏è‚É£'
                        var iconTictac8 = '8Ô∏è‚É£'
                        var iconTictac9 = '9Ô∏è‚É£'
                        
                        if(gameState.a0 != '') {
                            if(gameState.a0 == 'x') {
                                var iconTictac1 = '‚ùå'
                            } else if(gameState.a0 == 'o') {
                                var iconTictac1 = '‚≠ï'
                            }
                        } 
                        if(gameState.a1 != '') {
                            if(gameState.a1 == 'x') {
                                var iconTictac2 = '‚ùå'
                            } else if(gameState.a1 == 'o') {
                                var iconTictac2 = '‚≠ï'
                            }
                        } 
                        if(gameState.a2 != '') {
                            if(gameState.a2 == 'x') {
                                var iconTictac3 = '‚ùå'
                            } else if(gameState.a2 == 'o') {
                                var iconTictac3 = '‚≠ï'
                            }
                        } 
                        if(gameState.a3 != '') {
                            if(gameState.a3 == 'x') {
                                var iconTictac4 = '‚ùå'
                            } else if(gameState.a3 == 'o') {
                                var iconTictac4 = '‚≠ï'
                            }
                        } 
                        if(gameState.a4 != '') {
                            if(gameState.a4 == 'x') {
                                var iconTictac5 = '‚ùå'
                            } else if(gameState.a4 == 'o') {
                                var iconTictac5 = '‚≠ï'
                            }
                        }
                        if(gameState.a5 != '') {
                            if(gameState.a5 == 'x') {
                                var iconTictac6 = '‚ùå'
                            } else if(gameState.a5 == 'o') {
                                var iconTictac6 = '‚≠ï'
                            }
                        }
                        if(gameState.a6 != '') {
                            if(gameState.a6 == 'x') {
                                var iconTictac7 = '‚ùå'
                            } else if(gameState.a6 == 'o') {
                                var iconTictac7 = '‚≠ï'
                            }
                        } 
                        if(gameState.a7 != '') {
                            if(gameState.a7 == 'x') {
                                var iconTictac8 = '‚ùå'
                            } else if(gameState.a7 == 'o') {
                                var iconTictac8 = '‚≠ï'
                            }
                        } 
                        if(gameState.a8 != '') {
                            if(gameState.a8 == 'x') {
                                var iconTictac9 = '‚ùå'
                            } else if(gameState.a8 == 'o') {
                                var iconTictac9 = '‚≠ï'
                            }
                        }

                        var roundWon = ''
                        const winningConditions = [
                            ['a0', 'a1', 'a2'],
                            ['a3', 'a4', 'a5'],
                            ['a6', 'a7', 'a8'],
                            ['a0', 'a3', 'a6'],
                            ['a1', 'a4', 'a7'],
                            ['a2', 'a5', 'a8'],
                            ['a0', 'a4', 'a8'],
                            ['a2', 'a4', 'a6']
                        ]
                        for (let i = 0; i <= 7; i++) {
                            const winCondition = winningConditions[i];
                            let a = gameState[winCondition[0]];
                            let b = gameState[winCondition[1]];
                            let c = gameState[winCondition[2]];
                            if (a == 'x' && b == 'x' && c == 'x') {
                                roundWon = 'x'
                            } else if(a == 'o' && b == 'o' && c == 'o') {
                                roundWon = 'o'
                            }
                        }

                        if(config.isDebug) console.log(`${Date.now() - dateNowProccessIs}ms - check Tictac [10]`)

                        if(roundWon != '') {
                            if(config.isDebug) console.log(`${Date.now() - dateNowProccessIs}ms - check Tictac [11]`)

                            console.log('win')
                            const poinRandomTictac = Math.floor(Math.random() * 10) + 35
                            var winner_Tictac = gameState.xo[0][roundWon]
                            gameState.status = `finish_ ${winner_Tictac}`
                            console.log(`win ${winner_Tictac}`)
                            await addTicTac_profile(winner_Tictac, 'poin', poinRandomTictac)
                            await addTicTac_profile(winner_Tictac, 'win', 1)
                            // await addTicTacHistory_profile(winner_Tictac, gameState)

                            if(config.isDebug) console.log(`${Date.now() - dateNowProccessIs}ms - check Tictac [12]`)
                            //LOSE
                            if(roundWon == 'x') {
                                var lose_Tictac = gameState.xo[0].o
                                var winIconTictac = '‚ùå'
                            } else {
                                var lose_Tictac = gameState.xo[0].x
                                var winIconTictac = '‚≠ï'
                            }
                            if(config.isDebug) console.log(`${Date.now() - dateNowProccessIs}ms - check Tictac [13]`)
                            console.log(`lose ${lose_Tictac}`)
                            await addTicTac_profile(lose_Tictac, 'lose', 1)
                            // await addTicTacHistory_profile(lose_Tictac, gameState)

                            if(config.isDebug) console.log(`${Date.now() - dateNowProccessIs}ms - check Tictac [14]`)

                            await rem.sendTextWithMentions(from, `*Winner (${winIconTictac}) @${winner_Tictac.replace('@s.whatsapp.net', '')}*\nPoin : *+${poinRandomTictac}*\n\n‚ùå : @${gameState.xo[0].x.replace('@s.whatsapp.net', '')}\n‚≠ï : @${gameState.xo[0].o.replace('@s.whatsapp.net', '')}\n\n ${iconTictac1} ${iconTictac2} ${iconTictac3}\n ${iconTictac4} ${iconTictac5} ${iconTictac6}\n ${iconTictac7} ${iconTictac8} ${iconTictac9}`)
                            await rem.sendButtons(from, 'Link Button', [{id: 'winner_ profile', text: `${prefix}tc profile`}], '', '')
                            await _mongo_UserSchema.updateMany({ $or: [{ iId: checkTictacToePlayer.player1 }, { iId: checkTictacToePlayer.player2 }] }, { $set: { tc: {} } })

                            if(config.isDebug) console.log(`${Date.now() - dateNowProccessIs}ms - check Tictac [15]`)
                        } else {
                            if(config.isDebug) console.log(`${Date.now() - dateNowProccessIs}ms - check Tictac [16]`)

                            const checkTictacToePlayer1 = await getTicTac_toe(_userDb)
                            var checkDraw = []
                            for (let i = 0; i <= 8; i++) {
                                var kepilihTictac1 = `a${i+1}`
                                checkDraw.push(checkTictacToePlayer1[kepilihTictac1])
                            }
                            if(config.isDebug) console.log(`${Date.now() - dateNowProccessIs}ms - check Tictac [17]`)
                            if(!checkDraw.includes('')) {
                                if(config.isDebug) console.log(`${Date.now() - dateNowProccessIs}ms - check Tictac [18]`)
                                gameState.status = 'finish_draw'
                                console.log('draw')

                                await addTicTac_profile(gameState.xo[0].x, 'draw', 1)
                                await addTicTac_profile(gameState.xo[0].o, 'draw', 1)
                                await addTicTac_profile(gameState.xo[0].x, 'poin', 5)
                                await addTicTac_profile(gameState.xo[0].o, 'poin', 5)
                                // await addTicTacHistory_profile(gameState.xo[0].x, gameState)
                                // await addTicTacHistory_profile(gameState.xo[0].o, gameState)

                                if(config.isDebug) console.log(`${Date.now() - dateNowProccessIs}ms - check Tictac [19]`)

                                await rem.sendTextWithMentions(from, `Seri\nPoin : *+5*\n\n‚ùå : @${gameState.xo[0].x.replace('@s.whatsapp.net', '')}\n‚≠ï : @${gameState.xo[0].o.replace('@s.whatsapp.net', '')}\n\n ${iconTictac1} ${iconTictac2} ${iconTictac3}\n ${iconTictac4} ${iconTictac5} ${iconTictac6}\n ${iconTictac7} ${iconTictac8} ${iconTictac9}`)
                                await rem.sendButtons(from, 'Link Button', [{id: 'draw_ profile', text: `${prefix}tc profile`}], '', '')
                                await _mongo_UserSchema.updateMany({ $or: [{ iId: checkTictacToePlayer.player1 }, { iId: checkTictacToePlayer.player2 }] }, { $set: { tc: {} } })

                                if(config.isDebug) console.log(`${Date.now() - dateNowProccessIs}ms - check Tictac [20]`)
                            } else {
                                //console.log(gameState)
                                if(config.isDebug) console.log(`${Date.now() - dateNowProccessIs}ms - check Tictac [21]`)
                                rem.sendTextWithMentions(from, `*Tictac*\n\n‚ùå : @${gameState.xo[0].x.replace('@s.whatsapp.net', '')}\n‚≠ï : @${gameState.xo[0].o.replace('@s.whatsapp.net', '')}\n\n*Giliran : @${(await getTicTac_toe(_userDb)).turn.replace('@s.whatsapp.net', '')}*\n\n ${iconTictac1} ${iconTictac2} ${iconTictac3}\n ${iconTictac4} ${iconTictac5} ${iconTictac6}\n ${iconTictac7} ${iconTictac8} ${iconTictac9}`) 
                            }
                        }
                    }
                }
            }
        }

        if(body != undefined && body.includes('--ownforce')) {
            if(config.isDebug) console.log(`${Date.now() - dateNowProccessIs}ms - ownForce`)
            if(!isSuperOwner) return rem.sendText(from, 'Invalid!')

            body.replace('--ownforce', '')
            isGroupAdmins = true
            isAdmin = true
            isMod = true
            isPrem = true
            isOwner = true
            isSideOwner = true
            isBanned = false
            isListCmdBan = false
            isSuperBanned = false
            isBlocked = false
            isNsfw = true
            isSimi = true
        } else if(body != undefined && body.includes('--logmsg')) {
            console.log(JSON.stringify(messageRaw) + '\n\n')
        } else {
            if(isCmd && (message?.selectedButtonId ? _botDb.setBot.cmd.includes(message.selectedButtonId.toLowerCase().replace(prefix, '')) : _botDb.setBot.cmd.includes(args[0].toLowerCase().replace(prefix, '')))) return reply(from, 'Command ini dinonaktifkan untuk sementara\n\nMungkin sedang ada Error/Spam/Bug')
        }

        // Insert Group Sc
        if(isGroupMsg) {
            const posScGroup = _groupDb?.scInsert
            if(posScGroup != '') {
                if(command == prefix+'insert_group_del') {
                    await _mongo_GroupSchema.updateOne({ iId: groupId }, { $set: { scInsert: '' } })
                    return reply(from, 'Success')
                }
    
                try {
                    if(posScGroup != -1) await eval(posScGroup)
                } catch (err) {
                    console.log('Error in eval groupSc', err)
                }
            }
        }

        const isSeason = _botDb.seasonData
        const currentSeason = isSeason.currentSeason
        const nextSeason = isSeason.nextSeason
        if(nextSeason != undefined) {
            // console.log('yuhu')
            const listSeasonCommand = ['level', 'l', 'redeem', 'buyall', 'buy', 'test7765', 'buyxp', 'buyallxp', 'buyalxp', 'mining', 'mi', 'hoki', 'roll', 'rol', 'rbuy', 'pdlmr', 'beripda', 'beripd', 'buyjboost', 'buyalljboost',            
            'actionadvance 3', 'act actionadvance 4', 'act actionadvance 11',
            'actionadvance m3', 'act actionadvance m4', 'act actionadvance m10',
            'act actionadvance b4', 'act actionadvance b5', 'act actionadvance b6',
            'act actionadvance b11', 'act actionadvance b12',
            'mk', 'money', 'm', 'p', 'point', 'easterlb', 'eslb', 'es', 'easter', 'easterhunt',
            'ind', 'harga', 'invest', 'inv', 'in', 'beli', 'ins', 'jual', 'give', 'pullmoney', 'pullm', 'afinitas', 'afn',
            'job', 'work', 'w', 'slots', 'slot', 'togel',
            'cr', 'createredeem', 'createredemcode',
            ]

            let bodyCheckSeason = message.selectedButtonId != undefined ? message.selectedButtonId : body
            if(isCmd && listSeasonCommand.includes(command.replace(prefixInz, ''))) {
                // console.log('beh')
                if(nextSeason != undefined && currentSeason.season != nextSeason.season && Date.now() >= nextSeason.openTime) {
                    console.log('bener coy')
                    await _mongo_BotSchema.updateOne({ iId: 'CORE' }, { $push: { "seasonData.historySeason": currentSeason } })
                    await _mongo_BotSchema.updateOne({ iId: 'CORE' }, { $set: { "seasonData.currentSeason": nextSeason, "seasonData.nextSeason": {} } })
                    // await _mongo_RawUserSchema.updateMany({}, { $set: { economy: {
                    //     level: 1,
                    //     xp: 0,
                    //     money: 2000,
                    //     moneyharam: 0,
                    //     mining: {},
                    //     job: { job: "Pengangguran", lvljob: 1, xpjob: 0, multi: 1},
                    //     worklimit: 0
                    // }, invest: {}, item: { dscinv: {}, level: { level: 0, time: 0 }, joinkey: 0, redeemed: [] } } })
                } else if(!isSideOwner && (nextSeason != undefined && currentSeason.season != nextSeason.season && Date.now() >= nextSeason.closeTime)) {
                    // console.log('nah')
                    const timeConvertSeason = timeConvert(nextSeason.openTime)
                    return reply(from, `*Season ${currentSeason.season} telah berakhir*\n\nSeason selanjutnya dalam\n${timeConvertSeason.day} Hari | ${timeConvertSeason.hour} Jam : ${timeConvertSeason.minute} Menit : ${timeConvertSeason.second} Detik`)
                }
            }
        }

        // {
        //     cmd: cmd,
        //     desc: value
        // }
        // if(isCmd) {
        //     const getCmdDb = await _mongo_CommandSchema.findOne({ "cId": "keylistcmd", "content.cmd": command.replace(prefix, '') }, { "content.$": 1 })

        //     if(getCmdDb?.content?.[0] != null) {
        //         const getCmdDesc = getCmdDb.content[0].desc
        //         const getCmdImg = getCmdDb.content[0].img
        //         if(getCmdImg != undefined) {
        //             const convertBase64ToBuffer = Buffer.from(getCmdImg, 'base64')
        //             await rem.sendFile(from, convertBase64ToBuffer, '', getCmdDesc, messageRaw, image)
        //         } else {
        //             return reply(from, getCmdDesc, id)
        //         }
        //     }
        // }

        if(isMutedAdmin && !isGroupAdmins) return
        if (!isMuted && banChat() && !isBlocked && !isBanned && !isSuperBanned || isOwner || (isSideOwner && !isSuperBanned) ) {
        //if (isCmd && !isOwner) return reply(from, 'Maintenance...', id)
        // if(getMoney_haram(_userDb) == undefined && isRegisteredUser) await setMoney_haram(sender)
        // if(isCmd && getLevelingId(sender) == undefined) await addLevelingId(sender)
        //if(isCmd && iscmdabai && limidcmd) return reply(from, 'Anda telah _dibanned_\n*Karena menggunakan command yang tidak terdaftar*\nUntuk unban Join group dan minta unban ke owner\n'+inviteLinkForum, id)
        if(config.isDebug) console.log(`${Date.now() - dateNowProccessIs}ms - Process Command ${prefix+command}`)
        
        switch(command) {
            case prefix+'help':
            case prefix+'menu':
                // if(getBgProfile(_userDb) == undefined) await addBgProfile(sender)
                // if(getLevelingId(_userDb) == undefined) await addLevelingId(sender)
                const isSpyMenu = getUserItemIdSpy(_userDb)
                const levelny = getLevelingLevel(_userDb)
                const helpbuttons = [{ index: 1, urlButton: { displayText: 'üìä Database Status', url: 'https://remcp.com/dbstatus' } }, { index: 3, quickReplyButton: { displayText: `${prefix}command`, id: '1' } },{ index: 4, quickReplyButton: { displayText: `${prefix}gametutorial`, id: '2' } },{ index: 5, quickReplyButton: { displayText: `${prefix}allcmd`, id: '5' } }]
    
                if(!isHideppOn) {
                    try {
                        var pic = await rem.profilePictureUrl(sender, 'image')
                    } catch (err) {
                        console.error(err)
                        var pic = './media/img/images_pp_blank.png'
                    }
                } else {
                    var pic = './media/img/images_pp_blank.png'
                }

                let getBgProfileImage = getBgProfile(_userDb)
                if(!fs.existsSync(getBgProfileImage)) {
                    await replaceBgProfile(sender, './media/img/bgProfile.png')
                    getBgProfileImage = './media/img/bgProfile.png'
                }
    
                const widthMenu = 400
                const heightMenu = 200
                const bgMenu = await cnvs.loadImage(getBgProfileImage)
                const profileMenu = await cnvs.loadImage(pic)
    
                const ctxM = canvass.getContext("2d");
                ctxM.clearRect(0, 0, widthMenu, heightMenu);
                ctxM.globalCompositeOperation = 'xor'
                ctxM.fillStyle = "transparent";
                ctxM.beginPath()
                ctxM.fillRect(0, 0, widthMenu, heightMenu);
                ctxM.drawImage(bgMenu, 0, 0, 400, 150)
                ctxM.save()
                ctxM.globalCompositeOperation = 'xor'
                ctxM.beginPath()
                ctxM.arc(200, 150, 55, 0, Math.PI, true)
                ctxM.fillStyle = 'white'
                ctxM.fill()
                ctxM.restore()
                ctxM.save()
                ctxM.beginPath()
                ctxM.arc(200, 150, 50, 0, Math.PI * 2, false)
                ctxM.clip()
                ctxM.drawImage(profileMenu, 150, 100, 100, 100)
                ctxM.restore()
                ctxM.save()
                const resultCanvasMenu = await canvass.toBuffer()
                //rem.sendFile(from, './media/helpwall.png', '', help(pushname, roleid, levelny, prefix, countdownS5_day, countdownS5_hours, countdownS5_minutes, countdownS5_seconds))
                //rem.sendText(from, help(pushname, roleid, levelny, prefix))
                //rem.sendButtons(from, help(pushname, roleid, tierTag, levelny, prefix), helpbuttons, '', '@dwirizqi.h')
                //rem.sendButtonsImage(from, help(pushname, roleid, tierTag, levelny, prefix), bufferHelp, helpbuttons, '', '@dwirizqi.h', { thumbnail: resultCanvasMenu })

                let additionalInfo = ''
                // if(isVirtualBot) additionalInfo = `\n*!! Bot ini adalah JadiBot dari Bot Utama wa.me/${global?.coreBotNumber?.replace('@s.whatsapp.net', '')} !!*\n`
                // const hitungMundur = timeConvert(1659787200000)
                let centerAdditionalInfo = ``

                const timeConvertSeason17 = timeConvert(1756472400000)
                let bottomAdditionalInfo = `*!! Season 17 Countdown !!*\n${timeConvertSeason17.day} Hari | ${timeConvertSeason17.hour} Jam : ${timeConvertSeason17.minute} Menit : ${timeConvertSeason17.second} Detik`
                // let bottomAdditionalInfo = '\n*„Äå Code Redeem „Äç*\n   _296EiDAdHa144H_\nExpired : 01/07/2023'

                // await rem.sendButtonsTemplateImage(from, help(pushname, roleid, tierTag, levelny, prefix, _userDb.rl.pd, '', '', '', '', additionalInfo, centerAdditionalInfo, bottomAdditionalInfo), resultCanvasMenu, helpbuttons, '', '@dwirizqi.h', { filename: 'menu.png' })   
                await rem.sendFile(from, resultCanvasMenu, 'help.png', help(pushname, roleid, (isSpyMenu ? '#####' : tierTag), (isSpyMenu ? '#####' : levelny), prefix, _userDb.rl.pd, '', '', '', '', additionalInfo, centerAdditionalInfo, bottomAdditionalInfo), '', image)
                await rem.sendFile(from, './media/img/buttonhelp.jpeg', 'buttonhelp.jpeg', `*Button sekarang sudah tidak tersedia di _Whatsapp_*

Tetapi sekarang sudah ada alternatif _Button (text)_
Seperti gambar diatas
                
Untuk cara menggunakannya
Tinggal *reply* pesan nya
Trus pilih nomer 1/2/3
*Seperti gambar diatas*`, '', image)
                // const deviceSendMenu = getDevice(id)
                // if(deviceSendMenu == 'android') {
                //     await rem.sendAdReply(from, help(pushname, roleid, tierTag, levelny, prefix, _userDb.rl.pd, '', '', '', '', additionalInfo, centerAdditionalInfo, bottomAdditionalInfo), resultCanvasMenu, '¬© RemComp || 2021- 2023', '', '', '', false, true)
                //     await rem.sendButtonsTemplate(from, 'Link Button', helpbuttons, '', '')
                // } else {
                //     await rem.sendButtonsTemplateImage(from, help(pushname, roleid, tierTag, levelny, prefix, _userDb.rl.pd, '', '', '', '', additionalInfo, centerAdditionalInfo, bottomAdditionalInfo), resultCanvasMenu, helpbuttons, '', '@dwirizqi.h', { filename: 'menu.png' })   
                // }
                break

            case prefix+'gametutorial':
                reply(from, `~~~~
Command: _.gametutorial_
- by *_Danstein_*
Updated on *8 February 2023*
~~~~

- *Cara mendapatkan duit:*
_Cara termudahnya, investasi._
Kamu juga bisa dapet duit dari mine, work dan sebagainya.

Command mine & work:
- _${prefix}mining_ (6 perhari, mempunyai cooldown)
- _${prefix}work_ (Cooldown 2 menit)

~~~~

- *Cara investasi:*
Beli barang dengan harga yg murah, lalu jual dengan harga yg mahal. 
Harga barang berubah setiap 1 menit.
Contoh: Farit membeli 1 iron ketika ironnya berharga 10k perunit, Lalu Farit menjual iron tersebut ketika harganya sudah meningkat kepada 60k. Hasilnya, Untung Farit ialah sebanyak 50k.

*Harga standard barang:*
Iron ‚Üë$60k+ / ‚Üì$20k- (bisa 2digit)
Gold ‚Üë$200k+ / ‚Üì$100k-
NaoCoin ?(belum terupdate)
ElaCoin ?(belum terupdate)
ReCoin ?(belum terupdate)

*Cara cek harga barang:*
 _${prefix}inv_ atau _${prefix}ind_

*Cara beli & jual barang:*
_${prefix}in <tipe> <jumlah>_
Contoh: ${prefix}in iron 1000
_${prefix}ins <tipe> <jumlah>_
Contoh: ${prefix}ins iron 1000
*Tip: Kamu bisa pakai all(pada <jumlah>) untuk membeli/menjual suatu barang sebisamu.*

~~~~

- *Cara menikah:*
Lamar dulu dengan cara membeli dulu rumah di _${prefix}rumah_, lalu ketik _${prefix}character <nama karakter>_ dan pilih "Lamar ‚ù§Ô∏è".

Saat level pasangan mencapai level 5 dan hubungan mencapai 100, pilihan menikah akan muncul. Pilih cincin dan pernikahanmu berhasil.

_Kamu bisa cek pasangan kamu dengan  command : ${prefix}pd._
 *Tip: Kamu bisa mengganti gambar pasangan dengan cara mengirim foto dengan deskripsi _${prefix}setpd_ . Lalu tunggu Owner/Side Owner menerima.*

~~~~
*_Abaikan Tanda < dan >_*`)
            break
        case prefix+'web':
            reply(from, `https://remcp.com\n\nJika ingin melihat status, Ketik *_${prefix}botstat_*`)
            break
        case prefix+'daftardc':
            if(!isSideOwner) return reply(from, 'Sedang dalam proses pembuatan!')
            if(isGroupMsg) return reply(from, 'Command ini hanya bisa digunakan di Private Chat')
            if(_userDb.discordId != undefined) return reply(from, 'Kamu sudah terdaftar di Discord')

            const isExistRegisterDc = await _mongo_BotSchema.findOne({ iId: 'discord', register: { $elemMatch: { number: sender } } }, { iId: 1, "register.$": 1 })
            if(isExistRegisterDc?.register?.[0] != undefined) {
                await reply(from, `Berikut ID Pendaftaran kamu\n\nID : *${isExistRegisterDc.register[0].id}*\n\nCara Penggunaan :\n  1. Buka app Discord\n  2. Send */register* DM ke _RemComp.#6513_\n  3. Masukkan ID Pendaftaran`)
                rem.sendButtonsTemplate(from, 'Link Button', [{ index: 1, urlButton: { displayText: 'Copy', url: `https://www.whatsapp.com/otp/copy/${isExistRegisterDc.register[0].id}` } }], '', '@dwirizqi.h')
            } else {
                const idRegister = Math.floor(Math.random() * 1000000)
                await _mongo_BotSchema.updateOne({ iId: 'discord' }, { $push: { register: { id: idRegister, number: sender } } })
                await reply(from, `Berikut ID Pendaftaran kamu\n\nID : *${idRegister}*\n\nCara Penggunaan :\n  1. Buka app Discord\n  2. Send */register* DM ke _RemComp.#6513_\n  3. Masukkan ID Pendaftaran`)
                rem.sendButtonsTemplate(from, 'Link Button', [{ index: 1, urlButton: { displayText: 'Copy', url: `https://www.whatsapp.com/otp/copy/${idRegister}` } }], '', '@dwirizqi.h')
            }
            break
        case prefix+'clickgame':
        case prefix+'cg':
            if(args[1] == 'lb' || args[1] == 'leaderboard') {
                const cgTop = await _mongo_UserSchema.find({ "gameWeb.highScoreCG": { $exists: true } }, { iId: 1, "gameWeb.highScoreCG": 1, _id: 0 }).sort({ "gameWeb.highScoreCG": -1 }).limit(10)
                let textCgTop = '*Top 10 Click Game*\n\n'
                for(let i = 0; i < cgTop.length; i++) {
                    const userDbCG = await _mongo_UserSchema.findOne({ iId: cgTop[i].iId })
                    let nameCG = getNama(userDbCG)
                    if(!nameCG) {
                        const contactDbCG = await _mongo_ContactSchema.findOne({ iId: cgTop[i].iId })
                        nameCG = await rem.contacts(cgTop[i].iId, contactDbCG)
                    }
                    textCgTop += `${i+1}. ${isMention ? `@${cgTop[i].iId.replace('@s.whatsapp.net', '')}` : `*_${nameCG}_*\nwa.me/${cgTop[i].iId.replace('@s.whatsapp.net', '')}`}\n‚û§ High Score: *${cgTop[i].gameWeb.highScoreCG}*\n\n`
                }
                return reply(from, textCgTop)
            }
            if(mentionedJidList.length <= 0) return reply(from, `Format salah\n\nContoh : _${prefix}cg @tagmember @tagmember ..._\n\n*_Bisa main dengan banyak orang_*`)
            // if(mentionedJidList.length >= 5) return reply(from, 'Maksimal 4 orang')
            if(mentionedJidList.includes(sender)) return reply(from, 'Kamu tidak bisa bermain dengan diri sendiri')

            const listUser = [{ id: sender, name: pushname }]
            for(let i = 0; i < mentionedJidList.length; i++) {
                const _userDbMentionedCG = await _mongo_UserSchema.findOne({ iId: mentionedJidList[i] })
                let nameRequestedCG = getNama(_userDbMentionedCG)
                if(nameRequestedCG == undefined) {
                    const contactDb = await _mongo_ContactSchema.findOne({ iId: mentionedJidList[i] })
                    nameRequestedCG = rem.contacts(mentionedJidList[i], contactDb)
                }

                listUser.push({ id: mentionedJidList[i], name: nameRequestedCG })
            }

            const setNewGameCg = (await axios.post('http://localhost:6891/clickgame/api/createGame', { listUser: listUser, msgMetadata: { groupId, server: (global.serverJadibot || 'CORE').toUpperCase(), botId: virtualBotID, msgMetadata: messageRaw } })).data
            reply(from, `Berhasil membuat game\n\nID Game : *${setNewGameCg.data.iId}*\n\nLink telah dikirim ke private chat!`)
            for(let i = 0; i < setNewGameCg.data.data.length; i++) {
                const userNumber = setNewGameCg.data.data[i].userNumber
                const userKey = setNewGameCg.data.data[i].userId
                reply(userNumber, `Kamu telah diundang untuk bermain Click Game\n\nID Game : *${setNewGameCg.data.iId}*\n\nhttps://game.remcp.com/clickgame/${setNewGameCg.data.iId}?u=${userKey}`)
            }
            break
        case prefix+'cgtop':
        case prefix+'cgt':
            const cgTop = await _mongo_UserSchema.find({ "gameWeb.highScoreCG": { $exists: true } }, { iId: 1, "gameWeb.highScoreCG": 1, _id: 0 }).sort({ "gameWeb.highScoreCG": -1 }).limit(10)
            let textCgTop = '*Top 10 Click Game*\n\n'
            for(let i = 0; i < cgTop.length; i++) {
                const userDbCG = await _mongo_UserSchema.findOne({ iId: cgTop[i].iId })
                let nameCG = getNama(userDbCG)
                if(!nameCG) {
                    const contactDbCG = await _mongo_ContactSchema.findOne({ iId: cgTop[i].iId })
                    nameCG = await rem.contacts(cgTop[i].iId, contactDbCG)
                }
                textCgTop += `${i+1}. ${isMention ? `@${cgTop[i].iId.replace('@s.whatsapp.net', '')}` : `*_${nameCG}_*\nwa.me/${cgTop[i].iId.replace('@s.whatsapp.net', '')}`}\n‚û§ High Score: *${cgTop[i].gameWeb.highScoreCG}*\n\n`
            }
            reply(from, textCgTop)
            break
        // Level [ALPHA]
        case prefix+'tictactoe':
        case prefix+'tiktak':
        case prefix+'tictac':
        case prefix+'tc':
            if(mentionedJidList.length === 0 && args.length === 1) return reply(from, `Format salah\n\nContoh : _${prefix}tc @tagmember_\n\nProfile : ${prefix}tc profile`)
            if(mentionedJidList.length >= 1 && args.length === 2) {
                if(mentionedJidList[0] == sender) return reply(from, 'Kamu tidak bisa bermain dengan diri sendiri')
                if (!isGroupMsg) return reply(from, 'Command ini hanya bisa digunakan di Group')
                const getTictacToe_senderid = await getTicTac_toe(_userDb)
                const getTictacToe_lawan = await getTicTac_toe(_mentionUserDb)
            
                if(getTictacToe_senderid != null || getTictacToe_lawan != null || getTictacToe_senderid != undefined || getTictacToe_lawan != undefined) {
                    let tictacMessageVisual = {}
                    // console.log(getTictacToe_senderid, getTictacToe_lawan)
                    if(getTictacToe_senderid == undefined) {
                        tictacMessageVisual = getTictacToe_lawan
                        if(getTictacToe_lawan.player1 == mentionedJidList[0]) {
                            var tictacLawanId = getTictacToe_lawan.player2
                        } else {
                            var tictacLawanId = getTictacToe_lawan.player1
                        }
                    } else {
                        tictacMessageVisual = getTictacToe_senderid  
                        if(getTictacToe_senderid.player1 == sender) {
                            var tictacLawanId = getTictacToe_senderid.player2
                        } else {
                            var tictacLawanId = getTictacToe_senderid.player1
                        }
                    }

                    const textSendTc = `wa.me/${getTictacToe_senderid?.iId || getTictacToe_lawan?.iId} sedang bermain dengan wa.me/${tictacLawanId}\nStatus : ${tictacMessageVisual.status}`
                    return getTictacToe_senderid?.iId ? rem.sendButtons(from, textSendTc, [{id:'tic1reset', text:`${prefix}resetgame`}], '', '') : reply(from, textSendTc)
                }
                await setTicTac_toe(sender, mentionedJidList[0])
                await rem.sendTextWithMentions(from, `@${mentionedJidList[0].replace('@s.whatsapp.net', '')} Ketik *y* untuk menerima tantangan dari @${sender.replace('@s.whatsapp.net', '')}`)
            } else if(args[1] == 'profile' || args[1] == 'me') {
                let userCheckProfileTiktak = _userDb
                if(mentionedJidList.length >= 1) userCheckProfileTiktak = _mentionUserDb
                // if(getTicTac_profile(userCheckProfileTiktak) == null) await setTicTac_profile(userCheckProfileTiktak)

                try {
                    var pic = await rem.profilePictureUrl(userCheckProfileTiktak.iId, 'image')
                } catch (err) {
                    console.error(err)
                    var pic = './media/img/images_pp_blank.png'
                }

                let profileGetTicTac = {}
                // let historyListTicTac = ''
                // for(let i = 0; i < profileGetTicTac.history.length; i++) {

                //     var iconTictac1 = '1Ô∏è‚É£'
                //     var iconTictac2 = '2Ô∏è‚É£'
                //     var iconTictac3 = '3Ô∏è‚É£'
                //     var iconTictac4 = '4Ô∏è‚É£'
                //     var iconTictac5 = '5Ô∏è‚É£'
                //     var iconTictac6 = '6Ô∏è‚É£'
                //     var iconTictac7 = '7Ô∏è‚É£'
                //     var iconTictac8 = '8Ô∏è‚É£'
                //     var iconTictac9 = '9Ô∏è‚É£'

                //     if(profileGetTicTac.history[i].a0 != '') {
                //         if(profileGetTicTac.history[i].a0 == 'x') {
                //             var iconTictac1 = '‚ùå'
                //         } else if(profileGetTicTac.history[i].a0 == 'o') {
                //             var iconTictac1 = '‚≠ï'
                //         }
                //     }
                //     if(profileGetTicTac.history[i].a1 != '') {
                //         if(profileGetTicTac.history[i].a1 == 'x') {
                //             var iconTictac2 = '‚ùå'
                //         } else if(profileGetTicTac.history[i].a1 == 'o') {
                //             var iconTictac2 = '‚≠ï'
                //         }
                //     }
                //     if(profileGetTicTac.history[i].a2 != '') {
                //         if(profileGetTicTac.history[i].a2 == 'x') {
                //             var iconTictac3 = '‚ùå'
                //         } else if(profileGetTicTac.history[i].a2 == 'o') {
                //             var iconTictac3 = '‚≠ï'
                //         }
                //     }
                //     if(profileGetTicTac.history[i].a3 != '') {
                //         if(profileGetTicTac.history[i].a3 == 'x') {
                //             var iconTictac4 = '‚ùå'
                //         } else if(profileGetTicTac.history[i].a3 == 'o') {
                //             var iconTictac4 = '‚≠ï'
                //         }
                //     }
                //     if(profileGetTicTac.history[i].a4 != '') {
                //         if(profileGetTicTac.history[i].a4 == 'x') {
                //             var iconTictac5 = '‚ùå'
                //         } else if(profileGetTicTac.history[i].a4 == 'o') {
                //             var iconTictac5 = '‚≠ï'
                //         }
                //     }
                //     if(profileGetTicTac.history[i].a5 != '') {
                //         if(profileGetTicTac.history[i].a5 == 'x') {
                //             var iconTictac6 = '‚ùå'
                //         } else if(profileGetTicTac.history[i].a5 == 'o') {
                //             var iconTictac6 = '‚≠ï'
                //         }
                //     }
                //     if(profileGetTicTac.history[i].a6 != '') {
                //         if(profileGetTicTac.history[i].a6 == 'x') {
                //             var iconTictac7 = '‚ùå'
                //         } else if(profileGetTicTac.history[i].a6 == 'o') {
                //             var iconTictac7 = '‚≠ï'
                //         }
                //     } 
                //     if(profileGetTicTac.history[i].a7 != '') {
                //         if(profileGetTicTac.history[i].a7 == 'x') {
                //             var iconTictac8 = '‚ùå'
                //         } else if(profileGetTicTac.history[i].a7 == 'o') {
                //             var iconTictac8 = '‚≠ï'
                //         }
                //     } 
                //     if(profileGetTicTac.history[i].a8 != '') {
                //         if(profileGetTicTac.history[i].a8 == 'x') {
                //             var iconTictac9 = '‚ùå'
                //         } else if(profileGetTicTac.history[i].a8 == 'o') {
                //             var iconTictac9 = '‚≠ï'
                //         }
                //     }
                //     if(profileGetTicTac.history[i].status.startsWith('finish_ ')) {
                //         var filterWinLoseTicTacProfile = profileGetTicTac.history[i].status.replace('finish_ ', '')
                //         //console.log(filterWinLoseTicTacProfile)
                //         if(filterWinLoseTicTacProfile == userCheckProfileTiktak) {
                //             var winloseTicTac = 'Menang'
                //         } else {
                //             var winloseTicTac = 'Kalah'
                //         }
                //     } else {
                //         var winloseTicTac = 'Seri'
                //     }
                //     historyListTicTac += `${i+1}. wa.me/${userCheckProfileTiktak.replace('@s.whatsapp.net', '')} *_Vs_* wa.me/${profileGetTicTac.history[i].player2.replace('@s.whatsapp.net', '')} | *${winloseTicTac}*\n ${iconTictac1} ${iconTictac2} ${iconTictac3}\n ${iconTictac4} ${iconTictac5} ${iconTictac6}\n ${iconTictac7} ${iconTictac8} ${iconTictac9}\n\n`
                // }
                //console.log(Math.floor(getTicTac_profile_position(userCheckProfileTiktak) + 1))
                //console.log(getTicTac_profile(userCheckProfileTiktak).lastlead)
                const getTicTac_rank = async (userId) => {
                    const _tiktakuserR = await _mongo_UserSchema.find({}, {iId: 1, tictac: 1}).sort({ 'tictac.poin': -1 }).limit(1000)
                    // _tiktakuserR.sort((a, b) => (a.tictac.poin < b.tictac.poin) ? 1 : -1)
                    let position = _tiktakuserR.findIndex(object => object.iId == userId)
                    profileGetTicTac = _tiktakuserR?.[position]?.tictac
                    if (position !== -1) {
                        if(profileGetTicTac?.poin <= 0) return 'Unranked'
                        return position + 1
                    } else {
                        return 'Unranked'
                    }
                }
                
                const rankTictac = await getTicTac_rank(userCheckProfileTiktak.iId)
                // if(Math.floor(rankTictac + 1) < getTicTac_profile(userCheckProfileTiktak).lastlead) {
                //     var rankIconNaikTurun  = 'üìà'
                // } else if(Math.floor(rankTictac + 1) == getTicTac_profile(userCheckProfileTiktak).lastlead) {
                //     var rankIconNaikTurun  = 'üìà'
                // } else {
                //     var rankIconNaikTurun  = 'üìâ'
                // }
                await rem.sendFile(from, pic, '', `*TicTac Profile*

*User :* wa.me/${userCheckProfileTiktak.iId.replace('@s.whatsapp.net', '')}
*Rank :* _${rankTictac}_
ü™ô *Poin :* _${userCheckProfileTiktak.tictac.poin}_

üèÜ *Menang :* _x${userCheckProfileTiktak.tictac.win}_
üè≥Ô∏è *Kalah :* _x${userCheckProfileTiktak.tictac.lose}_
*Seri :* _x${userCheckProfileTiktak.tictac.draw}_
`, false, image)
                // await replaceTicTac_profile_lastlead(userCheckProfileTiktak, Math.floor(rankTictac + 1))
            } else if(args[1] == 'lb' || args[1] == 'leaderboard') {
                var _tiktakuser = await _mongo_UserSchema.find({}, {iId: 1, tictac: 1}).sort({ 'tictac.poin': -1 }).limit(10)
                // _tiktakuser.sort((a, b) => (a.tictac.poin < b.tictac.poin) ? 1 : -1)

                let leaderboardTikTak = '-----[ *LEADERBOARD* ]----\n\n'
                let nomnyaTikTak = 0

                try {
                if(isMention) {
                        for (let i = 0; i < 10; i++) {
                            var namaTicTacCheck0 = await rem.onWhatsApp(_tiktakuser[i].iId)
                            if(!namaTicTacCheck0?.[0]?.exists) {
                                nomnyaTikTak++
                                leaderboardTikTak += `${nomnyaTikTak}. +${_tiktakuser[i].iId.replace('@s.whatsapp.net', '')}\n‚û§ Poin: *${numberWithCommas(fixNumberE(_tiktakuser[i].tictac.poin))}*\n\n`
                            } else {
                                nomnyaTikTak++
                                leaderboardTikTak += `${nomnyaTikTak}. @${_tiktakuser[i].iId.replace('@s.whatsapp.net', '')}\n‚û§ Poin: *${numberWithCommas(fixNumberE(_tiktakuser[i].tictac.poin))}*\n\n`
                            }
                        }
                    await rem.sendTextWithMentions(from, leaderboardTikTak)
                } else {
                    for (let i = 0; i < 10; i++) {
                        var contactDb = await _mongo_ContactSchema.findOne({ iId: _tiktakuser[i].iId })
                        let namaTicTacCheck = await rem.contacts(_tiktakuser[i].iId, contactDb)
                        const getTcDbUser = await _mongo_UserSchema.findOne({ iId: _tiktakuser[i].iId })
                        let namaTicTacCheck01 = getNama(getTcDbUser)
                        let namaTicTac = ''
                        if(namaTicTacCheck01 == undefined) {
                            namaTicTac = namaTicTacCheck
                        } else {
                            namaTicTac = namaTicTacCheck01
                        }
                        nomnyaTikTak++
                        leaderboardTikTak += `${nomnyaTikTak}. *_${namaTicTac}_*\nwa.me/${_tiktakuser[i].iId.replace('@s.whatsapp.net', '')}\n‚û§ Poin: *${numberWithCommas(fixNumberE(_tiktakuser[i].tictac.poin))}*\n\n`
                    }
                    rem.sendText(from, leaderboardTikTak)
                }
            } catch (err) {
                console.error(err)
                await reply(from, 'Perlu setidaknya *10* user yang memiliki level di database!')
            }
            } else {
                reply(from, `Format salah\n\nContoh : _${prefix}tictac @tagmember`)
            }
            break
        case prefix+'resetgame':
            const getTcUser = getTicTac_toe(_userDb)
            if(getTcUser == null || getTcUser == undefined) return rem.sendText(from, 'kamu sedang tidak bermain TicTacToe')
            if(getTcUser != null || getTcUser != undefined) {
                var getTicTacCheckReset = getTcUser
                var poinWinResetCheckRandomTictac = Math.floor(Math.random() * 10) + 5
                if(getTicTacCheckReset.status == 'playing') {
                    if(getTicTacCheckReset.player1 == sender) {
                        getTicTacCheckReset.status = `finish_ ${getTicTacCheckReset.player2}`

                        var winnerOutputText = getTicTacCheckReset.player2
                        await addTicTac_profile(getTicTacCheckReset.player2, 'poin', poinWinResetCheckRandomTictac)
                        await addTicTac_profile(getTicTacCheckReset.player2, 'win', 1)
                        // await addTicTacHistory_profile(getTicTacCheckReset.player2, getTicTacCheckReset)

                        var loseOutputText = getTicTacCheckReset.player1
                        await addTicTac_profile(getTicTacCheckReset.player1, 'poin', -10)
                        await addTicTac_profile(getTicTacCheckReset.player1, 'lose', 1)
                        // await addTicTacHistory_profile(getTicTacCheckReset.player1, getTicTacCheckReset)
                    } else if(getTicTacCheckReset.player2 == sender) {
                        getTicTacCheckReset.status = `finish_ ${getTicTacCheckReset.player1}`

                        var winnerOutputText = getTicTacCheckReset.player1
                        await addTicTac_profile(getTicTacCheckReset.player1, 'poin', poinWinResetCheckRandomTictac)
                        await addTicTac_profile(getTicTacCheckReset.player1, 'win', 1)
                        // await addTicTacHistory_profile(getTicTacCheckReset.player1, getTicTacCheckReset)

                        var loseOutputText = getTicTacCheckReset.player2
                        await addTicTac_profile(getTicTacCheckReset.player2, 'poin', -10)
                        await addTicTac_profile(getTicTacCheckReset.player2, 'lose', 1)
                        // await addTicTacHistory_profile(getTicTacCheckReset.player2, getTicTacCheckReset)
                    }
                    await rem.sendTextWithMentions(from, `Succes\n\n*Winner @${winnerOutputText.replace('@s.whatsapp.net', '')}* _+${poinWinResetCheckRandomTictac}_\nLose ~@${loseOutputText.replace('@s.whatsapp.net', '')}~ _-5_`, messageRaw)
                }
                await _mongo_UserSchema.updateMany({ $or: [{ iId: getTicTacCheckReset.player1 }, { iId: getTicTacCheckReset.player2 }] }, { $set: { tc: {} } })
            }

            await rem.sendButtons(from, 'Link Button', [{id: 'resetgame_ profile', text: `${prefix}tc profile`}], '', '')
            rem.sendText(from, 'Succes')
            break
        case prefix+'slb':
            //if (!isLevelingOn) return await reply(from, 'Command ini hanya bisa digunakan di dalam grup!', id
            //if (!isGroupMsg) return await reply(from, 'Command ini hanya bisa digunakan di dalam grup!', id)
            //if(!isOwner) return reply(from, 'Level akan tersedia setelah S10 dimulai', id)
            let _respppp = await _mongo_UserSchema.find({}, { _id: 0, iId: 1, "economy.level": 1, "economy.xp": 1 }).sort({ "economy.xp": -1 }).limit(101)
            // await _respppp.sort((a, b) => (a.economy.xp < b.economy.xp) ? 1 : -1)
            
            let respppp = []
            for(let i = 0; i < _respppp.length; i++) {
                respppp.push({ id: _respppp[i].iId, level: _respppp[i].economy.level, xp: _respppp[i].economy.xp })
            }
            console.log(respppp[0])
            let listSeasonLevel = [{ season: 'S14', data: respppp }]
            let listRecapDataSeasonLevel = []
            const fileListLevelSeason = fs.readdirSync(`./lib/database/season/level`)

            for(let i = 0; i < fileListLevelSeason.length; i++) {
                const readFileListLevelSeason = JSON.parse(fs.readFileSync(`./lib/database/season/level/${fileListLevelSeason[i]}`, 'utf-8'))
                listSeasonLevel.push({ season: fileListLevelSeason[i].replace('.json', ''), data: readFileListLevelSeason })
            }

            let lbSlevel = `-----[ *Level S9 - S14* ]----\n\n
            ÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕè
            `
            try {
                for (let i = 0; i < 100; i++) {
                    let ListSeason = ''
                    let TotalXPSeason = 0
                    let TotalLevelSeason = 1
                    
                    for(let a = 0; a < listSeasonLevel.length; a++) {
                        const posSlb = await listSeasonLevel[a].data.findIndex(al => al.id == respppp[i].id)
                        if(posSlb != -1) {
                            TotalXPSeason += listSeasonLevel[a].data[posSlb].xp
                            ListSeason += `‚û§ ${listSeasonLevel[a].season} XP: *${listSeasonLevel[a].data[posSlb].xp}* Level: *${listSeasonLevel[a].data[posSlb].level}*\n`
                        }
                    }
                    //Total Level
                    const requiredXp1 = 1000 * (Math.pow(2, 1) - 1)
                    if (requiredXp1 <= TotalXPSeason) {

                        let xpLevelUpLooping = 1
                        for(let i = 0; i < xpLevelUpLooping; i++) {
                            const currentLevel2 = TotalLevelSeason
                            const requiredXp2 = 1000 * (Math.pow(2, currentLevel2) - 1)
                            if (requiredXp2 <= TotalXPSeason) {
                                TotalLevelSeason += 1
                                xpLevelUpLooping += 1
                            }
                        }
                    }

                    if(isMention) {
                        var sLevel_nama = await rem.onWhatsApp(respppp[i].id)

                        if(!sLevel_nama?.[0]?.exists) {
                            const textSendSlb1 = `+${respppp[i].id.replace('@s.whatsapp.net', '')}\n${ListSeason}*_Total XP : ${TotalXPSeason}_*\n*_Total Level : ${TotalLevelSeason}_*\n\n`
                            
                            await listRecapDataSeasonLevel.push({ id: respppp[i].id, totalXp: TotalXPSeason, totalLevel: TotalLevelSeason, text: textSendSlb1 })
                        } else {
                            const textSendSlb2 = `@${respppp[i].id.replace('@s.whatsapp.net', '')}\n${ListSeason}*_Total XP : ${TotalXPSeason}_*\n*_Total Level : ${TotalLevelSeason}_*\n\n`
                            
                            await listRecapDataSeasonLevel.push({ id: respppp[i].id, totalXp: TotalXPSeason, totalLevel: TotalLevelSeason, text: textSendSlb2 })
                        }
                    } else {                     
                        var contactDb = await _mongo_ContactSchema.findOne({ iId: respppp[i].id })
                        const sLevel_nama2 = rem.contacts(respppp[i].id, contactDb)
                        const textSendSlb3 = `*_${sLevel_nama2}_*\nwa.me/${respppp[i].id.replace('@s.whatsapp.net', '')}\n${ListSeason}*_Total XP : ${TotalXPSeason}_*\n*_Total Level : ${TotalLevelSeason}_*\n\n`
                        
                        await listRecapDataSeasonLevel.push({ id: respppp[i].id, totalXp: TotalXPSeason, totalLevel: TotalLevelSeason, text: textSendSlb3 })
                    }
                }
                await listRecapDataSeasonLevel.sort((a, b) => (a.totalXp < b.totalXp) ? 1 : -1)
                for(let i = 0; i < listRecapDataSeasonLevel.length; i++) {
                    lbSlevel += `${i+1}. ${listRecapDataSeasonLevel[i].text}`
                }
                await rem.sendTextWithMentions(from, lbSlevel)
                rem.sendText(from, 'Hati2 Ngelag')
            } catch (err) {
                console.error(err)
                await reply(from, 'Perlu setidaknya *10* user yang memiliki level di database!')
            }
            break
        // case prefix+'level':
        // case prefix+'l':
        //     //if (!isGroupMsg) return await reply(from, 'Command ini hanya bisa digunakan di dalam grup!', id)
        //     //if(!isOwner) return reply(from, 'Level akan tersedia setelah S10 dimulai', id)
        //     try {
        //         var ngirimid = sender
        //         var contactDb = await _mongo_ContactSchema.findOne({ iId: ngirimid })
        //         var namalevel0 = await rem.contacts(ngirimid, contactDb)
        //         var namalevel = pushname
        //         let dbTagLevel = _userDb
        //         if (mentionedJidList[0]) {
        //             var ngirimid = mentionedJidList[0]
        //             var contactDb = await _mongo_ContactSchema.findOne({ iId: ngirimid })
        //             var namalevel0 = await rem.contacts(ngirimid, contactDb)
        //             dbTagLevel = _mentionUserDb
        //             var namalevel = getNama(dbTagLevel)
        //         }
        //         const isSpyLevel = getUserItemIdSpy(dbTagLevel)
        //         const userLevel = !isSpyLevel ? getLevelingLevel(dbTagLevel) : 1
        //         const userXp = !isSpyLevel ? getLevelingXp(dbTagLevel) : 0
        //         const getLevel0 = !isSpyLevel ? await _mongo_UserSchema.find({}, { iId: 1, "economy.level": 1, "economy.xp": 1, _id: 0 }).sort({ "economy.xp": -1 }).limit(1000) : []
        //         const getLevel = getLevel0.findIndex(object => object.iId == ngirimid)
        //         const rankUser = getLevel != -1 ? Math.floor(getLevel) + 1 : 'Unranked'
        //         if (userLevel === undefined && userXp === undefined) return await reply(from, 'Kamu belum memiliki level!', id)
        //         if(!isHideppOn) {
        //             try {
        //                 var pepe = await rem.profilePictureUrl(ngirimid, 'image')
        //                 // var pepe = './media/img/images_pp_blank.png'
        //             } catch (err) {
        //                 console.error(err)
        //                 var pepe = './media/img/images_pp_blank.png'
        //             }
        //         } else {
        //             var pepe = './media/img/images_pp_blank.png'
        //         }
        //         //
        //         console.log(pepe)
        //         const doubleXpTimeCount2 = getUserItemId(dbTagLevel)
        //         if(userLevel < 5) {
        //             var amountXpNambah2 = 300
        //         } else if(userLevel > 10) {
        //             var amountXpNambah2 = 2300
        //         } else if(userLevel > 7) {
        //             var amountXpNambah2 = 1500
        //         } else if(userLevel > 4) {
        //             var amountXpNambah2 = 1000
        //         } else {
        //             var amountXpNambah2 = 500
        //         }
        //         if (getItemLevel(dbTagLevel) == undefined) {
        //             var amountXptest = Math.floor(amountXpNambah2)
        //         } else {
        //             var amountXptest = Math.floor(amountXpNambah2 * getItemLevel(dbTagLevel).level)
        //         }
        //         if(doubleXpTimeCount2 == undefined || doubleXpTimeCount2 == null) {
        //             var outputTextDoubleXpCheckText = '-'
        //         } else {
        //             const timeConvertDoubleXpCheck2 = timeConvert(doubleXpTimeCount2.time)
        //             //console.log(timeConvertDoubleXpCheck2)
        //             var outputTextDoubleXpCheckText = `${timeConvertDoubleXpCheck2.day} Hari | ${timeConvertDoubleXpCheck2.hour} Jam : ${timeConvertDoubleXpCheck2.minute} Menit : ${timeConvertDoubleXpCheck2.second} Detik`     
        //         }
        //         let bege = getBg(dbTagLevel)
        //         if(!fs.existsSync(bege)) {
        //             await replaceBg(ngirimid, `./media/img/bg.png`)
        //             bege = `./media/img/bg.png`
        //         }
        //         const iduser = ngirimid.substring(5, 9)
        //         const requiredXp = 2000 * (Math.pow(2, userLevel) - 1)
        //         // const randomHexs = `#${(Math.random() * 0xFFFFFF << 0).toString(16).padStart(6, '0')}`
        //         // const randomHex = `#${(Math.random() * 0xFFFFFF << 0).toString(16).padStart(6, '0')}`

        //         const findDbNeeded = await _mongo_BotSchema.find({ $or: [{ iId: 'donate' }, { iId: 'title' }] }, { _id: 0, iId: 1, donate: 1, data: 1 })

        //         const listDonatur = findDbNeeded.find(object => object.iId == 'donate')
        //         let formattedArray = []
        //         for(let i = 0; i < listDonatur.donate.length; i++) {
        //             const listDonate = listDonatur.donate
        //             const indexDonate = formattedArray.findIndex(object => object.email == listDonate[i].email)
        //             if(indexDonate != -1) {
        //                 formattedArray[indexDonate].amount += listDonate[i].amount
        //                 formattedArray[indexDonate].name = listDonate[i].name
        //             } else {
        //                 formattedArray.push(listDonate[i])
        //             }
        //         }
        //         formattedArray.sort((a, b) => (a.amount < b.amount) ? 1 : -1)

        //         function getTitleTarget() {
        //             let nameTitle = undefined
        //             let styleRoundTitle = undefined
        //             let svgIconTitle = undefined

        //             const getDataListTitle = findDbNeeded.find(object => object.iId == 'title')
        //             const sortDataListTitle = getDataListTitle.data.sort((a, b) => (a.priority > b.priority) ? 1 : -1)
        //             for(let i = 0; i < sortDataListTitle.length; i++) {
        //                 const isTrueCondition = eval(sortDataListTitle[i].condition)
        //                 if(isTrueCondition) {
        //                     nameTitle = sortDataListTitle[i].name
        //                     styleRoundTitle = sortDataListTitle[i].style
        //                     svgIconTitle = sortDataListTitle[i].svgIcon
        //                     break
        //                 }
        //             }

        //             return { title: nameTitle, style: styleRoundTitle, svgIcon: svgIconTitle }
        //         }

        //         // build level image
        //         const getTitleUserRank = getTitleTarget(ngirimid)
        //         const loadBackgroundImageRank = await canvas.loadImage(bege)
        //         const stylesRank = canvas.StyleSheet.create({
        //             root: {
        //                 fontFamily: (canvas.Font.fromFileSync('./media/font/Manrope-Bold.ttf')).name,
        //                 background: `url("${loadBackgroundImageRank.toDataURL()}")`,
        //                 backgroundRepeat: 'no-repeat',
        //                 backgroundSize: '100% 100%',
        //                 display: 'flex',
        //                 width: '100%',
        //                 height: '100%',
        //                 justifyContent: 'center',
        //                 alignItems: 'center',
        //                 borderRadius: '1.5rem'
        //             }
        //         });

        //         const builderRank = new canvas.Builder(2000, 512)
        //         builderRank.style = stylesRank.root;

        //         const convertToJSX = getLevelImageTemplate(
        //             (await canvas.loadImage(pepe)).toDataURL(),
        //             'online',
        //             namalevel,
        //             namalevel0,
        //             getTitleUserRank?.title,
        //             getTitleUserRank?.svgIcon,
        //             getTitleUserRank?.style,
        //             !isSpyLevel ? userLevel : 1,
        //             !isSpyLevel ? userXp : 0,
        //             !isSpyLevel ? requiredXp : 0,
        //             !isSpyLevel ? rankUser : 1
        //         )

        //         builderRank.addComponent(
        //             convertToJSX
        //         )
        //         .setStyle(stylesRank.root)


        //         // const rank = new canvas.Rank()
        //         //     .setAvatar(ppLevelGet?.data || pepe)
        //         //     .setLevel(!isSpyLevel ? userLevel : 1)
        //         //     .setRank(1, '', false)
        //         //     .setCurrentXP(!isSpyLevel ? userXp : 0)
        //         //     .setRequiredXP(!isSpyLevel ? requiredXp : 0)
        //         //     .setBackground('IMAGE', bege)
        //         //     .setUsername(namalevel)
        //         //     .setDiscriminator(iduser)
        //         //     // .setOverlay('', 0.5, false);
        //         // if(!isNaN(rankUser) && !isSpyLevel) rank.setRank(rankUser)
        //         builderRank.build({ format: 'svg' })
        //             .then(async (svg) => {
        //                 console.log('d')
        //                 const buffer = await sharp(Buffer.from(svg)).png().toBuffer()
        //                 await rem.sendFile(from, Buffer.from(buffer), `${iduser}.png`, `Rank: ${numberWithCommas(fixNumberE(rankUser))}\nLevel: ${numberWithCommas(fixNumberE(userLevel))}\nXp: ${numberWithCommas(fixNumberE(userXp))}\nNextLevel: ${numberWithCommas(fixNumberE(requiredXp))}\nÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕè\nXpPerChat : ${numberWithCommas(fixNumberE(amountXptest))}\nDoubleXp : ${outputTextDoubleXpCheckText}\n\nFun Fact : Rem memiliki system antispam Level ><`, messageRaw, image)
        //                 //reply(from, `Rank: ${numberWithCommas(rankUser)}\nLevel: ${numberWithCommas(userLevel)}\nXp: ${numberWithCommas(userXp)}\nNextLevel: ${numberWithCommas(requiredXp)}`, id)
        //             })
        //             .catch(async (err) => {
        //                 console.error(err)
        //                 await reply(from, `Error!\n${err}`)
        //             })
        //         } catch (err) {
        //             console.error(err)
        //         }
        //     break
        case prefix+'jam':
        
            break
        case prefix + 'level':
        case prefix + 'l':
            try {
                var ngirimid = sender
                var contactDb = await _mongo_ContactSchema.findOne({ iId: ngirimid })
                var namalevel0 = await rem.contacts(ngirimid, contactDb)
                var namalevel = pushname
                let dbTagLevel = _userDb

                if (mentionedJidList[0]) {
                    ngirimid = mentionedJidList[0]
                    contactDb = await _mongo_ContactSchema.findOne({ iId: ngirimid })
                    namalevel0 = await rem.contacts(ngirimid, contactDb)
                    dbTagLevel = _mentionUserDb
                    namalevel = getNama(dbTagLevel)
                }

                const isSpyLevel = getUserItemIdSpy(dbTagLevel)
                const userLevel = !isSpyLevel ? getLevelingLevel(dbTagLevel) : 1
                const userXp = !isSpyLevel ? getLevelingXp(dbTagLevel) : 0
                const getLevel0 = !isSpyLevel ? await _mongo_UserSchema.find({}, { iId: 1, "economy.level": 1, "economy.xp": 1, _id: 0 }).sort({ "economy.xp": -1 }).limit(1000) : []
                const getLevel = getLevel0.findIndex(object => object.iId == ngirimid)
                const rankUser = getLevel != -1 ? Math.floor(getLevel) + 1 : 'Unranked'

                const doubleXpTimeCount2 = getUserItemId(dbTagLevel)
                if(userLevel < 5) {
                    var amountXpNambah2 = 300
                } else if(userLevel > 10) {
                    var amountXpNambah2 = 2300
                } else if(userLevel > 7) {
                    var amountXpNambah2 = 1500
                } else if(userLevel > 4) {
                    var amountXpNambah2 = 1000
                } else {
                    var amountXpNambah2 = 500
                }
                if (getItemLevel(dbTagLevel) == undefined) {
                    var amountXptest = Math.floor(amountXpNambah2)
                } else {
                    var amountXptest = Math.floor(amountXpNambah2 * getItemLevel(dbTagLevel).level)
                }
                if(doubleXpTimeCount2 == undefined || doubleXpTimeCount2 == null) {
                    var outputTextDoubleXpCheckText = '-'
                } else {
                    const timeConvertDoubleXpCheck2 = timeConvert(doubleXpTimeCount2.time)
                    //console.log(timeConvertDoubleXpCheck2)
                    var outputTextDoubleXpCheckText = `${timeConvertDoubleXpCheck2.day} Hari | ${timeConvertDoubleXpCheck2.hour} Jam : ${timeConvertDoubleXpCheck2.minute} Menit : ${timeConvertDoubleXpCheck2.second} Detik`     
                }

                if (userLevel === undefined && userXp === undefined) return await reply(from, 'Kamu belum memiliki level!', id)

                const requiredXp = 2000 * (Math.pow(2, userLevel) - 1)

                // await reply(from, `Rank: ${rankUser}\nLevel: ${userLevel}\nXp: ${userXp}\nNext Level: ${requiredXp}`, id)
                reply(from, `Rank: ${numberWithCommas(fixNumberE(rankUser))}\nLevel: ${numberWithCommas(fixNumberE(userLevel))}\nXp: ${numberWithCommas(fixNumberE(userXp))}\nNextLevel: ${numberWithCommas(fixNumberE(requiredXp))}\nÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕè\nXpPerChat : ${numberWithCommas(fixNumberE(amountXptest))}\nDoubleXp : ${outputTextDoubleXpCheckText}\n\nFun Fact : Rem memiliki system antispam Level ><`)

            } catch (error) {
                console.error(error)
                await reply(from, 'Terjadi kesalahan saat memproses level!', id)
            }
            break;
        case prefix+'testlvl':
            if(!isSideOwner) return reply(from, 'Perintah ini hanya untuk Side Owner bot')

            const splitBodyArgsTestLvl = body.replace(`${args[0]} `, '').split('|')
            const styleTestLvlName = splitBodyArgsTestLvl[0]
            const styleTestLvlStyle = splitBodyArgsTestLvl[1]
            const styleTestLvlSvgIcon = splitBodyArgsTestLvl[2]

            async function testLvl() {
                try {
                    var ngirimid = sender
                    var contactDb = await _mongo_ContactSchema.findOne({ iId: ngirimid })
                    var namalevel0 = await rem.contacts(ngirimid, contactDb)
                    var namalevel = pushname
                    let dbTagLevel = _userDb
    
                    const userLevel = getLevelingLevel(dbTagLevel)
                    const userXp = getLevelingXp(dbTagLevel)
                    const getLevel0 = await _mongo_UserSchema.find({}, { iId: 1, "economy.level": 1, "economy.xp": 1, _id: 0 }).sort({ "economy.xp": -1 }).limit(1000)
                    const getLevel = getLevel0.findIndex(object => object.iId == ngirimid)
                    const rankUser = getLevel != -1 ? Math.floor(getLevel) + 1 : 'Unranked'
                    if (userLevel === undefined && userXp === undefined) return await reply(from, 'Kamu belum memiliki level!', id)
                    if(!isHideppOn) {
                        try {
                            var pepe = await rem.profilePictureUrl(ngirimid, 'image')
                            // var pepe = './media/img/images_pp_blank.png'
                        } catch (err) {
                            console.error(err)
                            var pepe = './media/img/images_pp_blank.png'
                        }
                    } else {
                        var pepe = './media/img/images_pp_blank.png'
                    }
                    //
                    console.log(pepe)
                    const doubleXpTimeCount2 = getUserItemId(dbTagLevel)
                    if(userLevel < 5) {
                        var amountXpNambah2 = 300
                    } else if(userLevel > 10) {
                        var amountXpNambah2 = 2300
                    } else if(userLevel > 7) {
                        var amountXpNambah2 = 1500
                    } else if(userLevel > 4) {
                        var amountXpNambah2 = 1000
                    } else {
                        var amountXpNambah2 = 500
                    }
                    if (getItemLevel(dbTagLevel) == undefined) {
                        var amountXptest = Math.floor(amountXpNambah2)
                    } else {
                        var amountXptest = Math.floor(amountXpNambah2 * getItemLevel(dbTagLevel).level)
                    }
                    if(doubleXpTimeCount2 == undefined || doubleXpTimeCount2 == null) {
                        var outputTextDoubleXpCheckText = '-'
                    } else {
                        const timeConvertDoubleXpCheck2 = timeConvert(doubleXpTimeCount2.time)
                        //console.log(timeConvertDoubleXpCheck2)
                        var outputTextDoubleXpCheckText = `${timeConvertDoubleXpCheck2.day} Hari | ${timeConvertDoubleXpCheck2.hour} Jam : ${timeConvertDoubleXpCheck2.minute} Menit : ${timeConvertDoubleXpCheck2.second} Detik`     
                    }
                    let bege = getBg(dbTagLevel)
                    if(!fs.existsSync(bege)) {
                        await replaceBg(ngirimid, `./media/img/bg.png`)
                        bege = `./media/img/bg.png`
                    }
                    const iduser = ngirimid.substring(5, 9)
                    const requiredXp = 2000 * (Math.pow(2, userLevel) - 1)
                    // const randomHexs = `#${(Math.random() * 0xFFFFFF << 0).toString(16).padStart(6, '0')}`
                    // const randomHex = `#${(Math.random() * 0xFFFFFF << 0).toString(16).padStart(6, '0')}`
    
                    const findDbNeeded = await _mongo_BotSchema.find({ $or: [{ iId: 'donate' }, { iId: 'title' }] }, { _id: 0, iId: 1, donate: 1, data: 1 })
    
                    const listDonatur = findDbNeeded.find(object => object.iId == 'donate')
                    let formattedArray = []
                    for(let i = 0; i < listDonatur.donate.length; i++) {
                        const listDonate = listDonatur.donate
                        const indexDonate = formattedArray.findIndex(object => object.email == listDonate[i].email)
                        if(indexDonate != -1) {
                            formattedArray[indexDonate].amount += listDonate[i].amount
                            formattedArray[indexDonate].name = listDonate[i].name
                        } else {
                            formattedArray.push(listDonate[i])
                        }
                    }
                    formattedArray.sort((a, b) => (a.amount < b.amount) ? 1 : -1)
    
                    // build level image
                    const getTitleUserRank = { title: styleTestLvlName, style: styleTestLvlStyle, svgIcon: styleTestLvlSvgIcon }
                    const loadBackgroundImageRank = await canvas.loadImage(bege)
                    const stylesRank = canvas.StyleSheet.create({
                        root: {
                            fontFamily: (canvas.Font.fromFileSync('./media/font/Manrope-Bold.ttf')).name,
                            background: `url("${loadBackgroundImageRank.toDataURL()}")`,
                            backgroundRepeat: 'no-repeat',
                            backgroundSize: '100% 100%',
                            display: 'flex',
                            width: '100%',
                            height: '100%',
                            justifyContent: 'center',
                            alignItems: 'center',
                            borderRadius: '1.5rem'
                        }
                    });
    
                    const builderRank = new canvas.Builder(2000, 512)
                    builderRank.style = stylesRank.root;
    
                    const convertToJSX = getLevelImageTemplate(
                        (await canvas.loadImage(pepe)).toDataURL(),
                        'online',
                        namalevel,
                        namalevel0,
                        getTitleUserRank?.title,
                        getTitleUserRank?.svgIcon,
                        getTitleUserRank?.style,
                        userLevel,
                        userXp,
                        requiredXp,
                        rankUser
                    )
    
                    builderRank.addComponent(
                        convertToJSX
                    )
                    .setStyle(stylesRank.root)
    
    
                    // const rank = new canvas.Rank()
                    //     .setAvatar(ppLevelGet?.data || pepe)
                    //     .setLevel(!isSpyLevel ? userLevel : 1)
                    //     .setRank(1, '', false)
                    //     .setCurrentXP(!isSpyLevel ? userXp : 0)
                    //     .setRequiredXP(!isSpyLevel ? requiredXp : 0)
                    //     .setBackground('IMAGE', bege)
                    //     .setUsername(namalevel)
                    //     .setDiscriminator(iduser)
                    //     // .setOverlay('', 0.5, false);
                    // if(!isNaN(rankUser) && !isSpyLevel) rank.setRank(rankUser)
                    builderRank.build({ format: 'svg' })
                        .then(async (svg) => {
                            console.log('d')
                            const buffer = await sharp(Buffer.from(svg)).png().toBuffer()
                            await rem.sendFile(from, Buffer.from(buffer), `${iduser}.png`, `Rank: ${numberWithCommas(fixNumberE(rankUser))}\nLevel: ${numberWithCommas(fixNumberE(userLevel))}\nXp: ${numberWithCommas(fixNumberE(userXp))}\nNextLevel: ${numberWithCommas(fixNumberE(requiredXp))}\nÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕè\nXpPerChat : ${numberWithCommas(fixNumberE(amountXptest))}\nDoubleXp : ${outputTextDoubleXpCheckText}\n\nFun Fact : Rem memiliki system antispam Level ><`, messageRaw, image)
                            //reply(from, `Rank: ${numberWithCommas(rankUser)}\nLevel: ${numberWithCommas(userLevel)}\nXp: ${numberWithCommas(userXp)}\nNextLevel: ${numberWithCommas(requiredXp)}`, id)
                        })
                        .catch(async (err) => {
                            console.error(err)
                            await reply(from, `Error!\n${err}`)
                        })
                    } catch (err) {
                        console.error(err)
                    }
            }
            testLvl()
            break
        case prefix+'getpref':
            const prefny = getPref(_groupDb)
            reply(from, prefny)
            break
        /*case prefix+'claim':
            var cekclaim = claimed.includes(sender)
            if(cekclaim) {
                return reply(from, `Kamu sudah claim hari ini, Coba esok hari`, id)
            } else {
                await claimed.push(sender)
                fs.writeFileSync('./lib/database/user/claim.json', JSON.stringify(claimed))
                const amountXppp = Math.floor(Math.random() * 10) + 10000
                await addLevelingXp(sender, amountXppp)
                const sesudahxp = getLevelingXp(_userDb)
                reply(from, `*„Äå CLAIM „Äç*\n\n‚û§ *Name*: ${pushname}\n‚û§ *XP+*: ${amountXppp}\n‚û§ *XP*: ${sesudahxp}`, id)
            }
            break*/
        case prefix+'redeem':
            // if(!isOwner) return reply(from, 'Sedang dalam perbaikan...')
            if (args.length === 1) return reply(from, 'Mohon masukkan kode Redeem', id)
            // if(reedem_Filter == 'hbd14owner') {
            //     const redeem_user_Filter = getRedeemed(_userDb)
            //     var cekRedeem = redeem_user_Filter.includes('HBD14OWNER')
            //     if(cekRedeem) return reply(from, 'Kode redeem sudah terpakai', id)
            //     reply(from, 'Kode Redeem Expired')
            //     /*const redeem_reward_money_1 = Math.floor(50000)
            //     await addMoney(sender, redeem_reward_money_1)
            //     await addNameTag_tag(sender, 'üéâANNIVERSARY 14üëë')
            //     await limitMin50(serial)
            //     await reply(from, '*Succes Redeem*\n\nReward:\nx10 XP\nLimited NameTag\nMoney +50.000\nLimit +50', id)
            //     if(getUserItemId(sender) == undefined) {
            //         const waktunyaa = Math.floor(1)
            //         const waktubroheii = waktunyaa+'d'
            //         await addItemLevel(_userDb, 10, waktubroheii)
            //         rem.sendText(from, `SUCCES!\nLevel x${getItemLevel(sender)}`)
            //     } else {
            //         await addJumItemLevel(sender, 10)
            //         rem.sendText(from, `SUCCES!\nLevel x${getItemLevel(sender)}`)
            //     }
            //     await addUserRedeemed('HBD14OWNER', sender)*/
            // } else if(reedem_Filter == 'idulfitri1442h') {
            //     const redeem_user_Filter1 = getRedeemed(_userDb)
            //     var cekRedeem1 = redeem_user_Filter1.includes('IDULFITRI1442H')
            //     if(cekRedeem1) return reply(from, 'Kode redeem sudah terpakai', id)
            //     reply(from, 'Kode Redeem Expired')
            //     /*const redeem_reward_money_1 = Math.floor(75000)
            //     await addMoney(sender, redeem_reward_money_1)
            //     await addNameTag_tag(sender, 'üôè Berbahagia üòÑ')
            //     await limitMin50(serial)
            //     await reply(from, '*Succes Redeem*\n\nReward:\nx20 XP\nLimited NameTag\nMoney +75.000\nLimit +50', id)
            //     if(getUserItemId(sender) == undefined) {
            //         const waktunyaa = Math.floor(1)
            //         const waktubroheii = waktunyaa+'d'
            //         await addItemLevel(_userDb, 20, waktubroheii)
            //         rem.sendText(from, `SUCCES!\nLevel x${getItemLevel(sender)}`)
            //     } else {
            //         await addJumItemLevel(sender, 20)
            //         rem.sendText(from, `SUCCES!\nLevel x${getItemLevel(sender)}`)
            //     }
            //     await addUserRedeemed('IDULFITRI1442H', sender)*/
            // } else if(reedem_Filter == 'nataltahunbaru20212022') {
            //     const redeem_user_Filter1 = getRedeemed(_userDb)
            //     var cekRedeem1 = redeem_user_Filter1.includes('NATALTAHUNBARU20212022')
            //     if(cekRedeem1) return reply(from, 'Kode redeem sudah terpakai')
            //     reply(from, 'Kode Redeem Expired', id)

            //     /*const redeem_reward_money_2 = Math.floor(100000)

            //     await addNameTag_tag(sender, '‚òÑÔ∏è Happy Christmas 2021 ‚ùÑÔ∏è')
            //     await addDiscInv(sender, 10, 0, 1641315600000)
            //     await addMoney(sender, redeem_reward_money_2)
            //     await limitMin50(serial)

            //     await addUserRedeemed('NATALTAHUNBARU20212022', sender)
                
            //     await reply(from, '*Succes Redeem*\n\nReward:\nx20 DoubleXP\nLimited NameTag\nMoney +100.000\nLimit +50\nDiscount Buy Invest 10%', id)
            //     if(getUserItemId(sender) == undefined) {
            //         const waktunyaa = Math.floor(1)
            //         const waktubroheii = waktunyaa+'d'
            //         await addItemLevel(_userDb, 20, waktubroheii)
            //         rem.sendText(from, `SUCCES!\nLevel x${getItemLevel(sender)}`)
            //     } else {
            //         await addJumItemLevel(sender, 20)
            //         rem.sendText(from, `SUCCES!\nLevel x${getItemLevel(sender)}`)
            //     }*/
            // } else if(reedem_Filter == 'syukuran1jthit') {
            //     const redeem_user_Filter1 = getRedeemed(_userDb)
            //     var cekRedeem1 = redeem_user_Filter1.includes('SYUKURAN1JTHIT')
            //     if(cekRedeem1) return reply(from, 'Kode redeem sudah terpakai')
            //     reply(from, 'Kode Redeem Expired', id)

            //     /*const redeem_reward_money_3 = Math.floor(200000)

            //     await addNameTag_tag(sender, 'ü•≥ Syukuran 1Jt Hit üßÆ')
            //     await addDiscInv(sender, 13, 0, 1642870800000)
            //     await addMoney(sender, redeem_reward_money_3)
            //     await limitMin50(serial)

            //     await addUserRedeemed('SYUKURAN1JTHIT', sender)
                
            //     await reply(from, '*Succes Redeem*\n\nReward:\nx50 DoubleXP\nLimited NameTag\nMoney +200.000\nLimit +50\nDiscount Buy Invest 13%', id)
            //     if(getUserItemId(sender) == undefined) {
            //         const waktunyaa = Math.floor(1)
            //         const waktubroheii = waktunyaa+'d'
            //         await addItemLevel(_userDb, 50, waktubroheii)
            //         rem.sendText(from, `SUCCES!\nLevel x${getItemLevel(sender)}`)
            //     } else {
            //         await addJumItemLevel(sender, 50)
            //         rem.sendText(from, `SUCCES!\nLevel x${getItemLevel(sender)}`)
            //     }*/
            // } else if(reedem_Filter == 'rafidultah') {
            //     const redeem_user_Filter1 = getRedeemed(_userDb)
            //     var cekRedeem1 = redeem_user_Filter1.includes('RAFIDULTAH')
            //     if(cekRedeem1) return reply(from, 'Kode redeem sudah terpakai')
            //     reply(from, 'Kode Redeem Expired', id)

            //     /*await addUserRedeemed('RAFIDULTAH', sender)

            //     const redeem_reward_money_4 = Math.floor(50000)
            //     await addDiscInv(sender, 5, 0, 1645376400000)
            //     await addMoney(sender, redeem_reward_money_4)
            //     await limitMin50(serial)

            //     await reply(from, '*Succes Redeem*\n\nReward:\nx20 DoubleXP 2 hari\nMoney +Rp.50.000\nLimit +50\nDiscount Buy Invest 5%', id)
            //     if(getUserItemId(sender) == undefined) {
            //         const waktunyaa = Math.floor(2)
            //         const waktubroheii = waktunyaa+'d'
            //         await addItemLevel(_userDb, 20, waktubroheii)
            //         rem.sendText(from, `SUCCES!\nLevel x${getItemLevel(sender)}`)
            //     } else {
            //         await addJumItemLevel(sender, 20)
            //         rem.sendText(from, `SUCCES!\nLevel x${getItemLevel(sender)}`)
            //     }*/
            // } else if(reedem_Filter == 'lawack100') {
            //     const redeem_user_Filter1 = getRedeemed(_userDb)
            //     var cekRedeem1 = redeem_user_Filter1.includes('LAWACK100')
            //     if(cekRedeem1) return reply(from, 'Kode redeem sudah terpakai')
            //     reply(from, 'Kode Redeem Expired', id)

            //     /*await addUserRedeemed('LAWACK100', sender)

            //     const redeem_reward_money_5 = Math.floor(50000)
            //     await addDiscInv(sender, 4, 0, 1650560400000)
            //     await addMoney(sender, redeem_reward_money_5)
            //     await limitMin50(serial)

            //     await reply(from, '*Succes Redeem*\n\nReward:\nx20 DoubleXP 2 hari\nMoney +Rp.50.000\nLimit +50\nDiscount Buy Invest 4%', id)
            //     if(getUserItemId(sender) == undefined) {
            //         const waktunyaa = Math.floor(2)
            //         const waktubroheii = waktunyaa+'d'
            //         await addItemLevel(_userDb, 20, waktubroheii)
            //         rem.sendText(from, `SUCCES!\nLevel x${getItemLevel(sender)}`)
            //     } else {
            //         await addJumItemLevel(sender, 20)
            //         rem.sendText(from, `SUCCES!\nLevel x${getItemLevel(sender)}`)
            //     }*/
            // } else if(reedem_Filter == 'idulfitri1443h') {
            //     const redeem_user_Filter1 = getRedeemed(_userDb)
            //     var cekRedeem1 = redeem_user_Filter1.includes('IDULFITRI1443H')
            //     if(cekRedeem1) return reply(from, 'Kode redeem sudah terpakai')
            //     reply(from, 'Kode Redeem Expired', id)

            //     // const redeem_reward_money_6 = Math.floor(120000)

            //     // await addNameTag_tag(sender, 'üë≥üèª‚Äç‚ôÇÔ∏è Idul Fitri 1443H üßïüèª')
            //     // await addDiscInv(sender, 12, 0, 1651683600000)
            //     // await addMoney(sender, redeem_reward_money_6)
            //     // await limitMin50(serial)
            //     // await limitMin50(serial)

            //     // await addUserRedeemed('IDULFITRI1443H', sender)
                
            //     // await reply(from, '*Succes Redeem*\n\nReward:\nx35 DoubleXP 2 Hari\nLimited NameTag\nMoney +120.000\nLimit +100\nDiscount Buy Invest 12%', id)
            //     // if(getUserItemId(sender) == undefined) {
            //     //     const waktunyaa = Math.floor(2)
            //     //     const waktubroheii = waktunyaa+'d'
            //     //     await addItemLevel(_userDb, 35, waktubroheii)
            //     //     rem.sendText(from, `SUCCES!\nLevel x${getItemLevel(sender)}`)
            //     // } else {
            //     //     await addJumItemLevel(sender, 35)
            //     //     rem.sendText(from, `SUCCES!\nLevel x${getItemLevel(sender)}`)
            //     // }
            // } else if(reedem_Filter == '15iqziriwd757') {
            //     const redeem_user_Filter1 = getRedeemed(_userDb)
            //     var cekRedeem1 = redeem_user_Filter1.includes('15IQZIRIWD757')
            //     if(cekRedeem1) return reply(from, 'Kode redeem sudah terpakai')
            //     reply(from, 'Kode Redeem Expired', id)

            //     // const redeem_reward_money_7 = Math.floor(150000)

            //     // await addNameTag_tag(sender, 'üéã 15757 üçÅ')
            //     // await addDiscInv(sender, 15, 0, 1652288400000)
            //     // await addMoney(sender, redeem_reward_money_7)
            //     // await limitMin50(serial)
            //     // await limitMin50(serial)
            //     // await limitMin15(serial)

            //     // await addUserRedeemed('15IQZIRIWD757', sender)
                
            //     // await reply(from, '*Succes Redeem*\n\nReward:\nx115 DoubleXP 3 Hari\nLimited NameTag\nMoney +150.000\nLimit +115\nDiscount Buy Invest 15%', id)
            //     // if(getUserItemId(sender) == undefined) {
            //     //     const waktunyaa = Math.floor(3)
            //     //     const waktubroheii = waktunyaa+'d'
            //     //     await addItemLevel(_userDb, 114, waktubroheii)
            //     //     rem.sendText(from, `SUCCES!\nLevel x${getItemLevel(sender)}`)
            //     // } else {
            //     //     await addJumItemLevel(sender, 114)
            //     //     rem.sendText(from, `SUCCES!\nLevel x${getItemLevel(sender)}`)
            //     // }
            // } else if(reedem_Filter == 'ep4d1hsjbt0j') {
            //     const redeem_user_Filter1 = getRedeemed(_userDb)
            //     var cekRedeem1 = redeem_user_Filter1.includes('EP4D1HSJBT0J')
            //     if(cekRedeem1) return reply(from, 'Kode redeem sudah terpakai')
            //     if(Date.now() >= 1659859200000) return reply(from, 'Kode Redeem Expired', id)
            //     // reply(from, 'Kode Redeem Expired', id)

            //     const redeem_reward_money_8 = Math.floor(10000)
            //     await addDiscInv(sender, 2, 0, moment(Date.now()).add(30, 'm').toDate().getTime())
            //     await addMoney(sender, redeem_reward_money_8)
            //     await limitMin50(serial)

            //     await addUserRedeemed('EP4D1HSJBT0J', sender)
                
            //     await reply(from, '*Succes Redeem*\n\nReward:\nx2 DoubleXP 30 Menit\nMoney +10.000\nLimit +50\nDiscount Buy Invest 2%', id)

            //     if(getUserItemId(_userDb) == undefined) {
            //         const waktunyaa = Math.floor(30)
            //         const waktubroheii = waktunyaa+'m'
            //         await addItemLevel(_userDb, 2, waktubroheii)
            //         rem.sendText(from, `SUCCES!\nLevel x${getItemLevel(_userDb).level}`)
            //     } else {
            //         await addJumItemLevel(sender, 2)
            //         rem.sendText(from, `SUCCES!\nLevel x${getItemLevel(_userDb).level}`)
            //     }
            // } else if(reedem_Filter == 'auorkceyjmqj') {
            //     const redeem_user_Filter1 = await getRedeemed('AUORKCEYJMQJ')
            //     var cekRedeem1 = redeem_user_Filter1.includes(sender)
            //     if(cekRedeem1) return reply(from, 'Kode redeem sudah terpakai')
            //     if(Date.now() >= 1660928400000) return reply(from, 'Kode Redeem Expired', id)
            //     // reply(from, 'Kode Redeem Expired', id)

            //     const redeem_reward_money_9 = Math.floor(100000)
            //     await addDiscInv(sender, 10, 0, 1661014800000)
            //     await addMoney(sender, redeem_reward_money_9)
            //     await limitMin50(serial)

            //     await addUserRedeemed('AUORKCEYJMQJ', sender)
                
            //     await reply(from, '*Succes Redeem*\n\nReward:\nx10 DoubleXP 2 Hari\nMoney +100.000\nLimit +50\nDiscount Buy Invest 10%', id)

            //     if(getUserItemId(_userDb) == undefined) {
            //         const waktunyaa = Math.floor(2)
            //         const waktubroheii = waktunyaa+'d'
            //         await addItemLevel(_userDb, 9, waktubroheii)
            //         rem.sendText(from, `SUCCES!\nLevel x${getItemLevel(_userDb).level}`)
            //     } else {
            //         await addJumItemLevel(sender, 9)
            //         rem.sendText(from, `SUCCES!\nLevel x${getItemLevel(_userDb).level}`)
            //     }

            // check user level
            const userLevel = getLevelingLevel(_userDb)
            if(userLevel < 5) return reply(from, 'Kamu belum mencapai level 5', id)

            const randomWaitTimeRedeem = Math.floor(Math.random() * 501) + 500
            await sleep(randomWaitTimeRedeem)

            const dbRedeem = await _mongo_RedeemSchema.findOne({ code: args[1] })
            const listCodeRedeem = dbRedeem
            
            if(listCodeRedeem != undefined) {
                const isUserRedeemed = getRedeemed(dbRedeem, sender)
                if(isUserRedeemed) return reply(from, 'Kode Redeem Sudah Terpakai')

                const redeemDb = dbRedeem
                if(Date.now() >= redeemDb.time.expired) return reply(from, 'Kode Redeem Expired')
                if(Date.now() < redeemDb.time.date) {
                    const timeRedeemActivated = moment(redeemDb.time.date).format('Do MMMM YYYY,¬†HH:mm:ss')
                    return reply(from, `Kode Redeem Belum Aktif\nAktif pada : ${timeRedeemActivated} WIB`)
                }
                if(redeemDb.claimed > redeemDb.limit) return reply(from, 'Kode Redeem Habis')

                //reward
                let formattedTextReplyReward = ''
                for(let i = 0; i < redeemDb.reward.length; i++) {
                    const reward = redeemDb.reward[i]
                    if(reward.item < 1) {
                        rem.sendText(from, `[${i}] item_value_invalid!`)
                        continue;
                    }

                    //isNotReplaced | Jika value ada, jangan di replace
                    let isNotReplaced = false
                    if(reward?.isNotReplaced) {
                        if(reward.reward.startsWith('item')) {
                            const checkDbTarget = fetchFromObject(_userDb, reward.reward)
                            if(checkDbTarget) {
                                isNotReplaced = true
                            } else {
                                const checkDeactive = getUserListItem(_userDb, true)
                                const splitDotReward = reward.reward.split('.').splice(1).join('.')
                                if(fetchFromObject(checkDeactive, splitDotReward)) isNotReplaced = true
                            }
                        } else {
                            const checkDbTarget = fetchFromObject(_userDb, reward.reward)
                            if(checkDbTarget) isNotReplaced = true
                        }
                    }
                    
                    if(reward.reward.startsWith('item') && !isNotReplaced) {
                        const checkDeactive = getUserListItem(_userDb, true)
                        const keysDeactive = Object.keys(checkDeactive)
                        const splitDotReward = reward.reward.split('.').splice(1)

                        if(keysDeactive.includes(splitDotReward[0])) {
                            await _mongo_UserSchema.updateOne({ iId: sender, [`item.item.${splitDotReward[0]}`]: { $exists: true } }, { [`$${reward.type == 'add' ? 'inc' : reward.type}`]: { [`item.item.$.${splitDotReward.join('.')}`]: reward.item } })
                        } else {
                            await _mongo_UserSchema.updateOne({ iId: sender }, { [`$${reward.type == 'add' ? 'inc' : reward.type}`]: { [reward.reward]: reward.item } })
                        }
                    } else if(!isNotReplaced) {
                        await _mongo_UserSchema.updateOne({ iId: sender }, { [`$${reward.type == 'add' ? 'inc' : reward.type}`]: { [reward.reward]: reward.item } })
                    }

                    const splittedReward = reward.reward.split('.')
                    if(splittedReward[splittedReward.length - 1] == 'time') continue;

                    let formattedRewardItem = reward.item
                    if(reward.reward == 'item.jobBoost' && reward.type == 'set') formattedRewardItem = `x${reward.item?.xp}`

                    formattedTextReplyReward += `\n${reward.type == 'add' ? 'x' : ''}${formattedRewardItem} ${capitalizeFirstLetter(splittedReward[splittedReward.length - 1] == 'list' ? 'nametag' : splittedReward[splittedReward.length - 1])}`
                }

                await addUserRedeemed(args[1], sender)
                await reply(from, `*Succes Redeem*\n\nReward:${formattedTextReplyReward}${redeemDb.from != undefined ? `\n\n_Kode Redeem ini dibuat oleh : *wa.me/${redeemDb.from.replace('@s.whatsapp.net', '')}*_` : ''}`, id)
            } else {
                return reply(from, 'Kode Redeem Tidak Valid')
            }
            break
        case prefix+'getredeem':
            if(!isAdmin) return reply(from, 'Perintah ini hanya untuk admin bot!', id)
            if(args[1] === undefined) return reply(from, `Penggunaan ${prefix}getredeem <kode_redeem>`, id)
            const dbRedeemGet = await _mongo_RedeemSchema.findOne({ code: args[1] })
            const listCodeRedeemGet = dbRedeemGet

            if(listCodeRedeemGet === undefined) return reply(from, 'Kode Redeem Tidak Valid')

            let formattedTextReplyRewardGet = ''
            const redeemDbGet = dbRedeemGet
            const timeStartRedeemGet = moment(redeemDbGet.time.date).format('Do MMMM YYYY,¬†HH:mm:ss')
            const timeExpiredRedeemGet = moment(redeemDbGet.time.expired).format('Do MMMM YYYY,¬†HH:mm:ss')
            for(let i = 0; i < redeemDbGet.reward.length; i++) {
                const rewardGet = redeemDbGet.reward[i]
                if(rewardGet.item < 1) {
                    rem.sendText(from, `[${i}] item_value_invalid!`)
                    continue;
                }

                const splittedRewardGet = rewardGet.reward.split('.')
                if(splittedRewardGet[splittedRewardGet.length - 1] == 'time') continue;

                let formattedRewardItemGet = rewardGet.item
                if(rewardGet.reward == 'item.jobBoost' && rewardGet.type == 'set') formattedRewardItemGet = `x${rewardGet.item?.xp}`

                formattedTextReplyRewardGet += `\n${rewardGet.type == 'add' ? 'x' : ''}${formattedRewardItemGet} ${capitalizeFirstLetter(splittedRewardGet[splittedRewardGet.length - 1] == 'list' ? 'nametag' : splittedRewardGet[splittedRewardGet.length - 1])}`
            }

            reply(from, `*Kode Redeem : ${args[1]}*\n\nReward:${formattedTextReplyRewardGet}\n\nAktif pada : ${timeStartRedeemGet} WIB\nExpired pada : ${timeExpiredRedeemGet} WIB${redeemDbGet.from != undefined ? `\n\n_Kode Redeem ini dibuat oleh : *wa.me/${redeemDbGet.from.replace('@s.whatsapp.net', '')}*_` : ''}`, id)
            break
        case prefix+'cr':
        case prefix+'createredeem':
        case prefix+'createredemcode':
            // if(!isOwner) return reply(from, 'Sedang dalam perbaikan...')
            if(isGroupMsg) return reply(from, 'Perintah ini hanya bisa di gunakan di dalam private chat!', id)
            if(!isPrem) return reply(from, 'Perintah ini hanya untuk user premium!', id)
            if(_userDb.limit.createredeem >= 1) return reply(from, 'Maksimal 1 kali/hari membuat kode redeem', id)

            const idRedeemItem = [{
                id: 'money',
                text: 'Money',
                reward: 'economy.money',
                price: 'numbertimeoptions',
                options: {
                    type: 'add',
                    number: 200000000,
                    limitItem: 2_000_000
                }
            }, {
                id: 'xp',
                text: 'XP',
                reward: 'economy.xp',
                price: 'numbertimeoptions',
                options: {
                    type: 'add',
                    number: 180000000,
                    limitItem: 4_000_000
                }
            }, {
                id: 'limit',
                text: 'Limit',
                reward: 'limit.limit',
                price: 200000,
                options: {
                    type: 'add',
                }
            }, {
                id: 'doublexp',
                text: 'DoubleXP',
                reward: 'item.level.level',
                price: 8000000000000,
                options: {
                    type: 'add',
                    limitItem: 10,
                    thenPush: {
                        reward: 'item.level.time',
                        type: 'set',
                        item: Date.now() + toMs('24h'),
                        isNotReplaced: true
                    }
                }
            }]
            // }, {
            //     id: 'jobBoost',
            //     text: 'Job Boost',
            //     reward: 'item.jobBoost.xp',
            //     price: 10000000000000,
            //     options: {
            //         type: 'set',
            //         limitItem: 2,
            //         thenPush: {
            //             reward: 'item.jobBoost.time',
            //             type: 'set',
            //             item: Date.now() + toMs('24h'),
            //             isNotReplaced: true
            //         }
            //     }
            // }]

            const contentRedeem = message.collectMessage != undefined || message.selectedRowId != undefined || message.selectedButtonId != undefined ? (message.collectMessage != undefined || message.selectedButtonId != undefined ? message.selectedButtonId : message.selectedRowId)?.replace(`${allArgs[0]} ${allArgs[1]} ${allArgs[2]} `, '') : undefined
            let contentRedeemBuilder = contentRedeem != undefined ? JSON.parse(contentRedeem) : []

            if(contentRedeem == undefined) {
                const sendTextHargaCr = `*Harga Create Redeem*

${idRedeemItem.map((all, i) => `${i + 1}. *${all.text}*\nHarga : _${idRedeemItem[i].price == 'numbertimeoptions' ? `Harga x${idRedeemItem[i].options.number}` : `Harga ${numberWithCommas(idRedeemItem[i].price)} Per item`}_`).join('\n')}`

                return rem.sendButtons(from, sendTextHargaCr, [{ id: `${prefix}cr landing 0 []`, text: 'Buat' }], '', '@dwirizqi.h')
            }

            if(!allArgs[1]?.startsWith('done') && allArgs[1] != 'landing') {
                if(allArgs[2] == undefined) return reply(from, 'Invalid!\nerr: invalid_id', id)
                if(allArgs[3] == undefined) return reply(from, 'Invalid!\nerr: invalid_content', id)

                const isExistsId = idRedeemItem.find(all => all.id == allArgs[2])
                if(!isExistsId) return reply(from, 'Invalid!\nerr: invalid_id', id)

                if(contentRedeemBuilder.length > 5) return reply(from, 'Maksimal 5 item!', id)

                const isItemExist = contentRedeemBuilder.find(all => all.id == isExistsId.id)
                if(isItemExist && isItemExist.count != 0) return reply(from, 'Item sudah ada!', id)
            }

            if(allArgs[1] == 'build') {
                const isExistsId = idRedeemItem.find(all => all.id == allArgs[2])
                if(!isExistsId) return reply(from, 'Invalid!\nerr: invalid_id', id)

                contentRedeemBuilder.push({ id: isExistsId.id, count: 0 })
                
                const isItemExist = contentRedeemBuilder.findIndex(all => all.id == allArgs[2])
                if(isItemExist == -1) return reply(from, 'Item tidak ada!', id)

                await addCollectorMessage(sender, from, `${prefix}cr itemcount ${contentRedeemBuilder[isItemExist].id} ${JSON.stringify(contentRedeemBuilder)}`, Date.now() + toMs('1m'), true, JSON.stringify(messageRaw))

                return rem.sendText(from, 'Masukkan jumlah item\nHarus berupa angka')
            } else if(allArgs[1] == 'itemcount') {
                const isItemExist = contentRedeemBuilder.findIndex(all => all.id == allArgs[2])
                if(isItemExist == -1) return reply(from, 'Item tidak ada!', id)

                const isExistsId = idRedeemItem.find(all => all.id == allArgs[2])
                if(!isExistsId) return reply(from, 'Invalid!\nerr: invalid_id', id)

                const numberSet = Number(message.collectMessage)
                if(isNaN(numberSet) || numberSet > isExistsId?.options?.limitItem || numberSet < 1) {
                    await addCollectorMessage(sender, from, `${prefix}cr itemcount ${contentRedeemBuilder[isItemExist].id} ${JSON.stringify(contentRedeemBuilder)}`, Date.now() + toMs('1m'), true, JSON.stringify(messageRaw))

                    if(numberSet < 1) reply(from, 'Minimal 1 item!', id)
                    numberSet > isExistsId?.options?.limitItem ? reply(from, `Max item : ${numberWithCommas(isExistsId.options.limitItem)}`) : reply(from, 'Harus berupa angka!', id)
                    return rem.sendText(from, 'Masukkan jumlah item\nHarus berupa angka')
                }

                contentRedeemBuilder[isItemExist].count = numberSet
            } else if(allArgs[1] == 'done') {
                if(contentRedeemBuilder.length == 0) return reply(from, 'Item tidak ada!', id)

                await addCollectorMessage(sender, from, `${prefix}cr done_limit 0 ${JSON.stringify(contentRedeemBuilder)}`, Date.now() + toMs('1m'), true, JSON.stringify(messageRaw))

                return rem.sendText(from, 'Masukkan jumlah limit stock redeem\nHarus berupa angka')
            } else if(allArgs[1] == 'done_limit') {
                const numberSet = Number(message.collectMessage)
                if(isNaN(numberSet) || numberSet < 1) {
                    await addCollectorMessage(sender, from, `${prefix}cr done_limit 0 ${JSON.stringify(contentRedeemBuilder)}`, Date.now() + toMs('1m'), true, JSON.stringify(messageRaw))

                    reply(from, 'Harus berupa angka! dan minimal 1', id)
                    return rem.sendText('Masukkan jumlah limit stock redeem\nHarus berupa angka')
                }

                const objPayload = [numberSet]
                await addCollectorMessage(sender, from, `${prefix}cr done_day ${JSON.stringify(objPayload)} ${JSON.stringify(contentRedeemBuilder)}`, Date.now() + toMs('1m'), true, JSON.stringify(messageRaw))

                return rem.sendText(from, 'Masukkan limit hari redeem\n\nMenit : *m*\nJam : *h*\nHari : *d*\nContoh : *_1d_*')
            } else if(allArgs[1] == 'done_day') {
                let payloadLimit = undefined
                try {
                    payloadLimit = JSON.parse(allArgs[2])[0]
                } catch(e) {
                    return reply(from, 'Invalid!\nerr: invalid_payload', id)
                }

                const timeSet = toMs(message.collectMessage)
                if(timeSet == undefined || Date.now() + timeSet < Date.now() + toMs('1m')) {
                    await addCollectorMessage(sender, from, `${prefix}cr done_day ${allArgs[2]} ${JSON.stringify(contentRedeemBuilder)}`, Date.now() + toMs('1m'), true, JSON.stringify(messageRaw))
                    
                    reply(from, 'Format salah!\nMinimal adalah 1 menit!', id)
                    return rem.sendText(from, 'Masukkan limit hari redeem\n\nMenit : *m*\nJam : *h*\nHari : *d*\nContoh : *_1d_*')
                }

                const objPayload = [payloadLimit, message.collectMessage.split(' ').join('')]

                if(isNaN(objPayload[0]) || toMs(objPayload[1]) == undefined) return reply(from, 'Invalid!\nerr: invalid_payload', id)
                if(Date.now() > (Date.now() + toMs(objPayload[1]))) return reply(from, 'Invalid!\nerr: invalid_time', id)

                const totalPricePerKey = contentRedeemBuilder.map(all => {
                    const isExistsId = idRedeemItem.find(all2 => all2.id == all.id)
                    if(isExistsId.price == 'numbertimeoptions') {
                        return isExistsId.options.number * all.count
                    } else {
                        return isExistsId.price * all.count
                    }
                }).reduce((a, b) => a + b)

                const allKeyCount = Number(objPayload[0])
                const totalPriceAllKey = allKeyCount * totalPricePerKey

                const dayKeyCount = timeConvert(Date.now() + toMs(objPayload[1]))
                const totalPriceAllDay = (dayKeyCount.day || 1) * totalPriceAllKey

                const formattedTextReply = `*Redeem Builder*\n\nItem:\n${contentRedeemBuilder.map((all, i) => {
                    const isExistsId = idRedeemItem.find(all2 => all2.id == all.id)
                    let priceItem = 0
                    if(isExistsId.price == 'numbertimeoptions') {
                       priceItem = isExistsId.options.number * all.count
                    } else {
                        priceItem = isExistsId.price * all.count
                    }
                    return `${i + 1}. *${idRedeemItem.find(all2 => all2.id == all.id).text}* x${numberWithCommas(all.count)} _($ ${numberWithCommas(priceItem)})_`
                }).join('\n')}\n\nJumlah Key: ${allKeyCount}\nWaktu: ${showElapsedTime(Date.now() - toMs(objPayload[1]))}\n\nHarga perKey : ${numberWithCommas(totalPricePerKey)} x ${allKeyCount}\nHarga per Hari : ${numberWithCommas(totalPriceAllKey)} x ${dayKeyCount.day}\n*Total Harga : ${numberWithCommas(totalPriceAllDay)}*\n\n*Apakah anda yakin?*` 
                return rem.sendButtons(from, formattedTextReply, [{ id: `${prefix}cr done_yes ${JSON.stringify(objPayload)} ${JSON.stringify(contentRedeemBuilder)}`, text: 'Yes' }, { id: '0', text: 'Tidak' }])
            } else if(allArgs[1] == 'done_yes') {
                if(isNaN(JSON.parse(allArgs[2])[0]) || toMs(JSON.parse(allArgs[2])[1]) == undefined) return reply(from, 'Invalid!\nerr: invalid_payload', id)
                if(Date.now() > (Date.now() + toMs(JSON.parse(allArgs[2])[1]))) return reply(from, 'Invalid!\nerr: invalid_time', id)

                const totalPricePerKey = contentRedeemBuilder.map(all => {
                    const isExistsId = idRedeemItem.find(all2 => all2.id == all.id)
                    if(isExistsId.price == 'numbertimeoptions') {
                        return isExistsId.options.number * all.count
                    } else {
                        return isExistsId.price * all.count
                    }
                }).reduce((a, b) => a + b)

                const allKeyCount = Number(JSON.parse(allArgs[2])[0])
                const totalPriceAllKey = allKeyCount * totalPricePerKey

                const dayKeyCount = timeConvert(Date.now() + toMs(JSON.parse(allArgs[2])[1]))
                const totalPriceAllDay = (dayKeyCount.day || 1) * totalPriceAllKey

                const userMoney = getMoney(_userDb)
                if(userMoney < totalPriceAllDay) return reply(from, 'Uang tidak cukup!', id)
                if(totalPriceAllDay < 1) return reply(from, 'Harga tidak valid!', id)

                await MinMoney(sender, totalPriceAllDay)

                //add redeem data to database
                //sample data
                // {
                //     code: "AhaLFWFKp07U",
                //     time: { date: Date.now(), expired: Infinity },
                //     limit: Infinity,
                //     claimed: 0,
                //     claimedBy: [],
                //     reward: [
                //         { reward: 'invest.elacoin', type: 'add', item: 2 },
                //         { reward: 'item.level.level', type: 'add', item: 10 },
                //         { reward: 'item.level.time', type: 'set', item: 1676394000000, isNotReplaced: true },
                //         { reward: 'item.dscinv', type: 'set', item: { buy: 7, sell: 0, time: 1676394000000 } },
                //     ]
                // }

                const dataRedeem = {
                    code: GenerateSerialNumber("0000000000"),
                    time: { date: Date.now(), expired: Date.now() + toMs(JSON.parse(allArgs[2])[1]) },
                    limit: allKeyCount,
                    claimed: 0,
                    claimedBy: [],
                    reward: [],
                    from: sender
                }

                for(let i = 0; i < contentRedeemBuilder.length; i++) {
                    const isExistsId = idRedeemItem.find(all2 => all2.id == contentRedeemBuilder[i].id)
                    dataRedeem.reward.push({ reward: isExistsId.reward, type: isExistsId.options.type, item: contentRedeemBuilder[i].count, isNotReplaced: isExistsId.isNotReplaced || false })
                    if(isExistsId.options.thenPush) {
                        dataRedeem.reward.push(isExistsId.options.thenPush)
                    }
                }

                await addCodeRedeem(dataRedeem)

                return reply(from, `Berhasil membuat redeem code!\n\nCode: *_${dataRedeem.code}_*\nUrl: redeem.remcp.com?code=${dataRedeem.code}\nWaktu: ${showElapsedTime(Date.now() - toMs(JSON.parse(allArgs[2])[1]))}\nLimit: ${allKeyCount}\n\nHarga perKey : ${numberWithCommas(totalPricePerKey)} x ${allKeyCount}\nHarga per Hari : ${numberWithCommas(totalPriceAllKey)} x ${dayKeyCount.day}\n*Total Harga : ${numberWithCommas(totalPriceAllDay)}*`, id)
            }
                

            if(allArgs[1] == 'build' || allArgs[1] == 'itemcount' || allArgs[1] == 'landing') {
                const formattedTextReply = `*Redeem Builder*\n\nItem:\n${contentRedeemBuilder.map((all, i) => `${i + 1}. ${idRedeemItem.find(all2 => all2.id == all.id).text}`).join('\n')}`

                const rows = []
                for(let i = 0; i < idRedeemItem.length; i++) {
                    rows.push({ title: idRedeemItem[i].text, description: idRedeemItem[i].price == 'numbertimeoptions' ? `Harga x${idRedeemItem[i].options.number}` : `Harga ${numberWithCommas(idRedeemItem[i].price)} Per item`, rowId: `${prefix}cr build ${idRedeemItem[i].id} ${JSON.stringify(contentRedeemBuilder)}` })
                }
                const sections = [{ title: 'Done', rows: [{ title: 'Done', description: 'Done', rowId: `${prefix}cr done 0 ${JSON.stringify(contentRedeemBuilder)}` }] }, { title: 'Pilih Item', rows: rows }]
                await rem.sendList(from, formattedTextReply, sections, 'Redeem Builder', '@dwirizqi.h')
            }

            break
        case prefix+'test123':
            if(!isOwner) return reply(from, 'Perintah ini hanya untuk Dwi!')
            const waktutest1 = Math.floor(1)
            const expiredtime1 = Date.now() + toMs(waktutest1+'m')
            await addDiscInv(sender, 35, 10, expiredtime1)
            break
        case prefix+'buyall':
            if (!isGroupMsg) return reply(from, 'Perintah ini hanya bisa di gunakan dalam group!', id)
            const duidBuyAll_Limit = Math.floor(getLevelingXp(_userDb))
            const oneLimit = Math.floor(10000)
            var buyLimit_all = Math.floor(duidBuyAll_Limit / oneLimit) - 1
            //console.log(buyLimit_all0)
            if (message.selectedButtonId == undefined || allArgs[1] != 'continue') return rem.sendButtons(from, `*BUY ALL*\n\nLimit: ${buyLimit_all}\nHarga 1 Limit: ${numberWithCommas(fixNumberE(oneLimit))}\n\n*Total Harga: _${numberWithCommas(fixNumberE(buyLimit_all * oneLimit))} + 20.000(Pajak)_*\nApakah anda yakin?`, [{ id: `${prefix}buyall continue`, text: 'Yes' }, { id: '0', text: 'Tidak' }], '', '@dwirizqi.h')
            if(buyLimit_all <= 0) return reply(from, `Maaf, XP kamu tidak cukup\nHarga 1 Limit = _${numberWithCommas(fixNumberE(oneLimit))}_ + 20.000(Pajak)\nDuid kamu : _${numberWithCommas(fixNumberE(getLevelingXp(_userDb)))}_`, id)
            var buyingLimit_all0 = Math.floor(buyLimit_all * oneLimit)
            const pajakLimit_buy = Math.floor(20000)
            var buyingLimit_all = Math.floor(buyingLimit_all0 + pajakLimit_buy)
            await limitGive(sender, buyLimit_all)
            await MinLevelingXp(sender, buyingLimit_all)
            reply(from, 'Succes\nLimit: +'+buyLimit_all+'\nXp: -'+buyingLimit_all+'\n\nTerimakasih telah mampir')
            break
        case prefix+'buy':
            if (!isGroupMsg) return reply(from, 'Perintah ini hanya bisa di gunakan dalam group!', id)
            const userXpp = getLevelingXp(_userDb)
            if(args[1] == '1') {
                const amountXpp = Math.floor(Math.random() * 10) + 50000
                const amountXppmin = Math.floor(Math.random() * 10) - 50010
                if(userXpp > amountXpp) {
                    reply(from, 'Succes\nLimit: +5\nXp: '+numberWithCommas(fixNumberE(amountXppmin))+'\n\nTerimakasih telah mampir')
                    await addLevelingXp(sender, amountXppmin)
                    limitGive(serial, 5)
                } else {
                    reply(from, '*GAGAL!*\nXp kamu tidak mencukupi\nXp kamu: '+numberWithCommas(fixNumberE(userXpp))+'\nXp yang diperlukan: '+numberWithCommas(fixNumberE(amountXpp)))
                }
            } else if(args[1] == '2') {
                const amountXpp = Math.floor(Math.random() * 10) + 100000
                const amountXppmin = Math.floor(Math.random() * 10) - 100010
                if(userXpp > amountXpp) {
                    reply(from, 'Succes\nLimit: +10\nXp: '+numberWithCommas(fixNumberE(amountXppmin))+'\n\nTerimakasih telah mampir')
                    await addLevelingXp(sender, amountXppmin)
                    limitGive(serial, 10)
                } else {
                    reply(from, '*GAGAL!*\nXp kamu tidak mencukupi\nXp kamu: '+numberWithCommas(fixNumberE(userXpp))+'\nXp yang diperlukan: '+numberWithCommas(fixNumberE(amountXpp)))
                }
            } else if(args[1] == '3') {
                const amountXpp = Math.floor(Math.random() * 10) + 150000
                const amountXppmin = Math.floor(Math.random() * 10) - 150010
                if(userXpp > amountXpp) {
                    reply(from, 'Succes\nLimit: +15\nXp: '+numberWithCommas(fixNumberE(amountXppmin))+'\n\nTerimakasih telah mampir')
                    await addLevelingXp(sender, amountXppmin)
                    limitGive(serial, 15)
                } else {
                    reply(from, '*GAGAL!*\nXp kamu tidak mencukupi\nXp kamu: '+numberWithCommas(fixNumberE(userXpp))+'\nXp yang diperlukan: '+numberWithCommas(fixNumberE(amountXpp)))
                }
            } else if(args[1] == '4') {
                const amountXpp = Math.floor(Math.random() * 10) + 200000
                const amountXppmin = Math.floor(Math.random() * 10) - 200010
                if(userXpp > amountXpp) {
                    reply(from, 'Succes\nLimit: +20\nXp: '+numberWithCommas(fixNumberE(amountXppmin))+'\n\nTerimakasih telah mampir')
                    await addLevelingXp(sender, amountXppmin)
                    limitGive(serial, 20)
                } else {
                    reply(from, '*GAGAL!*\nXp kamu tidak mencukupi\nXp kamu: '+numberWithCommas(fixNumberE(userXpp))+'\nXp yang diperlukan: '+numberWithCommas(fixNumberE(amountXpp)))
                }
            } else if(args[1] == '5') {
                const amountXpp = Math.floor(Math.random() * 10) + 250000
                const amountXppmin = Math.floor(Math.random() * 10) - 250010
                if(userXpp > amountXpp) {
                    reply(from, 'Succes\nLimit: +25\nXp: '+numberWithCommas(fixNumberE(amountXppmin))+'\n\nTerimakasih telah mampir')
                    await addLevelingXp(sender, amountXppmin)
                    limitGive(serial, 25)
                } else {
                    reply(from, '*GAGAL!*\nXp kamu tidak mencukupi\nXp kamu: '+numberWithCommas(fixNumberE(userXpp))+'\nXp yang diperlukan: '+numberWithCommas(fixNumberE(amountXpp)))
                }
            } else if(args[1] == '6') {
                const amountXpp = Math.floor(Math.random() * 10) + 300000
                const amountXppmin = Math.floor(Math.random() * 10) - 300010
                if(userXpp > amountXpp) {
                    reply(from, 'Succes\nLimit: +30\nXp: '+numberWithCommas(fixNumberE(amountXppmin))+'\n\nTerimakasih telah mampir')
                    await addLevelingXp(sender, amountXppmin)
                    limitGive(serial, 30)
                } else {
                    reply(from, '*GAGAL!*\nXp kamu tidak mencukupi\nXp kamu: '+numberWithCommas(fixNumberE(userXpp))+'\nXp yang diperlukan: '+numberWithCommas(fixNumberE(amountXpp)))
                }
            } else if(args[1] == '7') {
                const amountXpp = Math.floor(Math.random() * 10) + 350000
                const amountXppmin = Math.floor(Math.random() * 10) - 350010
                if(userXpp > amountXpp) {
                    reply(from, 'Succes\nLimit: +35\nXp: '+numberWithCommas(fixNumberE(amountXppmin))+'\n\nTerimakasih telah mampir')
                    await addLevelingXp(sender, amountXppmin)
                    limitGive(serial, 35)
                } else {
                    reply(from, '*GAGAL!*\nXp kamu tidak mencukupi\nXp kamu: '+numberWithCommas(fixNumberE(userXpp))+'\nXp yang diperlukan: '+numberWithCommas(fixNumberE(amountXpp)))
                }
            } else if(args[1] == '8') {
                const amountXpp = Math.floor(Math.random() * 10) + 400000
                const amountXppmin = Math.floor(Math.random() * 10) - 400010
                if(userXpp > amountXpp) {
                    reply(from, 'Succes\nLimit: +40\nXp: '+numberWithCommas(fixNumberE(amountXppmin))+'\n\nTerimakasih telah mampir')
                    await addLevelingXp(sender, amountXppmin)
                    limitGive(serial, 40)
                } else {
                    reply(from, '*GAGAL!*\nXp kamu tidak mencukupi\nXp kamu: '+numberWithCommas(fixNumberE(userXpp))+'\nXp yang diperlukan: '+numberWithCommas(fixNumberE(amountXpp)))
                }
            } else if(args[1] == '9') {
                const amountXpp = Math.floor(Math.random() * 10) + 450000
                const amountXppmin = Math.floor(Math.random() * 10) - 450010
                if(userXpp > amountXpp) {
                    reply(from, 'Succes\nLimit: +45\nXp: '+numberWithCommas(fixNumberE(amountXppmin))+'\n\nTerimakasih telah mampir')
                    await addLevelingXp(sender, amountXppmin)
                    limitGive(serial, 45)
                } else {
                    reply(from, '*GAGAL!*\nXp kamu tidak mencukupi\nXp kamu: '+numberWithCommas(fixNumberE(userXpp))+'\nXp yang diperlukan: '+numberWithCommas(fixNumberE(amountXpp)))
                }
            } else if(args[1] == '10') {
                const amountXpp = Math.floor(Math.random() * 10) + 500000
                const amountXppmin = Math.floor(Math.random() * 10) - 500010
                if(userXpp > amountXpp) {
                    reply(from, 'Succes\nLimit: +50\nXp: '+numberWithCommas(fixNumberE(amountXppmin))+'\n\nTerimakasih telah mampir')
                    await addLevelingXp(sender, amountXppmin)
                    limitGive(serial, 50)
                } else {
                    reply(from, '*GAGAL!*\nXp kamu tidak mencukupi\nXp kamu: '+numberWithCommas(fixNumberE(userXpp))+'\nXp yang diperlukan: '+numberWithCommas(fixNumberE(amountXpp)))
                }
            } else {
                reply(from, 'Ketik _'+prefix+'shop_ untuk melihat menu')
            }
            break
        case prefix+'test7765':
            const currentLevel2 = getLevelingLevel(_userDb)
            const doubleXpTimeCount = getUserItemId(_userDb)
            if(currentLevel2 < 5) {
                var amountXpNambah2 = 1200
            } else if(currentLevel2 > 10) {
                var amountXpNambah2 = 3450
            } else if(currentLevel2 > 7) {
                var amountXpNambah2 = 2700
            } else if(currentLevel2 > 4) {
                var amountXpNambah2 = 1950
            } else {
                var amountXpNambah2 = 1000
            }
            if (getItemLevel(_userDb) == undefined) {
                var amountXptest = Math.floor(amountXpNambah2)
            } else {
                var amountXptest = Math.floor(amountXpNambah2 * getItemLevel(_userDb).level)
            }
            if(doubleXpTimeCount == undefined || doubleXpTimeCount == null) {
                var outputTextDoubleXpCheckText = '-'
            } else {
                const timeConvertDoubleXpCheck = timeConvert(doubleXpTimeCount.time)
                //console.log(timeConvertDoubleXpCheck)
                var outputTextDoubleXpCheckText = `${timeConvertDoubleXpCheck.day} Hari | ${timeConvertDoubleXpCheck.hour} Jam : ${timeConvertDoubleXpCheck.minute} Menit : ${timeConvertDoubleXpCheck.second} Detik`     
            }
            reply(from, `XpPerChat : ${numberWithCommas(fixNumberE(amountXptest))}\nDoubleXp : ${outputTextDoubleXpCheckText}`)
            break
        case prefix+'buyalljboost':
            if(!isSideOwner) return reply(from, 'Perintah ini hanya untuk SideOwner!')
                const uangBuyAllJBoost = Math.floor(getMoney(_userDb))
                const oneJBoost = Math.floor(100000)
                var buyJBoost_all = Math.floor(uangBuyAllJBoost / oneJBoost) - 1

                if(message.selectedButtonId == undefined || allArgs[1] != 'continue') return rem.sendButtons(from, `*BUY ALL JOB BOOST*\n\nJob Boost: ${buyJBoost_all}\nHarga 1 Job Boost: ${numberWithCommas(fixNumberE(oneJBoost))}\n\n*Total Harga: _${numberWithCommas(fixNumberE(buyJBoost_all * oneJBoost))} + 20.000(Pajak)_*\nApakah anda yakin?`, [{ id: `${prefix}buyalljboost continue`, text: 'Yes' }, { id: '0', text: 'Tidak' }], '', '@dwirizqi.h')
                if(buyJBoost_all <= 0) return reply(from, `Maaf, Uang kamu tidak cukup\nHarga 1 Job Boost = _${numberWithCommas(fixNumberE(oneJBoost))}_ + 20.000(Pajak)\nUang kamu : _${numberWithCommas(fixNumberE(getMoney(_userDb)))}_`, id)
                var buyingJBoost_all0 = Math.floor(buyJBoost_all * oneJBoost)
                const pajakJBoost_buy = Math.floor(20000)
                var buyingJBoost_all = Math.floor(buyingJBoost_all0 + pajakJBoost_buy)
                const timeSehari = Math.floor(24)
                const timeJam = timeSehari+'h'
                if(getUserItemId(_userDb, true) == undefined) {
                    await addItemJobBoost(_userDb, buyJBoost_all, timeJam)
                } else {
                    await addJumItemJobBoost(_userDb, sender, buyJBoost_all)
                }
                await MinMoney(sender, buyingJBoost_all)
                _userDb = await _mongo_UserSchema.findOne({ iId: sender })
                reply(from, `Succes!\nJob Boost x${getItemJobBoost(_userDb, true).jobBoost}`)
                break
        case prefix+'buyxp':
        case prefix+'buyitem':
            if (!isGroupMsg) return reply(from, 'Perintah ini hanya bisa di gunakan dalam group!', id)
            if(getMoney(_userDb) == undefined) await setMoney(_userDb)
            if(args[1] == '1') {
                if(getUserItemId(_userDb, true) == undefined) {
                    const uangnya = Math.floor(85000)
                    const waktunya = Math.floor(24)
                    const waktubrohei = waktunya+'h'
                    if(getMoney(_userDb) > uangnya) {
                        await addItemLevel(_userDb, 1, waktubrohei)
                        await MinMoney(sender, 85000)
                        _userDb = await _mongo_UserSchema.findOne({ iId: sender })
                        reply(from, `SUCCES!\nLevel x${getItemLevel(_userDb, true).level}`)
                    } else {
                        reply(from, '*GAGAL!*\nUang kamu tidak mencukupi\nUang kamu: '+numberWithCommas(fixNumberE(getMoney(_userDb)))+'\nUang yang diperlukan 85000')
                    }
                } else {
                    const uangnya = Math.floor(85000)
                    if(getMoney(_userDb) > uangnya) {
                        await addJumItemLevel(_userDb, sender, 1)
                        await MinMoney(sender, 85000)
                        _userDb = await _mongo_UserSchema.findOne({ iId: sender })
                        reply(from, `SUCCES!\nLevel x${getItemLevel(_userDb, true).level}`)
                    } else {
                        reply(from, '*GAGAL!*\nUang kamu tidak mencukupi\nUang kamu: '+numberWithCommas(fixNumberE(getMoney(_userDb)))+'\nUang yang diperlukan 85000')
                    }
                }
            } else if(args[1] == '2') {
                if(getUserItemId(_userDb, true) == undefined) {
                    const uangnya = Math.floor(110000)
                    const waktunya = Math.floor(24)
                    const waktubrohei = waktunya+'h'
                    if(getMoney(_userDb) > uangnya) {
                        await addItemLevel(_userDb, 2, waktubrohei)
                        await MinMoney(sender, 110000)
                        _userDb = await _mongo_UserSchema.findOne({ iId: sender })
                        reply(from, `SUCCES!\nLevel x${getItemLevel(_userDb, true).level}`)
                    } else {
                        reply(from, '*GAGAL!*\nUang kamu tidak mencukupi\nUang kamu: '+numberWithCommas(fixNumberE(getMoney(_userDb)))+'\nUang yang diperlukan 110000')
                    }
                } else {
                    const uangnya = Math.floor(110000)
                    if(getMoney(_userDb) > uangnya) {
                        await addJumItemLevel(_userDb, sender, 2)
                        await MinMoney(sender, 110000)
                        _userDb = await _mongo_UserSchema.findOne({ iId: sender })
                        reply(from, `SUCCES!\nLevel x${getItemLevel(_userDb, true).level}`)
                    } else {
                        reply(from, '*GAGAL!*\nUang kamu tidak mencukupi\nUang kamu: '+numberWithCommas(fixNumberE(getMoney(_userDb)))+'\nUang yang diperlukan 110000')
                    }
                }
            } else if(args[1] == '3') {
                if(getUserItemId(_userDb, true) == undefined) {
                    const uangnya = Math.floor(135000)
                    const waktunya = Math.floor(24)
                    const waktubrohei = waktunya+'h'
                    if(getMoney(_userDb) > uangnya) {
                        await addItemLevel(_userDb, 3, waktubrohei)
                        await MinMoney(sender, 135000)
                        _userDb = await _mongo_UserSchema.findOne({ iId: sender })
                        reply(from, `SUCCES!\nLevel x${getItemLevel(_userDb, true).level}`)
                    } else {
                        reply(from, '*GAGAL!*\nUang kamu tidak mencukupi\nUang kamu: '+numberWithCommas(fixNumberE(getMoney(_userDb)))+'\nUang yang diperlukan 135000')
                    }
                } else {
                    const uangnya = Math.floor(135000)
                    if(getMoney(_userDb) > uangnya) {
                        await addJumItemLevel(_userDb, sender, 3)
                        await MinMoney(sender, 135000)
                        _userDb = await _mongo_UserSchema.findOne({ iId: sender })
                        reply(from, `SUCCES!\nLevel x${getItemLevel(_userDb, true).level}`)
                    } else {
                        reply(from, '*GAGAL!*\nUang kamu tidak mencukupi\nUang kamu: '+numberWithCommas(fixNumberE(getMoney(_userDb)))+'\nUang yang diperlukan 135000')
                    }
                }
            } else if(args[1] == '4') {
                if(getUserItemId(_userDb) == undefined) {
                    const uangnya = Math.floor(160000)
                    const waktunya = Math.floor(24)
                    const waktubrohei = waktunya+'h'
                    if(getMoney(_userDb) > uangnya) {
                        await addItemLevel(_userDb, 4, waktubrohei)
                        await MinMoney(sender, 160000)
                        _userDb = await _mongo_UserSchema.findOne({ iId: sender })
                        reply(from, `SUCCES!\nLevel x${getItemLevel(_userDb, true).level}`)
                    } else {
                        reply(from, '*GAGAL!*\nUang kamu tidak mencukupi\nUang kamu: '+numberWithCommas(fixNumberE(getMoney(_userDb)))+'\nUang yang diperlukan 160000')
                    }
                } else {
                    const uangnya = Math.floor(160000)
                    if(getMoney(_userDb) > uangnya) {
                        await addJumItemLevel(_userDb, sender, 4)
                        await MinMoney(sender, 160000)
                        _userDb = await _mongo_UserSchema.findOne({ iId: sender })
                        reply(from, `SUCCES!\nLevel x${getItemLevel(_userDb, true).level}`)
                    } else {
                        reply(from, '*GAGAL!*\nUang kamu tidak mencukupi\nUang kamu: '+numberWithCommas(fixNumberE(getMoney(_userDb)))+'\nUang yang diperlukan 160000')
                    }
                }
            } 
            
            // Penyamaran
            else if(args[1] == '5') {
                if(getUserItemIdSpy(_userDb, true) != undefined) return reply(from, 'Kamu sudah mempunyai item ini')
                const uangnya = Math.floor(999_000)
                const waktunya = Math.floor(24)
                const waktubrohei = waktunya+'h'
                if(getMoney(_userDb) < uangnya) return reply(from, '*GAGAL!*\nUang kamu tidak mencukupi\nUang kamu: '+numberWithCommas(fixNumberE(getMoney(_userDb)))+'\nUang yang diperlukan 999.000')
                
                await addItemSpy(sender, waktubrohei)
                await MinMoney(sender, 999_000)
                reply(from, `SUCCES!\nPenyamaran telah diaktifkan\nBisa dinonaktifkan di _${prefix}item_`)
            } else if(args[1] == '6') {
                if(getUserItemIdSpy(_userDb, true) != undefined) return reply(from, 'Kamu sudah mempunyai item ini')
                const uangnya = Math.floor(6_399_000)
                const waktubrohei = 7 + 'd'
                if(getMoney(_userDb) < uangnya) return reply(from, '*GAGAL!*\nUang kamu tidak mencukupi\nUang kamu: '+numberWithCommas(fixNumberE(getMoney(_userDb)))+'\nUang yang diperlukan 6.399.000')
                
                await addItemSpy(sender, waktubrohei)
                await MinMoney(sender, 6_399_000)
                reply(from, `SUCCES!\nPenyamaran telah diaktifkan\nBisa dinonaktifkan di _${prefix}item_`)
            }
            
            else {
                reply(from, `Tidak ditemukan barang  ${args[1]}`)
            }
            break
        case prefix+'buyallxp':
        case prefix+'buyalxp':
            //if(!isOwner) return reply(from, 'Maaf, command ini sedang dalam perbaikan')
            if (!isGroupMsg) return reply(from, 'Perintah ini hanya bisa di gunakan dalam group!', id)
            const duidBuyAll_xp = Math.floor(getMoney(_userDb))
            const oneXpDouble = Math.floor(86000)
            var buyDoubleXp_all = Math.floor(duidBuyAll_xp / oneXpDouble) - 1
            //console.log(buyDoubleXp_all0)
            if (message.selectedButtonId == undefined || allArgs[1] != 'continue') return rem.sendButtons(from, `*BUY ALL XP*\n\nDoubleXp x${buyDoubleXp_all}\nHarga 1x: ${numberWithCommas(fixNumberE(oneXpDouble))}\n\n*Total Harga: _${numberWithCommas(fixNumberE(buyDoubleXp_all * oneXpDouble))} + 20.000(Pajak)_*\nApakah anda yakin?`, [{ id: `${prefix}buyallxp continue`, text: 'Yes' }, { id: '0', text: 'Tidak' }], '', '@dwirizqi.h')
            if(buyDoubleXp_all <= 0) return reply(from, `Maaf, Duid kamu tidak cukup\nHarga 1x = _${numberWithCommas(fixNumberE(oneXpDouble))}_ + 20.000(Pajak)\nDuid kamu : _${numberWithCommas(fixNumberE(getMoney(_userDb)))}_`)
            var buyingDoubleXp_all0 = Math.floor(buyDoubleXp_all * oneXpDouble)
            const pajakDoubleXp = Math.floor(20000)
            var buyingDoubleXp_all = Math.floor(buyingDoubleXp_all0 + pajakDoubleXp)
            const waktunyaaa = Math.floor(24)
            const waktubroheiio = waktunyaaa+'h'
            if(getUserItemId(_userDb, true) == undefined) {
                await addItemLevel(_userDb, buyDoubleXp_all, waktubroheiio)
            } else {
                await addJumItemLevel(_userDb, sender, buyDoubleXp_all)
            }
            await MinMoney(sender, buyingDoubleXp_all)
            _userDb = await _mongo_UserSchema.findOne({ iId: sender })
            reply(from, `SUCCES!\nLevel x${getItemLevel(_userDb, true).level}`)
            break
        case prefix+'item':
            let AllFormattedItem = []
            async function formatItemList() {
                AllFormattedItem = []
                const listAllItemArrayToObject = getUserListItem(_userDb, true)
                const allKeysItemDeactive = Object.keys(listAllItemArrayToObject || {})
    
                const listItemActive = _userDb.item
                const listItemDeactive = listAllItemArrayToObject
                if(((listItemActive?.level != undefined && listItemActive?.level?.time != 0) && JSON.stringify(listItemActive.level) != '{}') || (allKeysItemDeactive.includes('level'))) {
                    const itemData = listItemDeactive.level || listItemActive?.level
                    const timeConvertLevelItem = timeConvert(itemData.time)
                    AllFormattedItem.push({ active: !allKeysItemDeactive.includes('level'), id: 'level', name: 'Double Xp', text: `*Double Xp* x${itemData.level}\n    Expired: ${timeConvertLevelItem.day} Hari | ${timeConvertLevelItem.hour} Jam : ${timeConvertLevelItem.minute} Menit : ${timeConvertLevelItem.second} Detik` })
                }
    
                if(((listItemActive?.dscinv != undefined && listItemActive?.dscinv?.time != 0) && JSON.stringify(listItemActive.dscinv) != '{}') || (allKeysItemDeactive.includes('dscinv'))) {
                    const itemData = listItemDeactive.dscinv || listItemActive?.dscinv
                    const timeConvertDscinvItem = timeConvert(itemData.time)
                    AllFormattedItem.push({ active: !allKeysItemDeactive.includes('dscinv'), id: 'dscinv', name: 'Diskon Invest', text: `*Diskon Invest* (${itemData.buy || 0}% Buy) (${itemData.sell || 0}% Sell)\n    Expired: ${timeConvertDscinvItem.day} Hari | ${timeConvertDscinvItem.hour} Jam : ${timeConvertDscinvItem.minute} Menit : ${timeConvertDscinvItem.second} Detik` })
                }
    
                if(((listItemActive?.spy != undefined && listItemActive?.spy?.time != 0) && JSON.stringify(listItemActive.spy) != '{}') || (allKeysItemDeactive.includes('spy'))) {
                    const itemData = listItemDeactive.spy || listItemActive?.spy
                    const timeConvertSpyItem = timeConvert(itemData.time)
                    AllFormattedItem.push({ active: !allKeysItemDeactive.includes('spy'), id: 'spy', name: 'Penyamaran', text: `*Penyamaran*\n    Expired: ${timeConvertSpyItem.day} Hari | ${timeConvertSpyItem.hour} Jam : ${timeConvertSpyItem.minute} Menit : ${timeConvertSpyItem.second} Detik` })
                }
                // sort active from true to false
                AllFormattedItem.sort((a, b) => (a.active < b.active) ? 1 : -1)
            }

            const selectArgsItem = args[1]
            if(selectArgsItem != undefined) {
                if(isNaN(selectArgsItem)) return reply(from, 'Nomor item harus berupa angka!', id)

                await formatItemList()
                const selectItem = AllFormattedItem[selectArgsItem - 1]
                if(selectItem == undefined) return reply(from, 'Nomor item tidak ditemukan!', id)

                const resultChangeItem = selectItem.active ? await disableUserListItem(sender, selectItem.id) : await enableUserListItem(sender, selectItem.id)
                if(!resultChangeItem) return reply(from, 'Gagal mengubah item!', id)

                reply(from, `Berhasil ${selectItem.active ? 'menonaktifkan' : 'mengaktifkan'} item ${selectItem.name}!`)
                _userDb = await _mongo_UserSchema.findOne({ iId: sender })
                await formatItemList()
            } else {
                await formatItemList()
            }

            let counterItem = 0
            let textSendItem = `Berikut adalah item yang kamu miliki:\n\n`

            const filterActiveItem = AllFormattedItem.filter(all => all.active == true)
            textSendItem += `*Aktif*`
            for(let i = 0; i < filterActiveItem.length; i++) {
                counterItem += 1
                textSendItem += `\n${counterItem}. ${filterActiveItem[i].text}`
            }
            if(filterActiveItem.length == 0) textSendItem += `\nTidak ada item yang aktif`
            
            const filterDeactiveItem = AllFormattedItem.filter(all => all.active == false)
            textSendItem += `\n\n*Nonaktif*`
            for(let i = 0; i < filterDeactiveItem.length; i++) {
                counterItem += 1
                textSendItem += `\n${counterItem}. ${filterDeactiveItem[i].text}`
            }
            if(filterDeactiveItem.length == 0) textSendItem += `\nTidak ada item yang nonaktif`

            textSendItem += `\n\nKetik *_${prefix}item <nomer urut>_* untuk mengaktifkan atau menonaktifkan item\nContoh: _${prefix}item 1_`
            reply(from, textSendItem)
            break
        case prefix+'mining':
        case prefix+'mi':
            if (!isGroupMsg) return reply(from, 'Perintah ini hanya bisa di gunakan dalam group!', id)
            const waktumining = Math.floor(1)
            const wakturesetmining = waktumining+'d'
            const randommoney = Math.floor(Math.random() * 500) + 500

            let miningJum = getMiningJum(_userDb)
            if(_userDb.economy?.mining?.time <= Date.now()) {
                miningJum = 0
                await _mongo_UserSchema.updateOne({ iId: sender }, { $set: { 'economy.mining.jum': 0, 'economy.mining.time': Date.now() + toMs(wakturesetmining) } })
            }

            if(miningJum > 5) return reply(from, 'Kamu sudah menambang berkali2, tunggu 1 hari untuk menambang kembali')
            if(getMoney(_userDb) === undefined) await setMoney(sender)
            if(getMiningJum(_userDb) == undefined) await addMining(sender, wakturesetmining)
                await addJumMining(sender)
                await addMoney(sender, randommoney, _userDb)
                reply(from, `Kamu Menambang dan Mendapat Rp. ${randommoney}`)
            break
        case prefix+'setbg':
            //if (!isGroupMsg) return await reply(from, 'Command ini hanya bisa digunakan di dalam grup!', id)
            if (isMedia && isImage || isQuotedImage) {
                const levels = getLevelingLevel(_userDb)
                const xps = getLevelingXp(_userDb)
                if (levels === undefined && xps === undefined) await addLevelingId(sender)
                if (getBg(_userDb) == undefined) await addBg(sender)
                const encryptMediaa = isQuotedImage ? await quotedMsg.getMedia() : await message.getMedia()

                // const checkNsfwSetbg = await checkImageNsfw(encryptMediaa)
                // if(checkNsfwSetbg.objects.length !== 0) {
                //     // checkNsfwSetbg.object is a Array of box position, create a canvas to draw the boxes and write the text under the box on the encryptMediaa image
                //     const sizeImageSetbg = await sizeOf(encryptMediaa)
                //     const canvasCreate = cnvs.createCanvas(sizeImageSetbg.width, sizeImageSetbg.height)
                //     const ctx = canvasCreate.getContext('2d')
                //     const imageSetbg = await cnvs.loadImage(encryptMediaa)
                //     ctx.drawImage(imageSetbg, 0, 0, sizeImageSetbg.width, sizeImageSetbg.height)
                //     ctx.strokeStyle = 'blue'
                //     ctx.lineWidth = 10
                //     for (const box of checkNsfwSetbg.objects) {
                //         // ctx.beginPath()
                //         // ctx.rect(box.box[0], box.box[1], box.box[2], box.box[3])
                //         // ctx.stroke()
                //         // crete box, box[0] = x, box[1] = y, box[2] = width, box[3] = height
                //         ctx.font = 'bold 40px Courier New'
                //         ctx.fillStyle = 'red'
                //         ctx.fillText('NSFW! ' + box.label, box.box[0], box.box[1] + box.box[3] + 45)

                //         ctx.beginPath()
                //         ctx.rect(box.box[0], box.box[1], box.box[2], box.box[3])
                //         ctx.stroke()

                //         // fill inside box with black color
                //         ctx.fillStyle = 'black'
                //         ctx.fillRect(box.box[0], box.box[1], box.box[2], box.box[3])
                //     }
                //     const imageBuffer = await canvasCreate.toBuffer()
                //     return rem.sendFile(from, imageBuffer, 'nsfw.png', '*Nsfw detected!*', messageRaw, image)
                // }

                if (fs.existsSync(`./media/user/level/${sender}.png` || `./media/user/level/${sender}.jpg`)) await fs.unlinkSync(`./media/user/level/${sender}.png` || `./media/user/level/${sender}.jpg`)
                await fs.writeFileSync(`./media/user/level/${sender}.png`, encryptMediaa)
                await replaceBg(sender, `./media/user/level/${sender}.png`)
                reply(from, 'Success set new background!', id)
            } else {
                await reply(from, 'Format salah\nSilahkan reply pesan dengan gambar', id)
            }
            break
        case prefix+'setbg2':
            //if (!isGroupMsg) return await reply(from, 'Command ini hanya bisa digunakan di dalam grup!', id)
            if (isMedia && isImage || isQuotedImage) {
                if (getBgProfile(_userDb) == undefined) await addBgProfile(sender)
                if (fs.existsSync(`./media/user/bgprfl/${sender}.png`)) await fs.unlinkSync(`./media/user/bgprfl/${sender}.png`)
                const encryptMediaa = isQuotedImage ? await quotedMsg.getMedia() : await message.getMedia()
                await fs.writeFileSync(`./media/user/bgprfl/${sender}.png`, encryptMediaa)
                await replaceBgProfile(sender, `./media/user/bgprfl/${sender}.png`)
                const dimensionsSetbg2 = await sizeOf(`./media/user/bgprfl/${sender}.png`)
                await reply(from, 'Success set new background!', id)
                if(dimensionsSetbg2.width >= 400 || dimensionsSetbg2.height >= 150) {
                    reply(from, `*!!Warning!!*\n_${dimensionsSetbg2.width}x${dimensionsSetbg2.height}_\n*Jika hasil menjadi gepenk, Crop image ke _400x150_*`, id)
                }
            } else {
                await reply(from, 'Format salah\nSilahkan reply pesan dengan gambar', id)
            }
            break
        case prefix+'imagetourl':
        case prefix+'tourl':
            if (isMedia && isImage || isQuotedImage) {
                await reply(from, '[WAIT] Sedang di proses‚è≥ silahkan tunggu!', id)
                const encryptMedia = isQuotedImage ? quotedMsg : message
                const mediaData = await encryptMedia.getMedia()
                const linkImg = await uploadImages(mediaData, `${sender}_img`)
                await reply(from, linkImg, id)
            } else {
                await reply(from, 'Format salah\nSilahkan reply pesan dengan gambar', id)
            }
            break
        case prefix+'removebackground':
        case prefix+'removebg':
        case prefix+'rbg':
            // https://huggingface.co/spaces/ECCV2022/dis-background-removal
            // https://huggingface.co/spaces/mizukidesuu/anime-remove-background
            // https://huggingface.co/spaces/amirgame197/Remove-Video-Background
            if(!isQuotedImage && !isMedia && !isQuotedVideo && !isVideo) return reply(from, 'Format salah\nSilahkan reply pesan dengan gambar/video', id)
            const isVideoRemoveBg = isQuotedVideo || isVideo
            const mediaSourceRbg = isQuotedImage || isQuotedVideo ? await quotedMsg.getMedia() : await message.getMedia()
            await reply(from, '[WAIT] Sedang di proses‚è≥ silahkan tunggu!', id)

            const clientRemoveBg = import('./lib/esm/exports.mjs')
            if(isVideoRemoveBg) {
                return reply(from, 'Maaf, video belum didukung', id)
                await clientRemoveBg.then(async (all) => {
                    all.removeBgVideoGradio(mediaSourceRbg).then(async (resultRemoveVideoBg) => {
                        console.log(resultRemoveVideoBg)
                    }).catch(async (err) => {
                        console.error(err)
                        await reply(from, 'Error: instance3_offline', id)
                    })
                })
            } else {
                const resultRemoveBg = new Promise(async (resolve) => {
                    clientRemoveBg.then(async (all) => resolve(await all.removeBgGradio(mediaSourceRbg))).catch(async (err) => resolve({ err: [err] }))
                })
                const resultRemoveAnimeBg = new Promise(async (resolve) => {
                    clientRemoveBg.then(async (all) => resolve(await all.removeAnimeBgGradio(mediaSourceRbg))).catch(async (err) => resolve({ err: [err] }))
                })
            
                Promise.all([resultRemoveBg, resultRemoveAnimeBg]).then(async ([resultRemoveBg, resultRemoveAnimeBg]) => { 
                    if(resultRemoveBg?.err) {
                        console.error(resultRemoveBg.err)
                        reply(from, `Error: instance1_offline`, id)
                    }
                    if(resultRemoveBg?.data && !resultRemoveBg?.err) {
                        if(resultRemoveBg?.data?.[0].orig_name?.endsWith?.('webp')) {
                            const randomIdRemoveBg = Math.floor(Math.random() * 1000)
                            const fileNameInputRemoveBg = `./lib/cache/ffmpeg/${randomIdRemoveBg}.webp`
                            const fileNameOutputRemoveBg = `./lib/cache/ffmpeg/${randomIdRemoveBg}.png`

                            const getFileRemoveBg = await fetch(resultRemoveBg?.data?.[0].url)
                            const bufferRemoveBg = await getFileRemoveBg.buffer()
                            await fs.writeFileSync(fileNameInputRemoveBg, bufferRemoveBg)

                            await ffmpeg(fileNameInputRemoveBg)
                                .output(fileNameOutputRemoveBg)
                                .on('end', async () => {
                                    await rem.sendFile(from, fileNameOutputRemoveBg, 'removebg.png', 'Result', messageRaw, image)
                                    if(fs.existsSync(fileNameInputRemoveBg)) await fs.unlinkSync(fileNameInputRemoveBg)
                                    if(fs.existsSync(fileNameOutputRemoveBg)) await fs.unlinkSync(fileNameOutputRemoveBg)
                                })
                                .on('error', async (err) => {
                                    console.error(err)
                                    if(fs.existsSync(fileNameInputRemoveBg)) await fs.unlinkSync(fileNameInputRemoveBg)
                                    if(fs.existsSync(fileNameOutputRemoveBg)) await fs.unlinkSync(fileNameOutputRemoveBg)
                                    await reply(from, 'Error: ffmpeg_offline', id)
                                })
                                .run()
                        } else {
                            await rem.sendFile(from, resultRemoveBg?.data?.[0].url, resultRemoveBg?.data?.[0].orig_name, 'Result 1', messageRaw, image)
                        }
                    }
    
                    if(resultRemoveAnimeBg?.err) {
                        console.log(resultRemoveAnimeBg.err)
                        reply(from, `Error: instance2_offline`, id)
                    }
                    if(resultRemoveAnimeBg?.data && !resultRemoveAnimeBg?.err) {
                        await rem.sendFile(from, resultRemoveAnimeBg?.data?.[1].url, resultRemoveAnimeBg?.data?.[1].orig_name, 'Result 2', messageRaw, image)
                    }
                })
            }
            break
        case prefix+'leaderboardbotadmincreate':
        case prefix+'lbbotadminc':
        case prefix+'lbbac':
            if(!isSideOwner) return await reply(from, 'Command ini hanya untuk SideOwner!', id)
            if(from !== '120363371318146163@g.us') return await reply(from, 'Command ini hanya bisa digunakan di group catatan admin!', id)
            // if(isGroupMsg) return await reply(from, 'Command ini hanya bisa digunakan di Private Chat!', id)
            // if(!isGroupMsg) return await reply(from, 'Command ini hanya bisa digunakan di Group Chat!', id)
            if(!args[1]) return reply(from, `Format salah!\nContoh : _${prefix}lbbotadminc 1, Arsa, 12 | 1 | 0---2, Fauzan, 5 | 1 | 10_\n`, id)

            const splitFormatLb = body.replace(allArgs[0] + ' ', '').split('---')
            const listPts = splitFormatLb.map(item => {
                const splitItemPts = item.split(',')
                return { id: splitItemPts[0].trim(), name: splitItemPts[1].trim(), points: splitItemPts[2].trim() }
            })
            await _mongo_CommandSchema.updateOne({ cId: 'lbbotadmincreate' }, { $set: { 'options.listPts': listPts } })
            reply(from, 'Leaderboard PTS berhasil dibuat!', id)
            break
        case prefix+'leaderboardbotadmin':
        case prefix+'lbbotadmin':
        case prefix+'lbba':
            // if(isGroupMsg) return await reply(from, 'Command ini hanya bisa digunakan di Private Chat!', id)
            // if(!isGroupMsg) return await reply(from, 'Command ini hanya bisa digunakan di Group Chat!', id)

            const getListPts = await _mongo_CommandSchema.findOne({ cId: 'lbbotadmincreate' })
            if(!getListPts?.options?.listPts?.[0]) return reply(from, 'Leaderboard PTS belum dibuat!', id)

            const getPointList = getListPts.options.listPts.map(option => ({
                id: option.id,
                name: option.name,
                points: option.points
            }))

            let ptsText = `-----[ *LEADERBOARD PTS* ]----\n\n`
            for(let i = 0; i < getPointList.length; i++) {
                ptsText += `${getPointList[i].id}. *${getPointList[i].name} - ${getPointList[i].points}*\n`
            }
            ptsText += `\n*No | Nama | K | A | P*\n\n*Penjelasan:*\nK = Kontribusi\nA = Absensi\nP = Point\n\nüîº = Naik dari posisi sebelumnya/kemarin\nüîΩ = Turun dari posisi sebelumnya/kemarin\n‚è∫ = Tetap sama dengan posisi sebelumnya/kemarin`

            rem.sendText(from, ptsText, id)
            break
        case prefix+'leaderboardbotadminreset':
        case prefix+'lbbotadminr':
        case prefix+'lbbar':
            if(!isSideOwner) return await reply(from, 'Command ini hanya untuk SideOwner!', id)
            if(from !== '120363371318146163@g.us') return await reply(from, 'Command ini hanya bisa digunakan di group catatan admin!', id)
            // if(isGroupMsg) return await reply(from, 'Command ini hanya bisa digunakan di Private Chat!', id)
            // if(!isGroupMsg) return await reply(from, 'Command ini hanya bisa digunakan di Group Chat!', id) 

            const getListPtsReset = await _mongo_CommandSchema.findOne({ cId: 'lbbotadmincreate' })
            if(!getListPtsReset?.options?.listPts == undefined) return reply(from, 'Leaderboard PTS belum dibuat!', id)
                await _mongo_CommandSchema.updateOne({ cId: 'lbbotadmincreate' }, { $set: { 'options.listPts': [] } })
                reply(from, 'Leaderboard PTS berhasil direset!', id)
            break
        case prefix+'leaderboard':
        case prefix+'lb':
            if(!isLevelingOn) return await reply(from, 'Command ini hanya bisa digunakan di dalam grup!', id)
            if(!isGroupMsg) return await reply(from, 'Command ini hanya bisa digunakan di dalam grup!', id)
            //if(!isOwner) return reply(from, 'Level akan tersedia setelah S10 dimulai', id)
            let limitDisplayTopLb = 10
            const resp = await _mongo_UserSchema.find({}, { iId: 1, "economy.level": 1, "economy.xp": 1, _id: 0 }).sort({ "economy.xp": -1 }).limit(11)
            // resp.sort((a, b) => (a.economy.xp < b.economy.xp) ? 1 : -1)
            let leaderboard = '-----[ *LEADERBOARD* ]----\n\n'
            try {
                let nomnya = 0
                if(isMention) {
                    for (let i = 0; i < limitDisplayTopLb; i++) {
                        nomnya += 1
                        if(resp[i].iId == '62856038120076@s.whatsapp.net') {
                            limitDisplayTopLb += 1
                            nomnya -= 1
                            continue;
                        }
                        var namalvl0 = await rem.onWhatsApp(resp[i].iId)
                        if(!namalvl0?.[0]?.exists) {
                            leaderboard += `${nomnya}. +${resp[i].iId.replace('@s.whatsapp.net', '')}\n‚û§ XP: *${resp[i].economy.xp}* Level: *${resp[i].economy.level}*\n\n`
                        } else {
                            leaderboard += `${nomnya}. @${resp[i].iId.replace('@s.whatsapp.net', '')}\n‚û§ XP: *${resp[i].economy.xp}* Level: *${resp[i].economy.level}*\n\n`
                        }
                    }
                    //console.log(allleaderboard)
                    await rem.sendTextWithMentions(from, leaderboard)
                } else {                     
                    for (let i = 0; i < limitDisplayTopLb; i++) {
                        nomnya += 1
                        if(resp[i].iId == '62856038120076@s.whatsapp.net') {
                            limitDisplayTopLb += 1
                            nomnya -= 1
                            continue;
                        }
                        var contactDb = await _mongo_ContactSchema.findOne({ iId: resp[i].iId })
                        var namalvl0 = await rem.contacts(resp[i].iId, contactDb)
                        const getNameUserLevel = await _mongo_UserSchema.findOne({ iId: resp[i].iId })
                        var namalvl01 = getNama(getNameUserLevel)
                        if(namalvl01 == undefined) {
                            var namalvl = namalvl0
                        } else {
                            var namalvl = namalvl01
                        }
                        leaderboard += `${nomnya}. *_${namalvl}_*\nwa.me/${resp[i].iId.replace('@s.whatsapp.net', '')}\n‚û§ XP: *${resp[i].economy.xp}* Level: *${resp[i].economy.level}*\n\n`
                    }
                    await rem.sendText(from, leaderboard)
                }
                rem.sendText(from, 'Hati2 Ngelag')
            } catch (err) {
                console.error(err)
                await reply(from, 'Perlu setidaknya *10* user yang memiliki level di database!', id)
            }
            break
        /*case prefix+'grlead':
            if(!isGroupMsg) return
            const groupXpMem = await rem.getGroupMembers(groupId)
            const groupxpid = groupId//.trim().split('-')
            const bukaturung = []
            var jadibukatu = JSON.stringify(bukaturung)
            await fs.writeFile("./lib/database/group/"+groupxpid.replace('@g.us', '')+".json", jadibukatu)
            const _grlevel = JSON.parse(fs.readFileSync(`./lib/database/group/${groupxpid.replace('@g.us', '')}.json`))
            let groupleader = '-----[ *GROUP LEADERBOARD* ]----\n\n'
            let nomglup = 0
            for (let i = 0; i < groupXpMem.length; i++) {
                const grouplead = {id: groupXpMem[i].id, xp: getLevelingXp(groupXpMem[i].id), level: getLevelingLevel(groupXpMem[i].id)}
                //grouplead += `${nomglup}. Nama: @${groupXpMem[i].id.replace('@s.whatsapp.net', '')}\n     XP: *${getLevelingXp(groupXpMem[i].id)}*\n     Level: *${getLevelingLevel(groupXpMem[i].id)}*\n\n`
                await _grlevel.push(grouplead)
                await fs.writeFileSync(`./lib/database/group/${groupxpid.replace('@g.us', '')}.json`, JSON.stringify(_grlevel))
            }
            const grlevel = JSON.parse(fs.readFileSync(`./lib/database/group/${groupxpid.replace('@g.us', '')}.json`))
            const respg = grlevel
            await respg.sort((a, b) => (a.xp < b.xp) ? 1 : -1)
            for (let i = 0; i < 10; i++) {
                nomglup++
                groupleader += `${nomglup}. @${respg[i].id.replace('@s.whatsapp.net', '')}\n‚û§ XP: *${respg[i].xp}* Level: *${respg[i].level}*\n\n`
            }
            await sleep(2000)
            await reply(from, groupleader, id)
            await sleep(10000)
            fs.unlinkSync(`./lib/database/group/${groupxpid.replace('@g.us', '')}.json`)
            break*/
        case prefix+'alllvl':
        case prefix+'allvl':
            if (!isLevelingOn) return await reply(from, 'Command ini hanya bisa digunakan di dalam grup!', id)
            if (!isGroupMsg) return await reply(from, 'Command ini hanya bisa digunakan di dalam grup!', id)
            //if(!isOwner) return reply(from, 'Level akan tersedia setelah S10 dimulai', id)
            const respp = await _mongo_UserSchema.find({}, { iId: 1, "economy.level": 1, "economy.xp": 1, _id: 0 }).sort({ "economy.xp": -1 }).limit(100)
            // respp.sort((a, b) => (a.economy.xp < b.economy.xp) ? 1 : -1)
            let allleaderboard = `-----[ *TOP 100* ]----\n\n
            ÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕè
            `
            let nomm = 0
            try {
                if(isMention) {
                    for (let i = 0; i < 100; i++) {
                        var namaallvl0 = await rem.onWhatsApp(respp[i].iId)
                        if(!namaallvl0?.[0]?.exists) {
                            nomm++
                            allleaderboard += `${nomm}. +${respp[i].iId.replace('@s.whatsapp.net', '')}\n‚û§ XP: *${respp[i].economy.xp}* Level: *${respp[i].economy.level}*\n\n`
                        } else {
                            nomm++
                            allleaderboard += `${nomm}. @${respp[i].iId.replace('@s.whatsapp.net', '')}\n‚û§ XP: *${respp[i].economy.xp}* Level: *${respp[i].economy.level}*\n\n`
                        }
                    }
                    //console.log(allleaderboard)
                    await rem.sendTextWithMentions(from, allleaderboard)
                } else {                     
                    for (let i = 0; i < 100; i++) {
                        nomm++
                        var contactDb = await _mongo_ContactSchema.findOne({ iId: respp[i].iId })
                        var namalvl0 = await rem.contacts(respp[i].iId, contactDb)
                        const getNameUserLevel = await _mongo_UserSchema.findOne({ iId: respp[i].iId })
                        var namalvl01 = getNama(getNameUserLevel)
                        if(namalvl01 == undefined) {
                            var namaalllvl = namalvl0
                        } else {
                            var namaalllvl = namalvl01
                        }
                        allleaderboard += `${nomm}. *_${namaalllvl}_*\nwa.me/${respp[i].iId.replace('@s.whatsapp.net', '')}\n‚û§ XP: *${respp[i].economy.xp}* Level: *${respp[i].economy.level}*\n\n`
                    }
                    await rem.sendText(from, allleaderboard)
                }
                rem.sendText(from, 'Hati2 Ngelag')
            } catch (err) {
                console.error(err)
                await reply(from, 'Perlu setidaknya *10* user yang memiliki level di database!', id)
            }
            break
        /*case prefix+'test77945':
            if(!isOwner) return
            try {
                for (let i = 0; i < _kid.length; i++) {
                    const banggiiin = '"'+_kid[i]+'"'
                    const giniinbangsat = '{"id":'+banggiiin+',"hp": ,"attack":},'
                    fs.writeFile(`./lib/database/rpg/herostat/test.json`, giniinbangsat)
                }
                await reply(from, 'SUCCES', id)
            } catch (err) {
                console.error(err)
                //await reply(from, 'Perlu setidaknya *10* user yang memiliki level di database!', id)
            }
            break*/
        /*case prefix+'test66698':
            if(!isOwner) return
            try {
                for (let i = 0; i < _kid.length; i++) {
                    const banggiiin = '"'+_kid[i]+'"'
                    const giniinbangsat = '[{"id":'+banggiiin+',"hp": ,"attack": ,"xp": ,"level": }]'
                    fs.writeFile(`./lib/database/rpg/herostat/${_kid[i]}.json`, giniinbangsat)
                }
                await reply(from, 'SUCCES', id)
            } catch (err) {
                console.error(err)
                //await reply(from, 'Perlu setidaknya *10* user yang memiliki level di database!', id)
            }
            break*/
        case prefix+'hoki':
        case prefix+'roll':
        case prefix+'rol':
            //if (isLimit(_userDb)) return reply(from, `Maaf ${pushname}, Kuota Limit Kamu Sudah Habis, Ketik !limit Untuk Mengecek Kuota Limit Kamu`, id)
            //if (!isGroupMsg) return reply(from, 'Maaf, perintah ini hanya dapat dilakukan didalam group!', id)
            //reply(from, 'Gw offin banyak yang nyepam\n. _   .')
            if(args.length === 1 || inArray_includes(args[1].toLowerCase(), isHuruf)) {
                const perhok = Math.floor(Math.random() * 100)
                console.log(perhok)
                var hokimen = 'Keberuntungan anda: '+perhok+'%\n'+pushname
                await reply(from, hokimen)
                if (perhok > 90) {
                    const amountXp = Math.floor(Math.random() * 10) + 1000
                    addLevelingXp(sender, amountXp) 
                    rem.sendText(from, 'Selamat anda mendapatkan tambahan xp '+amountXp)
                } else {
                    rem.sendText(from, 'Yah kamu gak dapet tambahan xp')
                }
              //  limitAdd(serial)
            } else {
                if (inArray_includes(args[1].toLowerCase(), isHuruf)) {
                    var nomerRandom = Math.floor(Math.random() * 100)
                } else {
                    var nomerRandom = Math.floor(Math.random() * Math.floor(args[1]))
                }
                console.log(nomerRandom)
                rem.sendText(from, `Number : *${nomerRandom}*`)
            }
            break
        //AFK
        case prefix+'afk':
            //if (!isGroupMsg) return await reply(from, 'Perintah ini hanya bisa di gunakan dalam group!', id)
            if (isAfkOn) return await reply(from, 'Fitur AFK telah diaktifkan sebelumnya.', id)
            const reason = body.slice(5)
            addAfk(sender, Date.now(), reason)
            await reply(from, `Fitur AFK berhasil *diaktifkan*!\n\n‚û§ *Username*: ${pushname}\n‚û§ *Alasan*: ${reason}`)
            break
        case prefix+'crem':
            reply(from, '*s* - detik\n*m* - menit\n*h* - jam\n*d* - hari')
            break
        case prefix+'banchat':
            if (setting.banChats === true) return
            if (!isOwner) return reply(from, 'Perintah ini hanya untuk Dwi!')
            setting.banChats = true
            banChats = true
            rem.sendText(from, 'Global chat has been enable!')
            break
        case prefix+'muteadmin':
            console.log(`Muted ${name}!`)
            await rem.readMessages(message.key)
            break
        case prefix+'unmuteadmin':
            console.log(`Unmuted ${name}!`)
            await rem.readMessages(message.key)
            break
        case prefix+'unmute':
            console.log(`Unmuted ${name}!`)
            await rem.readMessages(message.key)
            break
        case prefix+'mute':
            console.log(`Muted ${name}!`)
            await rem.readMessages(message.key)
            break
        case prefix+'unbanchat':
            console.log(`Banchat ${name}!`)
            await rem.readMessages(message.key)
            break
        case prefix+'cid':
            const getListCurrencies = await axios.get('https://cdn.jsdelivr.net/gh/fawazahmed0/currency-api@1/latest/currencies.min.json')
            let chatSendListCurrencies = `List Currency Id\n\n`
            await Object.keys(getListCurrencies.data).forEach((i) => {
                chatSendListCurrencies += `*${i.toUpperCase()}* - ${getListCurrencies.data[i]}\n`
            })
            chatSendListCurrencies += `\n\nFormat : *_${prefix}convert <id1> <id2> <value>_*\n_Contoh : ${prefix}convert USD IDR 5_`
            const buttonsCid = [{ id: '0', text: `${prefix}convert` }]
            rem.sendButtons(from, chatSendListCurrencies, buttonsCid, '', '@dwirizqi.h')
            break
        case prefix+'convert':
            const buttonsConvert = [{ id: '1', text: `${prefix}cid` }]
            if(isNaN(args[3])) return rem.sendButtons(from, `*Format Slah,* Ketik _${prefix}convert <id1> <id2> <value>_\n\n*_Abaikan tanda < dan >_*`, buttonsConvert, '', '@dwirizqi.h')
            if(args.length === 1) return rem.sendButtons(from, `*Format Slah,* Ketik _${prefix}convert <id1> <id2> <value>_\n\n*_Abaikan tanda < dan >_*`, buttonsConvert, '', '@dwirizqi.h')
            
            const getListCurrencies2 = await axios.get('https://cdn.jsdelivr.net/gh/fawazahmed0/currency-api@1/latest/currencies.min.json')
            let listCurrencies = []
            await Object.keys(getListCurrencies2.data).forEach((i) => {
                listCurrencies.push(i)
            })
            if(!listCurrencies.includes(args[1].toLowerCase()) || !listCurrencies.includes(args[2].toLowerCase())) return rem.sendButtons(from, `*ID Slah,* Ketik _${prefix}convert <id1> <id2> <value>_\n\n*_Abaikan tanda < dan >_*`, buttonsConvert, '', '@dwirizqi.h')
            
            const getCurrenciesId1 = await axios.get(`https://cdn.jsdelivr.net/gh/fawazahmed0/currency-api@1/latest/currencies/${args[1].toLowerCase()}.json`)
            const getCurrenciesId2 = await axios.get(`https://cdn.jsdelivr.net/gh/fawazahmed0/currency-api@1/latest/currencies/${args[2].toLowerCase()}.json`)
            const getCurrenciesId1toId2 = getCurrenciesId1.data[args[1].toLowerCase()][args[2].toLowerCase()]
            const getCurrenciesId2toId1 = getCurrenciesId2.data[args[2].toLowerCase()][args[1].toLowerCase()]

            let calculateCurrenciesId1toId2 = Number(getCurrenciesId1toId2 * args[3])
            let calculateCurrenciesId2toId1 = Number(getCurrenciesId2toId1 * args[3])

            if(calculateCurrenciesId1toId2.toFixed(0) == 0) {
                calculateCurrenciesId1toId2 = calculateCurrenciesId1toId2.toFixed(3)
            } else {
                calculateCurrenciesId1toId2 = calculateCurrenciesId1toId2.toFixed(0)
            }
            if(calculateCurrenciesId2toId1.toFixed(0) == 0) {
                calculateCurrenciesId2toId1 = calculateCurrenciesId2toId1.toFixed(3)
            } else {
                calculateCurrenciesId2toId1 = calculateCurrenciesId2toId1.toFixed(0)
            }

            reply(from, `üíπ *Result* üíπ\n\n*${args[1].toUpperCase()}* -> *${args[2].toUpperCase()}*\n_${numberWithCommas(calculateCurrenciesId1toId2)}_\n\n\n*${args[2].toUpperCase()}* -> *${args[1].toUpperCase()}*\n_${numberWithCommas(calculateCurrenciesId2toId1)}_`)
            break
        case prefix+'hdr': //https://imglarger.com/Enhancer
            // if(!isOwner) return reply(from, 'Maaf, Fitur ini masih dalam tahap pengembangan', id)
            if (isLimit(_userDb)) return reply(from, `Maaf ${pushname}, Kuota Limit Kamu Sudah Habis, Ketik ${prefix}limit Untuk Mengecek Kuota Limit Kamu`, id)

            let imageFileHdr = undefined
            if(isMedia || isQuotedImage) {
                imageFileHdr = isMedia ? await message.getMedia() : await quotedMsg.getMedia()
            } else {
                return reply(from, 'Mohon reply fotonya!')
            }

            const idRandomHdr = GenerateSerialNumber('000000000000')
            await fs.writeFileSync(`./lib/cache/hd/hdr_${idRandomHdr}.png`, imageFileHdr)

            const FormDataHdr = new FormData()
            FormDataHdr.append('Alg', 'slow')
            FormDataHdr.append('scaleRadio', 1)
            FormDataHdr.append('myfile', fs.createReadStream(`./lib/cache/hd/hdr_${idRandomHdr}.png`))
            const imageHdr = await axios.post('https://access.bgeraser.com:8558/upload', FormDataHdr, { headers: FormDataHdr.getHeaders(), httpsAgent: agent })
            console.log('result hdr', imageHdr.data)

            let waitingImageHdr = 1
            for(let i = 0; i < waitingImageHdr; i++) {
                const getProccessImageHdr = await axios.get(`https://access.bgeraser.com:8558/status/${imageHdr.data}`, { httpsAgent: agent })
                if(getProccessImageHdr.data == 'waiting') waitingImageHdr += 1
            }

            console.log('success')
            await rem.sendFile(from, { url: `http://access.bgeraser.com:8887/results/${imageHdr.data}_hdr.jpg` }, 'hdr.jpg', '', messageRaw, image)
            await fs.unlinkSync(`./lib/cache/hd/hdr_${idRandomHdr}.png`)
            break
        // case prefix+'hd': // https://www.iloveimg.com/upscale-image
        //     if(!isOwner) return reply(from, 'Fitur ini sedang dalam perbaikan!')
        //     if(!isMedia && !isQuotedImage) return reply(from, 'Mohon reply fotonya!')
        //     const editMessageHd = await reply(from, 'Converting...\nstatus: uploading', id)

        //     const filenameEnchanePhoto = `hd_${GenerateSerialNumber('000000000000')}`
        //     const imagePath = `./lib/cache/hd/${filenameEnchanePhoto}`
        //     const imageFile = isQuotedImage ? await quotedMsg.getMedia() : await message.getMedia()
        //     const sendToPuppeteerHD = await requestPuppeteer(`new Promise(async function(resolve, reject) {
        //         fs.writeFileSync('${imagePath}_tmp.png', '${imageFile.toString('base64')}', { encoding: 'base64' })

        //         let browserContext = undefined
        //         let pageContext = undefined
        //         let fromSize = ''
        //         let finalSize = ''
        //         try {
        //             const sleep = async (ms) => {
        //                 return new Promise(resolve => setTimeout(resolve, ms));
        //             }

        //             async function tryAgain(count = 0) {
        //                 if (count > 3) return resolve({ error: true, message: 'Try again Failed, ' + count + 'x attempt, Coba lagi' })
        //                 const context = await global.browserPup.newContext();
        //                 const page = await context.newPage();

        //                 browserContext = context
        //                 pageContext = page
                        
        //                 if(${isOwner}) console.log("clear cookie 1")
        //                 await context.clearCookies();
        //                 if(${isOwner}) console.log("open page")
        //                 await page.goto('https://www.iloveimg.com/upscale-image', { waitUntil: 'networkidle0' });
                
        //                 // delete cookies 
        //                 await context.clearCookies();
        //                 if(${isOwner}) console.log("clear cookie")
                
        //                 if(${isOwner}) console.log("upload file")
        //                 const fileChooserPromise = page.waitForEvent('filechooser');
        //                 await page.getByText('Select images', { exact: true }).click();
        //                 const fileChooser = await fileChooserPromise;
        //                 await fileChooser.setFiles('${imagePath}_tmp.png'); // Provide absolute path 
        //                 if(${isOwner}) await page.screenshot({ path: 'example3_0.png', width: 1920, height: 1080 });

        //                 // wait loading
        //                 await sleep(500)
        //                 if(${isOwner}) await page.screenshot({ path: 'example3.png', width: 1920, height: 1080 });
        //                 //  check is body > div.item-loading visible
        //                 const isVisibleElementExist1 = await page.locator('body > div.item-loading').isVisible();
        //                 try {
        //                     if(${isOwner}) console.log('wait loading 1', isVisibleElementExist1)
        //                     if(${isOwner}) await page.screenshot({ path: 'example4_0.png' });
        //                     if(isVisibleElementExist1) await page.locator('body > div.item-loading').waitFor({state: "hidden"})
        //                 } catch (err) {
        //                     console.error(err)
        //                     await page.screenshot({ path: 'example4.png', width: 1920, height: 1080 });
        //                     await page.close()
        //                     await context.close()
        //                     return tryAgain(count + 1)
        //                 }
                
        //                 if(${isOwner}) console.log('check dialog')
        //                 if(${isOwner}) await page.screenshot({ path: 'example4_1.png', width: 1920, height: 1080 });
        //                 const isDialog = await page.locator('div.dialog').isVisible()
        //                 if(${isOwner}) console.log('check dialog', isDialog)
        //                 if (isDialog) {
        //                     if(${isOwner}) await page.screenshot({ path: 'example4_2.png' });
        //                     await sleep(1000)
        //                     // get text body > div.dialog > div.dialog__container.dialog__container--appeared > div.dialog__element > main > div > div:nth-child(1) > div > div > div:nth-child(2)
        //                     const textDialog = await page.locator('body > div.dialog > div.dialog__container.dialog__container--appeared > div.dialog__element > main > div > div:nth-child(1) > div > div > div:nth-child(2)').textContent()
        //                     await page.close()
        //                     await context.close()
        //                     fs.unlinkSync('${imagePath}_tmp.png')
        //                     return resolve({ error: true, message: textDialog })
        //                 }
                
        //                 // resolution
        //                 await page.click('li[data-value="4"]')
        //                 if(${isOwner}) console.log("click resolution")
        //                 if(${isOwner}) await page.screenshot({ path: 'example4_3.png', width: 1920, height: 1080 });
        //                 // wait style none
        //                 await sleep(500)
        //                 const isVisibleElementExist2 = await page.locator('body > div.item-loading').isVisible();
        //                 try {
        //                     if(${isOwner}) console.log('wait loading', isVisibleElementExist2)
        //                     if(${isOwner}) await page.screenshot({ path: 'example4_4.png', width: 1920, height: 1080 });
        //                     if(isVisibleElementExist2) await page.locator('body > div.item-loading').waitFor({state: "hidden"})
        //                 } catch (err) {
        //                     console.error(err)
        //                     await page.screenshot({ path: 'example5.png', width: 1920, height: 1080 });
        //                     await page.close()
        //                     await context.close()
        //                     return tryAgain(count + 1)
        //                 }
                
        //                 fromSize = await page.locator('#file-list > div > div > span.file-size-comparison-item__size > span.file-size-comparison-item__size__from').textContent()
        //                 finalSize = await page.locator('#file-list > div > div > span.file-size-comparison-item__size > span.file-size-comparison-item__size__to').textContent()
                        
        //                 // ok
        //                 if(${isOwner}) console.log("click process")
        //                 await page.screenshot({ path: 'example4_5.png', width: 1920, height: 1080 });
        //                 await page.click('button#processTask')
        //                 await page.screenshot({ path: 'example4_6.png', width: 1920, height: 1080 });
        //                 try {
        //                     await page.waitForNavigation({ waitUntil: 'networkidle0' })
        //                 } catch (err) {
        //                     console.error(err)
        //                     await page.screenshot({ path: 'example4_7.png', width: 1920, height: 1080 });
        //                 }
                
        //                 const urlDownload = await page.locator('div#download > a#pickfiles', el => el.href).getAttribute('href')
                        
        //                 if(${isOwner}) console.log('urlDownload0', urlDownload)

        //                 // delete cookies 
        //                 await context.clearCookies();

        //                 if(${isOwner}) console.log('urlDownload1', urlDownload)
                
        //                 await page.close();
        //                 await context.close()
        //                 fs.unlinkSync('${imagePath}_tmp.png')
        //                 resolve({ fromSize, finalSize, url: urlDownload })
        //             }
        //             tryAgain()
        //         } catch (err) {
        //             fs.unlinkSync('${imagePath}_tmp.png')

        //             await browserContext?.close()
        //             await pageContext?.close()

        //             console.error(err)
        //             reject(err)
        //         }
        //     });
        //     `, 'localhost:8067')
        //     console.log(sendToPuppeteerHD)
        //     if(sendToPuppeteerHD.error) return rem.sendEditMessage(from, editMessageHd.key, `Converting...\nstatus: response_puppeteer_error, please report to owner\nres: ${JSON.stringify(sendToPuppeteerHD)}`)
        //     if(sendToPuppeteerHD.result.error) {
        //         let textMessageHd = sendToPuppeteerHD.result.message
        //         if(sendToPuppeteerHD.result.message?.includes('size limit')) textMessageHd = 'Ukuran gambar terlalu besar!'
        //         return rem.sendEditMessage(from, editMessageHd.key, `Failed!\nmessage: ${textMessageHd}`)
        //     }
        //     rem.sendEditMessage(from, editMessageHd.key, `Converting...\nstatus: downloading`)

        //     try {
        //         const waktudel = Math.floor(1)
        //         const waktudelnya = waktudel+'h'
        //         const responseHd = await axios.get(sendToPuppeteerHD.result.url, { responseType: 'arraybuffer' })
        //         const bufferHd = responseHd.data
        //         await fs.writeFileSync(`./lib/cache/hd/${filenameEnchanePhoto}.png`, bufferHd)
        //         await addDelTime(`./lib/cache/hd/${filenameEnchanePhoto}.png`, waktudelnya)
        //         await rem.sendFile(from, bufferHd, 'hd.png', `*${sendToPuppeteerHD.result.fromSize}* -> *${sendToPuppeteerHD.result.finalSize}*\nhttps://db1.remcp.com/hd/${filenameEnchanePhoto}.png\n\n*Link Gambar akan hilang setelah 1jam!*`, messageRaw, image)
        //         rem.sendEditMessage(from, editMessageHd.key, `Converting...\nstatus: success`)
        //     } catch (err) {
        //         console.error(err)
        //         await rem.sendEditMessage(from, editMessageHd.key, `Converting...\nstatus: download_error, please report to owner\nres: ${err.message}`)
        //     }
            
        //     break
        // case prefix+'hd': // https://zyro.com/id/tool/image-upscaler
        //     // if(!isOwner) return reply(from, 'Maaf, Fitur ini masih dalam tahap pengembangan', id)
        //     if (isLimit(_userDb)) return reply(from, `Maaf ${pushname}, Kuota Limit Kamu Sudah Habis, Ketik ${prefix}limit Untuk Mengecek Kuota Limit Kamu`, id)

        //     let imageFile = undefined
        //     if(isMedia || isQuotedImage) {
        //         imageFile = isMedia ? await message.getMedia() : await quotedMsg.getMedia()
        //     } else {
        //         return reply(from, 'Mohon reply fotonya!')
        //     }

        //     const imageEnchaned = await axios.post('https://upscaler.zyro.com/v1/ai/image-upscaler', { image_data: await imageFile.toString('base64') }, { validateStatus: () => true })
        //     if(imageEnchaned.data.message == 'Image too large') return reply(from, 'Gambar terlalu besar!')

        //     const base64Image = imageEnchaned?.data?.upscaled?.match(/^data:([A-Za-z-+\/]+);base64,(.+)$/)
        //     if(base64Image == undefined) return reply(from, 'Error!\nMungkin Gambar terlalu besar!')
        //     const encodeBufferHd = Buffer.from(base64Image[2], 'base64')
        //     await rem.sendFile(from, encodeBufferHd, 'hd.jpg', '', messageRaw, image)
        //     break
        case prefix+'hd': //https://www.aiseesoft.com/image-upscaler/
            // if(!isOwner) return reply(from, 'Maaf, Fitur ini masih dalam tahap pengembangan', id)
            //if (isLimit(_userDb)) return reply(from, `Maaf ${pushname}, Kuota Limit Kamu Sudah Habis, Ketik ${prefix}limit Untuk Mengecek Kuota Limit Kamu`, id)
            //if (args.length == 1) return reply(from, `Mohon masukkan type gambar :\n\nFoto : *_${prefix}hd foto_*\nArt/Anime : *_${prefix}hd art_*`, id)
            
            /*if(args[1].toLowerCase() == 'foto' || args[1].toLowerCase() == 'photo') {
                var typeGambar_hd = 'photo'
            } else if(args[1].toLowerCase() == 'art' || args[1].toLowerCase() == 'ilustrasi' || args[1].toLowerCase() == 'illustration' || args[1].toLowerCase() == 'ilustration' || args[1].toLowerCase() == 'anime') {
                var typeGambar_hd = 'art'
            } else {
                return reply(from, `Mohon masukkan type gambar :\n\nFoto : *_${prefix}hd foto_*\nIlustrasi/Anime : *_${prefix}hd ilustrasi_*`, id)
            }*/

            const waktudel = Math.floor(1)
            const waktudelnya = waktudel+'h'
            
            if (isMedia || isQuotedImage) {
                const editMessageHd = await reply(from, 'Converting...\nstatus: uploading', id)
                const filenameEnchanePhoto = GenerateSerialNumber("00000000000000000000000")
                const mediaData = isMedia ? await message.getMedia() : await quotedMsg.getMedia()
                const MimeType_hd = isMedia ? mimetype : quotedMsg.mimetype
                await fs.writeFileSync(`./lib/cache/hd/${filenameEnchanePhoto}.${MimeType_hd.split('/')[1]}`, mediaData)

                /*const urlImageHd = `https://remcp.com/lib/src/img/${filenameEnchanePhoto}.${MimeType_hd.split('/')[1]}`
                const BufferImage_hd = await fs.readFileSync(`./lib/src/img/${filenameEnchanePhoto}.${MimeType_hd.split('/')[1]}`)
                const GetSize_Byte = Buffer.byteLength(BufferImage_hd);

                const dimensions_hd = await sizeOf(`./lib/src/img/${filenameEnchanePhoto}.${MimeType_hd.split('/')[1]}`)
                console.log(dimensions_hd.width, dimensions_hd.height)*/

                let MD5Check_hd = ''
                let signHd = ''
                const sizeImageHdBefore = await sizeOf(`./lib/cache/hd/${filenameEnchanePhoto}.${MimeType_hd.split('/')[1]}`)
                const idSet_hd = crypto.randomBytes(16).toString('hex')
                await exec(`md5sum ~/Mizu2/lib/cache/hd/${filenameEnchanePhoto}.${MimeType_hd.split('/')[1]}`, async (err, stdout, stderr) => { 
                    MD5Check_hd = stdout.split(' ')[0]
                    await console.log(MD5Check_hd)
                    if(err) {
                        console.log(stderr)
                    }
                })

                if(MD5Check_hd == '') await sleep(2000)

                function hdEncSign (content) {
                    const t1 = cryptoJS.enc.Latin1.parse("KgACJju0JScxBvlP")
                    const r1 = cryptoJS.enc.Latin1.parse("wmozBgboU9HRzWG6")

                    return cryptoJS.AES.encrypt(content, t1, {
                        iv: r1,
                        mode: cryptoJS.mode.CBC
                    }).toString()
                }

                signHd = hdEncSign(MD5Check_hd + new Date().getTime())

                // function convertBase64UrlToBlob(e) {
                //     for (var t = e.split(","), n = t[0].match(/:(.*?);/)[1], r = atob(t[1]), o = r.length, i = new Uint8Array(o); o--; )
                //         i[o] = r.charCodeAt(o);
                //     return new Blob([i],{
                //         type: n
                //     })
                // }
                // const blob = convertBase64UrlToBlob('data:image/jpeg;base64,' + mediaData.toString('base64'))

                const FormDataUploadImage_hd = new FormData()
                await FormDataUploadImage_hd.append('img', fs.createReadStream(`./lib/cache/hd/${filenameEnchanePhoto}.${MimeType_hd.split('/')[1]}`))
                await FormDataUploadImage_hd.append('sign', signHd)
                await FormDataUploadImage_hd.append('name', filenameEnchanePhoto + '.' + MimeType_hd.split('/')[1])

                await fetch('https://ai-api.aiseesoft.com/v8/sr/upload', {
                    method: 'post',
                    body: FormDataUploadImage_hd,
                    headers: Object.assign(FormDataUploadImage_hd.getHeaders(), { Origin: 'https://www.aiseesoft.com', Referer: 'https://www.aiseesoft.com/' })
                })
                .then(res => res.json())
                .then(async (res) => {
                    console.log(res)
                    if(res?.message != 'success') return rem.sendEditMessage(from, editMessageHd.key, `Converting...\nstatus: error, please report to owner\nres: ${JSON.stringify(res)}`)

                    rem.sendEditMessage(from, editMessageHd.key, `Converting...\nstatus: check_response`)
                    await sleep(5000)
                    const urlSendRequestImage_hd1 = `https://ai-api.aiseesoft.com/v8/sr/sr`

                    const FormDataUploadImage_hd1 = new FormData()
                    await FormDataUploadImage_hd1.append('token', MD5Check_hd)
                    await FormDataUploadImage_hd1.append('scale', '2')
                    //random 32 length string
                    await FormDataUploadImage_hd1.append('e_id', idSet_hd)
                    // random number like 25428
                    // await FormDataUploadImage_hd1.append('e_code', Math.floor(Math.random() * 99999) + 10000)
                    // random string like LuYK1Kgia9BDJpHru0G4SOdxgyf08C1l
                    // await FormDataUploadImage_hd1.append('lToken', crypto.randomBytes(16).toString('hex'))

                    let sendRequestHd = ''
                    await fetch(urlSendRequestImage_hd1, {
                        method: 'post',
                        body: FormDataUploadImage_hd1,
                        headers: FormDataUploadImage_hd1.getHeaders()
                    })
                    .then(res => res.json())
                    .then(async (res) => {
                        console.log('1 ', res)
                        if(res?.message != 'success') return rem.sendEditMessage(from, editMessageHd.key, `Converting...\nstatus: response_error, please report to owner\nres: ${JSON.stringify(res)}`)
                        rem.sendEditMessage(from, editMessageHd.key, `Converting...\nstatus: response_ok`)
                        sendRequestHd = res?.key?.toString()
                    })


                    const urlLoopRequestImage_hd1 = `https://ai-api.aiseesoft.com/v8/sr/status`

                    let loop = 1
                    for(let i = 0; i < loop; i++) {
                        console.log('reqLoop')

                        const FormDataUploadImage_hd2 = new FormData()
                        await FormDataUploadImage_hd2.append('code', sendRequestHd)

                        const loopHdRequest0 = await fetch(urlLoopRequestImage_hd1, {
                            method: 'post',
                            body: FormDataUploadImage_hd2,
                            headers: FormDataUploadImage_hd2.getHeaders()
                        })
                        if(loop == 1) rem.sendEditMessage(from, editMessageHd.key, `Converting...\nstatus: converting`)
                        // console.log(await loopHdRequest0.text())
                        const loopHdRequest = await loopHdRequest0.json()
                        console.log(loopHdRequest)
                        if((loopHdRequest?.message == 'ÂèÇÊï∞ÈîôËØØ') || (loopHdRequest?.message == 'failed')) return rem.sendEditMessage(from, editMessageHd.key, `Converting...\nstatus: converting_error, please report to owner\nres: ${JSON.stringify(loopHdRequest)}`)
                        if((loopHdRequest?.message == 'Ê≠£Âú®Â§ÑÁêÜ') || (loopHdRequest?.message == 'processing')) {
                            loop += 1
                            await sleep(5000)
                        } else {
                            try {
                                rem.sendEditMessage(from, editMessageHd.key, `Converting...\nstatus: success`)
                                const urlDownloadRequestImage_hd = 'https://ai-api.aiseesoft.com/v8/sr/download'
                                const FormDataDownloadImage_hd = new FormData()
                                FormDataDownloadImage_hd.append('imageKey', loopHdRequest.key)
                                FormDataDownloadImage_hd.append('e_id', idSet_hd)
                                FormDataDownloadImage_hd.append('task_id', loopHdRequest.task_id)

                                const getDownloadHd = await axios.post(urlDownloadRequestImage_hd, FormDataDownloadImage_hd, { headers: FormDataDownloadImage_hd.getHeaders() })
                                const response = await axios.get(getDownloadHd.data.url, { responseType: 'arraybuffer' })
                                const buffer = response.data
                                await fs.writeFileSync(`./lib/cache/hd/${filenameEnchanePhoto}.png`, buffer)
                                await addDelTime(`./lib/cache/hd/${filenameEnchanePhoto}.png`, waktudelnya)
                                const sizeImageHdAfter = await sizeOf(`./lib/cache/hd/${filenameEnchanePhoto}.png`)
                                await rem.sendFile(from, `./lib/cache/hd/${filenameEnchanePhoto}.png`, 'hd.png', `*${sizeImageHdBefore.width + 'x' + sizeImageHdBefore.height}* -> *${sizeImageHdAfter.width + 'x' + sizeImageHdAfter.height}*\nhttps://db1.remcp.com/hd/${filenameEnchanePhoto}.png\n\n*Link Gambar akan hilang setelah 1jam!*`, messageRaw, image)
                                fs.unlinkSync(`./lib/cache/hd/${filenameEnchanePhoto}.${MimeType_hd.split('/')[1]}`)
                            } catch (err) {
                                console.error(err)
                                return reply(from, 'Error!')
                            }
                        }
                    }

                    /*async function loopHdRequest () {
                        await fetch(urlLoopRequestImage_hd1, {
                            method: 'post',
                            body: FormDataUploadImage_hd2,
                            headers: FormDataUploadImage_hd2.getHeaders()
                        })
                        .then(res => res.text())
                        .then(async (res) => {
                            console.log(res)
                            if(res == 'Ê≠£Âú®Â§ÑÁêÜ') {
                                await sleep(5000)
                                loopHdRequest()
                            } else {
                                try {
                                    const responses = await fetch(res);
                                    const buffer = await responses.buffer();
                                    await fs.writeFileSync(`./lib/src/img/${filenameEnchanePhoto}.png`, buffer)
                                    await addDelTime(`./lib/src/img/${filenameEnchanePhoto}.png`, waktudelnya)
                                    await rem.sendFile(from, res, 'hd.png', `https://remcp.com/lib/src/img/${filenameEnchanePhoto}.png\n\n*Link Gambar akan hilang setelah 24jam!*`, id)
                                    fs.unlinkSync(`./lib/src/img/${filenameEnchanePhoto}.${MimeType_hd.split('/')[1]}`)
                                } catch (err) {
                                    console.error(err)
                                    return reply(from, 'Error!', id)
                                }
                            }
                        })

                    }
                    loopHdRequest()

                    /*for(let i = 0; i < loop; i++) {
                        const getImage_hd = await axios.get(urlGetImage_hd)
                        console.log(getImage_hd.data)

                        const responseGetImage_hd = getImage_hd.data
                        if(responseGetImage_hd[res.info][0] == 'error') return reply(from, '*Error!*, Mohon coba kembali', id)

                        if(responseGetImage_hd[res.info][0] == 'success') {
                            console.log('Success! GetImage_hd')
                            const responses = await fetch(responseGetImage_hd[res.info][1]);
                            const buffer = await responses.buffer();
                            await fs.writeFileSync(`./lib/src/img/${filenameEnchanePhoto}.png`, buffer)
                            await addDelTime(`./lib/src/img/${filenameEnchanePhoto}.png`, waktudelnya)
                            await rem.sendFile(from, responseGetImage_hd[res.info][1], 'hd.png', `https://remcp.com/lib/src/img/${filenameEnchanePhoto}.png\n\n*Link Gambar akan hilang setelah 24jam!*`, id)
                            fs.unlinkSync(`./lib/src/img/${filenameEnchanePhoto}.${MimeType_hd.split('/')[1]}`)
                        } else {
                            loop += 1
                            await sleep(5000)
                        }
                    }*/
                })
            } else return reply(from, 'Mohon reply fotonya!')
            break
        // case prefix+'hd':
        //     if(quotedMsg && !isQuotedImage) return reply(from, 'Mohon reply fotonya!')
        //     if(isMedia && !isImage) return reply(from, 'Mohon reply fotonya!')

        //     let mediaSendHD = undefined
        //     if(quotedMsg) mediaSendHD = await quotedMsg.getMedia()
        //     if(isMedia) mediaSendHD = await message.getMedia()
        //     // await fs.writeFileSync(`./lib/cache/img/${tempFileHD}`)
            
        //     const baseUrl = 'https://upscaler.zyro.com/v1/ai/image-upscaler'
        //     await fetch(baseUrl, {
        //         method: 'post',
        //         body: JSON.stringify({"image_data": Buffer.from(mediaSendHD).toString('base64')}),
        //         headers: { "Content-Type": "application/json" }
        //     })
        //     .then(res => res.json())
        //     .then(async (res) => {
        //         const waktudel = Math.floor(24)
        //         const waktudelnya = waktudel+'h'
        //         const filenameEnchanePhoto = GenerateSerialNumber("00000000000000000000000")

        //         if(res.upscaled == undefined) return reply(from, 'Error!')
        //         const filterUpscaledHD = res.upscaled.match(/^data:([A-Za-z-+\/]+);base64,(.+)$/)
        //         const upscaledHD = Buffer.from(filterUpscaledHD[2], 'base64')

        //         await fs.writeFileSync(`./lib/src/img/${filenameEnchanePhoto}.png`, upscaledHD)
        //         await addDelTime(`./lib/src/img/${filenameEnchanePhoto}.png`, waktudelnya)

        //         await rem.sendFile(from, upscaledHD, 'hd.png', `https://remcp.com/lib/src/img/${filenameEnchanePhoto}.png\n\n*Link Gambar akan hilang setelah 24jam!*`, messageRaw, image)
        //     })
        //     break
        case prefix+'fp':
        case prefix+'faceplay':
        case prefix+'jadianime':
        case prefix+'jadinime':
        case prefix+'toanime':
        case prefix+'tonime':
            if(!isOwner) return reply(from, 'Command ini telah di nonaktifkan, dikarenakan server AI yang digunakan sudah tidak bisa diakses lagi')
            if(!quotedMsg && !isMedia && !isImage) return reply(from, 'Mohon reply fotonya!')
            if(quotedMsg && !isQuotedImage) return reply(from, 'Mohon reply fotonya!')

            reply(from, 'Proccessing...\n*Beta Feature!*')

            let mediaSendFP = undefined
            if(quotedMsg) mediaSendFP = (await quotedMsg.getMedia()).toString('base64')
            if(isMedia) mediaSendFP = (await message.getMedia()).toString('base64')

            const baseUrlFP = 'https://ai.tu.qq.com/trpc.shadow_cv.ai_processor_cgi.AIProcessorCgi/Process'
            const parameters = { busiId: "ai_painting_anime_img_entry", images: [mediaSendFP], extra: JSON.stringify({
                face_rects: [],
                version: 2,
                platform: 'web',
            }) }
            const paramJadiAnime = JSON.stringify(parameters);
            const signJadiAnime = await md5(
                'https://h5.tu.qq.com' +
                (paramJadiAnime.length + (encodeURIComponent(paramJadiAnime).match(/%[89ABab]/g)?.length || 0)) +
                'HQ31X02e',
            );

            // const res = await requestWithProxy(baseUrlFP, {
            //     method: 'post',
            //     url: baseUrlFP,
            //     data: parameters,
            //     headers: {
            //         'Content-Type': 'application/json',
            //         'Origin': 'https://h5.tu.qq.com',
            //         'Referer': 'https://h5.tu.qq.com/',
            //         // eslint-disable-next-line max-len
            //         'User-Agent': 'Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36',
            //         'x-sign-value': signJadiAnime,
            //         'x-sign-version': 'v1',
            //     },
            // }, 'request', 'CN', 'yes')

            const listProxyFp = [
                "123.126.158.50:80",
                "223.210.2.228:9091",
                "111.47.170.136:9091",
                "49.7.11.187:80",
                "123.126.158.184:80",
                "117.74.65.207:11",
                "180.184.91.187:443",
                "159.226.20.240:80",
                "180.76.184.137:80",
                "180.184.91.187:443",
                "114.113.116.67:9091",
                "111.206.0.99:8181",
                "115.171.217.15:7890",
                "123.126.158.50:80",
            ]
            async function requestFpProxy (i) {
                const agentProxy = new HttpsProxyAgent(`http://${listProxyFp[i]}`);
                const resReturn = await axios.request({
                    method: 'post',
                    url: baseUrlFP,
                    data: parameters,
                    headers: {
                        'Content-Type': 'application/json',
                        'Origin': 'https://h5.tu.qq.com',
                        'Referer': 'https://h5.tu.qq.com/',
                        // eslint-disable-next-line max-len
                        'User-Agent': 'Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36',
                        'x-sign-value': signJadiAnime,
                        'x-sign-version': 'v1',
                    },
                    httpsAgent: agentProxy
                })
                return resReturn
            }

            let res = undefined
            for (let i = 0; i < listProxyFp.length; i++) {
                try {
                    res = await requestFpProxy(i)
                    break
                } catch (err) {
                    console.log('[ FP ]', err)
                }
            }
            if(res == undefined) return reply(from, 'Error!\nKoneksi ke server bermasalah, coba lagi nanti!')
            let responseFp = undefined
            try {
                responseFp = res.data
                console.log(responseFp)
            } catch (err) {
                console.log('[ FP ]', err)
                return reply(from, 'Error!\nMungkin wajah tidak terdeteksi')
            }
            if(responseFp.code != 0) return reply(from, `Error!\nMungkin wajah tidak terdeteksi\n\nErrMsg: ${responseFp.msg}`)
            const resData = JSON.parse(responseFp.extra)

            let getImgFp = undefined
            try {
                getImgFp = await axios.get(resData.img_urls[2], { responseType: 'arraybuffer' })
            } catch (err) {
                console.log('[ FP ] Error get Image_2', resData.img_urls[2])
                try {
                    getImgFp = await axios.get(resData.img_urls[1], { responseType: 'arraybuffer' })
                } catch (err) {
                    console.log('[ FP ] Error get Image_1', resData.img_urls[1])
                    return reply(from, `Error!\nGambar tidak dapat dikirim!\n${resData.img_urls[1]}\n\n${resData.img_urls[2]}`)
                }
            }

            if(getImgFp == undefined) return reply(from, `Error!\nGambar tidak dapat dikirim!\n${resData.img_urls[1]}\n\n${resData.img_urls[2]}`)

            const sizeFp = sizeOf(getImgFp.data)
            const canvasFp = cnvs.createCanvas(sizeFp.width, sizeFp.height - 185)
            const fpImages = await cnvs.loadImage(getImgFp.data)
        
            //crop image using node-canvas
            const ctxFp = canvasFp.getContext('2d')
            ctxFp.drawImage(fpImages, 0, 0, sizeFp.width, sizeFp.height - 185, 0, 0, sizeFp.width, sizeFp.height - 185)
            const cropped = await canvasFp.toBuffer()

            await rem.sendFile(from, cropped, 'fp.png', '', messageRaw, image)
            break
        case prefix+'create':
            // if(!isSideOwner) return reply(from, 'Command ini sedang dalam pengembangan')
            return reply(from, `Command ini sudah dinonaktifkan\nUntuk generate Gambar AI, *Silahkan gunakan cmd _${prefix}diff_*`)
            if(body.replace(prefix+'create', '').length <= 0) return reply(from, 'Mohon masukkan teksnya!')
            if(body.replace(prefix+'create', '').length >= 400) return reply(from, 'Maksimal 400 karakter!')

            const textCreate = body.replace(prefix+'create', '')
            const baseUrlAnimeCreate = 'https://web-backend-prod.zmo.ai/api/v1.0/microTask/makeUp/create'
            const authBearerAnimeCreate = 'Bearer eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiI3MDlkZTIzNTE1YjM0NTc1OTYyNzc4MWQ5Njc3NzI2YiIsImF1dGhLZXkiOiJTVEFOREFSRF9VU0VSIiwiZ3JvdXBJZCI6ImZjZGU4ZDZhODgzYzRiY2FhY2RlNjE2ZDJiMjdmNTNkIiwiZXhwIjoxNjc3NTk3ODAzfQ._zIlT0VbbwBf_5hhpAGOSvE_sj3sWtbjs625TLjlQIuGd2SgLoXffiL22SZmApMrQ4Tr5J7uGMjh-pkDJmDFqA'
            
            const parametersAnimeCreate = {"subject":textCreate,"categoryId":"4774cda883224fdbb8f44c7acfaa74f1","styleCategoryIds":["b4303bbeed36462fa6bc1f6854af5376"],"scale":"1536x1024"}

            const resAnimeCreate = await axios.post(baseUrlAnimeCreate, parametersAnimeCreate, { headers: {"Authorization" : authBearerAnimeCreate} })
            console.log(resAnimeCreate.data)
            if(!resAnimeCreate.data.success) return reply(from, 'Error!\nMungkin terjadi kesalahan pada server')
            const resDataAnimeCreate = resAnimeCreate.data

            //loop get result
            const baseUrlLoopAnimeCreateGet = `https://web-backend-prod.zmo.ai/api/v1.0/microTask/makeUp/get?batchTaskId=${resDataAnimeCreate.taskId}`

            reply(from, 'Sedang membuat gambar, mohon tunggu sebentar...')

            let listImage = []
            let loopAnimeCreateGet = 1
            for(let i = 0; i < loopAnimeCreateGet; i++) {
                await sleep(5000)
                const resLoopAnimeCreateGet = await axios.get(baseUrlLoopAnimeCreateGet)
                console.log(resLoopAnimeCreateGet.data)

                if(!resLoopAnimeCreateGet.data.query) {
                    listImage = resLoopAnimeCreateGet.data.images.map(all => {  return { images: all.original, text: all.text, imageId: all.imageId } })
                    console.log(listImage)
                } else {
                    loopAnimeCreateGet++
                }
            }

            //send image
            for(let i = 0; i < listImage.length; i++) {
                await rem.sendFile(from, listImage[i].images, 'animeCreate.png', listImage[i].text, messageRaw, image)
                await axios.post('https://web-backend-prod.zmo.ai/api/v1.0/microTask/makeUp/delete', { imageId: listImage[i].imageId }, { headers: {"Authorization" : authBearerAnimeCreate} })
                console.log(listImage[i].imageId)
            }
            break
        case prefix+'dif':
        case prefix+'diff':
            // if(!isSideOwner) return reply(from, 'Command ini sedang dalam pengembangan')
            // if(!isPrem) return reply(from, 'Command ini sedang dalam perbaikan')

            let textDiff = (!message.selectedButtonId ? body : message.selectedButtonId).replace(`${allArgs[0]}`, '').trim()

            const cfgScaleDiff = Number(textDiff.includes('--cfg') ? (textDiff.split('--cfg')[1].split('\u00a0')[1] != undefined ? textDiff.split('--cfg')[1].split('\u00a0')[1] : textDiff.split('--cfg')[1].split(' ')[1])?.split(' ')[0].trim() : '8')
            if(isNaN(cfgScaleDiff) || cfgScaleDiff > 20 || cfgScaleDiff <= 0) return reply(from, 'Invalid cfg!\n\nHanya menerima nomer dari 1 - 20')
            textDiff = textDiff.replace(`--cfg ${cfgScaleDiff}`, '')
            textDiff = textDiff.replace(`--cfg\u00a0${cfgScaleDiff}`, '')   

            const stepsDiff = textDiff.includes('--steps') ? (textDiff.split('--steps')[1].split('\u00a0')[1] != undefined ? textDiff.split('--steps')[1].split('\u00a0')[1] : textDiff.split('--steps')[1].split(' ')[1])?.split(' ')[0].trim() : '50'
            if(isNaN(stepsDiff) || stepsDiff > 50 || stepsDiff <= 0) return reply(from, 'Invalid steps!\n\nHanya menerima nomer dari 1 - 50')
            textDiff = textDiff.replace(`--steps ${stepsDiff}`, '')
            textDiff = textDiff.replace(`--steps\u00a0${stepsDiff}`, '')

            // add --seed
            const seedDiff = Number(textDiff.includes('--seed') ? (textDiff.split('--seed')[1].split('\u00a0')[1] != undefined ? textDiff.split('--seed')[1].split('\u00a0')[1] : textDiff.split('--seed')[1].split(' ')[1])?.split(' ')[0].trim() : -1)
            // if(isNaN(seedDiff) || seedDiff < 0) return reply(from, 'Invalid seed!\n\nHanya menerima nomer > 0')
            textDiff = textDiff.replace(`--seed ${seedDiff}`, '')
            textDiff = textDiff.replace(`--seed\u00a0${seedDiff}`, '')

            const listSampler = [
                "Euler",
                "Euler a",
                "LMS",
                "Heun",
                "DPM2",
                "DPM2 a",
                "DPM++ 2S a",
                "DPM++ 2M",
                "DPM++ SDE",
                "DPM fast",
                "DPM adaptive",
                "LMS Karras",
                "DPM2 Karras",
                "DPM2 a Karras",
                "DPM++ 2S a Karras",
                "DPM++ 2M Karras",
                "DPM++ SDE Karras",
                "DDIM",
                "PLMS"
            ]
            let samplerDiff = 'DPM++ 2M Karras'
            if(textDiff.includes('--sampler')) {
                const isIncludedSampler = listSampler.filter((key) => textDiff.includes(key))
                if(!isIncludedSampler?.[0]) return reply(from, `Invalid Sampler!\n\nAvailable Sampler: ${listSampler.join(', ')}`)
                samplerDiff = isIncludedSampler.sort(
                    function (a, b) {
                        return b.length - a.length;
                    }
                )[0];
                textDiff = textDiff.replace(`--sampler ${samplerDiff}`, '')
            }

            // full id example
            // .diff prompt|negative_prompt
            // if button
            // .diff Counterfeit_v30.safetensors+[9e2a8f19] portrait |prompt|negative_prompt| --sampler DPM++ 2S a --cfg 8 --steps 20
            let promptDiff = (!message.selectedButtonId ? textDiff.split('|')?.[0] : textDiff.split('|')?.[1])?.trim()?.toLowerCase()
            let negativePromptDiff = (!message.selectedButtonId ? textDiff.split('|')?.[1] : textDiff.split('|')?.[2])?.trim() || ''
            console.log(textDiff, promptDiff, negativePromptDiff)
            if(!promptDiff) {
                reply(from, `*Image Generation [AI]*\nMembuat gambar dengan teknologi Stable Diffusion (AI)\n\nFormat salah!\n*${prefix}diff <prompt> | <negative_prompt>*\nAbaikan tanda < dan >\n\n_<negative_prompt>_ bersifat opsional, boleh di isi/tidak`)
                return rem.sendText(from, `Contoh: ${prefix}diff a girl, Phoenix girl, fluffy hair, war, a hell on earth, Beautiful and detailed explosion, Cold machine, Fire in eyes, burning, Metal texture, Exquisite cloth, Metal carving, volume, best quality, normal hands, Metal details, Metal scratch, Metal defects, masterpiece, best quality, best quality, illustration, highres, masterpiece, contour deepening, illustration,(beautiful detailed girl),beautiful detailed glow | lowres, bad anatomy, ((bad hands)), text, error, ((missing fingers)), cropped, jpeg artifacts, worst quality, low quality, signature, watermark, blurry, deformed, extra ears, deformed, disfigured, mutation, censored, ((multiple_girls))`)
            }
            // if(negativePromptDiff.length <= 0) negativePromptDiff = 'lowres, bad anatomy, ((bad hands)), text, error, ((missing fingers)), cropped, jpeg artifacts, worst quality, low quality, signature, watermark, blurry, deformed, extra ears, deformed, disfigured, mutation, censored'

            const badWordsListGet = fs.readFileSync('./lib/database/nsfw-words.txt', 'utf-8').trim()
            const badWordsList = badWordsListGet.split('\n')
            const listDetectedWord = []
            for(let i = 0; i < badWordsList.length; i++) {
                const tempPromptDif = promptDiff.replace(/,/g, ' ').split(' ')
                tempPromptDif.forEach((item) => {
                    if((item === badWordsList[i]?.trim()) && !isOwner) {
                        listDetectedWord.push(badWordsList[i]?.trim())
                        promptDiff = promptDiff.replace(new RegExp(item, 'g'), '')
                    }
                })
            }
            // split "," and trim each string in array and remove empty string
            promptDiff = (promptDiff.trim().split(',').map((item) => item.trim()).filter((item) => item)).join(', ')
            if(listDetectedWord.length >= 1) await reply(from, `Terdeteksi kata-kata yang tidak diizinkan!\n*${listDetectedWord.join(', ')}*\n\n*Hasil Filter: _${promptDiff}_*`)

            const listModel = [
                {
                    name: "CetusMix Version35 (Anime-Art) | Best",
                    id: 'cetusMix_Version35.safetensors+[de2f2560]',
                    type: 'anime'
                },
                {
                    name: 'Counterfeit v30 (Anime)',
                    id: 'Counterfeit_v30.safetensors+[9e2a8f19]',
                    type: 'anime'
                },
                {
                    name: "MeinaMix V11 (Anime)",
                    id: 'meinamix_meinaV11.safetensors+[b56ce717]',
                    type: 'anime'
                },
                {
                    name: 'Anything V4.5 (Anime)',
                    id: 'anything-v4.5-pruned.ckpt+[65745d25]',
                    type: 'anime'
                },
                {
                    name: 'Anything V5 (Anime)',
                    id: 'anythingV5_PrtRE.safetensors+[893e49b9]',
                    type: 'anime'
                },
                {
                    name: 'Dreamlike Anime 1.0',
                    id: 'dreamlike-anime-1.0.safetensors+[4520e090]',
                    type: 'anime'
                },
                {
                    name: 'ToonYou Beta 6 (Cartoon)',
                    id: 'toonyou_beta6.safetensors+[980f6b15]',
                    type: 'anime'
                },
                {
                    name: '3 Guofeng3 V3.4 (China Style)',
                    id: '3Guofeng3_v34.safetensors+[50f420de]',
                    type: 'anime'
                },
                {
                    name: 'Absolute Reality V1.8.1 (Realistic)',
                    id: 'absolutereality_v181.safetensors+[3d9d4d2b]',
                    type: 'realistic'
                },
                {
                    name: 'Realistic Vision V5.0 (Realistic)',
                    id: 'Realistic_Vision_V5.0.safetensors+[614d1063]',
                    type: 'realistic'
                },
                {
                    name: 'CyberRealistic V3.3 (Realistic)',
                    id: 'cyberrealistic_v33.safetensors+[82b0d085]',
                    type: 'realistic'
                }
            ]
            let listAspectRatio = [
                'landscape',
                'portrait',
                'square'
            ]

            // create a list of aspect ratio size max 1024x1024
            let listAspectRatioSize = {
                landscape: [ 1024, 576 ],
                portrait: [ 576, 1024 ],
                square: [ 1024, 1024 ]
            }

            let modelDiffSelect = undefined
            let aspectRatioDiffSelect = undefined
            if(message.selectedButtonId) modelDiffSelect = message.selectedButtonId.split(' ')[1]
            if(message.selectedButtonId) aspectRatioDiffSelect = message.selectedButtonId.split(' ')[2]

            const findListModelSelected = listModel.find((key) => key.id == modelDiffSelect)
            if(negativePromptDiff.length <= 0 && findListModelSelected && findListModelSelected?.type === 'anime') {
                negativePromptDiff = 'easynegative, FastNegativeV2'
            } else if(negativePromptDiff.length <= 0 && findListModelSelected && findListModelSelected?.type === 'realistic') {
                negativePromptDiff = 'easynegative, FastNegativeV2'
            } else if(negativePromptDiff.length <= 0 && !findListModelSelected && aspectRatioDiffSelect) {
                negativePromptDiff = 'easynegative, FastNegativeV2'
            }
            const listAntiNsfw = ['nsfw', 'nude', 'sex', 'hentai', 'censored']
            for(let i = 0; i < listAntiNsfw.length; i++) { 
                if(negativePromptDiff && !negativePromptDiff.includes(listAntiNsfw[i]) && !isOwner) negativePromptDiff += `, ${listAntiNsfw[i]}`
            }

            // full id example
            // .diff Counterfeit_v30.safetensors+[9e2a8f19] portrait |prompt|negative_prompt| --sampler DPM++ 2S a --cfg 8 --steps 20
            if(!message.selectedButtonId) {
                const landingDiff = `*Image Generation [AI]*\n\nMembuat gambar dengan teknologi Stable Diffusion (AI)\nPilih _Model AI_:`
                let buttonSendLanding = []
                for(let i = 0; i < listModel.length; i++) {
                    buttonSendLanding.push({ id: `${prefix}diff ${listModel[i].id} false |${promptDiff}|${negativePromptDiff}| --sampler ${samplerDiff} --cfg ${cfgScaleDiff} --seed ${seedDiff} --steps ${stepsDiff}`, text: listModel[i].name })
                }
                if((isImage || isQuotedImage) && isPrem) {
                    const mediaGetDiff = isQuotedImage ? await quotedMsg.getMedia() : await message.getMedia()
                    return rem.sendButtonsImage(from, landingDiff, mediaGetDiff, buttonSendLanding, '', '@dwirizqi.h')
                }
                return rem.sendButtons(from, landingDiff, buttonSendLanding, '', '@dwirizqi.h')
            } else if(message.selectedButtonId && ((aspectRatioDiffSelect == 'false') || (!aspectRatioDiffSelect))) {
                const landingDiff = `*Image Generation [AI]*\n\nMembuat gambar dengan teknologi Stable Diffusion (AI)\nPilih _Aspect Ratio_:`
                let buttonSendLanding = []
                for(let i = 0; i < listAspectRatio.length; i++) {
                    buttonSendLanding.push({ id: `${prefix}diff ${modelDiffSelect} ${i} |${promptDiff}|${negativePromptDiff}| --sampler ${samplerDiff} --cfg ${cfgScaleDiff} --seed ${seedDiff} --steps ${stepsDiff}`, text: listAspectRatio[i] })
                }
                if((isImage || isQuotedImage) && isPrem) {
                    const mediaGetDiff = isQuotedImage ? await quotedMsg.getMedia() : await message.getMedia()
                    return rem.sendButtonsImage(from, landingDiff, mediaGetDiff, buttonSendLanding, '', '@dwirizqi.h')
                }
                return rem.sendButtons(from, landingDiff, buttonSendLanding, '', '@dwirizqi.h')
            } else {
                let resultImageDiff = undefined
                let idMessageSendDiff = await reply(from, 'Proccessing...\nstatus: waiting')
                await (new Promise(async (resolve, reject) => {
                    if(isPrem || isOwner) {
                        try {
                            let baseUrlDiff = 'https://api.prodia.com/v1/sd/generate'
                            let base64ImageDiff = undefined
                            if(isImage || isQuotedImage) {
                                baseUrlDiff = 'https://api.prodia.com/v1/sd/transform'
                                const mediaSendDiff = isQuotedImage ? await quotedMsg.getMedia() : await message.getMedia()
                                base64ImageDiff = Buffer.from(mediaSendDiff).toString('base64')
                            }
                            let keyProdioaDiff = 'e092263b-4afa-4118-9c25-5c46c110a7d8'
                            // let keyProdioaDiff = '1cae00b7-7cb5-46bc-becf-4a904554396c'
                            // let keyProdioaDiff = '881b4ee9-ac92-4e7a-922c-bbdccfecffcb'
                            // let keyProdioaDiff = 'a286cf16-74f9-47ad-8844-753cc1b316c4'
            
                            const parametersDiff = {
                                method: 'POST',
                                url: baseUrlDiff,
                                headers: {
                                    'Content-Type': 'application/json',
                                    'Accept': 'application/json',
                                    'X-Prodia-Key': keyProdioaDiff
                                },
                                data: {
                                    model: modelDiffSelect.replace('+', ' '),
                                    prompt: promptDiff,
                                    negative_prompt: negativePromptDiff,
                                    steps: Number(stepsDiff),
                                    cfg_scale: Number(cfgScaleDiff),
                                    seed: seedDiff,
                                    sampler: samplerDiff,
                                    upscale: true,
                                    // aspect_ratio: listAspectRatio[Number(aspectRatioDiffSelect)]
                                    width: listAspectRatioSize[listAspectRatio[Number(aspectRatioDiffSelect)]][0],
                                    height: listAspectRatioSize[listAspectRatio[Number(aspectRatioDiffSelect)]][1]
                                }
                            }

                            if(isImage || isQuotedImage) {
                                parametersDiff.data.imageData = base64ImageDiff
                                parametersDiff.data.denoising_strength = 0.7
                            }
                            console.log('debug', parametersDiff)

                            // if(findListModelSelected.type === 'anime') parametersDiff.data.style_preset = 'anime'
                            let resultAPIJobDiff = await axios(parametersDiff, { validateStatus: () => true })
                            if(resultAPIJobDiff.status != 200) {
                                rem.sendEditMessage(from, idMessageSendDiff.key, `Proccessing... (High Speed)\nstatus: failed, trying again...`)
                                keyProdioaDiff = '1cae00b7-7cb5-46bc-becf-4a904554396c'
                                parametersDiff.headers['X-Prodia-Key'] = keyProdioaDiff
                                resultAPIJobDiff = await axios(parametersDiff)
                            }
                            console.log(resultAPIJobDiff.data.job)
            
                            let countLoopDiff = 1
                            for(let i = 0; i < countLoopDiff; i++) {
                                if(countLoopDiff == 1) await sleep(20000)
    
                                const checkJob = await axios.get(`https://api.prodia.com/v1/job/${resultAPIJobDiff.data.job}`, { headers: { 'X-Prodia-Key': keyProdioaDiff } })
                                console.log(checkJob.data)
                                rem.sendEditMessage(from, idMessageSendDiff.key, `Proccessing... (High Speed)\nstatus: ${checkJob.data.status}`)
            
                                if(checkJob.data.status != 'queued' && checkJob.data.status != 'generating' && checkJob.data.status != 'succeeded') {
                                    console.error('invalid diff', checkJob.data)
                                    rem.sendEditMessage(from, idMessageSendDiff.key, `Error, invalid status\nstatus: ${checkJob.data.status}\n\nPlease report to owner!`)
                                    
                                    idMessageSendDiff = await reply(from, 'Mencoba metode lain...')
                                    await sleep(2000)
                                    freeUserDiff()
                                } else if (checkJob.data.status == 'succeeded') {
                                    resultImageDiff = (await axios.get(checkJob.data.imageUrl, { responseType: 'arraybuffer' })).data
                                    resolve()
                                } else {
                                    countLoopDiff++
                                    await sleep(10000)
                                }
                            }
                        } catch (err) {
                            console.error(err)
                            rem.sendEditMessage(from, idMessageSendDiff.key, `Error!\n${err}`)
                            idMessageSendDiff = await reply(from, 'Mencoba metode lain...')
                            await sleep(2000)
                            freeUserDiff()
                        }
                    } else {
                        freeUserDiff()
                    }

                    async function freeUserDiff() {
                        // generate random id like "yao2tfl5na" same length
                        const idSetDiff = GenerateSerialNumber("0000000000")
                        const payloadSendData = { "data": [promptDiff, negativePromptDiff, modelDiffSelect.replace('+', ' '), Number(stepsDiff), samplerDiff, Number(cfgScaleDiff), listAspectRatioSize[listAspectRatio[Number(aspectRatioDiffSelect)]][0], listAspectRatioSize[listAspectRatio[Number(aspectRatioDiffSelect)]][1], seedDiff], "event_data": null, "fn_index":0, "trigger_id":15,"session_hash": idSetDiff }
                        const diffPostData = (await axios.post('https://prodia-fast-stable-diffusion.hf.space/queue/join?', payloadSendData))
                        const diffWs = (await axios.get(`https://prodia-fast-stable-diffusion.hf.space/queue/data?session_hash=${idSetDiff}`, {
                            headers: { Referer: "https://prodia-fast-stable-diffusion.hf.space/?__theme=light" }, 
                            responseType: 'stream'
                        })).data
    
                        let estimationTime = 0
                        diffWs.on('data', async (chunk) => {
                            const dataDiff0 = chunk.toString().replace(/data:/g, '').trim()?.split('\n')
                            for(let i = 0; i < dataDiff0.length; i++) {
                                if(!dataDiff0[i]) continue;
                                const dataDiff = JSON.parse(dataDiff0[i])
                                if(dataDiff.msg == 'estimation') {
                                    if(dataDiff.rank_eta || dataDiff.eta) estimationTime = dataDiff.rank_eta || dataDiff.eta
                                    rem.sendEditMessage(from, idMessageSendDiff.key, `Proccessing... (Slow Speed)\nstatus: waiting\nEstimasi Waktu : ${estimationTime.toFixed(1)} Detik` + (!(isOwner || isPrem) ? `\n\nUntuk hasil yang lebih cepat, silahkan upgrade ke premium\nDonate seikhlasnya ke *_${prefix}donate_* dan kamu akan mendapatkan fitur premium *selamanya*` : ''))
                                }
                                if(dataDiff.msg == 'process_starts') {
                                    if(dataDiff.rank_eta || dataDiff.eta) estimationTime = dataDiff.rank_eta || dataDiff.eta
                                    rem.sendEditMessage(from, idMessageSendDiff.key, `Proccessing... (Slow Speed)\nstatus: generating\nEstimasi Waktu : ${estimationTime.toFixed(1)} Detik` + (!(isOwner || isPrem) ? `\n\nUntuk hasil yang lebih cepat, silahkan upgrade ke premium\nDonate seikhlasnya ke *_${prefix}donate_* dan kamu akan mendapatkan fitur premium *selamanya*` : ''))
                                }
                                if(dataDiff.msg == 'process_completed') {
                                    const dataOutput = dataDiff.output.data?.[0]
                                    if(dataDiff.output.error) {
                                        rem.sendEditMessage(from, idMessageSendDiff.key, `Error!\n${dataDiff.output.error}`)
                                    } else if(dataOutput.path == undefined) {
                                        rem.sendEditMessage(from, idMessageSendDiff.key, `Error!\n${dataDiff}`)
                                        reject()
                                    } else {
                                        const urlGetDataBufferDiff = `https://prodia-fast-stable-diffusion.hf.space/file=${dataOutput.path}`
                                        resultImageDiff = (await axios.get(urlGetDataBufferDiff, { responseType: 'arraybuffer' })).data
                                        resolve()
                                        rem.sendEditMessage(from, idMessageSendDiff.key, `Proccessing... (Slow Speed)\nstatus: succeeded` + (!(isOwner || isPrem) ? `\n\nUntuk hasil yang lebih cepat, silahkan upgrade ke premium\nDonate seikhlasnya ke *_${prefix}donate_* dan kamu akan mendapatkan fitur premium *selamanya*` : ''))
                                    }
                                }
                            }
                        })
                    }
                }))

                // // const checkNsfwSetbg = await checkImageNsfw(resultImageDiff)
                // const checkNsfwDiff = await checkImageNsfw(resultImageDiff)
                // console.log(checkNsfwDiff)
                // // const mapObjectsNsfwDiff = (checkNsfwDiff.objects[0] != undefined ? checkNsfwDiff.objects.map(all => all.label) : []).join(', ')
                // if(checkNsfwDiff.unsafe && (checkNsfwDiff.objects.length !== 0)) {
                //     // checkNsfwDiff.object is a Array of box position, create a canvas to draw the boxes and write the text under the box on the encryptMediaa image
                //     const sizeImageDiff = await sizeOf(resultImageDiff)
                //     const canvasCreate = cnvs.createCanvas(sizeImageDiff.width, sizeImageDiff.height)
                //     const ctx = canvasCreate.getContext('2d')
                //     const imageDiff = await cnvs.loadImage(resultImageDiff)
                //     ctx.drawImage(imageDiff, 0, 0, sizeImageDiff.width, sizeImageDiff.height)
                //     ctx.strokeStyle = 'blue'
                //     ctx.lineWidth = 10
                //     for (const box of checkNsfwDiff.objects) {
                //         // ctx.beginPath()
                //         // ctx.rect(box.box[0], box.box[1], box.box[2], box.box[3])
                //         // ctx.stroke()
                //         // crete box, box[0] = x, box[1] = y, box[2] = width, box[3] = height
                //         ctx.font = 'bold 40px Courier New'
                //         ctx.fillStyle = 'red'
                //         ctx.fillText('NSFW! ' + box.label, box.box[0], box.box[1] + box.box[3] + 45)

                //         ctx.beginPath()
                //         ctx.rect(box.box[0], box.box[1], box.box[2], box.box[3])
                //         ctx.stroke()

                //         // fill inside box with black color
                //         ctx.fillStyle = 'black'
                //         ctx.fillRect(box.box[0], box.box[1], box.box[2], box.box[3])
                //     }
                //     const imageBuffer = await canvasCreate.toBuffer()
                //     return rem.sendFile(from, imageBuffer, 'nsfw.png', `Gambar yang dihasilkan mengandung unsur NSFW!\n\ndata: ${util.format(checkNsfwDiff)}`, messageRaw, image)
                // }
                // if((checkNsfwSetbg.data.predictedLabel != 'neutral') && !isOwner) {
                //     await rem.sendText(from, `Gambar yang dihasilkan mengandung unsur NSFW!\n\nPredicted Label: ${checkNsfwSetbg.data.predictedLabel}`)
                // } else {

                const checkNsfwDiff = await checkImageNsfw(resultImageDiff)
                const firstLabel = checkNsfwDiff[0].label
                if(firstLabel != 'normal' && !isOwner) return rem.sendText(from, `Gambar yang dihasilkan mengandung unsur NSFW!\n\n*Jika menurutmu ada yang salah, laporkan ke _${prefix}bugreport_*\nBeserta kirimkan data yang ada dibawah ini\n\nPredicted Label: ${firstLabel}\nData: ${JSON.stringify(checkNsfwDiff)}`)

                await rem.sendFile(from, resultImageDiff, 'diff.png', `*[ Stable Diffusion ]*
    
Model : *_${modelDiffSelect.replace('+', ' ')}_*
Steps : _${stepsDiff}_
CFG Scale : _${cfgScaleDiff}_${seedDiff > 0 ? `\nSeed : _${seedDiff}_` : ''}
                        
Sampler : _${samplerDiff}_
Aspect Ratio : _${listAspectRatio[Number(aspectRatioDiffSelect)]}_
Upscale : ${(isPrem || isOwner) ? '‚úÖ' : '‚ùå'}
                        
Prompt : _${promptDiff}_
                        
Negative Prompt : _${negativePromptDiff}_`, messageRaw, image)
                rem.sendText(from, `Tips Diff\n\nTelah disediakan beberapa options untuk diubah\n\n*--cfg* (default: 8)\n*--steps* (default: 50)\n*--sampler* (default: DPM++ 2M Karras)\n\nContoh: _${prefix}diff prompt | negative_prompt --sampler DPM++ 2S a --cfg 8 --steps 20_` + (!(isOwner || isPrem) ? `\n\nUntuk hasil yang lebih cepat, silahkan upgrade ke premium\nDonate seikhlasnya ke *_${prefix}donate_* dan kamu akan mendapatkan fitur premium *selamanya*` : ''))
                // }
            }
            break
        case prefix+'sendimg':
            if(!args[1]) return
            
            const urlSendImg = args[1]
            const bodySendImg = body.replace(`${args[0]} ${args[1]} `, '')
            await rem.sendFile(from, urlSendImg, 'sendimg.png', bodySendImg, messageRaw, image)
            break
        case prefix+'sticker':
        case prefix+'stiker':
        case prefix+'s': 
            if(!isMedia && !quotedMsg?.isMedia) return reply(from, `Kirim gambar dengan caption ${prefix}s atau tag gambar yang sudah dikirim!`, id)
            //if (isLimit(_userDb)) return reply(from, `Maaf ${pushname}, Kuota Limit Kamu Sudah Habis, Ketik ${prefix}limit Untuk Mengecek Kuota Limit Kamu`, id)
            if(message.isEphemeralMessage || quotedMsg?.isEphemeralMessage) return reply(from, 'Maaf, tidak bisa membuat sticker dari media sekali lihat')

            if (isMedia) {
                if(type === image || type === document) {
                    const mediaData = await message.getMedia()
                    const stickerOptions = {
                        pack: packWm, // The pack name
                        author: authorWm, // The author name
                        type: StickerTypes.FULL, // The sticker type
                        quality: 50, // The quality of the output file
                    }
                    const generateSticker = await createSticker(mediaData, stickerOptions)
                    await rem.sendFile(from, generateSticker, '', '', messageRaw, sticker)
                  //  limitAdd(serial)
                } else if(type == video) {
                    if(message.duration >= 10) return reply(from, 'Durasi maksimal adalah 10 Detik!')
                    try {
                        const mediaData = await message.getMedia()
                        const generateSticker = await gif2webpFfmpeg(mediaData, packWm, authorWm)
                        console.log(generateSticker)
                        await rem.sendFile(from, Buffer.isBuffer(generateSticker.stickerResult) ? generateSticker.stickerResult : { url: generateSticker.stickerResult }, 'sticker.webp', '', messageRaw, sticker)
                      //  limitAdd(serial)
                    } catch (err) {
                        reply(from, 'Gagal!, mencoba metode lain...', id)
                        console.log(err.message)
                        try {
                            const mediaData = await message.getMedia()
                            const stickerOptions = {
                                pack: packWm, // The pack name
                                author: authorWm, // The author name
                                type: StickerTypes.FULL, // The sticker type
                                quality: 1,
                            }
                            const generateSticker = await createSticker(mediaData, stickerOptions)
                            await rem.sendFile(from, generateSticker, '', '', messageRaw, sticker)
                          //  limitAdd(serial)
                        } catch (err) {
                            console.log(err.message)
                            reply(from, 'Error!, mungkin size video melebihi limit\nCoba kurangi durasi video/gif', id)
                        }
                    }
                }
            } else if (quotedMsg != null) {
                if(quotedMsg.type == image || quotedMsg.type == document) {
                    const mediaData = await quotedMsg.getMedia()
                    const stickerOptions = {
                        pack: packWm, // The pack name
                        author: authorWm, // The author name
                        type: StickerTypes.FULL, // The sticker type
                        quality: 50, // The quality of the output file
                    }
                    const generateSticker = await createSticker(mediaData, stickerOptions)
                    await rem.sendFile(from, generateSticker, '', '', messageRaw, sticker)
                  //  limitAdd(serial)
                } else if(quotedMsg.type == video) {
                    if(quotedMsg.duration >= 10) return reply(from, 'Durasi maksimal adalah 10 Detik!')
                    try { 
                        const mediaData = await quotedMsg.getMedia()
                        const generateSticker = await gif2webpFfmpeg(mediaData, packWm, authorWm)
                        console.log(generateSticker)
                        await rem.sendFile(from, Buffer.isBuffer(generateSticker.stickerResult) ? generateSticker.stickerResult : { url: generateSticker.stickerResult }, 'sticker.webp', '', messageRaw, sticker)
                      //  limitAdd(serial)
                    } catch (err) {
                        reply(from, 'Gagal!, mencoba metode lain...', id)
                        console.log(err)
                        try {
                            const mediaData = await quotedMsg.getMedia()
                            const stickerOptions = {
                                pack: packWm, // The pack name
                                author: authorWm, // The author name
                                type: StickerTypes.FULL, // The sticker type
                                quality: 1,
                            }
                            const generateSticker = await createSticker(mediaData, stickerOptions)
                            await rem.sendFile(from, generateSticker, '', '', messageRaw, sticker)
                          //  limitAdd(serial)
                        } catch (err) {
                            console.log(err)
                            reply(from, 'Error!, mungkin size video melebihi limit\nCoba kurangi durasi video/gif', id)
                        }
                    }
                }
            } /*else if (args.length === 2) {
                const url = args[1]
                if (url.match(isUrl)) {
                    await rem.sendStickerfromUrl(from, url, { method: 'get' })
                        .catch(err => console.log('Caught exception: ', err))
                } else {
                    reply(from, mess.error.Iv, id)
                }
            }*/ else {
                    reply(from, mess.error.St, id)
            }
            break
        // case prefix+'so':
        //     //if (isLimit(_userDb)) return reply(from, `Maaf ${pushname}, Kuota Limit Kamu Sudah Habis, Ketik ${prefix}limit Untuk Mengecek Kuota Limit Kamu`, id)
        //     if(!isMedia && !quotedMsg?.isMedia) return reply(from, `Kirim gambar dengan caption ${prefix}so atau tag gambar yang sudah dikirim!`, id)
        //     if (isMedia && type === image) {
        //         const mediaData = await message.getMedia()
        //         const stickerOptions = {
        //             pack: packWm, // The pack name
        //             author: authorWm, // The author name
        //             type: StickerTypes.CROPPED, // The sticker type
        //             quality: 50, // The quality of the output file
        //         }
        //         const generateSticker = await createSticker(mediaData, stickerOptions)
        //         await rem.sendFile(from, generateSticker, '', '', messageRaw, sticker)
        //       //  limitAdd(serial)
        //     } else if (quotedMsg && quotedMsg.type == image) {
        //         const mediaData = await quotedMsg.getMedia()
        //         const stickerOptions = {
        //             pack: packWm, // The pack name
        //             author: authorWm, // The author name
        //             type: StickerTypes.CROPPED, // The sticker type
        //             quality: 50, // The quality of the output file
        //         }
        //         const generateSticker = await createSticker(mediaData, stickerOptions)
        //         await rem.sendFile(from, generateSticker, '', '', messageRaw, sticker)
        //       //  limitAdd(serial)
        //     } /*else if (args.length === 2) {
        //         const url = args[1]
        //         if (url.match(isUrl)) {
        //             await rem.sendStickerfromUrl(from, url, { method: 'get' })
        //                 .catch(err => console.log('Caught exception: ', err))
        //         } else {
        //             reply(from, mess.error.Iv, id)
        //         }
        //     }*/ else {
        //             reply(from, mess.error.St, id)
        //     }
        //     break
        case prefix+'swm':
            //if (isLimit(_userDb)) return reply(from, `Maaf ${pushname}, Kuota Limit Kamu Sudah Habis, Ketik ${prefix}limit Untuk Mengecek Kuota Limit Kamu`, id)
            if(!isMedia && !quotedMsg?.isMedia) return reply(from, `Kirim gambar dengan caption ${prefix}swm atau tag gambar yang sudah dikirim!`, id)
            if (args.length === 1) return reply(from, `Format salah!\n\n_${prefix}swm Rem Bot/Dwi Rizqi_`, id)
            if (!body.slice(5).includes('/')) return reply(from, `Format salah!\n\nContoh : _${prefix}swm Rem Bot/Dwi Rizqi_\nDan reply gambarnya`, id)
            
            if(isMedia) {
                var mediaData = await message.getMedia()
                var Wm_custom = body.slice(5).trim().split('/')
            } else {
                if(quotedMsg.type == sticker) return reply(from, `Untuk mengkonversi sticker, silahkan *_${prefix}toimg_* terlebih dahulu`, id)
                var mediaData = await quotedMsg.getMedia()
                var Wm_custom = body.slice(5).trim().split('/')
            }
            
            if (isMedia && isImage || isQuotedImage) {
                console.log(Wm_custom)
                const stickerOptions = {
                    pack: Wm_custom[0], // The pack name
                    author: Wm_custom[1], // The author name
                    type: StickerTypes.FULL, // The sticker type
                    quality: 50, // The quality of the output file
                }
                const generateSticker = await createSticker(mediaData, stickerOptions)
                await rem.sendFile(from, generateSticker, '', '', messageRaw, sticker)
              //  limitAdd(serial)
            } else if(isMedia && isVideo || isQuotedVideo) {
                try {
                    reply(from, '[WAIT] Sedang di proses‚è≥ silahkan tunggu ¬± 1 min!')
                  //  limitAdd(serial)
                    const generateSticker = await gif2webpFfmpeg(mediaData, Wm_custom[0], Wm_custom[1])
                    console.log(generateSticker)
                    await rem.sendFile(from, Buffer.isBuffer(generateSticker.stickerResult) ? generateSticker.stickerResult : { url: generateSticker.stickerResult }, 'sticker.webp', '', messageRaw, sticker)
                } catch (err) {
                    reply(from, 'Gagal!, mencoba metode lain...', id)
                    console.log(err.message)
                    try {
                        const stickerOptions = {
                            pack: Wm_custom[0], // The pack name
                            author: Wm_custom[1], // The author name
                            type: StickerTypes.FULL, // The sticker type
                            quality: 1, // The quality of the output file
                        }
                        const generateSticker = await createSticker(mediaData, stickerOptions)
                        await rem.sendFile(from, generateSticker, '', '', messageRaw, sticker)
                      //  limitAdd(serial)
                    } catch (err) {
                        console.log(err.message)
                        reply(from, 'Error!, mungkin size video melebihi limit\nCoba kurangi durasi video/gif', id)
                    }
                }
            }
            break
        case prefix+'swo':
            //if (isLimit(_userDb)) return reply(from, `Maaf ${pushname}, Kuota Limit Kamu Sudah Habis, Ketik ${prefix}limit Untuk Mengecek Kuota Limit Kamu`, id)
            if(!isMedia && !quotedMsg?.isMedia) return reply(from, `Kirim gambar dengan caption ${prefix}swo atau tag gambar yang sudah dikirim!`, id)
            if (args.length === 1) return reply(from, `Format salah!\n\n_${prefix}swm Rem Bot/Dwi Rizqi_`, id)
            if (!body.slice(5).includes('/')) return reply(from, `Format salah!\n\nContoh : _${prefix}swm Rem Bot/Dwi Rizqi_\nDan reply gambarnya`, id)
            
            if(isMedia) {
                var mediaData = await message.getMedia()
                var Wm_custom = body.slice(5).trim().split('/')
            } else {
                var mediaData = await quotedMsg.getMedia()
                var Wm_custom = body.slice(5).trim().split('/')
            }
            
            if (isMedia && isImage || isQuotedImage) {
                console.log(Wm_custom)
                const stickerOptions = {
                    pack: Wm_custom[0], // The pack name
                    author: Wm_custom[1], // The author name
                    type: StickerTypes.FULL, // The sticker type
                    quality: 50, // The quality of the output file
                }
                const generateSticker = await createSticker(mediaData, stickerOptions)
                await rem.sendFile(from, generateSticker, '', '', messageRaw, sticker)
              //  limitAdd(serial)
            } else if(isMedia && isVideo || isQuotedVideo) {
                try {
                    reply(from, '[WAIT] Sedang di proses‚è≥ silahkan tunggu ¬± 1 min!')
                  //  limitAdd(serial)
                    const generateSticker = await gif2webpFfmpeg(mediaData, Wm_custom[0], Wm_custom[1])
                    console.log(generateSticker)
                    await rem.sendFile(from, Buffer.isBuffer(generateSticker.stickerResult) ? generateSticker.stickerResult : { url: generateSticker.stickerResult }, 'sticker.webp', '', messageRaw, sticker)
                } catch (err) {
                    reply(from, 'Gagal!, mencoba metode lain...', id)
                    console.log(err.message)
                    try {
                        const stickerOptions = {
                            pack: Wm_custom[0], // The pack name
                            author: Wm_custom[1], // The author name
                            type: StickerTypes.FULL, // The sticker type
                            quality: 1, // The quality of the output file
                        }
                        const generateSticker = await createSticker(mediaData, stickerOptions)
                        await rem.sendFile(from, generateSticker, '', '', messageRaw, sticker)
                      //  limitAdd(serial)
                    } catch (err) {
                        console.log(err.message)
                        reply(from, 'Error!, mungkin size video melebihi limit\nCoba kurangi durasi video/gif', id)
                    }
                }
            }
            break
        case prefix+'ttp':
            //if (isLimit(_userDb)) return reply(from, `Maaf ${pushname}, Kuota Limit Kamu Sudah Habis, Ketik ${prefix}limit Untuk Mengecek Kuota Limit Kamu`, id)
            if(args.length === 1) return reply(from, `Kirim perintah *${prefix}ttp [ Teks ]*, contoh *${prefix}ttp hehe*`, id)
              //  limitAdd(serial)
                try
                {
                    // const ttpFetchAPI = await axios.get(`https://api.xteam.xyz/ttp?text=${encodeURIComponent(body.slice(5))}`)
                    // const filenamettp = GenerateSerialNumber("00000000000000000000000")
                    // const base64DataTtp = ttpFetchAPI.data.result.replace(/^data:image\/png;base64,/, "");
                    // await fs.writeFileSync(`./lib/cache/sticker/ttp_${filenamettp}.png`, base64DataTtp, 'base64')
                    // const stickerOptions = {
                    //     pack: packWm, // The pack name
                    //     author: authorWm, // The author name
                    //     type: StickerTypes.FULL, // The sticker type
                    //     quality: 50, // The quality of the output file
                    // }
                    // const generateSticker = await createSticker(`./lib/cache/sticker/ttp_${filenamettp}.png`, stickerOptions)
                    // await rem.sendFile(from, generateSticker, '', '', messageRaw, sticker)
                    // fs.unlinkSync(`./lib/cache/sticker/ttp_${filenamettp}.png`)


                    // const canvasTtp = cnvs.createCanvas(500, 500); //FOR REUSE CANVAS
                    // const ctxT = canvasTtp.getContext("2d");
                    // //set ctxT to background white and text black and bold
                    // ctxT.fillStyle = "#FFFFFF";
                    // ctxT.fillRect(0, 0, canvasTtp.width, canvasTtp.height);
                    // ctxT.fillStyle = "#000000";
                    // ctxT.font = "bold 1px Arial";
                    // function fillTextCenter(ctx, text, x, y, width, height) {
                    //     ctx.textBaseline = 'middle';
                    //     ctx.textAlign = "center";
                    
                    //     const lines = text.match(/[^\r\n]+/g);
                    //     for (let i = 0; i < lines.length; i++) {
                    //         let xL = (width - x) / 2
                    //         let yL = y + (height / (lines.length + 1)) * (i + 1)
                    
                    //         ctx.fillText(lines[i], xL, yL)
                    //     }
                    // }
                    
                    // function getFontSizeToFit(ctx, text, width, height) {
                    //     let fitFontWidth = Number.MAX_VALUE
                    //     const lines = text.match(/[^\r\n]+/g);
                    //     lines.forEach(line => {
                    //         fitFontWidth = Math.min(fitFontWidth, width / ctx.measureText(line).width)
                    //     })
                    //     let fitFontHeight = height / (lines.length * 1); // if you want more spacing between line, you can increase this value
                    //     return Math.min(fitFontHeight, fitFontWidth)
                    // }

                    // //text auto new line
                    // const textTtp = body.slice(5)
                    // const lengthLineTtp = 20
                    // let linesTtp = [textTtp]
                    // let i = 0
                    // while (textTtp.length >= lengthLineTtp * i+1) {
                    //     if (linesTtp[i].charAt(lengthLineTtp-1) == ' '){
                    //         linesTtp.push(textTtp.slice(lengthLineTtp*i, lengthLineTtp*i + lengthLineTtp-1).trim())
                    //     } else {
                    //         linesTtp.push(textTtp.slice(lengthLineTtp*i, lengthLineTtp*i + lengthLineTtp).trim())
                    //     }
                    //     i++
                    // }
                    // linesTtp.shift()
                    // const textTtpNewLine = linesTtp.join('\n')

                    // function fitTextCenter(ctx) {
                    //     let fontSize = getFontSizeToFit(ctx, textTtpNewLine, 500, 500)
                    //     ctx.font = 'bold '+ fontSize + "px Arial"
                    
                    //     fillTextCenter(ctx, textTtpNewLine, 0, 0, 500, 500)
                    // }
                    // fitTextCenter(ctxT)
                    // const bufferTtp = canvasTtp.toBuffer()
                    // const stickerOptions = {
                    //     pack: packWm, // The pack name
                    //     author: authorWm, // The author name
                    //     type: StickerTypes.FULL, // The sticker type
                    //     quality: 50, // The quality of the output file
                    // }
                    // const generateSticker = await createSticker(bufferTtp, stickerOptions)
                    // await rem.sendFile(from, generateSticker, '', '', messageRaw, sticker)




                    const { createCanvas } = require('canvas')
                    
                    
                    const width = 500;
                    const height = 500;
                    
                    const canvas = createCanvas(width, height)
                    const context = canvas.getContext('2d')
                    
                    
                    context.textAlign = 'center'
                    context.textBaseline = 'middle';
                    context.fillStyle = '#FFFFFF'
                    
                    
                    const fontSizeUsed = drawMultilineText(
                        context,
                        body.slice(5),
                        {
                            rect: {
                                x: 250,
                                y: 0,
                                width: 500,
                                height: 500 
                            },
                            font: 'sans-serif',
                            minFontSize: 30,
                            maxFontSize: 80
                        }
                    )
                    
                    const bufferTtp = canvas.toBuffer('image/png')
                    const stickerOptions = {
                        pack: packWm, // The pack name
                        author: authorWm, // The author name
                        type: StickerTypes.FULL, // The sticker type
                        quality: 50, // The quality of the output file
                    }
                    const generateSticker = await createSticker(bufferTtp, stickerOptions)
                    await rem.sendFile(from, generateSticker, '', '', messageRaw, sticker)
                    
                    function drawMultilineText(ctx, text, opts) {
                    
                        // Default options
                        if (!opts)
                            opts = {}
                        if (!opts.font)
                            opts.font = 'sans-serif'
                        if (typeof opts.stroke == 'undefined')
                            opts.stroke = false
                        if (typeof opts.verbose == 'undefined')
                            opts.verbose = false
                        if (!opts.rect)
                            opts.rect = {
                                x: 0,
                                y: 0,
                                width: ctx.canvas.width,
                                height: ctx.canvas.height
                            }
                        if (!opts.lineHeight)
                            opts.lineHeight = 1.1
                        if (!opts.minFontSize)
                            opts.minFontSize = 30
                        if (!opts.maxFontSize)
                            opts.maxFontSize = 100
                        // Default log function is console.log - Note: if verbose il false, nothing will be logged anyway
                        if (!opts.logFunction)
                            opts.logFunction = function (message) { console.log(message) }
                    
                    
                        const words = require('words-array')(text)
                        if (opts.verbose) opts.logFunction('Text contains ' + words.length + ' words')
                        var lines = []
                        let y;  //New Line
                    
                        // Finds max font size  which can be used to print whole text in opts.rec
                    
                        
                        let lastFittingLines;                       // declaring 4 new variables (addressing issue 3)
                        let lastFittingFont;
                        let lastFittingY;
                        let lastFittingLineHeight;
                        for (var fontSize = opts.minFontSize; fontSize <= opts.maxFontSize; fontSize++) {
                    
                            // Line height
                            var lineHeight = fontSize * opts.lineHeight
                    
                            // Set font for testing with measureText()
                            ctx.font = 'bold ' + fontSize + 'px ' + opts.font
                    
                            // Start
                            var x = opts.rect.x;
                            y = lineHeight; //modified line        // setting to lineHeight as opposed to fontSize (addressing issue 1)
                            lines = []
                            var line = ''
                    
                            // Cycles on words
                    
                           
                            for (var word of words) {
                                // Add next word to line
                                var linePlus = line + word + ' '
                                // If added word exceeds rect width...
                                if (ctx.measureText(linePlus).width > (opts.rect.width)) {
                                    // ..."prints" (save) the line without last word
                                    lines.push({ text: line, x: x, y: y })
                                    // New line with ctx last word
                                    line = word + ' '
                                    y += lineHeight
                                } else {
                                    // ...continues appending words
                                    line = linePlus
                                }
                            }
                    
                            // "Print" (save) last line
                            lines.push({ text: line, x: x, y: y })
                    
                            // If bottom of rect is reached then breaks "fontSize" cycle
                                
                            if (y > opts.rect.height)                                           
                                break;
                                
                            lastFittingLines = lines;               // using 4 new variables for 'step back' (issue 3)
                            lastFittingFont = ctx.font;
                            lastFittingY = y;
                            lastFittingLineHeight = lineHeight;
                    
                        }
                    
                        lines = lastFittingLines;                   // assigning last fitting values (issue 3)                    
                        ctx.font = lastFittingFont;                                                                   
                        if (opts.verbose) opts.logFunction("Font used: " + ctx.font);
                        const offset = opts.rect.y - lastFittingLineHeight / 2 + (opts.rect.height - lastFittingY) / 2;     // modifying calculation (issue 2)
                        for (var line of lines)
                            // Fill or stroke
                            if (opts.stroke)
                                ctx.strokeText(line.text.trim(), line.x, line.y + offset) //modified line
                            else
                                ctx.fillText(line.text.trim(), line.x, line.y + offset) //modified line
                    
                        // Returns font size
                        return fontSize
                    }


                  //  limitAdd(serial)
                    /*const string = body.toLowerCase().includes(prefix+'ttp') ? body.slice(5) : body.slice(5)
                    if(args)
                    {
                        if(quotedMsg == null)
                        {
                            const gasMake = await getStickerMaker(string)
                            if(gasMake.status == true)
                            {
                                try{
                                    await rem.sendImageAsSticker(from, gasMake.base64)
                                }catch(err) {
                                    await reply(from, 'Gagal membuat.', id)
                                } 
                            }else{
                                await reply(from, gasMake.reason, id)
                            }
                        }else if(quotedMsg != null){
                            const gasMake = await getStickerMaker(quotedMsg.body)
                            if(gasMake.status == true)
                            {
                                try{
                                    await rem.sendImageAsSticker(from, gasMake.base64)
                                }catch(err) {
                                    await reply(from, 'Gagal membuat.', id)
                                } 
                            }else{
                                await reply(from, gasMake.reason, id)
                            }
                        }
                       
                    }else{
                        await reply(from, 'Tidak boleh kosong.', id)
                    }*/
                }catch(error)
                {
                    console.error(error)
                    reply(from, 'Error!')
                }
            break
        case prefix+'ttg':
            //if(!isOwner) return reply(from, `Fitur ini sedang error, Coba _${prefix}ttp_`, id)
            //if (!isGroupMsg) return reply(from, `Perintah ini hanya bisa di gunakan dalam group!`, id)
            //if (isLimit(_userDb)) return reply(from, `Maaf ${pushname}, Kuota Limit Kamu Sudah Habis, Ketik ${prefix}limit Untuk Mengecek Kuota Limit Kamu`, id)
            try {
                if (args.length === 1) return reply(from, `Kirim perintah *${prefix}ttg [ Teks ]*, contoh *${prefix}ttg hehe*`, id)
                    var responseAPI = await axios.get('https://api.xteam.xyz/attp?text='+encodeURIComponent(body.slice(5)))
                    const matches = responseAPI.data.result.match(/^data:([A-Za-z-+\/]+);base64,(.+)$/)
                    const bufferresponseAPI1 = Buffer.from(matches[2], 'base64')
                    await rem.sendFile(from, bufferresponseAPI1, '', '', messageRaw, sticker)
                  //  limitAdd(serial)
            } catch(e) {
                console.log(e)
                rem.sendText(from, 'Maaf, Server sedang Error')
            }
            break
        case prefix+'qc':
        case prefix+'qca':
            if(!args[1] && !quotedMsg) return reply(from, `Kirim perintah *${prefix}qc [ Teks ]*, contoh *${prefix}qc hehe*`, id)
            // const genQc = await axios.post('https://pixelspeechbubble.com/make-bubble', { text: textBodyQc, animated: args[0] == `${prefix}qc` ? 'false' : 'true', orientation: 'left', xxx: 'speech' }, { headers: { 'Content-Type': 'application/x-www-form-urlencoded' } })
            // const stickerOptionsQc = {
            //     pack: packWm, // The pack name
            //     author: authorWm, // The author name
            //     type: StickerTypes.DEFAULT, // The sticker type
            //     quality: 50, // The quality of the output file
            // }
            // const generateStickerQc = await createSticker('https://' + genQc.data.download.replace('//', ''), stickerOptionsQc)
            // await rem.sendFile(from, generateStickerQc, '', '', messageRaw, sticker)

            const messageBodyQc = quotedMsg ? quotedMsg : message
            const idRequestedQc = messageBodyQc.sender
            const _userDbQc = quotedMsg ? await _mongo_UserSchema.findOne({ iId: quotedMsg.sender }) : _userDb

            let nameRequestedQc = getNama(_userDbQc)
            if(!nameRequestedQc) {
                if(quotedMsg) {
                    const contactDbQc = await _mongo_ContactSchema.findOne({ iId: idRequestedQc })
                    nameRequestedQc = rem.contacts(idRequestedQc, contactDbQc)
                } else {
                    nameRequestedQc = pushname
                }
            }
            const fullNameQc = nameRequestedQc
            const textBodyQc = quotedMsg ? messageBodyQc.body : body.replace(`${args[0]} `, '')

            let picRequestedQc = 'https://remcp.com/assets/img/images_pp_blank.png'
            if (getBgProfile(_userDbQc) == undefined) await addBgProfile(idRequestedQc)
            let isHideppOnRequestedQc =_userDbQc?.isHidePP
            if (!isHideppOnRequestedQc) {
                try {
                    picRequestedQc = await rem.profilePictureUrl(idRequestedQc)
                } catch (err) {
                    console.error(err)
                    picRequestedQc = 'https://remcp.com/assets/img/images_pp_blank.png'
                }
            }

            const requestQcApiBody = {
                "type": "quote",
                "format": "png",
                "backgroundColor": "#172026",
                "width": 512,
                "height": 768,
                "scale": 2,
                "messages": [
                    {
                        "entities": [],
                        "chatId": Number(messageBodyQc.from.match(/\d+/g).join('').trim()),
                        "avatar": true,
                        "from": {
                            "id": Number(messageBodyQc.sender.match(/\d+/g).join('').trim()),
                            "first_name": fullNameQc.split(' ').slice(0, -1).join(' '),
                            "last_name": fullNameQc.split(' ').slice(-1).join(' '),
                            "username": fullNameQc,
                            "language_code": "id",
                            "title": fullNameQc,
                            "photo": {
                                "url": picRequestedQc
                            },
                            "type": "private",
                            "name": fullNameQc
                        },
                        "text": textBodyQc,
                        "replyMessage": {}
                    }
                ]
            }
            try {
                const requestQcApi = await axios.post('http://localhost:5214/generate', requestQcApiBody, { headers: { 'Content-Type': 'application/json' } })
                const bufferQc = Buffer.from(requestQcApi.data?.result?.image, 'base64')
                const stickerOptionsQc = {
                    pack: packWm, // The pack name
                    author: authorWm, // The author name
                    type: StickerTypes.FULL, // The sticker type
                    quality: 50, // The quality of the output file
                }
                const generateStickerQc = await createSticker(bufferQc, stickerOptionsQc)
                await rem.sendFile(from, generateStickerQc, 'quote.png', '', messageRaw, sticker)
            } catch (err) {
                console.error(err)
                return reply(from, `Maaf, Server sedang Error\nMohon lapor ke owner\n\nErr:${err.message}`)
            }
            break
          case prefix+'brat':
            if (args.length === 1) return reply(from, 'Kirim perintah *'+prefix+'brat [teks]*, contoh: *'+prefix+'brat i want a cookie*', id)
            
            try {
                const bratText = body.slice(command.length + 1)
                await reply(from, mess.wait, id)
                
                // Encode text untuk URL yang aman
                const encodedText = encodeURIComponent(bratText)
                
                // Membuat script puppeteer untuk mendapatkan gambar dari website
                const bratScript = `
                    module.exports = async (browser, res, req) => {
                        const page = await browser.newPage();
                        await page.goto('https://www.bratgenerator.com/', { waitUntil: 'networkidle0' });
                        
                        // Input teks ke form
                        await page.type('#edit-text', '${bratText.replace(/'/g, "\\'")}');
                        
                        // Klik tombol generate
                        await page.click('#edit-submit');
                        
                        // Tunggu sampai gambar muncul
                        await page.waitForSelector('#memeImage', { visible: true, timeout: 30000 });
                        
                        // Ambil URL gambar
                        const imageUrl = await page.evaluate(() => {
                            const img = document.querySelector('#memeImage');
                            return img ? img.src : null;
                        });
                        
                        return imageUrl;
                    }
                `;
                
                // Eksekusi script puppeteer
                const result = await requestPuppeteer(bratScript)
                if (!result.result || result.error) return reply(from, 'Gagal mengambil gambar brat, coba lagi nanti!', id)
                
                const imageUrl = result.result
                
                // Download gambar dari URL
                const response = await axios.get(imageUrl, { responseType: 'arraybuffer' })
                const imageBuffer = Buffer.from(response.data)
                
                // Convert ke sticker
                const stickerBuffer = await createSticker(imageBuffer, {
                    author: packWm,
                    pack: `Brat: ${bratText.substring(0, 20)}${bratText.length > 20 ? '...' : ''}`,
                    type: StickerTypes.FULL,
                    categories: ['ü§ç'],
                    quality: 70
                })
                
                await rem.sendFile(from, stickerBuffer, 'brat.webp', '', message, sticker)
                
            } catch (error) {
                console.error('ERROR BRAT:', error)
                reply(from, 'Error membuat sticker brat! Coba dengan teks yang lebih singkat atau coba lagi nanti.', id);
            }
            break
        // case prefix+'memes':
        //     if(!isOwner) return reply(from, 'Maaf, Fitur ini sedang dalam perbaikan!', id)
        //     //if (isLimit(_userDb)) return reply(from, `Maaf ${pushname}, Kuota Limit Kamu Sudah Habis, Ketik ${prefix}limit Untuk Mengecek Kuota Limit Kamu`, id)
        //     try {
        //         const randomNumberFile1Cak = GenerateSerialNumber("00000000000000000000000")
        //         if(args.length >= 2) {
        //             console.log('args')
        //             let memeIndoReq0 = await axios.get(`http://api-1cak.herokuapp.com/search?q=${body.slice(7)}`)
        //             let memeIndoReq = memeIndoReq0.data

        //             if(memeIndoReq.message == "Posts not found") return reply(from, 'Not found!', id)

        //             const url1CakImages = memeIndoReq.posts[Math.floor(Math.random() * memeIndoReq.posts.length)]
        //             const ImageSelector = 'img[onmouseover]'

        //             const browser = await puppeteer.launch({ headless: true, args: [
        //                 '--no-sandbox',
        //                 '--disable-setuid-sandbox'
        //             ]});
        //             const page = (await browser.pages()) [0]; // Use the default tab instead of making a new one.
        //             await page.goto(url1CakImages.url, { waitUntil: 'networkidle0' });

        //             let imageHref = await page.evaluate((sel) => {
        //                 return document.querySelector(sel).getAttribute('src')
        //             }, ImageSelector);

        //             const image1CakHasil = await page.goto(imageHref, { waitUntil: 'networkidle0' })
        //             const bufferImage1CakHasil = await image1CakHasil.buffer()
        //             await fs.writeFileSync(`./lib/cache/img/1cak_${randomNumberFile1Cak}.jpg`, bufferImage1CakHasil)

        //             browser.close()

        //             await rem.sendFile(from, `./lib/cache/img/1cak_${randomNumberFile1Cak}.jpg`, '1cak.jpg', `*${url1CakImages.title.trim()}*\n\n${url1CakImages.url}`, messageRaw, image)
        //             fs.unlinkSync(`./lib/cache/img/1cak_${randomNumberFile1Cak}.jpg`)
        //         } else {
        //             const randomUrl0 = ["random"/*, "lol"*/]
        //             const randomUrl = randomUrl0[Math.floor(Math.random() * randomUrl0.length)]
                    
        //             if(randomUrl == 'random') {
        //                 console.log('random')
        //                 let memeIndoReq0 = await axios.get(`http://api-1cak.herokuapp.com/random`)
        //                 let memeIndoReq = memeIndoReq0.data
        //                 console.log(memeIndoReq)
        //                 if(memeIndoReq.error) {
        //                     memeIndoReq0 = await axios.get(`http://api-1cak.herokuapp.com/random`)
        //                     memeIndoReq = memeIndoReq0.data
        //                 }
        //                 if(memeIndoReq.error) return reply(from, 'Error!, Mohon coba lagi', id)
    
        //                 const ImageSelector = 'img[onmouseover]'
    
        //                 const browser = await puppeteer.launch({ headless: true, args: [
        //                     '--no-sandbox',
        //                     '--disable-setuid-sandbox'
        //                 ]});
        //                 const page = (await browser.pages()) [0]; // Use the default tab instead of making a new one.
        //                 await page.goto(memeIndoReq.url, { waitUntil: 'networkidle0' });
    
        //                 let imageHref = await page.evaluate((sel) => {
        //                     return document.querySelector(sel).getAttribute('src')
        //                 }, ImageSelector);

        //                 const image1CakHasil = await page.goto(imageHref, { waitUntil: 'networkidle0' })
        //                 const bufferImage1CakHasil = await image1CakHasil.buffer()
        //                 await fs.writeFileSync(`./lib/cache/img/1cak_${randomNumberFile1Cak}.jpg`, bufferImage1CakHasil)
    
        //                 browser.close()
    
        //                 await rem.sendFile(from, `./lib/cache/img/1cak_${randomNumberFile1Cak}.jpg`, '1cak.jpg', `*${memeIndoReq.title.trim()}*\n\n${memeIndoReq.url}`, messageRaw, image)
        //                 fs.unlinkSync(`./lib/cache/img/1cak_${randomNumberFile1Cak}.jpg`)
        //             } else if(randomUrl == 'lol') {
        //                 console.log('lol')
        //                 let memeIndoReq0 = await axios.get(`http://api-1cak.herokuapp.com/lol`)
        //                 let memeIndoReq = memeIndoReq0.data
        //                 if(memeIndoReq.error) {
        //                     memeIndoReq0 = await axios.get(`http://api-1cak.herokuapp.com/lol`)
        //                     memeIndoReq = memeIndoReq0.data
        //                 }
        //                 if(memeIndoReq.error) return reply(from, 'Error!, Mohon coba lagi', id)
    
        //                 const url1CakImages = memeIndoReq.posts[Math.floor(Math.random() * memeIndoReq.posts.length)]
        //                 const ImageSelector = 'img[onmouseover]'
    
        //                 const browser = await puppeteer.launch({ headless: true, args: [
        //                     '--no-sandbox',
        //                     '--disable-setuid-sandbox'
        //                 ]});
        //                 const page = (await browser.pages()) [0]; // Use the default tab instead of making a new one.
        //                 await page.goto(url1CakImages.url, { waitUntil: 'networkidle0' });
    
        //                 let imageHref = await page.evaluate((sel) => {
        //                     return document.querySelector(sel).getAttribute('src')
        //                 }, ImageSelector);
    
        //                 const image1CakHasil = await page.goto(imageHref, { waitUntil: 'networkidle0' })
        //                 const bufferImage1CakHasil = await image1CakHasil.buffer()
        //                 await fs.writeFileSync(`./lib/cache/img/1cak_${randomNumberFile1Cak}.jpg`, bufferImage1CakHasil)
    
        //                 browser.close()
    
        //                 await rem.sendFile(from, `./lib/cache/img/1cak_${randomNumberFile1Cak}.jpg`, '1cak.jpg', `*${url1CakImages.title.trim()}*\n\n${url1CakImages.url}`, messageRaw, image)
        //                 fs.unlinkSync(`./lib/cache/img/1cak_${randomNumberFile1Cak}.jpg`)
        //             }
        //         }
        //     } catch (err) {
        //         console.error(err)
        //         reply(from, 'Error!', id)
        //     }
        //     break
        case prefix+'tomp3':
            if (isMedia && isVideo || isQuotedVideo) {
                const encryptMediaMp3 = quotedMsg ? quotedMsg : message
                const serialNumberMp3 = GenerateSerialNumber('000000000000')

                await fs.writeFileSync(`./lib/cache/ffmpeg/source_${serialNumberMp3}.mp3`, await encryptMediaMp3.getMedia())

                await ffmpeg(`./lib/cache/ffmpeg/source_${serialNumberMp3}.mp3`)
                .toFormat("mp3")
                .save(`./lib/cache/ffmpeg/${serialNumberMp3}.mp3`)
                .on('end', async function() {
                    await rem.sendFile(from, `./lib/cache/ffmpeg/${serialNumberMp3}.mp3`, `${serialNumberMp3}.mp3`, '', message, audio, 'audio/mpeg')
                    fs.unlinkSync(`./lib/cache/ffmpeg/${serialNumberMp3}.mp3`)
                    fs.unlinkSync(`./lib/cache/ffmpeg/source_${serialNumberMp3}.mp3`)
                })
            } else {
                return reply(from, 'Format media harus video!')
            }
            break
        case prefix+'toimg':
        case prefix+'tomp4':
        case prefix+'togif':
        case prefix+'tovideo':
            //if (isLimit(_userDb)) return reply(from, `Maaf ${pushname}, Kuota Limit Kamu Sudah Habis, Ketik ${prefix}limit Untuk Mengecek Kuota Limit Kamu`, id)
            if (quotedMsg && quotedMsg.type == sticker) {
                if(!quotedMsg.isAnimated) {
                    const mediaData = await quotedMsg.getMedia()
                    reply(from, `[WAIT] Sedang di proses‚è≥ silahkan tunggu!`, id)
                    const generateSer = GenerateSerialNumber("0000000000")
                    const fileNameInput = `./lib/cache/ffmpeg/${generateSer}.webp`
                    const fileNameOutput = `./lib/cache/ffmpeg/${generateSer}.png`
                    await fs.writeFileSync(fileNameInput, mediaData)

                    await exec(`ffmpeg -i ${fileNameInput} ${fileNameOutput}`, async (err) => {
                        fs.unlinkSync(fileNameInput)
                        if (err) {
                            console.error(err)
                            try {
                                const convertedSticker = await webp2jpg(mediaData)
                                console.log(convertedSticker)
                                await rem.sendFileAuto(from, convertedSticker, 'sticAnim.png', '', messageRaw)
                            } catch (err) {
                                console.error(err)
                                return reply(from, '‚ùå Gagal, pada saat mengkonversi sticker ke gambar ‚ùå')
                            }
                        } else {
                            const buffer = await fs.readFileSync(fileNameOutput)
                            rem.sendFile(from, buffer, 'toimg.png', 'Success Convert Sticker to Image!', messageRaw, image)
                            fs.unlinkSync(fileNameOutput)
                        }
                    })
                } else if(quotedMsg.isAnimated == true) {
                    //if(!isOwner) return reply(from, 'Maintenance!', id)
                    try {
                        await reply(from, '[WAIT] Sedang di proses‚è≥ silahkan tunggu ¬± 1 min!')
                    
                        const mediaData = await quotedMsg.getMedia()
                        const convertedSticker = await webp2mp4(mediaData)
                        console.log(convertedSticker)
                        await rem.sendFileAuto(from, convertedSticker, 'sticAnim.mp4', '', messageRaw)
                      
                    } catch (err) {
                        console.error(err)
                    }
                }
              //  limitAdd(serial)
            } else if (!quotedMsg) return reply(from, `Mohon tag sticker yang ingin dijadikan gambar!`, id)
            break
        case prefix+'stickergif': 
        case prefix+'stikergif': 
        case prefix+'sgif': 
        //if (isLimit(_userDb)) return reply(from, `Maaf ${pushname}, Kuota Limit Kamu Sudah Habis, Ketik ${prefix}limit Untuk Mengecek Kuota Limit Kamu`, id)
            if(!isMedia && !quotedMsg?.isMedia) return reply(from, `Kirim gambar dengan caption ${prefix}sgif atau tag gambar yang sudah dikirim!`, id)
            if(isMedia) {
                if(message.duration >= 10) return reply(from, 'Durasi maksimal adalah 10 Detik!')
                var mediaData = await message.getMedia()
                var mimetypee = mimetype
                if(args[0] == `${prefix}sgif` && body.slice(6).includes('/')) {
                    var Wm_custom = body.slice(6).split('/')
                } else if(args[0] == `${prefix}stikergif` && body.slice(11).includes('/')) {
                    var Wm_custom = body.slice(11).split('/')
                } else if(args[0] == `${prefix}stickergif`  && body.slice(12).includes('/')) {
                    var Wm_custom = body.slice(12).split('/')
                } else {
                    var Wm_custom = ['REM BOT', `${pushname}`]
                }
            } else if(quotedMsg && quotedMsg?.isMedia) {
                if(quotedMsg.duration >= 10) return reply(from, 'Durasi maksimal adalah 10 Detik!')
                var mediaData = await quotedMsg.getMedia()
                var mimetypee = quotedMsg.mimetype
                if(args[0] == `${prefix}sgif` && body.slice(6).includes('/')) {
                    var Wm_custom = body.slice(6).split('/')
                } else if(args[0] == `${prefix}stikergif` && body.slice(11).includes('/')) {
                    var Wm_custom = body.slice(11).split('/')
                } else if(args[0] == `${prefix}stickergif`  && body.slice(12).includes('/')) {
                    var Wm_custom = body.slice(12).split('/')
                } else {
                    var Wm_custom = ['REM BOT', `${pushname}`]
                }
            }
            try {
                reply(from, '[WAIT] Sedang di proses‚è≥ silahkan tunggu ¬± 1 min!')
              //  limitAdd(serial)
                //await fs.writeFileSync(filename, mediaData)
                // const stickerOptions = {
                //     pack: Wm_custom[0], // The pack name
                //     author: Wm_custom[1], // The author name
                //     type: StickerTypes.FULL, // The sticker type
                //     quality: 1,
                // }
                // const generateSticker = await createSticker(mediaData, stickerOptions)

                const generateSticker = await gif2webpFfmpeg(mediaData, Wm_custom[0], Wm_custom[1])
                console.log(generateSticker)
                await rem.sendFile(from, Buffer.isBuffer(generateSticker.stickerResult) ? generateSticker.stickerResult : { url: generateSticker.stickerResult }, 'sticker.webp', '', messageRaw, sticker)

                /*await exec(`gify ${filename} ./media/stickergf.gif --fps=20 --scale=240:240`, async function (error, stdout, stderr) {
                    var gif = await fs.readFileSync('./media/stickergf.gif', { encoding: "base64" })
                    await rem.sendImageAsSticker(from, `data:image/gif;base64,${gif.toString('base64')}`, { author: authorWm, pack: packWm })
                    .catch(() => {
                        reply(from, 'Maaf filenya terlalu besar!', id)
                    })
                })*/
            } catch (err) {
                reply(from, 'Gagal!, mencoba menurunkan Quality video ke 3%...', id)
                console.log(err.message)
                try {
                    const stickerOptions = {
                        pack: Wm_custom[0], // The pack name
                        author: Wm_custom[1], // The author name
                        type: StickerTypes.FULL, // The sticker type
                        quality: 1,
                    }
                    const generateSticker = await createSticker(mediaData, stickerOptions)
                    await rem.sendFile(from, generateSticker, '', '', messageRaw, sticker)
                  //  limitAdd(serial)
                } catch (err) {
                    console.log(err.message)
                    reply(from, 'Error!, mungkin size video melebihi limit\nCoba kurangi durasi video/gif', id)
                }
            }
            break
        case prefix+'groupinfo' :
            if (!isGroupMsg) return reply(from, 'Perintah ini hanya bisa di gunakan dalam group!')
            var totalMem = groupMetadata.participants.length
            var desc = groupMetadata.desc
            var groupname = name
            var welgrp = isWelcomeOn
            var leftgrp = isLeaveOn
            var ngrp = isNsfw
            var antlink = isDetectorLink
            var simu = _groupDb.isSimsimi
            var antbad = _groupDb.isAntiBadword
            var grouppic = await rem.profilePictureUrl(groupMetadata.id, 'image')
            if (grouppic == undefined) {
                 var pfp = 'https://image.freepik.com/free-vector/group-young-people-posing-photo_52683-18824.jpg'
            } else {
                 var pfp = grouppic 
            }
            await rem.sendFile(from, pfp, 'group.png', `*„Äå GROUP INFO „Äç*
*‚û§ Nama : ${groupname}* 
*‚û§ Member : ${totalMem}*
*‚û§ Welcome : ${welgrp ? 'Aktif' : 'Tidak Aktif'}*
*‚û§ Left : ${leftgrp ? 'Aktif' : 'Tidak Aktif'}*
*‚û§ NSFW : ${ngrp ? 'Aktif' : 'Tidak Aktif'}*
*‚û§ Simsimi : ${simu ? 'Aktif' : 'Tidak Aktif'}*
*‚û§ Anti Link : ${antlink ? 'Aktif' : 'Tidak Aktif'}*
*‚û§ Anti Badword : ${antbad ? 'Aktif' : 'Tidak Aktif'}*
*‚û§ Deskripsi Group*

${desc}`, messageRaw, image)
            break
        case prefix+'tts':
            //if (!isGroupMsg) return reply(from, 'Perintah ini hanya bisa di gunakan dalam group!', id)
            //rem.sendText(from, 'Fitur di nonaktifkan, dikarenakan ERROR')
            //if (isLimit(_userDb)) return reply(from, `Maaf ${pushname}, Kuota Limit Kamu Sudah Habis, Ketik ${prefix}limit Untuk Mengecek Kuota Limit Kamu`, id)
            
            await limitAdd(serial)
            try {
                if (args.length === 1) return rem.sendText(from, 'Kirim perintah *'+prefix+'tts [ Bahasa ] [ Teks ]*, contoh *'+prefix+'tts id halo semua*')
                var dataBhs = args[1]
                const ttsHZ = require('node-gtts')(dataBhs)
                var dataText0 = body.replace(args[0], '')
                var dataText = dataText0.replace(args[1], '')
                if (dataText === '') return reply(from, 'Masukkan teksnya', id)
                if (dataText.length > 1000) return reply(from, 'Teks terlalu panjang! Maks 1000', id)
                var dataBhs = body.slice(5, 7)
                ttsHZ.save('./media/tts.mp3', dataText, function () {
                    rem.sendFile(from, './media/tts.mp3', 'tts.mp3', '', messageRaw, audio, 'audio/mpeg')
                })
            } catch (err){
                console.error(err)
                if (args.length === 1) return rem.sendText(from, 'Kirim perintah *'+prefix+'tts [ Bahasa ] [ Teks ]*, contoh *'+prefix+'tts id halo semua*')
                var dataBhs = 'id'
                const ttsHZ = require('node-gtts')(dataBhs)
                var dataText = body.replace(args[0], '')
                if (dataText === '') return reply(from, 'Masukkan teksnya', id)
                if (dataText.length > 1000) return reply(from, 'Teks terlalu panjang! Maks 1000', id)
                ttsHZ.save('./media/tts.mp3', dataText, function () {
                    rem.sendFile(from, './media/tts.mp3', 'tts.mp3', '', messageRaw, audio, 'audio/mpeg')
                })
            }
            break
        case prefix+'vai':
            if(type != 'listResponseMessage') {
                if(args[1] == undefined) return reply(from, 'Masukkan text!', id)
                const blueArchiveDataset = [{
                    title: 'Saiba Momoi',
                    id: 0
                }, {
                    title: 'Natsume Iroha',
                    id: 5
                }, {
                    title: 'Misono Mika',
                    id: 10
                }, {
                    title: 'Kasumizawa Miyu',
                    id: 15
                }, {
                    title: 'Shirasu Azusa',
                    id: 20
                }, {
                    title: 'Tendou Alice',
                    id: 25
                }, {
                    title: 'Sunaookami Shiroko',
                    id: 30
                }, {
                    title: 'Sorasaki Hina',
                    id: 35
                }, {
                    title: 'Shiromi Iori',
                    id: 40
                }, {
                    title: 'Kuda Izuna',
                    id: 45
                }, {
                    title: 'Hayase Yuuka',
                    id: 50
                }]

                const lycorisRecoilDataset = [{
                    title: 'Nishikigi Chisato',
                    id: 110
                }, {
                    title: 'Takina Inoue',
                    id: 115
                }]
                const rowsBlueArchive = []
                const rowsLycorisRecoil = []
                for (let i = 0; i < blueArchiveDataset.length; i++) {
                    rowsBlueArchive.push({ title: blueArchiveDataset[i].title, description: blueArchiveDataset[i].title, rowId: `${prefix}vai --proccess vits-models ${blueArchiveDataset[i].id} ${body.replace(`${args[0]} `, '').trim()}` })
                }
                for (let i = 0; i < lycorisRecoilDataset.length; i++) {
                    rowsLycorisRecoil.push({ title: lycorisRecoilDataset[i].title, description: lycorisRecoilDataset[i].title, rowId: `${prefix}vai --proccess vits-models ${lycorisRecoilDataset[i].id} ${body.replace(`${args[0]} `, '').trim()}` })
                }

                // vits-models-genshin-bh3
                const genshinImpactDataset = [{
                    title: 'Ayaka',
                    id: 0
                }, {
                    title: 'Nahida',
                    id: 5
                }, {
                    title: 'Abyss Invoker',
                    id: 10
                }, {
                    title: 'Keqing',
                    id: 15
                }, {
                    title: 'Eula',
                    id: 20
                }]

                const rowsGenshinImpact = []
                for (let i = 0; i < genshinImpactDataset.length; i++) {
                    rowsGenshinImpact.push({ title: genshinImpactDataset[i].title, description: genshinImpactDataset[i].title, rowId: `${prefix}vai --proccess vits-models-genshin-bh3 ${genshinImpactDataset[i].id} ${body.replace(`${args[0]} `, '').trim()}` })
                }

                const sections = []
                sections.push({ title: 'Blue Archive', rows: rowsBlueArchive })
                sections.push({ title: 'Lycoris Recoil', rows: rowsLycorisRecoil })
                sections.push({ title: 'Genshin Impact', rows: rowsGenshinImpact })

                await rem.sendList(from, "Pilih Karakter", sections, 'Voice AI', '@dwirizqi.h')
            } else if(allArgs[1] == '--proccess' && type == 'listResponseMessage') {
                console.log(allArgs)
                if(allArgs[2] == undefined || allArgs[3] == undefined || allArgs[4] == undefined) return reply(from, 'Invalid!', id)

                let headersCookie = ''
                if(allArgs[2] == 'vits-models') headersCookie = 'jwt-cookie=eyJhbGciOiJFZERTQSJ9.eyJzdWIiOiJtaXp1a2lkZXN1dS92aXRzLW1vZGVscyIsImV4cCI6MTY4MTI4ODc0MiwiaXNzIjoiaHVnZ2luZ2ZhY2UtbW9vbiJ9.MzqPydx0L3sjIq8zy-zZcCG_IKhTkfoz9wZ1RiDH_IWI-75F-dpn4FYBVVgdzytVzNNvD6zyQx23A_eAqd5iBQ; Path=/; HttpOnly; Secure; SameSite=None'
                if(allArgs[2] == 'vits-models-genshin-bh3') headersCookie = 'jwt-cookie=eyJhbGciOiJFZERTQSJ9.eyJzdWIiOiJtaXp1a2lkZXN1dS92aXRzLW1vZGVscy1nZW5zaGluLWJoMyIsImV4cCI6MTY4MTI4ODUzOSwiaXNzIjoiaHVnZ2luZ2ZhY2UtbW9vbiJ9.9tt-kwBxuKI2ZuxPy9_mRY5zHHtEk9bEpbzUKAfVHIxUb7PFRL1HC9Zq0T6mIflaiF5ifGHbp-qHe3-bGoZyCA; Path=/; HttpOnly; Secure; SameSite=None'
                const vAiWs = new WebSocket(`wss://mizukidesuu-${allArgs[2]}.hf.space/queue/join`, {
                    headers: {
                        ['Cookie']: headersCookie
                    }
                })

                const bodyMessageSend = message.selectedRowId.replace(`${allArgs[0]} ${allArgs[1]} ${allArgs[2]} ${allArgs[3]} `, '').trim()
                const hashConn = GenerateSerialNumber("00000000000").toLowerCase()
                const fnIndex = Number(allArgs[3])

                vAiWs.on('error', (err) => { console.error(err) })
                vAiWs.on('message', (data) => {
                    const vAiMsg = JSON.parse(data)
                    if(vAiMsg.msg == 'send_hash') {
                        vAiWs.send(JSON.stringify({"session_hash": hashConn, "fn_index": fnIndex }))
                    }
                    if(vAiMsg.msg == 'estimation') {
                        reply(from, `Estimasi Waktu : ${vAiMsg.avg_event_process_time.toFixed(1)} Detik`, id)
                    }
                    if(vAiMsg.msg == 'send_data') {
                        const payloadSendData = {"fn_index": fnIndex ,"data":[bodyMessageSend, "Japanese", 0.6,0.668, 1, false], "session_hash": hashConn}
                        vAiWs.send(JSON.stringify(payloadSendData))
                    }
                    if(vAiMsg.msg == 'process_starts') {
                        reply(from, 'Proses dimulai, tunggu sebentar!', id)
                    }
                    if(vAiMsg.msg == 'process_completed') {
                        vAiWs.close()
                        const dataOutput = vAiMsg.output.data
                        if(dataOutput[1] == undefined) {
                            return reply(from, `Error!\n${dataOutput[0]}`, id)
                        } else {
                            const bufferData = Buffer.from(dataOutput[1].split(';base64,')[1], 'base64')
                            rem.sendFile(from, bufferData, 'vai.mp3', '', messageRaw, audio, 'audio/mpeg', false, { ptt: true })
                        }
                    }
                })
            }
            break
        case prefix+'stablediffusion':
        case prefix+'sd':
        case prefix+'dsd':
            if (args[1] == undefined) return reply(from, `Untuk menggunakan fitur ini, kirim pesan dengan format *${prefix}sd* _<text>_\n\nContoh: *${prefix}sd _anime beautiful girl_*`, id)
            
            const responseSd = await fetch(
                "https://api-inference.huggingface.co/models/stablediffusionapi/anything-v5",
                {
                    headers: { Authorization: `Bearer ${process.env.HUGGINGFACE_API_KEY}` },
                    method: "POST",
                    body: JSON.stringify({ "inputs": body.replace(`${args[0]} `, '').trim() }),
                }
            );
            // result buffer
            const bufferSd = await responseSd.buffer();
            rem.sendFile(from, bufferSd, '', `*Stable Diffusion*\n\n${body.replace(args[0] + ' ', '').trim()}`, messageRaw, image)
            reply(from, `*„Äå INFO „Äç*\n\nFitur ini sudah tidak dilanjutkan, *silahkan gunakan cmd _${prefix}diff_* untuk Membuat gambar dengan teknologi Stable Diffusion (AI)            `, id)
            break
        // case prefix+'stablediffusion':
        // case prefix+'sd':
        // case prefix+'dsd':
        //     if (allArgs[1] == undefined) return reply(from, `Untuk menggunakan fitur ini, kirim pesan dengan format *${prefix}sd* _<text>_\n\nContoh: *${prefix}sd _Kuda lumping_*\n\nAtau gunakan *${prefix}dsd _<text>_\nUntuk aksi cepat*`, id)

        //     const dataSetResolution = [
        //         { text: '1:1 (512x512)', id: '1:1' },
        //         { text: '9:16 (432x768)', id: '9:16' },
        //         { text: '16:9 (768x432)', id: '16:9' },
        //         { text: '2:3 (512x768)', id: '2:3' },
        //         { text: '3:2 (768x512)', id: '3:2' },
        //     ]

        //     let dataPayload = allArgs[1] == 'resoset' && (allArgs[2] != undefined && allArgs[3] != undefined) ? allArgs[2] : allArgs[0] == `${prefix}dsd` ? ["9:16", "16:9"][Math.floor(Math.random() * 2)] : undefined
        //     if(allArgs[1] == 'resoset') {
        //         if(isOwner) {
        //             console.log(allArgs, allArgs.join(' ').replace(`${allArgs[0]} ${allArgs[1]} ${allArgs[2]} `, ''))
        //             const sendPayload = {
        //                 method: 'GET',
        //                 url: 'https://image-diffusion.p.rapidapi.com/image/anime/diffusion',
        //                 params: { prompt: allArgs.join(' ').replace(`${allArgs[0]} ${allArgs[1]} ${allArgs[2]} `, '').trim() },
        //                 headers: {
        //                     'X-RapidAPI-Key': 'd9c139e4abmsh91a5e238e9b98dep1a014djsn5ea7733f4ac7',
        //                     'X-RapidAPI-Host': 'image-diffusion.p.rapidapi.com'
        //                 },
        //                 responseType: 'arraybuffer'
        //             }
        //             const resSd = await axios.request(sendPayload)
        //             console.log(resSd)
        //             await rem.sendFile(from, resSd.data, 'sd.png', `*Stable Diffusion*\n\n${allArgs.join(' ').replace(`${allArgs[0]} ${allArgs[1]} ${allArgs[2]} `, '').trim()}`, messageRaw, image)
        //         } else if(dataPayload != undefined) { //sfw
        //             const sendPayload = {
        //                 method: 'GET',
        //                 url: 'https://image-diffusion.p.rapidapi.com/image/stable/diffusion',
        //                 params: {
        //                   prompt: allArgs.join(' ').replace(`${allArgs[0]} ${allArgs[1]} ${allArgs[2]} `, '').trim(),
        //                   ratio: dataPayload,
        //                   cfg: '7.5',
        //                   hiresFix: 'true'
        //                 },
        //                 headers: {
        //                     'X-RapidAPI-Key': 'd9c139e4abmsh91a5e238e9b98dep1a014djsn5ea7733f4ac7',
        //                     'X-RapidAPI-Host': 'image-diffusion.p.rapidapi.com'
        //                 },
        //                 responseType: 'arraybuffer'
        //             }
        //             const resSd = await axios.request(sendPayload)
        //             await rem.sendFile(from, resSd.data, 'sd.png', `*Stable Diffusion*\n\n${allArgs.join(' ').replace(`${allArgs[0]} ${allArgs[1]} ${allArgs[2]} `, '').trim()}`, messageRaw, image)
        //         } else {
        //             return reply(from, 'Invalid!')
        //         }
        //     } else {
        //         const buttonMessage = []
        //         for(let i = 0; i < dataSetResolution.length; i++) {
        //             buttonMessage.push({ text: dataSetResolution[i].text, id: `${prefix}sd resoset ${dataSetResolution[i].id} ${body.replace(`${args[0]} `, '').trim()}` })
        //         }
        //         rem.sendButtons(from, `Pilih Resolusi yang diinginkan!`, buttonMessage)
        //     }
        //     break
        // case prefix+'stablediffusion':
        // case prefix+'sd':
        // case prefix+'dsd':
        //     if (allArgs[1] == undefined) return reply(from, `Untuk menggunakan fitur ini, kirim pesan dengan format *${prefix}sd* _<text>_\n\nContoh: *${prefix}sd _Kuda lumping_*\n\nAtau gunakan *${prefix}dsd _<text>_\nUntuk aksi cepat*`, id)
            
        //     const dataSetStyle = [
        //         { text: 'ACG (Anime Style)', id: 'ACG' },
        //         { text: 'Cyberpunk', id: 'Cyberpunk' },
        //         { text: 'Realistic', id: 'Realistic' },
        //         { text: 'Watercolor', id: 'Watercolor' },
        //         { text: 'Synthwave', id: 'Synthwave' },
        //         { text: 'Game CG', id: 'Game CG' },
        //         { text: 'Tarot', id: 'Tarot' },
        //         { text: 'Ink and Wask', id: 'Ink and Wask' },
        //         { text: 'Chibi', id: 'Chibi' },
        //         { text: 'Asian', id: 'Asian' },
        //         { text: 'Pastel Colors', id: 'Pastel Colors' }
        //     ]
        //     const dataSetResolution = [
        //         { text: '1:1 (512x512)', id: '1:1' },
        //         { text: '9:16 (432x768)', id: '9:16' },
        //         { text: '16:9 (768x432)', id: '16:9' },
        //         { text: '2:3 (512x768)', id: '2:3' },
        //         { text: '3:2 (768x512)', id: '3:2' },
        //     ]

        //     /**
        //      * [0] style
        //      * [1] resolution
        //      */
        //     let isArraySdArgs2 = undefined
        //     try {
        //         isArraySdArgs2 = JSON.parse(allArgs[2])
        //     } catch (error) {
        //         isArraySdArgs2 = undefined
        //     }
        //     let dataPayload = isArraySdArgs2 ? isArraySdArgs2 : allArgs[0] == `${prefix}dsd` ? ["ACG", ["9:16", "16:9"][Math.floor(Math.random() * 2)]] : []

        //     if(allArgs[1] == 'resoset' || (dataPayload[0] != undefined && dataPayload[1] != undefined)) {
        //         const dataStyle = dataSetStyle.find((x) => x.id == dataPayload[0])
        //         const dataReso = dataSetResolution.find((x) => x.id == dataPayload[1])

        //         if(dataPayload[0] == undefined || dataPayload[1] == undefined) return reply(from, 'Invalid!')
        //         if(dataStyle == undefined) return reply(from, 'Invalid!')
        //         if(dataReso == undefined) return reply(from, 'Invalid!')

        //         const sdText = allArgs.join(' ').replace(allArgs[0] == `${prefix}dsd` ? `${allArgs[0]} ` : `${allArgs[0]} ${allArgs[1]} ${allArgs[2]} `, '').trim()
        //         console.log(sdText)

        //         const badWordsListGet = fs.readFileSync('./lib/database/bad-words.txt', 'utf-8').trim()
        //         const badWordsList = badWordsListGet.split('\n')
        //         if(badWordsList.some((x) => sdText.toLowerCase().includes(x.trim().toLowerCase())) && !isOwner) return reply(from, 'Kata-kata yang Anda masukkan tidak diperbolehkan!', id)

        //         const sendPayload = {
        //             method: 'GET',
        //             url: 'https://image-diffusion.p.rapidapi.com/image/diffusion',
        //             params: {
        //               prompt: sdText,
        //               cfg: '5.0',
        //               ratio: dataPayload[1],
        //               style: decodeURIComponent(dataPayload[0])
        //             },
        //             headers: {
        //               'X-RapidAPI-Key': 'd9c139e4abmsh91a5e238e9b98dep1a014djsn5ea7733f4ac7',
        //               'X-RapidAPI-Host': 'image-diffusion.p.rapidapi.com'
        //             },
        //             responseType: 'arraybuffer'
        //         }
        //         const resSd = await axios.request(sendPayload)
        //         await rem.sendFile(from, resSd.data, 'sd.png', `*Stable Diffusion*\n\n${sdText}`, messageRaw, image)

        //     } else if(allArgs[1] == 'styleset' || (dataPayload[0] != undefined)) {
        //         console.log(allArgs, dataPayload)
        //         if(dataPayload[0] == undefined) return reply(from, 'Invalid!')
        //         if(dataSetStyle.find((x) => x.id == dataPayload[0]) == undefined) return reply(from, 'Invalid!')

        //         if(_userDb?.isLegacyButton) { // send with button
        //             const buttonMessage = []
        //             for(let i = 0; i < dataSetResolution.length; i++) {
        //                 const resoSetArr = [dataPayload[0], dataSetResolution[i].id]
        //                 buttonMessage.push({ text: dataSetResolution[i].text, id: `${prefix}sd resoset ${JSON.stringify(resoSetArr)} ${allArgs.join(' ').replace(`${allArgs[0]} ${allArgs[1]} ${allArgs[2]} `, '').trim()}` })
        //             }
        //             rem.sendButtons(from, `Pilih Resolusi yang diinginkan!`, buttonMessage)  
        //         } else { // send with list
        //             const rows = []
        //             for(let i = 0; i < dataSetResolution.length; i++) {
        //                 const resoSetArr = [dataPayload[0], dataSetResolution[i].id]
        //                 rows.push({ title: dataSetResolution[i].text, description: dataSetResolution[i].id, rowId: `${prefix}sd resoset ${JSON.stringify(resoSetArr)} ${allArgs.join(' ').replace(`${allArgs[0]} ${allArgs[1]} ${allArgs[2]} `, '').trim()}` })
        //             }
    
        //             const sections = [{ title: 'Resolusi', rows }]
        //             const button = {
        //                 text: 'Pilih Resolusi yang diinginkan!',
        //                 footer: '@dwirizqi.h',
        //                 title: 'Stable Diffusion',
        //                 buttonText: 'Pilih',
        //                 sections,
        //             }
        //             if(isGroupMsg) button.viewOnce = true
    
        //             await rem.sendMessage(from, button)
        //         }
        //     } else {

        //         const sdText = allArgs.join(' ').replace(`${allArgs[0]} `, '').trim()
        //         console.log(sdText)
        //         const badWordsListGet = fs.readFileSync('./lib/database/bad-words.txt', 'utf-8').trim()
        //         const badWordsList = badWordsListGet.split('\n')
        //         if(badWordsList.some((x) => sdText.toLowerCase().includes(x.trim().toLowerCase())) && !isOwner) return reply(from, 'Kata-kata yang Anda masukkan tidak diperbolehkan!', id)

        //         if(_userDb?.isLegacyButton) { // send with button
        //             const buttonMessage = []
        //             for(let i = 0; i < dataSetStyle.length; i++) {
        //                 buttonMessage.push({ text: dataSetStyle[i].text, id: `${prefix}sd styleset ["${encodeURIComponent(dataSetStyle[i].id)}"] ${body.replace(`${allArgs[0]} `, '').trim()}` })
        //             }
        //             rem.sendButtons(from, `Pilih style yang diinginkan!`, buttonMessage)  
        //         } else { // send with list
        //             const rows = []
        //             for(let i = 0; i < dataSetStyle.length; i++) {
        //                 rows.push({ title: dataSetStyle[i].text, description: dataSetStyle[i].id, rowId: `${prefix}sd styleset ["${encodeURIComponent(dataSetStyle[i].id)}"] ${body.replace(`${allArgs[0]} `, '').trim()}` })
        //             }
    
        //             const sections = [{ title: 'Style', rows }]
        //             const button = {
        //                 text: 'Pilih style yang diinginkan!',
        //                 footer: '@dwirizqi.h',
        //                 title: 'Stable Diffusion',
        //                 buttonText: 'Pilihs',
        //                 sections,
        //             }
        //             if(isGroupMsg) button.viewOnce = true
    
        //             await rem.sendMessage(from, button)
        //         }
        //     }

        //     break
        case prefix+'koin':
            //if (!isGroupMsg) return reply(from, 'Perintah ini hanya bisa di gunakan dalam group!', id)
            const side = Math.floor(Math.random() * 2) + 1
            if (side == 1) {
              await rem.sendFile(from, 'https://i.ibb.co/YTWZrZV/2003-indonesia-500-rupiah-copy.png', '', '', messageRaw, sticker)
            } else {
              await rem.sendFile(from, 'https://i.ibb.co/bLsRM2P/2003-indonesia-500-rupiah-copy-1.png', '', '', messageRaw, sticker)
            }
            break
        case prefix+'dadu':
            //if (!isGroupMsg) return reply(from, 'Perintah ini hanya bisa di gunakan dalam group!', id)
            const dice = Math.floor(Math.random() * 6) + 1
            await rem.sendFile(from, 'https://www.random.org/dice/dice' + dice + '.png', '', '', messageRaw, sticker)
            break
        case prefix+'kapankah':
            //if (!isGroupMsg) return reply(from, 'Perintah ini hanya bisa di gunakan dalam group!', id)
            const when = args.join(' ')
            const ans = kapankah[Math.floor(Math.random() * (kapankah.length))]
            if (!when) rem.sendText(from, '‚ö†Ô∏è Format salah! Ketik *'+prefix+'menu* untuk penggunaan.')
            await rem.sendText(from, `Pertanyaan: *${when}* \n\nJawaban: ${ans}`)
            break
        case prefix+'nilai':
        case prefix+'rate':
            //if (!isGroupMsg) return reply(from, 'Perintah ini hanya bisa di gunakan dalam group!', id)
            const rating = args.join(' ')
            const awr = Math.floor(Math.random() * 100)
            if (!rating) rem.sendText(from, '‚ö†Ô∏è Format salah! Ketik *'+prefix+'menu* untuk penggunaan.')
            await rem.sendText(from, `Pertanyaan: *${rating}* \n\nJawaban: ${awr}`)
            break
        case prefix+'apakah':
            //if (!isGroupMsg) return reply(from, 'Perintah ini hanya bisa di gunakan dalam group!', id)
            const nanya = `Apakah ${body.split(' ').slice(1).join(' ')}`
            const filenameList = `${process.cwd()}/lib/cache/kerang/cache/cache_List_${sender}_${Date.now()}.txt`
            const filenameApakah = `${process.cwd()}/lib/cache/kerang/cache/cache_Start_${sender}_${Date.now()}`
            const outputPathApakah = `${process.cwd()}/lib/cache/kerang/cache/cache_End_${sender}_${Date.now()}.mp4`
            
            const gifAddText = await axios.get(`https://api.memegen.link/images/custom/${encodeURIComponent(nanya)}/_.gif?background=https://db1.remcp.com/kerang/kerangAjaib_Start.gif`, { responseType: 'arraybuffer' })
            await fs.writeFileSync(`${filenameApakah}.gif`, gifAddText.data)

            const convertToMp4AddTextUsingFfmpeg = spawn('ffmpeg', [
                '-i', `${filenameApakah}.gif`,
                '-movflags', 'faststart',
                '-pix_fmt', 'yuv420p',
                '-vf', 'scale=trunc(iw/2)*2:trunc(ih/2)*2',
                `${filenameApakah}.mp4`
            ])

            let isErrorApakah = false
            convertToMp4AddTextUsingFfmpeg.on('error', () => {
                isErrorApakah = true
                return reply(from, 'Terjadi kesalahan saat mengkonversi gambar ke mp4', id)
            })

            convertToMp4AddTextUsingFfmpeg.on('exit', async () => {
                if (isErrorApakah) return

                await fs.unlinkSync(`${filenameApakah}.gif`)

                const apakah = ["Yes", "No"][Math.floor(Math.random() * 2)]
                //create list to concat
                await fs.writeFileSync(filenameList, `file '${filenameApakah}.mp4'\nfile '${process.cwd()}/lib/cache/kerang/kerangAjaib_Center.mp4' \nfile '${process.cwd()}/lib/cache/kerang/kerangAjaib_End_${apakah}.mp4'`)
    
                const mergeApakah = spawn(`ffmpeg`, [
                    '-f',
                    'concat',
                    '-safe',
                    '0',
                    '-i',
                    filenameList,
                    '-c',
                    'copy',
                    outputPathApakah
                ])
                
                mergeApakah.on('error', () => {
                    reply(from, 'Gagal mengkonversi gambar!', id)
                    isErrorApakah = true
                })
                mergeApakah.on('exit', async () => {
                    console.log('success_2')
                    await rem.sendFile(from, outputPathApakah, 'apakah.mp4', '', messageRaw, video, 'video/mp4', false, { gifPlayback: true })
                    fs.unlinkSync(filenameList)
                    fs.unlinkSync(`${filenameApakah}.mp4`)
                    fs.unlinkSync(outputPathApakah)
                })
                if(isErrorApakah) return
            })
            
            break
         case prefix+'bisakah':
            //if (!isGroupMsg) return reply(from, 'Perintah ini hanya bisa di gunakan dalam group!', id)
            const bsk = args.join(' ')
            const jbsk = bisakah[Math.floor(Math.random() * (bisakah.length))]
            if (!bsk) rem.sendText(from, '‚ö†Ô∏è Format salah! Ketik *'+prefix+'menu* untuk penggunaan.')
            await rem.sendText(from, `Pertanyaan: *${bsk}* \n\nJawaban: ${jbsk}`)
            break
        case prefix+'owner':
            /*if(rem.isChatOnline('6281358181668@s.whatsapp.net')) {
                var isOwnerOnline = 'Online'
            } else {
                var isOwnerOnline = 'Offline'
            }*/
const babangOwner = `*_Nama:_ Dwi Rizqi*
*_NickGames_:*
*_Osu_:* _InfiniteLight_
*_Mobil Lejen_:* _MizukiDesuu_

*_Sosmed_:*
*_Discord_:* _@dwirizqi.h_
*_Instagram_:* _@dwirizqi.h_
*_Whatsapp_:* wa.me/62856038120076

*_Bisnis/Formal_:* admin@remcp.com`

//             await rem.sendFile(from, './media/img/owner.jpg', 'owner.jpg', `*-=Babang Owner=-*

// ${babangOwner}
//             `, false, image)
//             //rem.sendText(from, 'No wa: wa.me/6281358181668\nTelegram: -\nTwitter: @ADwiRizqi\nFacebook: -\nIg: instagram.com/dwirizqi.h')
//                 const vcard = 'BEGIN:VCARD\n' // metadata of the contact card
//                 + 'VERSION:3.0\n' 
//                 + 'FN:Dwi Rizqi\n' // full name
//                 + 'ORG:RemBot;\n' // the organization of the contact
//                 + 'TEL;type=CELL;type=VOICE;waid=62856038120076:+62 858-0826-7498\n' // WhatsApp ID + phone number
//                 + 'END:VCARD'
//                 await rem.sendMessage(from, {contacts: { displayname: "Dwi Rizqi", contacts: [{vcard}] } })

            if(!isVirtualBot) {
                await rem.sendFile(from, './media/img/owner.jpg', 'owner.jpg', `--- > Babang Owner < ---
‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
${babangOwner}
            `, false, image)
            //rem.sendText(from, 'No wa: wa.me/6281358181668\nTelegram: -\nTwitter: @ADwiRizqi\nFacebook: -\nIg: instagram.com/dwirizqi.h')
                const vcard = 'BEGIN:VCARD\n' // metadata of the contact card
                + 'VERSION:3.0\n' 
                + 'FN:Dwi Rizqi\n' // full name
                + 'ORG:RemBot;\n' // the organization of the contact
                + 'TEL;type=CELL;type=VOICE;waid=62856038120076:+62 858-0826-7498\n' // WhatsApp ID + phone number
                + 'END:VCARD'
                // await rem.sendMessage(from, {contacts: { displayname: "Dwi Rizqi", contacts: [{vcard}] } })
                await rem.sendContact(from, "Dwi Rizqi", vcard)

            } else {
                const editMessageOwner = await rem.sendText(from, '_Syncing data..._')
                await getAllJadibotNewFromAPI()
                rem.sendEditMessage(from, editMessageOwner.key, '_Syncing data: Success | 200_')

                // const ownerObjectJadibot = global.jadibot1.find(all => all.virtualBotId == virtualBotID) || global.jadibot2.find(all => all.virtualBotId == virtualBotID) || global.jadibot3.find(all => all.virtualBotId == virtualBotID) || global.jadibot4.find(all => all.virtualBotId == virtualBotID) || global.jadibot5.find(all => all.virtualBotId == virtualBotID) || global.jadibot6.find(all => all.virtualBotId == virtualBotID) || global.jadibot7.find(all => all.virtualBotId == virtualBotID) || global.jadibot8.find(all => all.virtualBotId == virtualBotID) || global.jadibot9.find(all => all.virtualBotId == virtualBotID)
                const ownerObjectJadibot = Object.values(global.jadibot).find(all => all.virtualBotId == virtualBotID)
                let getPPOwnerJadibot = './media/img/images_pp_blank.png'
                try {
                    getPPOwnerJadibot = await rem.profilePictureUrl(ownerObjectJadibot.id, 'image')
                } catch (err) {
                    console.error(err)
                }
                const numberOwnerJadibot = ownerObjectJadibot.id.split('@s.whatsapp.net')[0]

                const _jadibotOwnerDb = await _mongo_UserSchema.findOne({ iId: ownerObjectJadibot.id })
                var contactDb = await _mongo_ContactSchema.findOne({ iId: ownerObjectJadibot.id })
                const getNameOwnerJadibot = getNama(_jadibotOwnerDb) || await rem.contacts(ownerObjectJadibot.id, contactDb)
                const getDbOwnerJadibot = await _mongo_UserSchema.findOne({ iId: ownerObjectJadibot.id })
                const rawIgOwnerJadibot = getIg(getDbOwnerJadibot)
                const getIgOwnerJadibot = rawIgOwnerJadibot == undefined ? '' : `*_Instagram_: @${rawIgOwnerJadibot}*`


await rem.sendFile(from, getPPOwnerJadibot, 'owner.jpg', `---> JadiBot Number Owner <---
‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
*_Name_: ${getNameOwnerJadibot}*

*_Sosmed_:*
${getIgOwnerJadibot}
*_WhatsApp_* wa.me/${numberOwnerJadibot}



--- > Babang Owner < ---
‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
${babangOwner}
            `, false, image)
            //rem.sendText(from, 'No wa: wa.me/6281358181668\nTelegram: -\nTwitter: @ADwiRizqi\nFacebook: -\nIg: instagram.com/dwirizqi.h')
                const vcard = 'BEGIN:VCARD\n' // metadata of the contact card
                + 'VERSION:3.0\n' 
                + `FN:${getNameOwnerJadibot}\n` // full name
                + 'ORG:RemBot;\n' // the organization of the contact
                + `TEL;type=CELL;type=VOICE;waid=${numberOwnerJadibot}:${PhoneNumber(`+${numberOwnerJadibot}`).getNumber('international')}\n` // WhatsApp ID + phone number
                + 'END:VCARD'
                await rem.sendContact(from, getNameOwnerJadibot, vcard)

            }
            break
        case prefix+'sideowner':
        case prefix+'so':
            const soNumber = sideOwnerNumber.split(', ')
            let textListSideOwner = `*List Side Owner (Not a Bot)*\n`

            for(let i = 0; i < soNumber.length; i++) {
                if(soNumber[i] == '6281358181668@s.whatsapp.net' || soNumber[i] == '62856038120076@s.whatsapp.net' || soNumber[i] == '6282229778223@s.whatsapp.net' || soNumber[i] == '6285858254388@s.whatsapp.net' || soNumber[i] == '85294853160@s.whatsapp.net') continue
                const soNumberI = soNumber[i].split('@s.whatsapp.net')[0]
                const getDbSo =  await _mongo_UserSchema.findOne({ iId: soNumber[i] })
                let soNumberIName = !isMention ? getNama(getDbSo) != undefined ?  getNama(getDbSo) : await rem.contacts(soNumber[i], await _mongo_ContactSchema.findOne({ iId: soNumber[i] })) : ''
                textListSideOwner += `\n${i - 1}. ${isMention ? `@${soNumberI}` : `*${soNumberIName}*\nwa.me/${soNumberI}`}`
            }

            return isMention ? await rem.sendTextWithMentions(from, textListSideOwner) : await rem.sendText(from, textListSideOwner)

//             const scrollFormatSendSo = []
//             const soNumber = sideOwnerNumber.split(', ')
//             for(let i = 0; i < soNumber.length; i++) {
//                 if(soNumber[i] == '6281358181668@s.whatsapp.net' || soNumber[i] == '62856038120076@s.whatsapp.net' || soNumber[i] == '6282229778223@s.whatsapp.net' || soNumber[i] == '6289697228713@s.whatsapp.net' || soNumber[i] == '6289521748989@s.whatsapp.net' || soNumber[i] == '6281521534601@s.whatsapp.net' || soNumber[i] === '6285858254388@s.whatsapp.net') continue
//                 const soNumberI = soNumber[i].split('@s.whatsapp.net')[0]
//                 const getDbSo =  await _mongo_UserSchema.findOne({ iId: soNumber[i] })
                
//                 let soNumberIName = !isMention ? getNama(getDbSo) != undefined ?  getNama(getDbSo) : await rem.contacts(soNumber[i], await _mongo_ContactSchema.findOne({ iId: soNumber[i] })) : ''
//                 let getProfilePicSo = 'https://remcp.com/assets/img/images_pp_blank.png'
//                 try {
//                     getProfilePicSo = await rem.profilePictureUrl(soNumber[i])
//                 } catch (err) {
//                     console.error(err)
//                 }

//                 const igSo = getIg(getDbSo)
//                 const nametagSo = getNameTag(getDbSo)

//                 let statusRequestedSo = ''
//                 try {
//                     statusRequestedSo = await rem.fetchStatus(soNumber[i])
//                 } catch (err) {
//                     console.error(err)
//                 }

//                 let tempGetIdUserPasanganRequestedSo = getUserRoleplay_pasangan(getDbSo)
//                 let getUserPasanganRequestedSo = ''
//                 if (tempGetIdUserPasanganRequestedSo != undefined) {
//                     getUserPasanganRequestedSo = `\nPasangan : *_${soNumberIName}_* ‚ù§Ô∏è *_${tempGetIdUserPasanganRequestedSo.nama}_*\n`
//                 }

//                 scrollFormatSendSo.push({
//                     body: `üéì *Nama üéì: ${soNumberIName}*
                    
// üå± *User Info üå±: ${statusRequestedSo.status}*

// üí´ *User üí´: ${nametagSo.select}*
// ${getUserPasanganRequestedSo}
// üì∑ *Instagram üì∑: @${igSo}*`,
//                     header: {
//                         imageMessage: { url: getProfilePicSo },
//                         hasMediaAttachment: true
//                     },
//                     footer: config.botWM,
//                     buttons: [{
//                         name: "cta_url",
//                         buttonParamsJson: JSON.stringify({
//                             display_text: 'Chat SO',
//                             url: `https://wa.me/${soNumberI}`,
//                             merchant_url: `https://wa.me/${soNumberI}`
//                         })
//                     }]
//                 })
//             }

//             await rem.sendScrollMessage(from, '', scrollFormatSendSo)
            break
        case prefix+'antilink':
            if (!isGroupMsg) return reply(from, `Perintah ini hanya bisa di gunakan dalam group!`)
            if (!isGroupAdmins) return reply(from, `Perintah ini hanya bisa di gunakan oleh Admin group!`)
            if (!isBotGroupAdmins) return reply(from, `Perintah ini hanya bisa di gunakan jika Bot menjadi Admin!`)

            if(type == 'buttonsResponseMessage') args = message.selectedButtonId.split(' ')
            if (args[1] == 'enable') {
                var cek = isDetectorLink
                if(cek){
                    return reply(from, `*„Äå ANTI GROUP LINK „Äç*\nSudah diaktifkan di grup ini`)
                } else {
                    await _mongo_GroupSchema.updateOne({ iId: groupId }, { $set: { isAntiLink: true } })
                    reply(from, `*„Äå ANTI GROUP LINK „Äç*\nPerhatian Untuk Member Grup ${name}\nJika Ingin Kirim Link Harap Izin Ke Admin Group`)
                }
            } else if (args[1] == 'disable') {
                var cek = isDetectorLink
                if(!cek){
                    return reply(from, `*„Äå ANTI GROUP LINK „Äç*\nSudah dinonaktifkan di grup ini`)
                } else {
                    await _mongo_GroupSchema.updateOne({ iId: groupId }, { $set: { isAntiLink: false } })
                    reply(from, `*„Äå ANTI GROUP LINK „Äç*\nBerhasil menonaktifkan antilink!`)
                }
            } else {
                rem.sendButtons(from, `Pilih enable atau disable!`, [{ id: `${prefix}antilink enable`, text: 'Enable' }, { id: `${prefix}antilink disable`, text: 'Disable' }], '', '')
            } 
            break
        case prefix+'antihidetag':
            if (!isGroupMsg) return reply(from, `Perintah ini hanya bisa di gunakan dalam group!`)
            if (!isGroupAdmins) return reply(from, `Perintah ini hanya bisa di gunakan oleh Admin group!`)
            if (!isBotGroupAdmins) return reply(from, `Perintah ini hanya bisa di gunakan jika Bot menjadi Admin!`)

            if(type == 'buttonsResponseMessage') args = message.selectedButtonId.split(' ')
            if (args[1] == 'enable') {
                var cek = isAntiHidetag
                if(cek){
                    return reply(from, `*„Äå ANTI HIDETAG „Äç*\nSudah diaktifkan di grup ini`)
                } else {
                    await _mongo_GroupSchema.updateOne({ iId: groupId }, { $set: { isAntiHidetag: true } })
                    reply(from, `*„Äå ANTI HIDETAG „Äç*\nPerhatian Untuk Member Grup ${name}\nJangan Menggunakan Hidetag\nJika tidak mau di kick!`)
                }
            } else if (args[1] == 'disable') {
                var cek = isAntiHidetag
                if(!cek){
                    return reply(from, `*„Äå ANTI HIDETAG „Äç*\nSudah dinonaktifkan di grup ini`)
                } else {
                    await _mongo_GroupSchema.updateOne({ iId: groupId }, { $set: { isAntiHidetag: false } })
                    reply(from, `*„Äå ANTI HIDETAG „Äç*\nBerhasil menonaktifkan antihidetag!`)
                }
            } else {
                rem.sendButtons(from, `Pilih enable atau disable!`, [{ id: `${prefix}antihidetag enable`, text: 'Enable' }, { id: `${prefix}antihidetag disable`, text: 'Disable' }], '', '')
            } 
            break
        case prefix+'welcome':
            if (!isGroupMsg) return reply(from, `Perintah ini hanya bisa di gunakan dalam group!`)
            if (!isGroupAdmins) return reply(from, `Perintah ini hanya bisa di gunakan oleh Admin group!`)

            if(type == 'buttonsResponseMessage') args = message.selectedButtonId.split(' ')
            if (args[1] == 'enable') {
                if (isWelcomeOn) return reply(from, '*„Äå WELCOME „Äç*\nSudah diaktifkan di grup ini')
                await _mongo_GroupSchema.updateOne({ iId: groupId }, { $set: { isJoinMsg: true } })
                await reply(from, 'Fitur welcome berhasil diaktifkan')
            } else if (args[1] == 'disable') {
                await _mongo_GroupSchema.updateOne({ iId: groupId }, { $set: { isJoinMsg: false } })
                reply(from, 'Fitur welcome berhasil di nonaktifkan')
            } else {
                rem.sendButtons(from, `Pilih enable atau disable!`, [{ id: `${prefix}welcome enable`, text: 'Enable' }, { id: `${prefix}welcome disable`, text: 'Disable' }], '', '')
            }
            break
        case prefix+'leave':
            if(!isOwner) return reply(from, 'Maaf, Fitur ini sedang dalam perbaikan!')
            if (!isGroupMsg) return reply(from, `Perintah ini hanya bisa di gunakan dalam group!`)
            if (!isGroupAdmins) return reply(from, `Perintah ini hanya bisa di gunakan oleh Admin group!`)

            if(type == 'buttonsResponseMessage') args = message.selectedButtonId.split(' ')
            if (args[1] == 'enable') {
                if (isLeaveOn) return await reply(from, '*„Äå LEAVE „Äç*\nSudah diaktifkan di grup ini')
                await _mongo_GroupSchema.updateOne({ iId: groupId }, { $set: { isLeaveMsg: true } })
                await reply(from, 'Fitur leave berhasil diaktifkan')
            } else if (args[1] == 'disable') {
                await _mongo_GroupSchema.updateOne({ iId: groupId }, { $set: { isLeaveMsg: false } })
                await reply(from, 'Fitur leave berhasil di nonaktifkan')
            } else {
                rem.sendButtons(from, `Pilih enable atau disable!`, [{ id: `${prefix}leave enable`, text: 'Enable' }, { id: `${prefix}leave disable`, text: 'Disable' }], '', '')
            }
            break
            // case prefix+'left':
            //     if (!isGroupMsg) return reply(from, `Perintah ini hanya bisa di gunakan dalam group!`)
            //     if (!isGroupAdmins) return reply(from, `Perintah ini hanya bisa di gunakan oleh Admin group!`)
    
            //     if(type == 'buttonsResponseMessage') args = message.selectedButtonId.split(' ')
            //     if (args[1] == 'enable') {
            //         if (isWelcomeOn) return reply(from, '*„Äå LEFT „Äç*\nSudah diaktifkan di grup ini')
            //         await _mongo_GroupSchema.updateOne({ iId: groupId }, { $set: { isLeftMsg: true } })
            //         await reply(from, 'Fitur LEFT berhasil diaktifkan')
            //     } else if (args[1] == 'disable') {
            //         await _mongo_GroupSchema.updateOne({ iId: groupId }, { $set: { isLeftMsg: false } })
            //         reply(from, 'Fitur left berhasil di nonaktifkan')
            //     } else {
            //         rem.sendButtons(from, `Pilih enable atau disable!`, [{ id: `${prefix}left enable`, text: 'Enable' }, { id: `${prefix}left disable`, text: 'Disable' }], '', '')
            //     }
            //     break

        // case prefix+'antinsfw':
        //     if (!isGroupMsg) return reply(from, 'Perintah ini hanya bisa di gunakan dalam group!')
        //     if (!isGroupAdmins) return reply(from, 'Perintah ini hanya bisa di gunakan oleh Admin group!')

        //     const isEnabledAntiNsfw = !_groupDb.isAntiNsfw
        //     await _mongo_GroupSchema.updateOne({ iId: groupId }, { $set: { isAntiNsfw: isEnabledAntiNsfw } })
        //     reply(from, `Anti NSFW berhasil di ${isEnabledAntiNsfw ? 'aktifkan' : 'nonaktifkan'} di group ini!`)
        //     break
        case prefix+'nsfw':
            if (!isGroupMsg) return reply(from, 'Perintah ini hanya bisa di gunakan dalam group!')
            if (!isGroupAdmins) return reply(from, 'Perintah ini hanya bisa di gunakan oleh Admin group!')

            if(type == 'buttonsResponseMessage') args = message.selectedButtonId.split(' ')
            if (args[1].toLowerCase() === 'enable') {
                var cek = isNsfw
                if(cek){
                    return reply(from, `NSFW Sudah diaktifkan di grup ini`)
                } else {
                    await _mongo_GroupSchema.updateOne({ iId: groupId }, { $set: { isNsfw: true } })
                    reply(from, 'NSFW berhasil di aktifkan di group ini! kirim perintah *'+prefix+'nsfwMenu* untuk menu')
                }
            } else if (args[1].toLowerCase() === 'disable') {
                var cek = isNsfw
                if(!cek){
                    return reply(from, `NSFW Sudah dinonaktifkan di grup ini`, id)
                } else {
                    await _mongo_GroupSchema.updateOne({ iId: groupId }, { $set: { isNsfw: false } })
                    reply(from, 'NSFW berhasil di nonaktifkan di group ini!')
                }
            } else {
                rem.sendButtons(from, `Pilih enable atau disable!`, [{ id: `${prefix}nsfw enable`, text: 'Enable' }, { id: `${prefix}nsfw disable`, text: 'Disable' }], '', '')
            }
            break
        case prefix+'simi':
            if (!isGroupMsg) return reply(from, 'Perintah ini hanya bisa di gunakan dalam group!')
            //if (!isPrem) return reply(from, 'Perintah ini hanya bisa di gunakan oleh User Premium!', id)

            if(type == 'buttonsResponseMessage') args = message.selectedButtonId.split(' ')
            if (args[1] == 'enable') {
                var cek = _groupDb.isSimsimi
                if (cek) return reply(from, '*„Äå SIMI „Äç*\nSudah diaktifkan di grup ini')
                await _mongo_GroupSchema.updateOne({ iId: groupId }, { $set: { isSimsimi: true } })
                await rem.sendText(from, `Fitur simi berhasil diaktifkan\n\nPenggunaan : _${prefix}ai_`)
            } else if (args[1] == 'disable') {
                await _mongo_GroupSchema.updateOne({ iId: groupId }, { $set: { isSimsimi: false } })
                await reply(from, 'Fitur simi berhasil di nonaktifkan')
            } else {
                rem.sendButtons(from, `Pilih enable atau disable!`, [{ id: `${prefix}simi enable`, text: 'Enable' }, { id: `${prefix}simi disable`, text: 'Disable' }], '', '')
            }
            break
        case prefix+'group':
            //if(!isOwner) return reply(from, 'Maaf, fitur ini sedang dalam perbaikan!')
            if (!isGroupMsg) return reply(from, 'Fitur ini hanya bisa di gunakan dalam group')
            if (!isGroupAdmins) return reply(from, 'Fitur ini hanya bisa di gunakan oleh admin group')
            if (!isBotGroupAdmins) return reply(from, 'Fitur ini hanya bisa di gunakan ketika bot menjadi admin')

            if(type == 'buttonsResponseMessage') args = message.selectedButtonId.split(' ')
            if (args[1].toLowerCase() === 'open') {
                await rem.groupSettingUpdate(groupId, 'not_announcement')
                if(isMention) {
                    rem.sendTextWithMentions(from, `Group telah dibuka oleh admin @${sender.replace('@s.whatsapp.net','')}\nSekarang *semua member* dapat mengirim pesan`, messageRaw)
                } else {
                    reply(from, `Group telah dibuka oleh admin wa.me/${sender.replace('@s.whatsapp.net','')}\nSekarang *semua member* dapat mengirim pesan`)
                }
            } else if (args[1].toLowerCase() === 'close') {
                await rem.groupSettingUpdate(groupId, 'announcement')
                if(isMention) {
                    rem.sendTextWithMentions(from, `Group telah ditutup oleh admin @${sender.replace('@s.whatsapp.net','')}\nSekarang *hanya admin* yang dapat mengirim pesan`, messageRaw)
                } else {
                    rem.sendText(from, `Group telah ditutup oleh admin wa.me/${sender.replace('@s.whatsapp.net','')}\nSekarang *hanya admin* yang dapat mengirim pesan`)
                }
            } else {
                rem.sendButtons(from, `Pilih open atau close!`, [{ id: `${prefix}group open`, text: 'Open' }, { id: `${prefix}group close`, text: 'Close' }], '', '')
            }
            break
        // ANIME //
        case prefix+'images':
            //if (!isGroupMsg) return reply(from, 'Perintah ini hanya bisa di gunakan dalam group!', id)
            //if (isLimit(_userDb)) return reply(from, `Maaf ${pushname}, Kuota Limit Kamu Sudah Habis, Ketik ${prefix}limit Untuk Mengecek Kuota Limit Kamu`, id)
            
            await limitAdd(serial)
            if (args.length === 1) return reply(from, 'Kirim perintah *'+prefix+'images [text]*\nContoh : *'+prefix+'images Rem*', id)
            const responseImages = await google.image(body.slice(8), { page: 0, safe: true, parse_ads: false, additional_params: { lr: 'id', hl: 'id', cr: 'countryID' } });
            const resultImages = responseImages[Math.floor(Math.random() * responseImages.length)]
            rem.sendFile(from, resultImages.url, '', `${resultImages.origin.title}\n_${resultImages.origin.website.name}_`, messageRaw, image)
            break
        case prefix+'neko':
            const nekoImg = (await axios.get('https://api.waifu.pics/sfw/neko')).data.url
            await rem.sendFileAuto(from, nekoImg, '', '', messageRaw)
            break
        case prefix+'waifu':
        case prefix+'randomnekonime':
            if(args[0].includes('randomnekonime')) {
                body = `${prefix}waifu Nekomimi`
                args = body.split(' ')
            }
            if(args[1] == undefined && allArgs[1] != undefined) {
                args = allArgs
                body = allArgs.join(' ')
            }
            if (args.length == 1) return rem.sendText(from, `Kirim perintah *${prefix}waifu <query>*\nContoh : _${prefix}waifu Ema yasuhara_`)
            //if (isLimit(_userDb)) return rem.sendText(from, `Maaf ${pushname}, Kuota Limit Kamu Sudah Habis, Ketik ${prefix}limit Untuk Mengecek Kuota Limit Kamu`)
            
            await limitAdd(serial)
            const _zerochanCache = await _mongo_CommandSchema.findOne({ cId: 'zerochan' })
            if(body.slice(7).includes('--')) {
                var numberSearchWaifu0 = body.replace(`${prefix}waifu `, '').trim().split('--')
                var numberSearchWaifu01 = Math.floor(numberSearchWaifu0[1])
                if(isNaN(numberSearchWaifu01)) return rem.sendText(from, 'Parameter -- harus bernomer')
                if(numberSearchWaifu01 >= 6) return rem.sendText(from, 'Maks pencarian adalah 5')
                var numberSearchWaifu = numberSearchWaifu0[0].trim()
            } else {
                var numberSearchWaifu = body.replace(`${prefix}waifu `, '')
            }
            let isChoseWaifuZerochan = false
            var urlWaifuZeroChan = ''
            let waifu1 = []
            var numberSearchWaifu_cached = numberSearchWaifu.toLowerCase().replace(/\s/g, '')
            console.log('https://www.zerochan.net/' + `${message.selectedRowId ? numberSearchWaifu : encodeURIComponent(numberSearchWaifu)}`)
            // getZerochan_cache(numberSearchWaifu_cached) == undefined || getZerochan_cache(numberSearchWaifu_cached) == null
            if(getZerochan_cache(numberSearchWaifu_cached, _zerochanCache) == undefined || getZerochan_cache(numberSearchWaifu_cached, _zerochanCache) == null) {
                console.log('search')
                reply(from, mess.wait)

                const resPageZerochanSearch = await axios.get('https://www.zerochan.net/' + `${message.selectedRowId ? numberSearchWaifu : encodeURIComponent(numberSearchWaifu)}`, { validateStatus: () => true }) 
                const $ = cheerio.load(resPageZerochanSearch.data)
                if($('p#fullMessage').text() == "No such tag. Back to Index") return console.log('Not Found')
                if($('#children').length) isChoseWaifuZerochan = $

                if(!isChoseWaifuZerochan) {
                    const findUrlWaifu = $('head > link[rel="canonical"]')
                    if(findUrlWaifu.length) urlWaifuZeroChan = $(findUrlWaifu).attr('href')
                    $("#thumbs2 > *li").each((i, data) => {
                        const urlWaifu = $(data).find('p > a').attr('href')
                        if(urlWaifu?.startsWith('http')) {
                            waifu1.push(urlWaifu)
                        } else if($(data).find('p > a').next().attr('href')?.startsWith('http')) {
                            waifu1.push($(data).find('p > a').next().attr('href'))
                        }
                    })
                }

                console.log('a', urlWaifuZeroChan)
    
                // Jika url Zerochan bukan null, Maka scrape 20 halaman selanjutnya
                if(urlWaifuZeroChan != '') {
                    for(let i = 0; i < 19; i++) {
                        const resPageCharaZerochan = await axios.get(urlWaifuZeroChan + `?p=${i+1}`, { validateStatus: () => true }) 

                        const $ = cheerio.load(resPageCharaZerochan.data)
                        $("#thumbs2 > *li").each((i, data) => {
                            const urlWaifu = $(data).find('p > a').attr('href')
                            if(urlWaifu?.startsWith('http')) {
                                waifu1.push(urlWaifu)
                            } else if($(data).find('p > a').next().attr('href')?.startsWith('http')) {
                                waifu1.push($(data).find('p > a').next().attr('href'))
                            }
                        })
                    }
                } else if(isChoseWaifuZerochan.length) {
                    console.log('zerochan list')
                    
                    //Jika url Zerochan null, maka lakukan pencarian
                    const listUrlSend = []

                    const $ = isChoseWaifuZerochan
                    $('#children > *li').each((i, data) => {
                        const getLiEach = $(data).find('h3 > a')
                        listUrlSend.push({ title: getLiEach.text(), url: getLiEach.attr('href').replace('/', '') })
                    })
        
                    const rows = []
                    for(let i = 0; i < listUrlSend.length; i++) {
                        rows.push({ title: listUrlSend[i].title, description: `Waifu ${listUrlSend[i].title}`, rowId: `${prefix}waifu ${listUrlSend[i].url}` })
                    }
        
                    const sections = [{ title: "Waifu", rows: rows }]
                    await rem.sendList(from, "Pilih Waifu List", sections, 'Waifu List', '@dwirizqi.h')
                }
            } else {
                console.log('get cache')
                waifu1 = _zerochanCache.content[getZerochan_cache(numberSearchWaifu_cached, _zerochanCache)].array
            }
            if(isChoseWaifuZerochan.length) return
            if(waifu1[0] == undefined || waifu1[0] == null) return rem.sendText(from, `*${body.replace(`${prefix}waifu `, '')}* Tidak ditemukan`)
            if(getZerochan_cache(numberSearchWaifu_cached, _zerochanCache) == undefined || getZerochan_cache(numberSearchWaifu_cached, _zerochanCache) == null) await setZerochan_cache(numberSearchWaifu_cached, waifu1)
            var waifu2 = waifu1[Math.floor(Math.random() * waifu1.length)]
            if(body.replace(`${prefix}waifu `, '').includes('--')) {
                const numberSpawnWaifu0 = body.replace(`${prefix}waifu `, '').trim().split('--')
                const numberSpawnWaifu = Math.floor(numberSpawnWaifu0[1])
                if(isNaN(numberSpawnWaifu)) return rem.sendText(from, 'Parameter -- harus bernomer')
                if(numberSpawnWaifu >= 6) return rem.sendText(from, 'Maks pencarian adalah 5')

                let promises = []
                function sendImageWaifu (i) {
                    return new Promise((resolve) => {
                        var waifu2 = waifu1[Math.floor(Math.random() * waifu1.length)]
                        console.log('resolve_send_image '+i)
                        resolve(rem.sendFile(from, waifu2, 'Waifu.jpg', `*${numberSearchWaifu}*\n\n${waifu2}`, false, image))
                    })
                }
            
                for (let i = 0; i < numberSpawnWaifu; i++) {
                    promises.push(sendImageWaifu(i))
                }
                Promise.all(promises)
                    .then(() => {
                        rem.sendButtons(from, 'Link Button', [{id: `${prefix}waifu ${numberSearchWaifu}`, text: `Kirim Lagi`}], '', '')
                    })
            } else {
                await rem.sendFile(from, waifu2, 'Waifu.jpg', `*${numberSearchWaifu}*\n\n${waifu2}`, false, image)
                rem.sendButtons(from, 'Link Button', [{id: `${prefix}waifu ${numberSearchWaifu}`, text: `Kirim Lagi`}], '', '')
            }
            break
        case prefix+'husbu':
            return reply(from, `*Command ini sudah tidak tersedia!*
sekarang diganti dengan cmd *_.waifu_*
coba _.waifu Kirito_, nanti munculnya Kirito (Sword Art Online)

fungsi nya sama saja, bisa mencari character anime (husbu & waifu)
Kedepannya cmd *_.waifu_* bakal diganti nama, agar gak membingungkan user`)
            //if (!isGroupMsg) return reply(from, 'Perintah ini hanya bisa di gunakan dalam group!', id)
            //if (isLimit(_userDb)) return reply(from, `Maaf ${pushname}, Kuota Limit Kamu Sudah Habis, Ketik ${prefix}limit Untuk Mengecek Kuota Limit Kamu`, id)
            
            await limitAdd(serial)
            const husbu = await axios.get(`https://saipulanuar.ga/api/pinterest?query=husbu anime&apikey=FreeApikey`)
            const husbu2 = husbu.data.url_download
            rem.sendFile(from, husbu2, 'Husbu.jpg', ``, messageRaw, image)
            break
        // case prefix+'randomnekonime':
        //     //if (!isGroupMsg) return reply(from, 'Perintah ini hanya bisa di gunakan dalam group!', id)
        //     //if (isLimit(_userDb)) return reply(from, `Maaf ${pushname}, Kuota Limit Kamu Sudah Habis, Ketik ${prefix}limit Untuk Mengecek Kuota Limit Kamu`, id)
            
        //     await limitAdd(serial)
        //     const nekonime = await axios.get(`https://saipulanuar.ga/api/pinterest?query=neko anime&apikey=FreeApikey`)
        //     const nekonime2 = nekonime.data.url_download
        //     rem.sendFile(from, nekonime2, '', 'Nekonime!', messageRaw, image)
        //     break
        case prefix+'lewds':
        case prefix+'lewd':
            return reply(from, 'Maaf, fitur ini sudah tidak tersedia')
            //if(!isOwner) return reply(from, 'Fitur ini masih dikembangkan!', id)
                /*if (isGroupMsg) {
                    if (!isNsfw) return await reply(from, 'command/Perintah NSFW belum di aktifkan di group ini!', id)
                    await reply(from, mess.wait, id)
                    nsfw.randomLewd()
                        .then(async ({ url }) => {
                            const nameFileLewd = url.split('/')
                            await rem.sendFile(from, url, nameFileLewd[nameFileLewd.length -1], `*LEWD*\n\n${url}`, null, null, messageRaw)
                                .then(() => console.log('Success sending lewd!'))
                        })
                        .catch(async (err) => {
                            console.error(err)
                            await reply(from, 'Error!', id)
                        })
                } else {
                    await reply(from, mess.wait, id)
                    nsfw.randomLewd()
                        .then(async ({ url }) => {
                            const nameFileLewd = url.split('/')
                            await rem.sendFile(from, url, nameFileLewd[nameFileLewd.length -1], `*LEWD*\n\n${url}`, null, null, messageRaw)
                                .then(() => console.log('Success sending lewd!'))
                        })
                        .catch(async (err) => {
                            console.error(err)
                            await reply(from, 'Error!', id)
                        })
                }*/
                
                if(isGroupMsg && !isNsfw) return rem.sendText(from, 'command/Perintah NSFW belum di aktifkan di group ini!')
                try {
                    const getCacheLewd = await _mongo_CommandSchema.findOne({ cId: 'lewd' })
                    const requestedLewdArgs = args[1]
                    const filenameLewd = GenerateSerialNumber("00000000000000000000000")
                    const waktudel = Math.floor(1)
                    const waktudelnya = waktudel+'h'
                    if(args.length >= 2) {
                        const findRequestedLewd = getCacheLewd.content.findIndex(obj => obj.name == requestedLewdArgs)
                        //console.log(findRequestedLewd)
                        if(findRequestedLewd == -1) {
                            console.log('Search Args')
                            const testGetAPIRequest = await axios.get(`https://konachan.com/post.xml?limit=1&tags=${requestedLewdArgs}`)
                            const resultTestGetAPIRequest = await xml2js.parseStringPromise(testGetAPIRequest.data);

                            if(resultTestGetAPIRequest.posts.$.count == 0 || resultTestGetAPIRequest.posts.$.count == '0') {
                                console.log('Search Args Count == 0')
                                const testGetAPIRequest1 = await axios.get(`https://konachan.com/tag.xml?limit=0&name=${requestedLewdArgs}`)
                                const resultTestGetAPIRequest1 = await xml2js.parseStringPromise(testGetAPIRequest1.data);
                                if(resultTestGetAPIRequest1.tags == '') return reply(from, `Tags *${requestedLewdArgs}* Tidak ditemukan!`, id)

                                console.log('Search Args name_pattern')
                                const filterListTagName = resultTestGetAPIRequest1.tags.tag.filter(el => Number(el.$.count) >= 1)
                                const listTagName = filterListTagName.map(al => al.$.name)
                                
                                reply(from, `Tags *${requestedLewdArgs}* Tidak ditemukan\n\nMungkin maksud anda\n\n*${listTagName.join('*\n\n*')}*`, id)
                            } else {
                                console.log('Search Args Count >= 1')
                                const LewdList = { name: requestedLewdArgs, data: [] }
                                let loop = 1
                                for(let i = 0; i < loop; i++) {
                                    const getAPIRequest = await axios.get(`https://konachan.com/post.xml?limit=100&page=${i+1}&tags=${requestedLewdArgs}`)
                                    //console.log(getAPIRequest.data)
                                    const result = await xml2js.parseStringPromise(getAPIRequest.data);
                                    if(result.posts.post != null || result.posts.post != undefined) {
                                        await LewdList.data.push(result.posts.post)
                                        if(loop <= 10) {
                                            loop += 1
                                        }
                                    }
                                }

                                const randomMilihPage = Math.floor(Math.random() * LewdList.data.length)
                                const randomMilihImage = Math.floor(Math.random() * LewdList.data[randomMilihPage].length)

                                const filterSendOutput = LewdList.data[randomMilihPage][randomMilihImage].$
                                const sendFile_author = filterSendOutput.author
                                const sendFile_source = filterSendOutput.source
                                const sendFile_tags = filterSendOutput.tags
                                const sendFile_file = filterSendOutput.file_url

                                const responses = await fetch(sendFile_file);
                                const buffer = await responses.buffer();
                                await fs.writeFileSync(`./lib/cache/lewd/${filenameLewd}.png`, buffer)
                                await addDelTime(`./lib/cache/lewd/${filenameLewd}.png`, waktudelnya)
                                const sendMessageLewd = await rem.sendFile(from, buffer, '', `*!!NSFW CONTENT!!*\n\n_Author:_ *${sendFile_author}*\n_Tags:_ *${sendFile_tags}*\n_Source:_ *${sendFile_source}*\n\nhttps://db1.remcp.com/lewd/${filenameLewd}.png`, messageRaw, image)
        
                                await _mongo_CommandSchema.updateOne({ cId: 'lewd' }, { $push: { content: LewdList } }, { upsert: true })

                                await rem.sendButtons(from, 'Link Button', [{id: 'lewd_', text: `${prefix}lewd ${requestedLewdArgs}`}], '', '')
                                await sleep(30000)
                                rem.deleteMessage(from, {id: sendMessageLewd.key.id, key: sendMessageLewd.key, remoteJid: sendMessageLewd.key.remoteJid, participant: sendMessageLewd.participant, fromMe: true})
                            }
                        } else {
                            console.log('Cache Search Args')
                            const getJSONCacheData = getCacheLewd.findIndex(obj => obj.name == requestedLewdArgs);
                            const randomMilihPage = Math.floor(Math.random() * getCacheLewd[getJSONCacheData].data.length)
                            //console.log(getCacheLewd[getJSONCacheData].data.length)
                            //console.log(randomMilihPage)
                            const randomMilihImage = Math.floor(Math.random() * getCacheLewd[getJSONCacheData].data[randomMilihPage].length)

                            const filterSendOutput = getCacheLewd[getJSONCacheData].data[randomMilihPage][randomMilihImage].$
                            const sendFile_author = filterSendOutput.author
                            const sendFile_source = filterSendOutput.source
                            const sendFile_tags = filterSendOutput.tags
                            const sendFile_file = filterSendOutput.file_url

                            const responses = await fetch(sendFile_file);
                            const buffer = await responses.buffer();
                            await fs.writeFileSync(`./lib/cache/lewd/${filenameLewd}.png`, buffer)
                            await addDelTime(`./lib/cache/lewd/${filenameLewd}.png`, waktudelnya)
                            const sendMessageLewd = await rem.sendFile(from, buffer, '', `*!!NSFW CONTENT!!*\n\n_Author:_ *${sendFile_author}*\n_Tags:_ *${sendFile_tags}*\n_Source:_ *${sendFile_source}*\n\nhttps://db1.remcp.com/lewd/${filenameLewd}.png`, messageRaw, image)
                            await rem.sendButtons(from, 'Link Button', [{id: 'lewd_', text: `${prefix}lewd ${requestedLewdArgs}`}], '', '')

                            await sleep(30000)
                            rem.deleteMessage(from, {id: sendMessageLewd.key.id, key: sendMessageLewd.key, remoteJid: sendMessageLewd.key.remoteJid, participant: sendMessageLewd.participant, fromMe: true})
                        }
                    } else {
                        const findRandomLewd = getCacheLewd.content.findIndex(obj => obj.name == 'random')
                        //console.log(findRandomLewd)
                        if(findRandomLewd == -1) {
                            console.log('Search')
                            const LewdList = { name: 'random', data: [] }
                            for(let i = 0; i < 10; i++) {
                                const getAPIRequest = await axios.get(`https://konachan.com/post.xml?limit=100&page=${i+1}`)
                                //console.log(getAPIRequest.data)
                                const result = await xml2js.parseStringPromise(getAPIRequest.data);
                                await LewdList.data.push(result.posts.post)
                            }
                            const randomMilihPage = Math.floor(Math.random() * 10)
                            const randomMilihImage = Math.floor(Math.random() * 100)
    
                            const filterSendOutput = LewdList.data[randomMilihPage][randomMilihImage].$
                            const sendFile_author = filterSendOutput.author
                            const sendFile_source = filterSendOutput.source
                            const sendFile_tags = filterSendOutput.tags
                            const sendFile_file = filterSendOutput.file_url

                            const responses = await fetch(sendFile_file);
                            const buffer = await responses.buffer();
                            await fs.writeFileSync(`./lib/cache/lewd/${filenameLewd}.png`, buffer)
                            await addDelTime(`./lib/cache/lewd/${filenameLewd}.png`, waktudelnya)
                            const sendMessageLewd = await rem.sendFile(from, buffer, '', `*!!NSFW CONTENT!!*\n\n_Author:_ *${sendFile_author}*\n_Tags:_ *${sendFile_tags}*\n_Source:_ *${sendFile_source}*\n\nhttps://db1.remcp.com/lewd/${filenameLewd}.png`, messageRaw, image)
                            
                            await _mongo_CommandSchema.updateOne({ cId: 'lewd' }, { $push: { content: LewdList } }, { upsert: true })

                            await rem.sendButtons(from, 'Link Button', [{id: 'lewd_', text: `${prefix}lewd`}], '', '')
                            await sleep(30000)
                            rem.deleteMessage(from, {id: sendMessageLewd.key.id, key: sendMessageLewd.key, remoteJid: sendMessageLewd.key.remoteJid, participant: sendMessageLewd.participant, fromMe: true})
                        } else {
                            console.log('Cache')
                            const randomMilihPage = Math.floor(Math.random() * 10)
                            const randomMilihImage = Math.floor(Math.random() * 100)
    
                            const getJSONCacheData = findRandomLewd
                            const filterSendOutput = getCacheLewd[getJSONCacheData].data[randomMilihPage][randomMilihImage].$
                            const sendFile_author = filterSendOutput.author
                            const sendFile_source = filterSendOutput.source
                            const sendFile_tags = filterSendOutput.tags
                            const sendFile_file = filterSendOutput.file_url

                            const responses = await fetch(sendFile_file);
                            const buffer = await responses.buffer();
                            await fs.writeFileSync(`./lib/cache/lewd/${filenameLewd}.png`, buffer)
                            await addDelTime(`./lib/cache/lewd/${filenameLewd}.png`, waktudelnya)
                            const sendMessageLewd = await rem.sendFile(from, buffer, '', `*!!NSFW CONTENT!!*\n\n_Author:_ *${sendFile_author}*\n_Tags:_ *${sendFile_tags}*\n_Source:_ *${sendFile_source}*\n\nhttps://db1.remcp.com/lewd/${filenameLewd}.png`, messageRaw, image)
                            await rem.sendButtons(from, 'Link Button', [{id: 'lewd_', text: `${prefix}lewd`}], '', '')

                            await sleep(30000)
                            rem.deleteMessage(from, {id: sendMessageLewd.key.id, key: sendMessageLewd.key, remoteJid: sendMessageLewd.key.remoteJid, participant: sendMessageLewd.participant, fromMe: true})
                        }
                    }
                } catch(err) {
                    console.error(err)
                    return reply(from, 'Error!', id)
                }
            break
            case prefix+'nsfwloli':
                return reply(from, 'Maaf, fitur ini sudah tidak tersedia')
                if (isGroupMsg && !isNsfw) return reply(from, 'command/Perintah NSFW belum di aktifkan di group ini!', id)

                const sendNsfwLoli = await rem.sendFile(from, `https://saipulanuar.ga/api/nsfwloli?apikey=FreeApikey`, 'nsfwloli.png', '', messageRaw, image)
                await sleep(30000)
                rem.deleteMessage(from, {id: sendNsfwLoli.key.id, key: sendNsfwLoli.key, remoteJid: sendNsfwLoli.key.remoteJid, participant: sendNsfwLoli.participant, fromMe: true})
                break
            case prefix+'fetish':
                return reply(from, 'Maaf, fitur ini sudah tidak tersedia')
                if (args.length == 1) return await reply(from, `Tag not found.\nTag List: \n1. armpits\n2. feets\n3. thighs\n4. ass\n5. boobs\n6. belly\n7. sideboobs\n8. ahegao\n\n_Contoh penggunaan: ${prefix}fetish boobs_`, id)
                if (isGroupMsg) {
                    if (!isNsfw) return await reply(from, 'command/Perintah NSFW belum di aktifkan di group ini!', id)
                    await reply(from, mess.wait, id)
                    try {
                        if (args[1] === 'armpits') {
                            nsfw.armpits()
                                .then(async ({ url }) => {
                                    const sendMessageFetish = await rem.sendFile(from, url, 'armpits.jpg', `${url}`, messageRaw, image)
                                    await sleep(10000)
                                    rem.deleteMessage(from, {id: sendMessageFetish.key.id, key: sendMessageFetish.key, remoteJid: sendMessageFetish.key.remoteJid, participant: sendMessageFetish.participant, fromMe: true})
                                    console.log('Success sending armpits pic!')
                                })
                        } else if (args[1] === 'feets') {
                            nsfw.feets()
                                .then(async ({ url }) => {
                                    const sendMessageFetish = await rem.sendFile(from, url, 'feets.jpg', '', messageRaw, image)
                                    await sleep(10000)
                                    rem.deleteMessage(from, {id: sendMessageFetish.key.id, key: sendMessageFetish.key, remoteJid: sendMessageFetish.key.remoteJid, participant: sendMessageFetish.participant, fromMe: true})
                                    console.log('Success sending feets pic!')
                                })
                        } else if (args[1] === 'thighs') {
                            nsfw.thighs()
                                .then(async ({ url }) => {
                                    const sendMessageFetish = await rem.sendFile(from, url, 'thighs.jpg', `${url}`, messageRaw, image)
                                    await sleep(10000)
                                    rem.deleteMessage(from, {id: sendMessageFetish.key.id, key: sendMessageFetish.key, remoteJid: sendMessageFetish.key.remoteJid, participant: sendMessageFetish.participant, fromMe: true})
                                    console.log('Success sending thighs pic!')
                                })
                        } else if (args[1] === 'ass') {
                            nsfw.ass()
                                .then(async ({ url }) => {
                                    const sendMessageFetish = await rem.sendFile(from, url, 'ass.jpg', `${url}`, messageRaw, image)
                                    await sleep(10000)
                                    rem.deleteMessage(from, {id: sendMessageFetish.key.id, remoteJid: sendMessageFetish.key.remoteJid, participant: sendMessageFetish.participant, fromMe: true})
                                    console.log('Success sending ass pic!')
                                })
                        } else if (args[1] === 'boobs') {
                            nsfw.boobs()
                                .then(async ({ url }) => {
                                    const sendMessageFetish = await rem.sendFile(from, url, 'boobs.jpg', `${url}`, messageRaw, image)
                                    await sleep(10000)
                                    rem.deleteMessage(from, {id: sendMessageFetish.key.id, key: sendMessageFetish.key, remoteJid: sendMessageFetish.key.remoteJid, participant: sendMessageFetish.participant, fromMe: true})
                                    console.log('Success sending boobs pic!')
                                })
                        } else if (args[1] === 'belly') {
                            nsfw.belly()
                                .then(async ({ url }) => {
                                    const sendMessageFetish = await rem.sendFile(from, url, 'belly.jpg', `${url}`, messageRaw, image)
                                    await sleep(10000)
                                    rem.deleteMessage(from, {id: sendMessageFetish.key.id, key: sendMessageFetish.key, remoteJid: sendMessageFetish.key.remoteJid, participant: sendMessageFetish.participant, fromMe: true})
                                    console.log('Success sending belly pic!')
                                })
                        } else if (args[1] === 'sideboobs') {
                            nsfw.sideboobs()
                                .then(async ({ url }) => {
                                    const sendMessageFetish = await rem.sendFile(from, url, 'sideboobs.jpg', `${url}`, messageRaw, image)
                                    await sleep(10000)
                                    rem.deleteMessage(from, {id: sendMessageFetish.key.id, key: sendMessageFetish.key, remoteJid: sendMessageFetish.key.remoteJid, participant: sendMessageFetish.participant, fromMe: true})
                                    console.log('Success sending sideboobs pic!')
                                })
                        } else if (args[1] === 'ahegao') {
                            nsfw.ahegao()
                                .then(async ({ url }) => {
                                    const sendMessageFetish = await rem.sendFile(from, url, 'ahegao.jpg', `${url}`, messageRaw, image)
                                    await sleep(10000)
                                    rem.deleteMessage(from, {id: sendMessageFetish.key.id, key: sendMessageFetish.key, remoteJid: sendMessageFetish.key.remoteJid, participant: sendMessageFetish.participant, fromMe: true})
                                    console.log('Success sending ahegao pic!')
                                })
                        } else {
                            await reply(from, 'Tag not found.\nTag List: \n1. armpits\n2. feets\n3. thighs\n4. ass\n5. boobs\n6. belly\n7. sideboobs\n8. ahegao', id)
                        }
                    } catch (err) {
                        console.error(err)
                        await reply(from, err)
                    }
                } else {
                    await reply(from, mess.wait)
                    try {
                        if (args[1] === 'armpits') {
                            nsfw.armpits()
                                .then(async ({ url }) => {
                                    await rem.sendFile(from, url, 'armpits.jpg', '', messageRaw, image)
                                        .then(() => console.log('Success sending armpits pic!'))
                                })
                        } else if (args[1] === 'feets') {
                            nsfw.feets()
                                .then(async ({ url }) => {
                                    await rem.sendFile(from, url, 'feets.jpg', '', messageRaw, image)
                                        .then(() => console.log('Success sending feets pic!'))
                                })
                        } else if (args[1] === 'thighs') {
                            nsfw.thighs()
                                .then(async ({ url }) => {
                                    await rem.sendFile(from, url, 'thighs.jpg', '', messageRaw, image)
                                        .then(() => console.log('Success sending thighs pic!'))
                                })
                        } else if (args[1] === 'ass') {
                            nsfw.ass()
                                .then(async ({ url }) => {
                                    await rem.sendFile(from, url, 'ass.jpg', '', messageRaw, image)
                                        .then(() => console.log('Success sending ass pic!'))
                                })
                        } else if (args[1] === 'boobs') {
                            nsfw.boobs()
                                .then(async ({ url }) => {
                                    await rem.sendFile(from, url, 'boobs.jpg', '', messageRaw, image)
                                        .then(() => console.log('Success sending boobs pic!'))
                                })
                        } else if (args[1] === 'belly') {
                            nsfw.belly()
                                .then(async ({ url }) => {
                                    await rem.sendFile(from, url, 'belly.jpg', '', messageRaw, image)
                                        .then(() => console.log('Success sending belly pic!'))
                                })
                        } else if (args[1] === 'sideboobs') {
                            nsfw.sideboobs()
                                .then(async ({ url }) => {
                                    await rem.sendFile(from, url, 'sideboobs.jpg', '', messageRaw, image)
                                        .then(() => console.log('Success sending sideboobs pic!'))
                                })
                        } else if (args[1] === 'ahegao') {
                            nsfw.ahegao()
                                .then(async ({ url }) => {
                                    await rem.sendFile(from, url, 'ahegao.jpg', '', messageRaw, image)
                                        .then(() => console.log('Success sending ahegao pic!'))
                                })
                        } else {
                            await reply(from, 'Tag not found.\nTag List: \n1. armpits\n2. feets\n3. thighs\n4. ass\n5. boobs\n6. belly\n7. sideboobs\n8. ahegao', id)
                        }
                    } catch (err) {
                        console.error(err)
                        await reply(from, 'Error!')
                    }
                }
            break
        case prefix+'cersex':
            return reply(from, 'Maaf, fitur ini sudah tidak tersedia')
            if (isGroupMsg && !isNsfw) return reply(from, 'command/Perintah NSFW belum di aktifkan di group ini!', id)

            const readCersex = await _mongo_CommandSchema.findOne({ cId: 'cersex' })
            const randomCersex = Math.floor(Math.random() * readCersex.content.length)
            const ranCersex = readCersex.content[randomCersex]
            reply(from, `_Judul :_ *${ranCersex.judul}*\n\n\n\n${ranCersex.cerita.join('\n\n')}\n\n\n\n_Source :_ *${ranCersex.url}*`)
            break
        // MFARELS
        case prefix+'randomtrapnime':
            //if (!isGroupMsg) return reply(from, 'Perintah ini hanya bisa di gunakan dalam group!', id)
            if (isGroupMsg && !isNsfw) return reply(from, 'command/Perintah NSFW belum di aktifkan di group ini!', id)
            //if (isLimit(_userDb)) return reply(from, `Maaf ${pushname}, Kuota Limit Kamu Sudah Habis, Ketik ${prefix}limit Untuk Mengecek Kuota Limit Kamu`, id)
            
            await limitAdd(serial)
            const trapn = await axios.get(`https://saipulanuar.ga/api/pinterest?query=trap anime&apikey=FreeApikey`)
            const trapn2 = trapn.data.url_download
            rem.sendFile(from, trapn2, '', 'Trapnime!', messageRaw, image)
            break
        // ROLEPLAY
        case prefix+'hug':
            if (!isGroupMsg) return reply(from, 'Perintah ini hanya bisa di gunakan dalam group!', id)
            if (mentionedJidList.length === 0) return reply(from, 'Untuk menggunakan Perintah ini, kirim perintah *'+prefix+'hug* @tagmember', id)
            //if (isLimit(_userDb)) return reply(from, `Maaf ${pushname}, Kuota Limit Kamu Sudah Habis, Ketik ${prefix}limit Untuk Mengecek Kuota Limit Kamu`, id)
            
            await limitAdd(serial)
            const shug = await axios.get('https://api.giphy.com/v1/gifs/search?api_key=SjVOI6T3LzRgEkDqePCtnfYQoZb9egdH&q=anime%20hug&limit=50&offset=0')
            const randomgi = shug.data.data[Math.floor(Math.random() * shug.data.data.length)]
            //if(!isOwner && mentionedJidList[0] == '6282351884519@s.whatsapp.net') return reply(from, `Kata Owner 'Hati2 dengan orang asing' Gitu, Jadi jangan deket2`, id)
            const generateSticker1 = await gif2webpFfmpeg((await axios.get(randomgi.images.original.mp4, { responseType: 'arraybuffer' })).data, packWm, authorWm)
            await rem.sendFile(from, Buffer.isBuffer(generateSticker1.stickerResult) ? generateSticker1.stickerResult : { url: generateSticker1.stickerResult }, 'sticker.webp', '', messageRaw, sticker)
            rem.sendTextWithMentions(from, `@${sender.replace('@s.whatsapp.net', '')} Memeluk @${mentionedJidList[0].replace('@s.whatsapp.net', '')}`)
            break
        case prefix+'cry':
            //if (!isGroupMsg) return reply(from, 'Perintah ini hanya bisa di gunakan dalam group!', id)
            //if (isLimit(_userDb)) return reply(from, `Maaf ${pushname}, Kuota Limit Kamu Sudah Habis, Ketik ${prefix}limit Untuk Mengecek Kuota Limit Kamu`, id)
            
            await limitAdd(serial)
            const scry = await axios.get('https://api.giphy.com/v1/gifs/search?api_key=SjVOI6T3LzRgEkDqePCtnfYQoZb9egdH&q=anime%20cry&limit=50&offset=0')
            const rcry = scry.data.data[Math.floor(Math.random() * scry.data.data.length)]
            const generateSticker = await gif2webpFfmpeg((await axios.get(rcry.images.original.mp4, { responseType: 'arraybuffer' })).data, packWm, authorWm)
            await rem.sendFile(from, Buffer.isBuffer(generateSticker.stickerResult) ? generateSticker.stickerResult : { url: generateSticker.stickerResult }, 'sticker.webp', '', messageRaw, sticker)
            break
        case prefix+'shy':
        case prefix+'shi':
        case prefix+'malu':
            //if (!isGroupMsg) return reply(from, 'Perintah ini hanya bisa di gunakan dalam group!', id)
            //if (isLimit(_userDb)) return reply(from, `Maaf ${pushname}, Kuota Limit Kamu Sudah Habis, Ketik ${prefix}limit Untuk Mengecek Kuota Limit Kamu`, id)
            
            await limitAdd(serial)
            const sshy = await axios.get('https://api.giphy.com/v1/gifs/search?api_key=SjVOI6T3LzRgEkDqePCtnfYQoZb9egdH&q=anime%20shy&limit=50&offset=0')
            const rshy = sshy.data.data[Math.floor(Math.random() * sshy.data.data.length)]
            const generateStickerShy = await gif2webpFfmpeg((await axios.get(rshy.images.original.mp4, { responseType: 'arraybuffer' })).data, packWm, authorWm)
            await rem.sendFile(from, Buffer.isBuffer(generateStickerShy.stickerResult) ? generateStickerShy.stickerResult : { url: generateStickerShy.stickerResult }, 'sticker.webp', '', messageRaw, sticker)
            break
        case prefix+'kiss':
            if (!isGroupMsg) return reply(from, 'Perintah ini hanya bisa di gunakan dalam group!', id)
            if (mentionedJidList.length === 0) return reply(from, 'Untuk menggunakan Perintah ini, kirim perintah *'+prefix+'kiss* @tagmember', id)
            //if (isLimit(_userDb)) return reply(from, `Maaf ${pushname}, Kuota Limit Kamu Sudah Habis, Ketik ${prefix}limit Untuk Mengecek Kuota Limit Kamu`, id)
            
            await limitAdd(serial)
            const skiss = await axios.get('https://api.giphy.com/v1/gifs/search?api_key=SjVOI6T3LzRgEkDqePCtnfYQoZb9egdH&q=anime%20kiss&limit=50&offset=0')
            const rkiss = skiss.data.data[Math.floor(Math.random() * skiss.data.data.length)]
            const generateSticker2 = await gif2webpFfmpeg((await axios.get(rkiss.images.original.mp4, { responseType: 'arraybuffer' })).data, packWm, authorWm)
            await rem.sendFile(from, Buffer.isBuffer(generateSticker2.stickerResult) ? generateSticker2.stickerResult : { url: generateSticker2.stickerResult }, 'sticker.webp', '', messageRaw, sticker)
            rem.sendTextWithMentions(from, `@${sender.replace('@s.whatsapp.net', '')} Mencium @${mentionedJidList[0].replace('@s.whatsapp.net', '')}`)
            break
        // ROLEPLAY ASLI :V
        case prefix+'rp':
            // if(getUserMakan(_userDb) == undefined) await setUserMakanan(sender)

            if(args.length == 1) {
                var getMakananUser = getUserMakan(_userDb)

                var getRoleplayUserRumahRp = getUserRoleplay_rumah(_userDb)
                if(getRoleplayUserRumahRp == undefined) {
                    var tambahEnergyRegen = 2
                } else {
                    if(getRoleplayUserRumahRp.listrikstatus == 'mati') {
                        var tambahEnergyRegen = 1
                    } else {
                        var tambahEnergyRegen = _rumahRegenEnergy[getRoleplayUserRumahRp.crid]
                    }
                }

                var namaDisplay = pushname
                var numberDisplay = sender.replace('@s.whatsapp.net', '')
            } else if(mentionedJidList.length >= 1) {
                var getMakananUser = getUserMakan(_mentionUserDb)
                // if(getUserMakan(mentionedJidList[0]) == undefined) await setUserMakanan(mentionedJidList[0])

                var getRoleplayUserRumahRp = getUserRoleplay_rumah(_userDb)
                if(getRoleplayUserRumahRp == undefined) {
                    var tambahEnergyRegen = 2
                } else {
                    var tambahEnergyRegen = _rumahRegenEnergy[getRoleplayUserRumahRp.crid]
                }

                var contactDb = await _mongo_ContactSchema.findOne({ iId: mentionedJidList[0] })
                var namaMention0 = await rem.contacts(mentionedJidList[0], contactDb)
                var namaMention01 = getNama(_mentionUserDb)
                if(namaMention01 == undefined) {
                    var namaDisplay = namaMention0 
                } else {
                    var namaDisplay = namaMention01
                }
                var numberDisplay = mentionedJidList[0].replace('@s.whatsapp.net', '')
            }
            let textDisplaySendRP = `Profile *${namaDisplay}*
Number : *wa.me/${numberDisplay}*

‚û• Food : _${getMakananUser.food}/100_
‚û• Stamina : _${getMakananUser.stamina}/200_
‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ`

            if(getUserRoleplay_pasangan(_userDb) != undefined) {
                if(args.length == 1) {
                    const getUserPasangan = getUserRoleplay_pasangan(_userDb)

                    if(getUserPasangan.status == 'Pacaran') {
                        var limitHubunganMax = '100'
                    } else if(getUserPasangan.status == 'Menikah') {
                        var limitHubunganMax = '300'
                    } else if(getUserPasangan.status.startsWith('Berkeluarga')) {
                        var limitHubunganMax = '500'
                    } else {
                        var limitHubunganMax = '100'
                    }
                    const calculateUserNextXpPasanganRp = 2000 * (Math.pow(2, getUserPasangan.level) - 1)
    
                    textDisplaySendRP += `\nStatus Bar Pasangan
Nama : *${getUserPasangan.nama}*
‚û• Kelaparan : ${getUserPasangan.food}/100
‚û• Uang : Rp. ${numberWithCommas(fixNumberE(getUserPasangan.uang))}
‚û• Hubungan : ${getUserPasangan.hubungan}/${limitHubunganMax}
‚û• Mood Pasangan : ${getUserPasangan.mood}
‚û• Level Pasangan : ${getUserPasangan.level}
‚û• XP Pasangan : ${getUserPasangan.xp}/${calculateUserNextXpPasanganRp}
‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ`
    
                } else if(mentionedJidList.length >= 1) {
                    const getUserPasanganMention = getUserRoleplay_pasangan(_mentionUserDb)

                    if(getUserPasanganMention.status == 'Pacaran') {
                        var limitHubunganMax = '100'
                    } else if(getUserPasanganMention.status == 'Menikah') {
                        var limitHubunganMax = '300'
                    } else if(getUserPasanganMention.status.startsWith('Berkeluarga')) {
                        var limitHubunganMax = '500'
                    } else {
                        var limitHubunganMax = '100'
                    }
                    const calculateUserNextXpPasanganRp2 = 2000 * (Math.pow(2, getUserPasanganMention.level) - 1)
    
                    textDisplaySendRP += `\nStatus Bar Pasangan
Nama : *${getUserPasanganMention.nama}*
‚û• Kelaparan : ${getUserPasanganMention.food}/100
‚û• Uang : Rp. ${numberWithCommas(fixNumberE(getUserPasanganMention.uang))}
‚û• Hubungan : ${getUserPasanganMention.hubungan}/${limitHubunganMax}
‚û• Mood Pasangan : ${getUserPasangan.mood}
‚û• Level Pasangan : ${getUserPasanganMention.level}
‚û• XP Pasangan : ${getUserPasanganMention.xp}/${calculateUserNextXpPasanganRp}
‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ`
    
                }
            }

            textDisplaySendRP += `\nStamina Regen/Menit : _${tambahEnergyRegen}_`
            reply(from, textDisplaySendRP)
            break
        case prefix+'mobil':
            if(!isSideOwner) return rem.sendText(from, 'Invalid!')

            const carDatabaseMobil = require('./lib/database/mobil.js')
            const getUserCarMobil = getUserRoleplay_listMobil(_userDb)
            
            if(getUserCarMobil?.[0] === undefined) return rem.sendText(from, `Kamu belum memiliki mobil!\nBeli di _${prefix}shop mobil_`)
            
            let textReturnCarMobil = `*List Mobil ${pushname}*`
            for(let i = 0; i < getUserCarMobil.length; i++) {
                const getCarMobil = carDatabaseMobil[getUserCarMobil[i].id]
                textReturnCarMobil += `\n\n${i+1}. ${getCarMobil.name}\n> Max Speed : ${getCarMobil.maxSpeed}\n> Acceleration : ${getCarMobil.accelerateRate}\n> Max Gear : ${getCarMobil.maxGear}\n> Max RPM : ${Math.max(...getCarMobil.maxRpmPerGear)}\n> Friction : ${getCarMobil.friction}\n> Berat : ${getCarMobil.weight} kg\n\n> Kondisi: ${getUserCarMobil[i].condition}/100`
            }
            textReturnCarMobil += `\n\n\n_- ${prefix}setcar <number>_\nUntuk memilih mobil utama`
            reply(from, textReturnCarMobil)
            break
        case prefix+'setcar':
            if(!isSideOwner) return rem.sendText(from, 'Invalid!')

            if(args[1] == undefined || isNaN(args[1])) return rem.sendText(from, 'Format salah!\n\nContoh: _'+prefix+'setcar 1_')
            const requestedCarIdSetCar = Number(args[1])
            const getUserCarSetCar = getUserRoleplay_listMobil(_userDb)

            if(getUserCarSetCar?.[requestedCarIdSetCar-1] === undefined) return rem.sendText(from, 'Mobil tidak ditemukan!')
            await selectRoleplay_mobilUtama(sender, getUserCarSetCar[requestedCarIdSetCar - 1].id)
            rem.sendText(from, `Mobil utama berhasil diubah!`)
            break
        case prefix+'mh':
            if(!isSideOwner) return rem.sendText(from, 'Invalid!')
            if(allArgs[1] == undefined) return rem.sendText(from, 'Invalid!')

            const requestedCarIdMh = allArgs[1]
            const carDatabaseMh = require('./lib/database/mobil.js')

            if(carDatabaseMh[requestedCarIdMh] === undefined) return rem.sendText(from, 'Invalid!')

            const getCarMh = carDatabaseMh[requestedCarIdMh]
            const textReturnCarMh = `*Detail Mobil ${getCarMh.name}*\n\n> Max Speed : ${getCarMh.maxSpeed}\n> Acceleration : ${getCarMh.accelerateRate}\n> Max Gear : ${getCarMh.maxGear}\n> Max RPM : ${Math.max(...getCarMh.maxRpmPerGear)}\n> Friction : ${getCarMh.friction}\n> Berat : ${getCarMh.weight} kg\n> Price: Rp. ${numberWithCommas(fixNumberE(getCarMh.price))}`
            
            rem.sendButtons(from, textReturnCarMh, [{id: `${prefix}mbuy ${getCarMh.id}`, text: `Beli`}], '', '', [], { quoted: messageRaw })
            break
        case prefix+'mbuy':
            if(!isSideOwner) return rem.sendText(from, 'Invalid!')
            if(allArgs[1] == undefined) return rem.sendText(from, 'Invalid!')

            const getUserRumahMbuy = getUserRoleplay_rumah(_userDb)
            if(getUserRumahMbuy == undefined) return reply(from, 'Mobil memerlukan tempat Garasi!\nBeli rumah untuk mendapatkan garasi')

            const _rumahUserMbuy = getUserRoleplay_rumah(_userDb).crid
            const getUserCarMbuy = getUserRoleplay_listMobil(_userDb)

            const requestedCarIdMbuy = allArgs[1]
            if(getUserCarMbuy?.find(obj => obj.id === requestedCarIdMbuy)) return reply(from, 'Kamu sudah memiliki mobil ini!')
            if(getUserCarMbuy?.length >= _rumahGarasi[_rumahUserMbuy]) return reply(from, 'Garasi penuh!')

            const carDatabaseMbuy = require('./lib/database/mobil.js')

            if(carDatabaseMbuy[requestedCarIdMbuy] === undefined) return reply(from, 'Invalid!')
            if(carDatabaseMbuy[requestedCarIdMbuy].available === false) return reply(from, 'Mobil ini tidak tersedia!')

            const getCarMbuy = carDatabaseMbuy[requestedCarIdMbuy]
            if(getMoney(_userDb) < getCarMbuy.price) return reply(from, `Uang tidak cukup!\n\nUang Kamu: Rp. ${numberWithCommas(fixNumberE(getMoney(_userDb)))}\nHarga Mobil: *Rp. ${numberWithCommas(fixNumberE(getCarMbuy.price))}*`)
            
            await MinMoney(sender, getCarMbuy.price, _userDb)
            await addUserRoleplay_mobil(sender, getCarMbuy.id)

            reply(from, `Mobil *${getCarMbuy.name}* berhasil dibeli!\nLihat mobil kamu di _${prefix}mobil_`)
            break
        case prefix+'race':
            if(!isSideOwner) return rem.sendText(from, 'Invalid!')

            const playerRace = [sender]
            if(mentionedJidList?.[0] != undefined) {
                if(mentionedJidList.includes(sender)) return rem.sendText(from, 'Kamu tidak bisa balapan dengan diri sendiri!')

                for(let i = 0; i < mentionedJidList.length; i++) {
                    const checkUserRace = await _mongo_UserSchema.findOne({ iId: mentionedJidList[i] })
                    if(checkUserRace == null) return rem.sendTextWithMentions(from, `User @${mentionedJidList[i].replace('@s.whatsapp.net', '')} tidak ditemukan!`)

                    const userCarRace = getUserRoleplay_listMobil(checkUserRace)
                    if(userCarRace?.[0] == undefined) return rem.sendTextWithMentions(from, `@${mentionedJidList[i].replace('@s.whatsapp.net', '')} belum memiliki mobil!`)
                    playerRace.push(mentionedJidList[i])
                }
            } else { // search random
                // match is rl.mobil is not empty
                const getRandomUserRace = await _mongo_UserSchema.aggregate([
                    { $match: { 'rl.mobil.listMobil': { $exists: true } } },
                    { $sample: { size: 1 } }
                ])
                if(getRandomUserRace[0] == undefined) return rem.sendText(from, 'Tidak ada user yang bisa dijadikan lawan balapan!')

                const userCarRace = getUserRoleplay_listMobil(getRandomUserRace[0])
                if(userCarRace?.[0] == undefined) return rem.sendText(from, 'User belum memiliki mobil!')

                playerRace.push(getRandomUserRace[0].iId)
            }

            // random 200 - 800
            const longDistanceDragRace = _userDb.limit.dragrace_longdistance ? _userDb.limit.dragrace_longdistance : Math.floor(Math.random() * 600) + 200
            if(!_userDb.limit.dragrace_longdistance) await _mongo_UserSchema.updateOne({ iId: sender }, { $set: { 'limit.dragrace_longdistance': longDistanceDragRace } })
            
            // {
            //     id: id,
            //     listUser: [],
            //     selectedCarUser: [],
            //     startUser: [],
            //     state: 'wait', <wait/start>
            //     timeout: ts
            // }
            const timeoutTimeRace = Date.now() + toMs('5m')
            const randomIdRace = GenerateSerialNumber('00000000')
            await _mongo_CommandSchema.updateOne({ cId: 'racestart' }, { $push: { content: { id: randomIdRace, listUser: playerRace, selectedCarUser: [], startUser: [], timeout: timeoutTimeRace } } })

            let textSendRaceReady = `_Balapan Drag Race_\n\nJarak: ${longDistanceDragRace}m\n_Menunggu konfirmasi lawan balapan..._\n`
            for(let i = 0; i < playerRace.length; i++) {
                textSendRaceReady += `\n- @${playerRace[i].replace('@s.whatsapp.net', '')} ‚è≥`
            }
            textSendRaceReady += `\n\nReply pesan ini dan kirim 1, untuk mengikuti balapan!`
            rem.sendButtons(from, textSendRaceReady, [{ id: `${prefix}raceact ready ${randomIdRace}`, text: 'Ikuti Balapan!' }], '', '', [], { quoted: messageRaw })
            break
        case prefix+'raceact':
            if(!isSideOwner) return rem.sendText(from, 'Invalid!')

            const raceAct = allArgs[1]
            const raceIdAct = allArgs[2]

            const checkParticipantRace = await _mongo_CommandSchema.findOne({ cId: 'racestart', 'content.id': Number(raceIdAct) }, { 'content.$': 1 })
            if(!checkParticipantRace?.content?.[0]) return reply(from, 'Balapan telah berakhir atau tidak ditemukan!')

            const checkParticipantRace2 = checkParticipantRace.content[0].listUser
            if(!checkParticipantRace2.includes(sender)) return reply(from, 'Kamu tidak terdaftar dalam balapan ini!')

            const alreadyJoinRace = checkParticipantRace.content[0].selectedCarUser
            if(alreadyJoinRace.findIndex(obj => obj.id === sender) !== -1) return reply(from, 'Kamu sudah mengikuti balapan ini!')

            const listMobilRaceReady = getUserRoleplay_listMobil(_userDb)
            if(listMobilRaceReady?.[0] == undefined) return rem.sendText(from, 'Kamu belum memiliki mobil!')

            if(raceAct === 'ready') {
                let buttonSelectCar = []
                const textSendSelectMobil = `Pilih mobil untuk balapan!\n`
                for(let i = 0; i < listMobilRaceReady.length; i++) {
                    const getCarRaceReady = require('./lib/database/mobil.js')[listMobilRaceReady[i].id]
                    textSendSelectMobil += `\n${i + 1}. ${getCarRaceReady.name}\n> Max Speed : ${getCarRaceReady.maxSpeed}\n> Acceleration : ${getCarRaceReady.accelerateRate}\n> Max Gear : ${getCarRaceReady.maxGear}\n> Max RPM : ${Math.max(...getCarRaceReady.maxRpmPerGear)}\n> Friction : ${getCarRaceReady.friction}\n> Berat : ${getCarRaceReady.weight} kg`
                    buttonSelectCar.push({ id: `${prefix}raceact selectcar ${raceIdAct} ${listMobilRaceReady[i].id} ${JSON.stringify({ remoteJid: quotedMsg.from, fromMe: quotedMsg.fromMe, id: quotedMsg.id, participant: quotedMsg.sender })}`, text: `*${getCarRaceReady.name}*` })
                }
                rem.sendButtons(from, textSendSelectMobil, buttonSelectCar, '', '', [], { quoted: messageRaw })
            } else if(raceAct === 'selectcar') {
                const selectedCarRaceSelectCar = listMobilRaceReady.find(obj => obj.id === allArgs[3])
                if(selectedCarRaceSelectCar == undefined) return rem.sendText(from, 'Invalid!')
                
                const keyEditTextRace = JSON.parse(allArgs[4])
                
                await _mongo_CommandSchema.updateOne({ cId: 'racestart', 'content.id': Number(raceIdAct) }, { $push: { 'content.$.selectedCarUser': { id: sender, car: selectedCarRaceSelectCar.id } } })

                rem.sendReact(from, keyEditTextRace, '‚úÖ')

                let textSendRaceReady = `_Balapan Drag Race_\n\nJarak: ${longDistanceDragRace}m\n_Menunggu konfirmasi lawan balapan..._\n`
                for(let i = 0; i < playerRace.length; i++) {
                    if(playerRace[i] === sender || alreadyJoinRace.findIndex(obj => obj.id === playerRace[i]) !== -1) {
                        textSendRaceReady += `\n- @${playerRace[i].replace('@s.whatsapp.net', '')} ‚úÖ`
                    } else {
                        textSendRaceReady += `\n- @${playerRace[i].replace('@s.whatsapp.net', '')} ‚è≥`
                    }
                }
                textSendRaceReady += `\n\nReply pesan ini dan kirim 1, untuk mengikuti balapan!`

                const buttonMetadataSelectCar = await rem.sendButtons(from, textSendRaceReady, [{ id: `${prefix}raceact ready ${raceIdAct}`, text: 'Ikuti Balapan!' }], '', '', {}, {}, true)
                rem.sendEditMessage(from, keyEditTextRace, buttonMetadataSelectCar)

                if(alreadyJoinRace.length === playerRace.length) {
                    const { dragRaceRun } = require('./lib/dragrace.js')
                    dragRaceRun(rem, checkParticipantRace.content[0], longDistanceDragRace)
                }
                    
            } else if(raceAct === 'racestart') {
                const raceIdAct = allArgs[2]

                const checkParticipantRaceAct = await _mongo_CommandSchema.findOne({ cId: 'racestart', 'content.id': Number(raceIdAct) }, { 'content.$': 1 })
                if(!checkParticipantRaceAct?.content?.[0]) return reply(from, 'Balapan telah berakhir atau tidak ditemukan!')

                const checkParticipantRaceAct2 = checkParticipantRaceAct.content[0].selectedCarUser
                if(checkParticipantRaceAct2.findIndex(obj => obj.id === sender) === -1) return reply(from, 'Kamu tidak terdaftar dalam balapan ini!')

                const alreadyJoinRaceAct = checkParticipantRaceAct.content[0].startUser
                if(alreadyJoinRaceAct.findIndex(obj => obj === sender) !== -1) return reply(from, 'Kamu sudah mengikuti balapan ini!')
                await _mongo_CommandSchema.updateOne({ cId: 'racestart', 'content.id': Number(raceIdAct) }, { $push: { 'content.$.startUser': sender } })

                rem.sendReact(from, message.key, '‚úÖ')
            }
            break
//         case prefix+'racestart':
//             if(!isSideOwner) return rem.sendText(from, 'Invalid!')
//             if(allArgs[1] == undefined || allArgs[2] == undefined || !message.selectedButtonId) return rem.sendText(from, 'Invalid!')

//             // demo race
//             const reactionTimeEnemy = (90 / 50).toFixed(0) - 1
//             const enemySender = allArgs[1]
//             const enemyCarRace = {
//                 id: 'car-experimental01',
//                 name: "Ambatukaaammm",
//                 price: 100_000_000_000_000_000,
//                 stats: {
//                     maxSpeed: 100,
//                     acceleration: 20,
//                     maxGear: 6
//                 }
//             }
//             const userCarRaceStart = getUserRoleplay_listMobil(_userDb)
//             const selectedCarRaceStart = userCarRaceStart.find(obj => obj.id === allArgs[2])
//             if(selectedCarRaceStart == undefined) return rem.sendText(from, 'Invalid!')

//             const carDatabaseRaceStart = require('./lib/database/mobil.js')
//             let userCarSpecsRaceStart = carDatabaseRaceStart[selectedCarRaceStart.id]
//             if(selectedCarRaceStart.modif?.[0] != undefined) userCarSpecsRaceStart = calculateMobilModif(carDatabaseRaceStart, userCarSpecsRaceStart)

//             const randomIdRaceStart = Math.floor(Math.random() * 100000)
//             const longDistanceDragRaceStart = _userDb.limit.dragrace_longdistance ? _userDb.limit.dragrace_longdistance : Math.floor(Math.random() * 600) + 200
//             if(!_userDb.limit.dragrace_longdistance) await _mongo_UserSchema.updateOne({ iId: sender }, { $set: { 'limit.dragrace_longdistance': longDistanceDragRaceStart } })
//             const distanceDragRaceM = longDistanceDragRaceStart

//             await _mongo_CommandSchema.updateOne({ cId: 'racestart', $push: { content: { id: randomIdRaceStart, participant: [sender, enemySender], start: [], isEdit: false, date: Date.now() } } })

//             let textReturnCarRaceStart_countdown = `Balapan dimulai dalam\n*5...*`
//             const editMessageRaceStart = await rem.sendText(from, textReturnCarRaceStart_countdown + `\n\nPada detik ke 0, Reply pesan ini dan kirim 1, untuk gas pol`)
//             for(let i = 4; i > -1; i--) {
//                 textReturnCarRaceStart_countdown += `\n*${i}...*`

//                 let textSendEditRaceStartAct = textReturnCarRaceStart_countdown + `\n\nPada detik ke 0, Reply pesan ini dan kirim 1, untuk gas pol`
//                 if(i === 0) textSendEditRaceStartAct = await rem.sendButtons(from, textReturnCarRaceStart_countdown + `\n\nPada detik ke 0, Reply pesan ini dan kirim 1, untuk gas pol`, [{ id: `${prefix}raceact racestart ${randomIdRaceStart}`, text: 'Gas Poll!!' }], '', '', {}, {}, true)

//                 await sleep(1000)
//                 await rem.sendEditMessage(from, editMessageRaceStart.key, textSendEditRaceStartAct)
//                 if(i === 0) startRace()
//             }

//             async function startRacea() {
//                 let loopRace = 1
//                 const carProgress = {
//                     [sender]: {
//                         distance: 0,
//                         speed: 0,
//                         gear: 0
//                     },
//                     [enemySender]: {
//                         distance: 0,
//                         speed: 0,
//                         gear: 0
//                     }
//                 }

//                 const editMessageDragRace = await rem.sendText(from, `*Drag Race*
                
// - ${pushname} - ${userCarSpecsRaceStart.name}
// > Progress : 0m / ${longDistanceDragRaceStart}m
// > Speed : 0 km/h
// > Gear : N

// - ${enemySender} - ${enemyCarRace.name}
// > Progress : 0m / ${longDistanceDragRaceStart}m
// > Speed : 0 km/h
// > Gear : N`)
//                 for(let i = 0; i < loopRace; i++) {
//                     let readRaceStart = await _mongo_CommandSchema.findOne({ cId: 'racestart', 'content.id': Number(randomIdRaceStart) }, { 'content.$': 1 })
//                     let isEdit = false

//                     // perbandingan 2 : 20
//                     const waitTime = readRaceStart.content[0].start?.[1] ? 1000 : 50
//                     if(!((waitTime * (i + 1)) / 1000).toString().includes('.')) isEdit = true
//                     if(i != 0) await sleep(waitTime) // if user not reply, sleep 50ms, else sleep 1000ms

//                     if(!isEdit) isEdit = readRaceStart.content[0].isEdit

//                     if(enemySender == 'random' && i === reactionTimeEnemy) {
//                         readRaceStart.content[0].start.push(enemySender)
//                         isEdit = true

//                         await _mongo_CommandSchema.updateOne({ cId: 'racestart', 'content.id': Number(randomIdRaceStart) }, { $push: { 'content.$.start': enemySender }, $set: { 'content.$.isEdit': true } })
//                     }

//                     let isBreakRace = false
//                     const speedPerbandingan = readRaceStart.content[0].start?.[1] ? 1 : 20
//                     if(readRaceStart.content[0].start?.[0] && !isBreakRace) {
//                         const userSelectedRaceStart = readRaceStart.content[0].start?.[0]
//                         const userMobilS = userSelectedRaceStart === sender ? userCarSpecsRaceStart : enemyCarRace
//                         console.log('1', userSelectedRaceStart, userMobilS, carProgress[userSelectedRaceStart])

//                         const accCar = calculateAccRaceStart(userMobilS.stats.acceleration, carProgress[userSelectedRaceStart].speed, userMobilS.stats.maxSpeed, carProgress[userSelectedRaceStart].gear, userMobilS.stats.maxGear) / speedPerbandingan
//                         carProgress[userSelectedRaceStart].speed += (accCar.acceleration)
//                         if(carProgress[userSelectedRaceStart].speed < 0) carProgress[userSelectedRaceStart].speed = 0
//                         if(carProgress[userSelectedRaceStart].speed > userMobilS.stats.maxSpeed) carProgress[userSelectedRaceStart].speed = userMobilS.stats.maxSpeed
//                         carProgress[userSelectedRaceStart].distance += kmHrMSec(carProgress[userSelectedRaceStart].speed)

//                         carProgress[userSelectedRaceStart].gear = accCar.currentGear

//                         if(carProgress[userSelectedRaceStart].distance >= distanceDragRaceM) {
//                             rem.sendText(from, `Balapan selesai!\n\nPemenang: ${userSelectedRaceStart === sender ? pushname : enemySender}`)
//                             isEdit = true
//                             isBreakRace = true
//                         }
//                     }

//                     if(readRaceStart.content[0].start?.[1] && !isBreakRace) {
//                         const userSelectedRaceStart = readRaceStart.content[0].start?.[1]
//                         const userMobilS = userSelectedRaceStart === sender ? userCarSpecsRaceStart : enemyCarRace
//                         console.log('2', userSelectedRaceStart, userMobilS, carProgress[userSelectedRaceStart])

//                         const accCar = calculateAccRaceStart(userMobilS.stats.acceleration, carProgress[userSelectedRaceStart].speed, userMobilS.stats.maxSpeed, carProgress[userSelectedRaceStart].gear, userMobilS.stats.maxGear)
//                         carProgress[userSelectedRaceStart].speed += (accCar.acceleration / speedPerbandingan)
//                         if(carProgress[userSelectedRaceStart].speed < 0) carProgress[userSelectedRaceStart].speed = 0
//                         if(carProgress[userSelectedRaceStart].speed > userMobilS.stats.maxSpeed) carProgress[userSelectedRaceStart].speed = userMobilS.stats.maxSpeed
//                         carProgress[userSelectedRaceStart].distance += kmHrMSec(carProgress[userSelectedRaceStart].speed)

//                         carProgress[userSelectedRaceStart].gear = accCar.currentGear

//                         if(carProgress[userSelectedRaceStart].distance >= distanceDragRaceM) {
//                             rem.sendText(from, `Balapan selesai!\n\nPemenang: ${userSelectedRaceStart === sender ? pushname : enemySender}`)
//                             isEdit = true
//                             isBreakRace = true
//                         }
//                     }

//                     if(isEdit) {
//                         const textEditRace = `*Drag Race*
                
// - ${pushname} - ${userCarSpecsRaceStart.name}
// > Progress : ${(carProgress[sender].distance).toFixed(0)}m / ${longDistanceDragRaceStart}m
// > Speed : ${carProgress[sender].speed.toFixed(0)} km/h
// > Gear : ${carProgress[sender].gear != 0 ? carProgress[sender].gear : 'N'}

// - ${enemySender} - ${enemyCarRace.name}
// > Progress : ${(carProgress[enemySender].distance).toFixed(0)}m / ${longDistanceDragRaceStart}m
// > Speed : ${carProgress[enemySender].speed.toFixed(0)} km/h
// > Gear : ${carProgress[enemySender].gear != 0 ? carProgress[enemySender].gear : 'N'}`

//                         await rem.sendEditMessage(from, editMessageDragRace.key, textEditRace)
//                         await _mongo_CommandSchema.updateOne({ cId: 'racestart', 'content.id': Number(randomIdRaceStart) }, { $set: { 'content.$.isEdit': false } })
//                     }
//                     if(isBreakRace) {
//                         // delete in mongo command schema
//                         await _mongo_CommandSchema.updateOne({ cId: 'racestart', 'content.id': Number(randomIdRaceStart) }, { $pull: { content: { id: randomIdRaceStart } } })
//                         await _mongo_UserSchema.updateOne({ iId: sender },  { $set: { 'limit.dragrace_longdistance': 0 } })
//                         break
//                     }

//                     loopRace += 1
//                 }

//                 function calculateAccRaceStart(acclRate, speed, maxSpeed, currentGear, maxGear) {
//                     if(currentGear === 0) currentGear = 1
//                     let acceleration  = 0
//                     let carSpeed      = speed
//                     let accelRate     = acclRate
//                     let currentShift  = currentGear
//                     // let maxShiftSpeed = accelRate * currentShift
//                     // make max current shift speed balance with max speed, so if maxgear is 6, max speed is 200, max shift speed is 200
//                     let maxShiftSpeed = maxSpeed / maxGear * currentShift
                    
                
//                     if (currentShift > 0 && carSpeed <= maxShiftSpeed) {
//                         acceleration = accelRate * currentShift
//                     }
    
//                     if(carSpeed >= maxShiftSpeed && currentGear < maxGear) {
//                         acceleration = 0
//                         currentGear++
//                     }
//                     // console.log(acceleration, isChangeGear, carSpeed, maxShiftSpeed, currentShift, maxGear)
//                     if(carSpeed >= maxSpeed) {
//                         acceleration = 0
//                     }

//                     if(carSpeed >= maxSpeed) carSpeed = maxSpeed
    
//                     return¬†{ currentGear, acceleration }
//                 }
//             }
            break
        case prefix+'rt': // race test
            if(!isSideOwner) return rem.sendText(from, 'Invalid!')
            if(allArgs[1] == undefined || allArgs[2] == undefined) return rem.sendText(from, 'Invalid!')

            const longDistanceRaceTest = Number(allArgs[1])
            if(isNaN(longDistanceRaceTest)) return rem.sendText(from, `<longDistance> harus berupa angka!\n${prefix}rt <longDistance> name,max,acc,gear name,max,acc,gear ...`)

            const listCarRaceTest = body.replace(`${allArgs[0]} ${allArgs[1]} `, '').split(' ')
            const carSpecsRaceTest = {}
            const carProgressRaceTest = {}
            let textRaceTest = `*[TEST] Drag Race*`
            for(let i = 0; i < listCarRaceTest.length; i++) {
                const splitCarRaceTest = listCarRaceTest[i].split(',')
                if(splitCarRaceTest.length != 4) return rem.sendText(from, `Format mobil ke-${i+1} salah!\n${prefix}rt <longDistance> name,max,acc,gear name,max,acc,gear ...`)
                carProgressRaceTest[splitCarRaceTest[0]] = {
                    distance: 0,
                    speed: 0,
                    gear: 0
                }
                carSpecsRaceTest[splitCarRaceTest[0]] = {
                    name: splitCarRaceTest[0],
                    stats: {
                        maxSpeed: Number(splitCarRaceTest[1]),
                        acceleration: Number(splitCarRaceTest[2]),
                        maxGear: Number(splitCarRaceTest[3])
                    }
                }

                // - ${userCarSpecsRaceStart.name}
                // > Progress : 0m / ${longDistanceDragRaceStart}m
                // > Speed : 0 km/h
                // > Gear : N
                textRaceTest += `\n\n- ${splitCarRaceTest[0]}
> Progress : 0m / ${longDistanceRaceTest}m
> Speed : 0 km/h
> Gear : N`
            }
            let specsCarListText = `*[TEST] List Car Specs`
            for(let i = 0; i < listCarRaceTest.length; i++) {
                const splitCarRaceTest1 = listCarRaceTest[i].split(',')
                specsCarListText += `\n\n- ${splitCarRaceTest1[0]}
> Max Speed: ${splitCarRaceTest1[1]}
> Acceleration: ${splitCarRaceTest1[2]}
> Max Gear: ${splitCarRaceTest1[3]}`
            }
            await rem.sendText(from, specsCarListText)

            const editMessageRaceTest = await rem.sendText(from, textRaceTest)
                    
            let loopRaceTest = 1
            const speedPerbandingan = 1
            for(let i = 0; i < loopRaceTest; i++) {
                let isEditRaceTest = false

                if(i != 0) await sleep(1000)
                // isEdit True every 2 second
                if(i % 2 === 0) isEditRaceTest = true

                let textRaceTestIn = `*[TEST] Drag Race*`
                for(let j = 0; j < listCarRaceTest.length; j++) {
                    const splitCarRaceTest1 = listCarRaceTest[j].split(',')
                    const nameRaceTest = splitCarRaceTest1[0]
                    const maxRaceTest = Number(splitCarRaceTest1[1])
                    const accRaceTest = Number(splitCarRaceTest1[2])
                    const gearRaceTest = Number(splitCarRaceTest1[3])

                    const accCarRaceTest = calculateAccRaceStartTest(accRaceTest, carProgressRaceTest[nameRaceTest].speed, maxRaceTest, carProgressRaceTest[nameRaceTest].gear, gearRaceTest)
                    carProgressRaceTest[nameRaceTest].speed += (accCarRaceTest.acceleration / speedPerbandingan)
                    if(carProgressRaceTest[nameRaceTest].speed < 0) carProgressRaceTest[nameRaceTest].speed = 0
                    if(carProgressRaceTest[nameRaceTest].speed > maxRaceTest) carProgressRaceTest[nameRaceTest].speed = maxRaceTest
                    carProgressRaceTest[nameRaceTest].distance += kmHrMSec(carProgressRaceTest[nameRaceTest].speed) / speedPerbandingan

                    carProgressRaceTest[nameRaceTest].gear = accCarRaceTest.currentGear
                    
                    // - ${userCarSpecsRaceStart.name}
                    // > Progress : 0m / ${longDistanceDragRaceStart}m
                    // > Speed : 0 km/h
                    // > Gear : N
                    textRaceTestIn += `\n\n- ${nameRaceTest}
> Progress : ${(carProgressRaceTest[nameRaceTest].distance).toFixed(0)}m / ${longDistanceRaceTest}m
> Speed : ${carProgressRaceTest[nameRaceTest].speed.toFixed(0)} km/h
> Gear : ${carProgressRaceTest[nameRaceTest].gear != 0 ? carProgressRaceTest[nameRaceTest].gear : 'N'}`
                }

                try {
                    if(isEditRaceTest) rem.sendEditMessage(from, editMessageRaceTest.key, textRaceTestIn)
                } catch (err) {
                    console.error('racetest limit', err)
                }
                // get longest distance carProgressRaceTest
                const longestDistanceRaceTest = Object.keys(carProgressRaceTest).reduce((a, b) => carProgressRaceTest[a].distance > carProgressRaceTest[b].distance ? a : b)
                if(carProgressRaceTest[longestDistanceRaceTest].distance >= longDistanceRaceTest) {
                    rem.sendText(from, `Balapan selesai!\n\nPemenang: ${longestDistanceRaceTest}`)
                    break
                }

                loopRaceTest += 1
            }

            function calculateAccRaceStartTest(acclRate, speed, maxSpeed, currentGear, maxGear) {
                if(currentGear === 0) currentGear = 1
                let acceleration  = 0
                let carSpeed      = speed
                let accelRate     = acclRate
                let currentShift  = currentGear
                // let maxShiftSpeed = accelRate * currentShift
                // make max current shift speed balance with max speed, so if maxgear is 6, max speed is 200, max shift speed is 200
                let maxShiftSpeed = maxSpeed / maxGear * currentShift
                
            
                if (currentShift > 0 && carSpeed <= maxShiftSpeed) {
                    acceleration = accelRate * currentShift
                }

                if(carSpeed >= maxShiftSpeed && currentGear < maxGear) {
                    acceleration = 0
                    currentGear++
                }
                // console.log(acceleration, isChangeGear, carSpeed, maxShiftSpeed, currentShift, maxGear)
                if(carSpeed >= maxSpeed) {
                    acceleration = 0
                }

                if(carSpeed >= maxSpeed) carSpeed = maxSpeed

                return¬†{ currentGear, acceleration }
            }
            break
        case prefix+'rumah':
            //if(!isOwner) return rem.sendText(from, 'Invalid!')
            // if(getMoney(_userDb) == undefined) await setMoney(sender)
            const getUserRumah = getUserRoleplay_rumah(_userDb)
            if(getUserRumah == undefined) {
                const isSpyRumah = getUserItemIdSpy(_userDb)
                rem.sendText(from, `Rumah : Gemvbel
Money : Rp. ${isSpyRumah ? '#####' : numberWithCommas(fixNumberE(getMoney(_userDb)))}

*List Lahan*
 1. Distrik 1
 2. Distrik 2
 3. Distrik 3
 4. Distrik 4

Setiap distrik ada kelebihan/kekurangan, silahkan cek _${prefix}lhw_

*List Rumah*
 1. Type 16 | Rp. ${numberWithCommas(fixNumberE(_rumahHarga["16"]))}
 2. Type 28 | Rp. ${numberWithCommas(fixNumberE(_rumahHarga["28"]))}
 3. Type 36 | Rp. ${numberWithCommas(fixNumberE(_rumahHarga["36"]))}
 4. Type 49 | Rp. ${numberWithCommas(fixNumberE(_rumahHarga["49"]))}
 5. Type 52 | Rp. ${numberWithCommas(fixNumberE(_rumahHarga["52"]))}
 6. Type 63 | Rp. ${numberWithCommas(fixNumberE(_rumahHarga["63"]))}
 7. Type 75 | Rp. ${numberWithCommas(fixNumberE(_rumahHarga["75"]))}
 8. Type 86 | Rp. ${numberWithCommas(fixNumberE(_rumahHarga["86"]))}
 9. Type 99 | Rp. ${numberWithCommas(fixNumberE(_rumahHarga["99"]))}
 10. Type 01 |Rp. ${numberWithCommas(fixNumberE(_rumahHarga["01"]))}
 11. Type 69 | Rp. ${numberWithCommas(fixNumberE(_rumahHarga["69"]))}
 12. Type 77 | Rp. ${numberWithCommas(fixNumberE(_rumahHarga["77"]))}
 13. Type 757 | Rp. ${numberWithCommas(fixNumberE(_rumahHarga["757"]))}
 14. Type 879 | Rp. ${numberWithCommas(fixNumberE(_rumahHarga["879"]))}

Untuk melihat detail rumah, silahkan cek _${prefix}rh <rumah type>_

Untuk *membeli* rumah, ketik _${prefix}rbuy <nomor lahan> <rumah type>_
Contoh : *_${prefix}rbuy 1 12_*
                `)
            } else {
                let namaMilikRumah = pushname
                let userViewRumah = _userDb
                if (mentionedJidList[0]) {
                    userViewRumah = _mentionUserDb
                    var contactDb = await _mongo_ContactSchema.findOne({ iId: mentionedJidList[0] })
                    const namaMilikRumah0 = await rem.contacts(mentionedJidList[0], contactDb)
                    namaMilikRumah = namaMilikRumah0
                }

                let _rumahUser = getUserRoleplay_rumah(userViewRumah)
                //let _mobilUser =  JSON.parse(fs.readFileSync('./lib/database/user/rl/mobil.json'))[getUserRoleplay_listMobil(userViewRumah)]

                /*var hitungkayaMobil = 0
                for(let i = 0; i < hitungKayaMobil0.length; i++) {
                    hitungkayaMobil += Math.floor() //Ntar ;v
                }*/

                if(_rumahUser.lahan == 'd1') {
                    var lahanDisplayText = 'Distrik 1'
                } else if(_rumahUser.lahan == 'd2') {
                    var lahanDisplayText = 'Distrik 2'
                } else if(_rumahUser.lahan == 'd3') {
                    var lahanDisplayText = 'Distrik 3'
                } else if(_rumahUser.lahan == 'd4') {
                    var lahanDisplayText = 'Distrik 4'
                } else {
                    var lahanDisplayText = 'Distrik ?'
                }

                reply(from, `Milik ${namaMilikRumah}
Rumah : Type ${_rumahUser.crid} | Rp. ${numberWithCommas(fixNumberE(_rumahHarga[_rumahUser.crid]))}

Alamat Rumah : _Distrik ${lahanDisplayText} Nomor ${_rumahUser.rid}_
Max Muatan Garasi : _${_rumahGarasi[_rumahUser.crid]} Mobil_
Harga Listrik/Hari : _Rp. ${numberWithCommas(fixNumberE(_rumahListrikHarga[_rumahUser.crid]))}_

*_Untuk Melihat Harga Rumah : ${prefix}shop rumah_*
`)
            }
            break
        case prefix+'lhw':
            //if(!isOwner) return rem.sendText(from, 'Invalid!')
            reply(from, `
*List Lahan*

 1. Distrik 1
*Kelebihan :* Mengurangi biaya taxi untuk Pekerjaan Kantoran, Polisi, Tukang Sampah, Open BO, Pajak invest berkurang 3%. Dekat dengan pusat kota
*Kekurangan :* Rawan pecat untuk pekerjaan Open BO, Pendapatan pekerjaan Open BO tergolong rendah, Tarif Taxi untuk pekerjaan Miner dan Lumberjack tergolong Tinggi!

 2. Distrik 2
*Kelebihan :* Mengurangi biaya taxi untuk Pekerjaan Polisi, Tukang Sampah, Open BO
*Kekurangan :* Rawan pecat untuk pekerjaan Open BO, Pendapatan pekerjaan Open BO tergolong rendah, Tarif Taxi untuk pekerjaan Miner dan Lumberjack tergolong Tinggi!

 3. Distrik 3
*Kelebihan :* Mengurangi biaya taxi untuk Pekerjaan Polisi, Tukang Sampah, Open BO. Tidak rawan pecat untuk pekerjaan Open BO
*Kekurangan :* Tarif Taxi untuk pekerjaan Miner dan Lumberjack tergolong Menengah!

 4. Distrik 4
*Kelebihan :* Mengurangi biaya taxi untuk Pekerjaan Polisi, Tukang Sampah, Open BO, Miner, Lumberjack. Tidak rawan pecat untuk pekerjaan Open BO. Pendapatan pekerjaan Open BO tergolong Tinggi!
*Kekurangan :* Tarif Taxi untuk pekerjaan Kantoran tergolong Tinggi!`)
            break
        case prefix+'rh':
            //if(!isOwner) return rem.sendText(from, 'Invalid!')
            if(allArgs[1] == '16' || allArgs[1] == '1') {
                const typeRumahNumber = '16'
                reply(from, `*Rumah Type ${typeRumahNumber}*\n\nHarga: Rp. ${numberWithCommas(fixNumberE(_rumahHarga[typeRumahNumber]))}\nMax Muatan Garasi : ${_rumahGarasi[typeRumahNumber]}\nHarga Listrik/Hari: Rp. ${numberWithCommas(fixNumberE(_rumahListrikHarga[typeRumahNumber]))}\nMemulihkan Energi: ${numberWithCommas(fixNumberE(_rumahRegenEnergy[typeRumahNumber]))}/Menit`, id)
            } else if(allArgs[1] == '28' || allArgs[1] == '2') {
                const typeRumahNumber = '28'
                reply(from, `*Rumah Type ${typeRumahNumber}*\n\nHarga: Rp. ${numberWithCommas(fixNumberE(_rumahHarga[typeRumahNumber]))}\nMax Muatan Garasi : ${_rumahGarasi[typeRumahNumber]}\nHarga Listrik/Hari: Rp. ${numberWithCommas(fixNumberE(_rumahListrikHarga[typeRumahNumber]))}\nMemulihkan Energi: ${numberWithCommas(fixNumberE(_rumahRegenEnergy[typeRumahNumber]))}/Menit`, id)
            } else if(allArgs[1] == '36' || allArgs[1] == '3') {
                const typeRumahNumber = '36'
                reply(from, `*Rumah Type ${typeRumahNumber}*\n\nHarga: Rp. ${numberWithCommas(fixNumberE(_rumahHarga[typeRumahNumber]))}\nMax Muatan Garasi : ${_rumahGarasi[typeRumahNumber]}\nHarga Listrik/Hari: Rp. ${numberWithCommas(fixNumberE(_rumahListrikHarga[typeRumahNumber]))}\nMemulihkan Energi: ${numberWithCommas(fixNumberE(_rumahRegenEnergy[typeRumahNumber]))}/Menit`, id)
            } else if(allArgs[1] == '49' || allArgs[1] == '4') {
                const typeRumahNumber = '49'
                reply(from, `*Rumah Type ${typeRumahNumber}*\n\nHarga: Rp. ${numberWithCommas(fixNumberE(_rumahHarga[typeRumahNumber]))}\nMax Muatan Garasi : ${_rumahGarasi[typeRumahNumber]}\nHarga Listrik/Hari: Rp. ${numberWithCommas(fixNumberE(_rumahListrikHarga[typeRumahNumber]))}\nMemulihkan Energi: ${numberWithCommas(fixNumberE(_rumahRegenEnergy[typeRumahNumber]))}/Menit`, id)
            } else if(allArgs[1] == '52' || allArgs[1] == '5') {
                const typeRumahNumber = '52'
                reply(from, `*Rumah Type ${typeRumahNumber}*\n\nHarga: Rp. ${numberWithCommas(fixNumberE(_rumahHarga[typeRumahNumber]))}\nMax Muatan Garasi : ${_rumahGarasi[typeRumahNumber]}\nHarga Listrik/Hari: Rp. ${numberWithCommas(fixNumberE(_rumahListrikHarga[typeRumahNumber]))}\nMemulihkan Energi: ${numberWithCommas(fixNumberE(_rumahRegenEnergy[typeRumahNumber]))}/Menit`, id)
            } else if(allArgs[1] == '63' || allArgs[1] == '6') {
                const typeRumahNumber = '63'
                reply(from, `*Rumah Type ${typeRumahNumber}*\n\nHarga: Rp. ${numberWithCommas(fixNumberE(_rumahHarga[typeRumahNumber]))}\nMax Muatan Garasi : ${_rumahGarasi[typeRumahNumber]}\nHarga Listrik/Hari: Rp. ${numberWithCommas(fixNumberE(_rumahListrikHarga[typeRumahNumber]))}\nMemulihkan Energi: ${numberWithCommas(fixNumberE(_rumahRegenEnergy[typeRumahNumber]))}/Menit`, id)
            } else if(allArgs[1] == '75' || allArgs[1] == '7') {
                const typeRumahNumber = '75'
                reply(from, `*Rumah Type ${typeRumahNumber}*\n\nHarga: Rp. ${numberWithCommas(fixNumberE(_rumahHarga[typeRumahNumber]))}\nMax Muatan Garasi : ${_rumahGarasi[typeRumahNumber]}\nHarga Listrik/Hari: Rp. ${numberWithCommas(fixNumberE(_rumahListrikHarga[typeRumahNumber]))}\nMemulihkan Energi: ${numberWithCommas(fixNumberE(_rumahRegenEnergy[typeRumahNumber]))}/Menit`, id)
            } else if(allArgs[1] == '86' || allArgs[1] == '8') {
                const typeRumahNumber = '86'
                reply(from, `*Rumah Type ${typeRumahNumber}*\n\nHarga: Rp. ${numberWithCommas(fixNumberE(_rumahHarga[typeRumahNumber]))}\nMax Muatan Garasi : ${_rumahGarasi[typeRumahNumber]}\nHarga Listrik/Hari: Rp. ${numberWithCommas(fixNumberE(_rumahListrikHarga[typeRumahNumber]))}\nMemulihkan Energi: ${numberWithCommas(fixNumberE(_rumahRegenEnergy[typeRumahNumber]))}/Menit`, id)
            } else if(allArgs[1] == '99' || allArgs[1] == '9') {
                const typeRumahNumber = '99'
                reply(from, `*Rumah Type ${typeRumahNumber}*\n\nHarga: Rp. ${numberWithCommas(fixNumberE(_rumahHarga[typeRumahNumber]))}\nMax Muatan Garasi : ${_rumahGarasi[typeRumahNumber]}\nHarga Listrik/Hari: Rp. ${numberWithCommas(fixNumberE(_rumahListrikHarga[typeRumahNumber]))}\nMemulihkan Energi: ${numberWithCommas(fixNumberE(_rumahRegenEnergy[typeRumahNumber]))}/Menit`, id)
            } else if(allArgs[1] == '01' || allArgs[1] == '10') {
                const typeRumahNumber = '01'
                reply(from, `*Rumah Type ${typeRumahNumber}*\n\nHarga: Rp. ${numberWithCommas(fixNumberE(_rumahHarga[typeRumahNumber]))}\nMax Muatan Garasi : ${_rumahGarasi[typeRumahNumber]}\nHarga Listrik/Hari: Rp. ${numberWithCommas(fixNumberE(_rumahListrikHarga[typeRumahNumber]))}\nMemulihkan Energi: ${numberWithCommas(fixNumberE(_rumahRegenEnergy[typeRumahNumber]))}/Menit`, id)
            } else if(allArgs[1] == '69' || allArgs[1] == '11') {
                const typeRumahNumber = '69'
                reply(from, `*Rumah Type ${typeRumahNumber}*\n\nHarga: Rp. ${numberWithCommas(fixNumberE(_rumahHarga[typeRumahNumber]))}\nMax Muatan Garasi : ${_rumahGarasi[typeRumahNumber]}\nHarga Listrik/Hari: Rp. ${numberWithCommas(fixNumberE(_rumahListrikHarga[typeRumahNumber]))}\nMemulihkan Energi: ${numberWithCommas(fixNumberE(_rumahRegenEnergy[typeRumahNumber]))}/Menit`, id)
            } else if(allArgs[1] == '77' || allArgs[1] == '12') {
                const typeRumahNumber = '77'
                reply(from, `*Rumah Type ${typeRumahNumber}*\n\nHarga: Rp. ${numberWithCommas(fixNumberE(_rumahHarga[typeRumahNumber]))}\nMax Muatan Garasi : ${_rumahGarasi[typeRumahNumber]}\nHarga Listrik/Hari: Rp. ${numberWithCommas(fixNumberE(_rumahListrikHarga[typeRumahNumber]))}\nMemulihkan Energi: ${numberWithCommas(fixNumberE(_rumahRegenEnergy[typeRumahNumber]))}/Menit`, id)
            } else if(allArgs[1] == '757' || allArgs[1] == '13') {
                const typeRumahNumber = '757'
                reply(from, `*Rumah Type ${typeRumahNumber}*\n\nHarga: Rp. ${numberWithCommas(fixNumberE(_rumahHarga[typeRumahNumber]))}\nMax Muatan Garasi : ${_rumahGarasi[typeRumahNumber]}\nHarga Listrik/Hari: Rp. ${numberWithCommas(fixNumberE(_rumahListrikHarga[typeRumahNumber]))}\nMemulihkan Energi: ${numberWithCommas(fixNumberE(_rumahRegenEnergy[typeRumahNumber]))}/Menit`, id)
            } else if(allArgs[1] == '879' || allArgs[1] == '14') {
                const typeRumahNumber = '879'
                reply(from, `*Rumah Type ${typeRumahNumber}*\n\nHarga: Rp. ${numberWithCommas(fixNumberE(_rumahHarga[typeRumahNumber]))}\nMax Muatan Garasi : ${_rumahGarasi[typeRumahNumber]}\nHarga Listrik/Hari: Rp. ${numberWithCommas(fixNumberE(_rumahListrikHarga[typeRumahNumber]))}\nMemulihkan Energi: ${numberWithCommas(fixNumberE(_rumahRegenEnergy[typeRumahNumber]))}/Menit`, id)
            } else {
                const listRumah = Object.keys(_rumahHarga)
                const sendButtonsRh = []
                for(let i = 0; i < listRumah.length; i++) {
                    sendButtonsRh.push({ id: `${prefix}rh ${listRumah[i]}`, text: `Type ${listRumah[i]}` })
                }
                rem.sendButtons(from, `*List Rumah*\n\nUntuk melihat detail rumah, silahkan pilih dibawah ini!`, sendButtonsRh, '', '')
            }
            break
        case prefix+'rbuy':
            //if(!isOwner) return reply(from, 'Invalid!', id)
            if (message.selectedButtonId == undefined && args.length <= 2) return reply(from, `Untuk membeli rumah\nKetik : _${prefix}rbuy <nomor lahan> <rumah type>_\nNote : *ABAIKAN TANDA < DAN >*`, id)
            
            if(message.selectedButtonId != undefined) args = message.selectedButtonId.split(' ')
            const buyNomorLahan = args[1].replace(/[<>]/gi, '')
            const buyTypeRumah = args[2].replace(/[<>]/gi, '')
            const getUserRumahBuy = getUserRoleplay_rumah(_userDb)

            if(buyTypeRumah == '16' || buyTypeRumah == '1') {
                var typeRumahNumberBuy = '16'
            } else if(buyTypeRumah == '28' || buyTypeRumah == '2') {
                var typeRumahNumberBuy = '28'
            } else if(buyTypeRumah == '36' || buyTypeRumah == '3') {
                var typeRumahNumberBuy = '36'
            } else if(buyTypeRumah == '49' || buyTypeRumah == '4') {
                var typeRumahNumberBuy = '49'
            } else if(buyTypeRumah == '52' || buyTypeRumah == '5') {
                var typeRumahNumberBuy = '52'
            } else if(buyTypeRumah == '63' || buyTypeRumah == '6') {
                var typeRumahNumberBuy = '63'
            } else if(buyTypeRumah == '75' || buyTypeRumah == '7') {
                var typeRumahNumberBuy = '75'
            } else if(buyTypeRumah == '86' || buyTypeRumah == '8') {
                var typeRumahNumberBuy = '86'
            } else if(buyTypeRumah == '99' || buyTypeRumah == '9') {
                var typeRumahNumberBuy = '99'
            } else if(buyTypeRumah == '01' || buyTypeRumah == '10') {
                var typeRumahNumberBuy = '01'
            } else if(buyTypeRumah == '69' || buyTypeRumah == '11') {
                var typeRumahNumberBuy = '69'
            } else if(buyTypeRumah == '77' || buyTypeRumah == '12') {
                var typeRumahNumberBuy = '77'
            } else if(buyTypeRumah == '757' || buyTypeRumah == '13') {
                var typeRumahNumberBuy = '757'
            } else if(buyTypeRumah == '879' || buyTypeRumah == '14') {
                var typeRumahNumberBuy = '879'
            } else {
                return rem.sendText(from, 'Type Rumah tidak ditemukan!')
            }

            if(buyNomorLahan.toLowerCase() == 'd1' || buyNomorLahan == '1') {
                var typeLahanNumber = 'd1'
                var lahanBuyDisplayText = 'Distrik 1'
            } else if(buyNomorLahan.toLowerCase() == 'd2' || buyNomorLahan == '2') {
                var typeLahanNumber = 'd2'
                var lahanBuyDisplayText = 'Distrik 2'
            } else if(buyNomorLahan.toLowerCase() == 'd3' || buyNomorLahan == '3') {
                var typeLahanNumber = 'd3'
                var lahanBuyDisplayText = 'Distrik 3'
            } else if(buyNomorLahan.toLowerCase() == 'd4' || buyNomorLahan == '4') {
                var typeLahanNumber = 'd4'
                var lahanBuyDisplayText = 'Distrik 4'
            } else {
                return rem.sendText(from, 'Type Lahan tidak ditemukan!')
            }

            if(isNaN(buyNomorLahan) || isNaN(buyTypeRumah)) return reply(from, 'Rumah/Lahan Harus Nomer!', id)
            if(_rumahHarga[typeRumahNumberBuy] == undefined) return reply(from, 'Type Rumah tidak ditemukan!', id)
            
            // if(getMoney(_userDb) == undefined) await setMoney(sender)
            const duidUser = getMoney(_userDb)
            let calculateHargaTotalBuyRumah = Math.floor(_rumahHarga[typeRumahNumberBuy])

            if(getUserRumahBuy != undefined) {
                if(message.selectedButtonId == undefined) {
                    rem.sendButtons(from, 'Apakah kamu mau membeli rumah ini, dengan menjual rumah lama?\nNote: *_Harga jual rumah lama adalah 34% dari harga beli_*\n\nJika *iya* pencet tombol dibawah ini\nJika *tidak* abaikan pesan ini!', [{id: `${prefix}rbuy ${buyNomorLahan} ${buyTypeRumah} yesBuy`, text: `Beli`}], '', '')
                } else if(message.selectedButtonId.includes('yesBuy')) {
                    const hargaJualRumahLama = 34 / 100 * _rumahHarga[getUserRumahBuy.crid]
                    calculateHargaTotalBuyRumah = _rumahHarga[typeRumahNumberBuy] - hargaJualRumahLama
                    if(duidUser < calculateHargaTotalBuyRumah) return rem.sendText(from, `Maaf, Duid kamu tidak cukup!\n\nRumah Type : ${typeRumahNumberBuy}\nLahan Number : ${lahanBuyDisplayText}\nHarga Total : *Rp. ${numberWithCommas(fixNumberE(calculateHargaTotalBuyRumah))}*`)

                    const _rumahGet = await _mongo_UserSchema.find({ "rl.rumah": { $exists: true } })
                    let NumberRumahAlamat0 = _rumahGet.filter(all => all?.rl?.rumah?.lahan == typeLahanNumber).map(num => num?.rl?.rumah?.rid)
                    let NumberRumahAlamat = 1
                    if(NumberRumahAlamat0 == '') NumberRumahAlamat = 1
                    if(NumberRumahAlamat0 != '') NumberRumahAlamat = Math.floor(Math.max(...NumberRumahAlamat0) + 1)

                    if(calculateHargaTotalBuyRumah <= 0) calculateHargaTotalBuyRumah = 0
                    await replaceUserRoleplay_rumah(sender, typeLahanNumber, typeRumahNumberBuy, NumberRumahAlamat)
                    await MinMoney(sender, calculateHargaTotalBuyRumah)

                    await rem.sendText(from, `Success, Membeli Rumah Type *${typeRumahNumberBuy}*\n\n*_Detail:_*\nType : *${typeRumahNumberBuy}*\nLahan : *${lahanBuyDisplayText}*\nHarga Listrik/Hari : *Rp. ${numberWithCommas(fixNumberE(_rumahListrikHarga[typeRumahNumberBuy]))}*\nHargaJual RumahLama : *Rp. ${numberWithCommas(fixNumberE(hargaJualRumahLama))}*\nRumahBaru Harga : *Rp. ${numberWithCommas(fixNumberE(_rumahHarga[typeRumahNumberBuy]))}*\nTotal Harga : *Rp. ${numberWithCommas(fixNumberE(calculateHargaTotalBuyRumah))}*`)
                    await rem.sendText(from, `*![ Warning ]!*\n\n*Akan dikenakan Harga Biaya Listrik per Tengah Malam, silahkan cek ${prefix}rh <rumah type>* untuk Detail nya\n\n*Tidak menerima keluhan _"Bang bang duitku ilang, bang bang duitku kok ilang sendiri"_\nDIMOHON DIBACA TERLEBIH DAHULU*`)
                }
            } else {
                if(message?.selectedButtonId?.includes('yesBuy')) {
                    await reply(from, 'Invalid!', id)
                    rem.sendText(from, `Maaf, Mohon coba lagi!\n ${prefix}rbuy`)
                }
                if(duidUser < calculateHargaTotalBuyRumah) return reply(from, `Maaf, Duid kamu tidak cukup!\n\nRumah Type : ${typeRumahNumberBuy}\nLahan Number : ${lahanBuyDisplayText}\nHarga Total : *${calculateHargaTotalBuyRumah}*`, id)
                
                const _rumahGet = await _mongo_UserSchema.find({ "rl.rumah": { $exists: true } })
                let NumberRumahAlamat0 = _rumahGet.filter(all => all?.rl?.rumah?.lahan == typeLahanNumber).map(num => num?.rl?.rumah?.rid)
                let NumberRumahAlamat = 1
                if(NumberRumahAlamat0 == '') NumberRumahAlamat = 1
                if(NumberRumahAlamat0 != '') NumberRumahAlamat = Math.floor(Math.max(...NumberRumahAlamat0) + 1)

                await setUserRoleplay_rumah(sender, typeLahanNumber, typeRumahNumberBuy, NumberRumahAlamat)
                await MinMoney(sender, calculateHargaTotalBuyRumah)

                await reply(from, `Success, Membeli Rumah Type *${typeRumahNumberBuy}*\n\n*_Detail:_*\nType : *${typeRumahNumberBuy}*\nLahan : *${lahanBuyDisplayText}*\nHarga Listrik/Hari : *Rp. ${numberWithCommas(fixNumberE(_rumahListrikHarga[typeRumahNumberBuy]))}*\nRumah Harga : *Rp. ${numberWithCommas(fixNumberE(_rumahHarga[typeRumahNumberBuy]))}*\nTotal Harga : *Rp. ${numberWithCommas(fixNumberE(calculateHargaTotalBuyRumah))}*`, id)
                await rem.sendText(from, `*![ Warning ]!*\n\n*Akan dikenakan Harga Biaya Listrik per Tengah Malam, silahkan cek ${prefix}rh <rumah type>* untuk Detail nya\n\n*Tidak menerima keluhan _"Bang bang duitku ilang, bang bang duitku kok ilang sendiri"_\nDIMOHON DIBACA TERLEBIH DAHULU*`)
            }
            break
        case prefix+'nkkand':
            // if(!isOwner) return rem.sendText(from, 'Command ini sedang dalam perbaikan!')
            
            const getUserPasanganNkkand = getUserRoleplay_pasangan(_userDb)
            if(getUserRoleplay_pasangan(_userDb) == undefined) return rem.sendText(from, `Untuk mendapatkan pasangan, _${prefix}character <nama>_\nNote : *Abaikan tanda < dan>*`)
            if(getUserPasanganNkkand.status2.split('.')[1] < 9) return rem.sendText(from, `Status2 : Hamil ${getUserPasanganNkkand.status2.split('.')[1]} Bulan`)
            if(!getUserPasanganNkkand.status2.startsWith('ConfirmHamil')) return rem.sendText(from, `${getUserPasanganNkkand.nama} Tidak hamil!`)

            if(args.length == 1) return rem.sendText(from, `Anak Detail :\nGender: *${getUserPasanganNkkand.nkkand[0].gender}*\n\nPenggunaan : *_${prefix}nkkand <nama anak>_*\nContoh : *_${prefix}nkkand Drew Tyz_*\n\nNote : *Abaikan tanda < dan >*`)

            const namaAnakStoreInput = body.slice(8)
            if(namaAnakStoreInput > 50) return reply(from, 'Nama tidak boleh melebihi 50 karakter', id)
            const tanggalLahirAnak = moment(getUserPasanganNkkand.nkkand[0].lahir).format('LL')
            await addUserRoleplayAnak_pasangan(sender, getUserPasanganNkkand.nkkand[0].id, namaAnakStoreInput, getUserPasanganNkkand.nkkand[0].lahir, getUserPasanganNkkand.nkkand[0].gender)
            
            _userDb = await _mongo_UserSchema.findOne({ iId: sender })
            const _pasangan2_n = getUserRoleplay_pasangan(_userDb)
            const _pasangan2_split = _pasangan2_n.status.split('.')
            if(_pasangan2_n.status.startsWith('Berkeluarga')) {
                var _pasangan2_split_plusNumber = Number(_pasangan2_split[1]) + 1
                var _pasangan2_split_plusGender = _pasangan2_n.status.replace(`Berkeluarga.${_pasangan2_split[1]}.`, '') + `.${_pasangan2_n.nkkand[0].gender}`
            } else {
                var _pasangan2_split_plusNumber = 1
                var _pasangan2_split_plusGender = getUserPasanganNkkand.nkkand[0].gender
            }

            reply(from, `Success!\n\nNama : *${namaAnakStoreInput}*\nTanggal Lahir : *${tanggalLahirAnak}*\nGender : *${getUserPasanganNkkand.nkkand[0].gender}*`, id)
            await _mongo_UserSchema.updateOne({ iId: sender }, { $set: { "rl.pd.nkkand": {}, "rl.pd.status": `Berkeluarga.${_pasangan2_split_plusNumber}.${_pasangan2_split_plusGender}`, "rl.pd.status2": 'none' } })
            break
        case prefix+'anak':
            //if(!isOwner) return rem.sendText(from, 'Invalid!')
            if(mentionedJidList.length >= 1) {
                const getUserPasanganAnak = getUserRoleplay_pasangan(_mentionUserDb)
                if(getUserRoleplay_pasangan(_mentionUserDb) == undefined) return reply(from, `Belum mempunyai pasangan!`)
                if(getUserPasanganAnak.anak == []) return reply(from, 'Belum mempunyai anak!', id)

                var contactDb = await _mongo_ContactSchema.findOne({ iId: mentionedJidList[0] })
                var namaMention0 = await rem.contacts(mentionedJidList[0], contactDb)
                var namaMention01 = getNama(_mentionUserDb)
                if(namaMention01 == undefined) {
                    var namaMention = namaMention0
                } else {
                    var namaMention = namaMention01
                }
    
                let anakList = `‚ü®   *${namaMention}* ü©∑ *${getUserPasanganAnak.nama}*   ‚ü©
‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
    
Anak :             `
    
                for (let i = 0; i < getUserPasanganAnak.anak.length; i++) {
                    const tanggalLahirAnak1 = moment(getUserPasanganAnak.anak[i].lahir).format('LL')
                    const elapsedTimeAnakLahir = showElapsedTime(getUserPasanganAnak.anak[i].lahir)
                    anakList += `\n${i + 1}. *_${getUserPasanganAnak.anak[i].nama}_*\nLahir : _${tanggalLahirAnak1}_\nUmur : _${elapsedTimeAnakLahir}_\nGender : *_${getUserPasanganAnak.anak[i].gender}_*\n`
                }
    
                reply(from, anakList, id)
            } else {
                const getUserPasanganAnak = getUserRoleplay_pasangan(_userDb)
                if(getUserRoleplay_pasangan(_userDb) == undefined) return reply(from, `Untuk mendapatkan pasangan, _${prefix}character <nama>_\nNote : *Abaikan tanda < dan>*`)
                if(getUserPasanganAnak.anak == []) return reply(from, 'Kamu belum memiliki anak!', id)
    
                let anakList = `‚ü®   *${pushname}* ü©∑ *${getUserPasanganAnak.nama}*   ‚ü©
    
Anak :             `
    
                for (let i = 0; i < getUserPasanganAnak.anak.length; i++) {
                    const tanggalLahirAnak1 = moment(getUserPasanganAnak.anak[i].lahir).format('LL')
                    const elapsedTimeAnakLahir = showElapsedTime(getUserPasanganAnak.anak[i].lahir)
                    anakList += `\n${i + 1}. *_${getUserPasanganAnak.anak[i].nama}_*\nLahir : _${tanggalLahirAnak1}_\nUmur : _${elapsedTimeAnakLahir}_\nGender : *_${getUserPasanganAnak.anak[i].gender}_*\n`
                }
    
                reply(from, anakList, id)
            }
            break
        case prefix+'checkpd':
        case prefix+'cekpd':
            //if (!isGroupMsg) return reply(from, 'Perintah ini hanya bisa di gunakan dalam group!', id)
            if (args.length == 1) return reply(from, `Format Salah!, Cari character dengan _${prefix}character_ dan tulis IdCharacter di _${prefix}cekpd_\nContoh : _${prefix}cekpd 188267_`)
            if(isNaN(args[1])) return reply(from, `Format Salah!, Cari character dengan _${prefix}character dan tulis IdCharacter di _${prefix}cekpd_\nContoh : _${prefix}cekpd 188267_`)
            
            let isCharaFound = false

            const idCharacter = args[1]
            const pdSearchMalId = await _mongo_UserSchema.findOne({ "rl.pd.mal_id": idCharacter })
            if(pdSearchMalId != null) isCharaFound = true

            const userAllPdOldDb = JSON.parse(fs.readFileSync('./lib/database/pasangan.json', 'utf-8'))
            const getIdOfMalOldDb = userAllPdOldDb.map(all => all.mal_id)
            if(!isCharaFound) isCharaFound = getIdOfMalOldDb.includes(idCharacter)

            reply(from, `Orang ini *${isCharaFound ? 'sudah' : 'tidak'}* berpacaran dengan yang lain`)
            break
        case prefix+'pdlmr':
            //if(!isOwner) return rem.sendText(from, 'Invalid!')
            // if(!message.selectedButtonId && body.include('bypassButtons')) message.selectedButtonId = body.replace('bypassButtons ', '')
            if(message.selectedButtonId == null) return rem.sendText(from, 'Wrong Format_1!')
            if(message.selectedButtonId.trim().split(' ')[2] != sender && message.selectedButtonId.trim().split(' ')[1] != 'pacar') return console.log(`not sender, ${message.selectedButtonId.trim().split(' ')[2]} ${sender}`)
            if(getUserRoleplay_rumah(_userDb) == undefined) return rem.sendText(from, `Kamu belum memiliki rumah!, Beli rumah terlebih dahulu. _${prefix}rumah_`)

            const getUserMantanLmr0 = _userDb.rl.mantan
            const getUserMantanLmr = getUserMantanLmr0
            const getUserPasanganLmr = getUserRoleplay_pasangan(_userDb)
            const argsPdLmr = message.selectedButtonId.trim().split(' ')

            if(argsPdLmr[1] == 'pacar' && argsPdLmr[3] != undefined) {
                const idCharacter0 = message.selectedButtonId.trim().split(`${prefix}pdlmr pacar ${sender}`)[1]
                if(idCharacter0 == undefined) return rem.sendText(from, 'Wrong Format_2!')
                const idCharacter = JSON.parse(idCharacter0)
                if(listCharaIdWhitelist.includes(Number(idCharacter.mal_id)) && !isOwner) return reply(from, 'Invalid!')

                if(getUserRoleplay_pasangan(_userDb) != undefined) return rem.sendText(from, `Kamu sudah memiliki pasangan`)

                const checkExistsPdlmr = await _mongo_UserSchema.findOne({ "rl.pd.mal_id": idCharacter.mal_id })

                if(listCharaIdWhitelist.includes(Number(idCharacter.mal_id)) && !isOwner) return rem.sendText(from,  'Invalid!')
                if(checkExistsPdlmr) return rem.sendText(from, 'Orang ini sudah berpacaran dengan yang lain')
                if(getUserMantanLmr.includes(idCharacter.mal_id)) return rem.sendText(from, '_Dia mengabaikan mu dan meninggalkan mu_')

                await setUserRoleplay_pasangan(sender, idCharacter.name, idCharacter.gender, idCharacter.image, idCharacter.mal_id, idCharacter.url)
                rem.sendText(from, `${idCharacter.name} Bersedia menjadi pacarmu`)
            } 
            
            /* Lamar Nikah */
            else if(getUserRoleplay_pasangan(_userDb) != undefined && getUserPasanganLmr.status == 'Pacaran' && argsPdLmr[1] == 'lamar') {
                if(getUserPasanganLmr.hubungan <= 99) return rem.sendText(from, 'Tingkat Hubungan kamu belum mencapai 100%')
                if(getUserPasanganLmr.level < 5) return rem.sendText(from, 'Level Pasangan kamu belum mencapai 5')

                const hargaCincin1 = 100000
                const hargaCincin2 = 1000000
                const hargaCincin3 = 200000000
                rem.sendButtons(from, `Pilih Cincin`, shuffleArray([{id: `${prefix}pdlmr nikah ${sender} answer=1`, text: `Cincin Rp. ${numberWithCommas(fixNumberE(hargaCincin1))}`}, {id: `${prefix}pdlmr nikah ${sender} answer=2`, text: `Cincin Rp. ${numberWithCommas(fixNumberE(hargaCincin2))}`}, {id: `${prefix}pdlmr nikah ${sender} answer=3`, text: `Cincin Rp. ${numberWithCommas(fixNumberE(hargaCincin3))}`}]), '', '')
            }

            /* Putus */
            else if(getUserRoleplay_pasangan(_userDb) != undefined && argsPdLmr[1] == 'putus') {
                if(argsPdLmr[3] == undefined) {
                    rem.sendButtons(from, 'Yakin?', shuffleArray([{id: `${prefix}pdlmr putus ${sender} answer=1`, text: 'Yakin'}, {id: `NoPutus`, text: 'Tidak'}]), '', '')
                } else if(parseFloat(argsPdLmr[3].split('answer=')[1]) == '1') {
                    if(getUserRoleplayMantan_pasangan(_userDb) == undefined) {
                        await setUserRoleplayMantan_pasangan(sender, getUserPasanganLmr.mal_id)
                    } else {
                        await addUserRoleplayMantan_pasangan(sender, getUserPasanganLmr.mal_id)
                    }
                    await _mongo_UserSchema.updateOne({ iId: sender }, { $set: { "rl.pd": {} } })

                    rem.sendText(from, `Kamu telah putus dengan ${getUserPasanganLmr.nama}`)
                }
            }

            /* Button Respon */
            else if(getUserRoleplay_pasangan(_userDb) != undefined && getUserPasanganLmr.status == 'Pacaran' && argsPdLmr[1] == 'nikah') {
                const getMoneyUserLmr = getMoney(_userDb)
                const choceAnswerPdLmr = parseFloat(argsPdLmr[3].split('answer=')[1])
                const hargaCincin1 = 100000
                const hargaCincin2 = 1000000
                const hargaCincin3 = 200000000

                if(choceAnswerPdLmr == '1') {
                    if(getMoneyUserLmr < hargaCincin1) return rem.sendText(from, 'Duid kamu tidak cukup!')
                    await MinMoney(sender, hargaCincin1)

                    await replaceUserRoleplayStatus_pasangan(sender, 'Menikah')
                    rem.sendText(from, `Kamu menikahi ${getUserPasanganLmr.nama}, dengan cincin Rp. ${numberWithCommas(fixNumberE(hargaCincin1))}\n\nOmedatou!! „Éæ(‚âß‚ñΩ‚â¶*)o`)
                } else if(choceAnswerPdLmr == '2') {
                    if(getMoneyUserLmr < hargaCincin2) return rem.sendText(from, 'Duid kamu tidak cukup!')
                    await MinMoney(sender, hargaCincin2)

                    await replaceUserRoleplayStatus_pasangan(sender, 'Menikah')
                    rem.sendText(from, `Kamu menikahi ${getUserPasanganLmr.nama}, dengan cincin Rp. ${numberWithCommas(fixNumberE(hargaCincin2))}\n\nOmedatou!! „Éæ(‚âß‚ñΩ‚â¶*)o`)
                } else if(choceAnswerPdLmr == '3') {
                    if(getMoneyUserLmr < hargaCincin3) return rem.sendText(from, 'Duid kamu tidak cukup!')
                    await MinMoney(sender, hargaCincin3)

                    await replaceUserRoleplayStatus_pasangan(sender, 'Menikah')
                    rem.sendText(from, `Kamu menikahi ${getUserPasanganLmr.nama}, dengan cincin Rp. ${numberWithCommas(fixNumberE(hargaCincin3))}\n\nOmedatou!! „Éæ(‚âß‚ñΩ‚â¶*)o`) ()
                } else {
                    return rem.sendText(from, 'Wrong Format!')
                }
            } else {
                reply(from, 'Invalid!', id)
            }
            break
        // case prefix+'mood':
        //     if (!isOwner) return rem.sendText(from, '')

        //     if (args.length === 0) {
        //         return rem.sendText(from, '')
        //     }
        //     const mood = getRandomMood()
        //     if (mood === 'Biasa üòê') {
        //         await _mongo_UserSchema.updateOne({ iId: sender }, { $set: { "rl.pd.mood": `${mood}` } })
        //     } else if (mood === 'Buruk üò°') {
        //         await _mongo_UserSchema.updateOne({ iId: sender }, { $set: { "rl.pd.mood": `${mood}` } })
        //     } else if (mood === 'Baik üòä') {
        //         await _mongo_UserSchema.updateOne({ iId: sender }, { $set: { "rl.pd.mood": `${mood}` } })
        //     } else {
         //         return rem.sendText(from, 'Terjadi Kesalahan!')
        //     }
        //     rem.sendText(from, `Mood hari ini: ${mood}`)
        //     break
        case prefix+'pasangan':
        case prefix+'pd':
            //if(!isOwner) return rem.sendText(from, 'Invalid!')
            // if (!isGroupMsg) return reply(from, 'Perintah ini hanya bisa di gunakan dalam group!', id)
            if(args[1] != undefined && args[1] == 'mal_id') {
                if(mentionedJidList.length == 0) return rem.sendText(from, 'mentionedJidList empty!')
                const getUserPasangan = getUserRoleplay_pasangan(_mentionUserDb)
                if(getUserPasangan == undefined) return rem.sendText(from, 'User tidak memiliki pasangan!')

                rem.sendText(from, `*${getUserPasangan.nama}*\n\n*Mal ID :* ${getUserPasangan.mal_id}\n*Status :* ${getUserPasangan.status}`)
            } else if(args[1] != undefined && args[1].toLowerCase() == 'putus' && getUserRoleplay_pasangan(_userDb) != undefined) {
                const getUserPasanganPdPutus = getUserRoleplay_pasangan(_userDb)
                let textSendPdPutus = `Yakin?`
                    if(getUserPasanganPdPutus.status == 'Menikah') {
                        const hartaHakPasangan = Math.floor(20 / 100 * getMoney(_userDb))
                        textSendPdPutus += `\n\n_Harta Hak Pasangan : 20%_ | *${numberWithCommas(fixNumberE(hartaHakPasangan))}*`
                    } else if(getUserPasanganPdPutus.status.startsWith('Berkeluarga')) {
                        const hartaHakPasangan = Math.floor(45 / 100 * getMoney(_userDb))
                        textSendPdPutus += `\n\n_Harta Hak Pasangan : 45%_ | *${numberWithCommas(fixNumberE(hartaHakPasangan))}*`
                    }

                rem.sendButtons(from, textSendPdPutus, shuffleArray([{id: `${prefix}pd putus ${sender} answer=1`, text: 'Yakin'}, {id: `NoPutus`, text: 'Tidak'}]), '', '')
            } else if(message.selectedButtonId != undefined && message.selectedButtonId.trim().split(' ')[1] == 'putus' && getUserRoleplay_pasangan(_userDb) != undefined) {
                const argsPdPutus = message.selectedButtonId.trim().split(' ')
                const getUserPasanganPdPutus = getUserRoleplay_pasangan(_userDb)

                if(argsPdPutus[2] == sender && parseFloat(argsPdPutus[3].split('answer=')[1]) == '1') {
                    await addUserRoleplayMantan_pasangan(sender, getUserPasanganPdPutus.mal_id)

                    let hartaHakPasangan_confirm = 0
                    if(getUserPasanganPdPutus.status == 'Menikah') {
                        hartaHakPasangan_confirm = Math.floor(20 / 100 * getMoney(_userDb))
                    } else if(getUserPasanganPdPutus.status.startsWith('Berkeluarga')) {
                        hartaHakPasangan_confirm = Math.floor(45 / 100 * getMoney(_userDb))
                    }

                    await _mongo_UserSchema.updateOne({ iId: sender }, { $set: { "rl.pd": {} } })
                    await MinMoney(sender, hartaHakPasangan_confirm)
                    console.log('success')

                    rem.sendText(from, `Kamu telah putus dengan ${getUserPasanganPdPutus.nama}`)
                } else {
                    reply(from, 'Invalid!')
                }

            } else if(args.length == 1) {
                //if(message.selectedButtonId != undefined && message.selectedButtonId.trim().split(' ')[1] != undefined) return
                const getUserRumahPd = getUserRoleplay_rumah(_userDb)
                let getUserPasanganPd = getUserRoleplay_pasangan(_userDb)
                if(getUserRoleplay_rumah(_userDb) == undefined) return reply(from, `Kamu belum memiliki rumah!, Beli rumah terlebih dahulu. _${prefix}rumah_`, id)
                if(getUserRoleplay_pasangan(_userDb) == undefined) return reply(from, `Untuk mendapatkan pasangan, _${prefix}character <nama>_\nNote : *Abaikan tanda < dan>*`, id)

                if(!getUserPasanganPd.img.startsWith('http') && !fs.existsSync(getUserPasanganPd.img)) {
                    const getImageDefault = await axios.get(`https://api.jikan.moe/v4/characters/${getUserPasanganPd.mal_id}`)
                    await _mongo_UserSchema.updateOne({ iId: sender }, { $set: { "rl.pd.img": getImageDefault.data.data.images?.jpg?.image_url } })
                    getUserPasanganPd.img = getImageDefault.data.data.images?.jpg?.image_url
                }

                // if(getUserMood.mood == 'Biasa üòê') {
                //     var LimitMoodPasangan = '50'
                // } else if(getUserMood.mood == 'Buruk üò°') {
                //     var LimitMoodPasangan = '1'
                // } else if(getUserMood.mood == 'Baik üòä') {
                //     var LimitMoodPasangan = '100'
                // } else {
                //     var LimitMoodPasangan = '50'
                // }

                // const timeSetShuffleMood = setInterval
                // setInterval = (getUserPasanganPd.mood, 43200000)
                // timeSetShuffleMood = (getUserPasanganPd.mood, 1000)

                const calculateUserNextXpPasangan = 2000 * (Math.pow(2, getUserPasanganPd.level) - 1)
                const calculateUmurPasangan = showElapsedTime(getUserPasanganPd.umurpd)
                const calculateSejakPasangan = moment(getUserPasanganPd.umurpd).format('LL')

                if(getUserRumahPd.lahan == 'd1') {
                    var lahanDisplayText = '1'
                } else if(getUserRumahPd.lahan == 'd2') {
                    var lahanDisplayText = '2'
                } else if(getUserRumahPd.lahan == 'd3') {
                    var lahanDisplayText = '3'
                } else if(getUserRumahPd.lahan == 'd4') {
                    var lahanDisplayText = '4'
                } else {
                    var lahanDisplayText = '?'
                }


                if(getUserPasanganPd.status == 'Pacaran') {
                    var emoteDisplayStatus = `‚ù§Ô∏è ${getUserPasanganPd.status} ‚ù§Ô∏è`
                } else if(getUserPasanganPd.status == 'Menikah') {
                    var emoteDisplayStatus = `üë©‚Äç‚ù§Ô∏è‚Äçüíã‚Äçüë® ${getUserPasanganPd.status} üë©‚Äç‚ù§Ô∏è‚Äçüíã‚Äçüë®`
                } else if(getUserPasanganPd.status == 'Berkeluarga.1.Cowo') {
                    var emoteDisplayStatus = `üë®‚Äçüë©‚Äçüë¶ ${getUserPasanganPd.status.replace('.1.Cowo', '')} üë®‚Äçüë©‚Äçüë¶`
                } else if(getUserPasanganPd.status == 'Berkeluarga.1.Cewe') {
                    var emoteDisplayStatus = `üë®‚Äçüë©‚Äçüëß ${getUserPasanganPd.status.replace('.1.Cewe', '')} üë®‚Äçüë©‚Äçüëß`
                } else if(getUserPasanganPd.status == 'Berkeluarga.2..Cowo.Cewe') {
                    var emoteDisplayStatus = `üë®‚Äçüë©‚Äçüëß‚Äçüë¶ ${getUserPasanganPd.status.replace('.2..Cowo.Cewe', '')} üë®‚Äçüë©‚Äçüëß‚Äçüë¶`
                } else if(getUserPasanganPd.status == 'Berkeluarga.2..Cewe.Cowo') {
                    var emoteDisplayStatus = `üë®‚Äçüë©‚Äçüëß‚Äçüë¶ ${getUserPasanganPd.status.replace('.2..Cewe.Cowo', '')} üë®‚Äçüë©‚Äçüëß‚Äçüë¶`
                } else if(getUserPasanganPd.status == 'Berkeluarga.2..Cowo.Cowo') {
                    var emoteDisplayStatus = `üë®‚Äçüë©‚Äçüë¶‚Äçüë¶ ${getUserPasanganPd.status.replace('.2..Cowo.Cowo', '')} üë®‚Äçüë©‚Äçüë¶‚Äçüë¶`
                } else if(getUserPasanganPd.status == 'Berkeluarga.2..Cewe.Cewe') {
                    var emoteDisplayStatus = `üë®‚Äçüë©‚Äçüëß‚Äçüëß ${getUserPasanganPd.status.replace('.2..Cewe.Cewe', '')} üë®‚Äçüë©‚Äçüëß‚Äçüëß`
                } else if(getUserPasanganPd.status.startsWith('Berkeluarga')) {
                    var emoteDisplayStatus = `üë®‚Äçüë©‚Äçüëß‚Äçüë¶ Berkeluarga üë®‚Äçüë©‚Äçüëß‚Äçüë¶`
                } else if(getUserPasanganPd.status.startsWith('Putus')) {
                    var emoteDisplayStatus = getUserPasanganPd.status.replace('Putus.', '')
                } else {
                    var emoteDisplayStatus = 'Unknown'
                }

                if(getUserPasanganPd.status == 'Pacaran') {
                    var limitHubunganMax = '100'
                } else if(getUserPasanganPd.status == 'Menikah') {
                    var limitHubunganMax = '300'
                } else if(getUserPasanganPd.status.startsWith('Berkeluarga')) {
                    var limitHubunganMax = '500'
                } else {
                    var limitHubunganMax = '100'
                }

                if(getUserPasanganPd.status.startsWith('Putus')) {
                    rem.sendButtons(from,  `*${pushname}* üíî *${getUserPasanganPd.nama}*

Status : ${emoteDisplayStatus}
Hubungan : üíî *${getUserPasanganPd.hubungan}/${limitHubunganMax}*\n\n_Coba untuk menjaga agar tingkat Hubungan tidak menyentuh angka dibawah 5_`, [{id: `${prefix}pdlmr putus ${sender}`, text: 'üíî Putus üíî'}], '', '')
                
                } else if(getUserPasanganPd.status2.startsWith('ConfirmHamil'))  { //Jika melahirkan
                    let isAnak = ''
                    if(getUserPasanganPd.status.startsWith('Berkeluarga')) {
                        isAnak += `\n ‚û• Anak : ${getUserPasanganPd.anak.length} | ${prefix}anak`
                    }

                    await rem.sendFileAuto(from, getUserPasanganPd.img, '', `‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
*${pushname}* ‚ù§Ô∏è *${getUserPasanganPd.nama}*
‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
 ‚û• Berpasangan Sejak : *_${calculateSejakPasangan}_*
 ‚û• Umur Pasangan : *${calculateUmurPasangan}*
 ‚û• Status Kehamilan : Melahirkan
 ${isAnak}
 ‚û• Status : ${emoteDisplayStatus}
 ‚û• Hubungan ‚ù§Ô∏è *${getUserPasanganPd.hubungan}/${limitHubunganMax}*
 ‚û• Mood Pasangan : ${getUserPasanganPd.mood}
 ‚û• Uang Pasangan : Rp. ${numberWithCommas(fixNumberE(getUserPasanganPd.uang))}

 ‚û• Rumah : _${getUserRumahPd.crid}_
 ‚û• Distrik : _${lahanDisplayText}_
 ‚û• Nomor : _${getUserRumahPd.rid}_
‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
`, false, { gifPlayback: true })
                    await rem.sendButtons(from, 'Link Button', [{id: `ConfirmHamil`, text: `${prefix}nkkand`}], '', '')

                } else {
                    let isAnak = ''
                    if(getUserPasanganPd.status.startsWith('Berkeluarga')) {
                        isAnak += `\n ‚û• Anak : ${getUserPasanganPd.anak.length} | ${prefix}anak`
                    }

                    if(getUserPasanganPd.status2.startsWith('Hamil')) {
                        emoteDisplayStatus += `\n ‚û• Status Kehamilan : Hamil ${getUserPasanganPd.status2.split('.')[1]} Bulan`
                    }

                    await rem.sendFileAuto(from, getUserPasanganPd.img, '', `‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
*${pushname}* ‚ù§Ô∏è *${getUserPasanganPd.nama}*
‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
 ‚û• Berpasangan Sejak : *_${calculateSejakPasangan}_*
 ‚û• Umur Pasangan : *${calculateUmurPasangan}*
 ${isAnak}
 ‚û• Status : ${emoteDisplayStatus}
 ‚û• Hubungan ‚ù§Ô∏è *${getUserPasanganPd.hubungan}/${limitHubunganMax}*
 ‚û• Mood Pasangan : ${getUserPasanganPd.mood}
 ‚û• Uang Pasangan : Rp. ${numberWithCommas(fixNumberE(getUserPasanganPd.uang))}

 ‚û• Rumah : _${getUserRumahPd.crid}_
 ‚û• Distrik : _${lahanDisplayText}_
 ‚û• Nomor : _${getUserRumahPd.rid}_
‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
`, false, { gifPlayback: true })
                    const IdButtonAutoDelete = GenerateSerialNumber("000000000000000")
                    const buttonMessageSend = await rem.sendButtons(from, `Link Button\n\n${pushname}`, shuffleArray([{id: `${prefix}beripda uang oldMsgId=${id}&&${IdButtonAutoDelete}&&undefined&&${sender}`, text: 'üíµ Beri Uang üíµ'}, {id: `${prefix}beripda makan undefined oldMsgId=${id}&&${IdButtonAutoDelete}&&undefined&&${sender}`, text: 'ü•ò Beri Makan ü•ò'}, {id: `act oldMsgId=${id}&&${IdButtonAutoDelete}&&undefined&&${sender}`, text: `${prefix}act`}]), '', '')
                    // createAutoDelete(IdButtonAutoDelete, buttonMessageSend.key.id, buttonMessageSend.key.remoteJid)
                }
            } else if(mentionedJidList.length >= 1) {
                const getMentionRumah = getUserRoleplay_rumah(_mentionUserDb)
                let getMentionPasangan = getUserRoleplay_pasangan(_mentionUserDb)
                if(getMentionPasangan == undefined) return reply(from, 'Tidak memiliki pasangan!', id)
                if(getMentionRumah == undefined) return reply(from, 'Tidak memiliki rumah!', id)

                if(!getMentionPasangan.img.startsWith('http') && !fs.existsSync(getMentionPasangan.img)) {
                    const getImageDefault = await axios.get(`https://api.jikan.moe/v4/characters/${getMentionPasangan.mal_id}`)
                    await _mongo_UserSchema.updateOne({ iId: mentionedJidList[0] }, { $set: { "rl.pd.img": getImageDefault.data.data.images?.jpg?.image_url } })
                    getMentionPasangan.img = getImageDefault.data.data.images?.jpg?.image_url
                }

                if(getMentionRumah.lahan == 'd1') {
                    var lahanDisplayText = '1'
                } else if(getMentionRumah.lahan == 'd2') {
                    var lahanDisplayText = '2'
                } else if(getMentionRumah.lahan == 'd3') {
                    var lahanDisplayText = '3'
                } else if(getMentionRumah.lahan == 'd4') {
                    var lahanDisplayText = '4'
                } else {
                    var lahanDisplayText = '?'
                }

                var contactDb = await _mongo_ContactSchema.findOne({ iId: mentionedJidList[0] })
                var namaMention0 = await rem.contacts(mentionedJidList[0], contactDb)
                var namaMention01 = getNama(_mentionUserDb)
                if(namaMention01 == undefined) {
                    var namaMention = namaMention0
                } else {
                    var namaMention = namaMention01
                }

                if(getMentionPasangan.status == 'Pacaran') {
                    var emoteDisplayStatus = `üë©‚Äç‚ù§Ô∏è‚Äçüë® ${getMentionPasangan.status} üë©‚Äç‚ù§Ô∏è‚Äçüë®`
                } else if(getMentionPasangan.status == 'Menikah') {
                    var emoteDisplayStatus = `üë©‚Äç‚ù§Ô∏è‚Äçüíã‚Äçüë® ${getMentionPasangan.status} üë©‚Äç‚ù§Ô∏è‚Äçüíã‚Äçüë®`
                } else if(getMentionPasangan.status == 'Berkeluarga.1.Cowo') {
                    var emoteDisplayStatus = `üë®‚Äçüë©‚Äçüë¶ ${getMentionPasangan.status.replace('.1.Cowo', '')} üë®‚Äçüë©‚Äçüë¶`
                } else if(getMentionPasangan.status == 'Berkeluarga.1.Cewe') {
                    var emoteDisplayStatus = `üë®‚Äçüë©‚Äçüëß ${getMentionPasangan.status.replace('.1.Cewe', '')} üë®‚Äçüë©‚Äçüëß`
                } else if(getMentionPasangan.status == 'Berkeluarga.2..Cowo.Cewe') {
                    var emoteDisplayStatus = `üë®‚Äçüë©‚Äçüëß‚Äçüë¶ ${getMentionPasangan.status.replace('.2..Cowo.Cewe', '')} üë®‚Äçüë©‚Äçüëß‚Äçüë¶`
                } else if(getMentionPasangan.status == 'Berkeluarga.2..Cewe.Cowo') {
                    var emoteDisplayStatus = `üë®‚Äçüë©‚Äçüëß‚Äçüë¶ ${getMentionPasangan.status.replace('.2..Cewe.Cowo', '')} üë®‚Äçüë©‚Äçüëß‚Äçüë¶`
                } else if(getMentionPasangan.status == 'Berkeluarga.2..Cowo.Cowo') {
                    var emoteDisplayStatus = `üë®‚Äçüë©‚Äçüë¶‚Äçüë¶ ${getMentionPasangan.status.replace('.2..Cowo.Cowo', '')} üë®‚Äçüë©‚Äçüë¶‚Äçüë¶`
                } else if(getMentionPasangan.status == 'Berkeluarga.2..Cewe.Cewe') {
                    var emoteDisplayStatus = `üë®‚Äçüë©‚Äçüëß‚Äçüëß ${getMentionPasangan.status.replace('.2..Cewe.Cewe', '')} üë®‚Äçüë©‚Äçüëß‚Äçüëß`
                } else if(getMentionPasangan.status.startsWith('Berkeluarga')) {
                    var emoteDisplayStatus = `üë®‚Äçüë©‚Äçüëß‚Äçüë¶ Berkeluarga üë®‚Äçüë©‚Äçüëß‚Äçüë¶`
                } else if(getMentionPasangan.status.startsWith('Putus')) {
                    var emoteDisplayStatus = `üíî ${getMentionPasangan.status.split('.')[0]} | ${getMentionPasangan.status.split('.')[1]} üíî`
                } else {
                    var emoteDisplayStatus = 'Unknown'
                }

                if(getMentionPasangan.status == 'Pacaran') {
                    var limitHubunganMax = '100'
                } else if(getMentionPasangan.status == 'Menikah') {
                    var limitHubunganMax = '300'
                } else if(getMentionPasangan.status.startsWith('Berkeluarga')) {
                    var limitHubunganMax = '500'
                } else {
                    var limitHubunganMax = '100'
                }

                if(getMentionPasangan.status2.startsWith('ConfirmHamil')) {
                    emoteDisplayStatus += `\n ‚û• Status Kehamilan : Melahirkan`
                } else if(getMentionPasangan.status2.startsWith('Hamil')) {
                    emoteDisplayStatus += `\n ‚û• Status Kehamilan : Hamil ${getMentionPasangan.status2.split('.')[1]} Bulan`
                }

                let isAnak = ''
                if(getMentionPasangan.status.startsWith('Berkeluarga')) {
                    emoteDisplayStatus += `\n‚û• Anak : ${getMentionPasangan.anak.length} | ${prefix}anak`
                }

                // if(getMentionMood.mood == 'Biasa üòê') {
                //     var LimitMoodPasangan = '50'
                // } else if(getMentionMood.mood == 'Buruk üò°') {
                //     var LimitMoodPasangan = '1'
                // } else if(getMentionMood.mood == 'Baik üòä') {
                //     var LimitMoodPasangan = '100'
                // } else {
                //     var LimitMoodPasangan = '50'
                // }

                const calculateMentionNextXpPasangan = 2000 * (Math.pow(2, getMentionPasangan.level) - 1)
                const calculateUmurPasangan = showElapsedTime(getMentionPasangan.umurpd)
                const calculateSejakPasangan = moment(getMentionPasangan.umurpd).format('LL')
                await rem.sendFileAuto(from, getMentionPasangan.img, '', `‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
*${namaMention}* ‚ù§Ô∏è *${getMentionPasangan.nama}*
‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
 ‚û• Berpasangan Sejak : *_${calculateSejakPasangan}_*
 ‚û• Umur Pasangan : *${calculateUmurPasangan}*
 ${isAnak}
 ‚û• Status : ${emoteDisplayStatus}
 ‚û• Hubungan ‚ù§Ô∏è *${getMentionPasangan.hubungan}/${limitHubunganMax}*
 ‚û• Mood Pasangan : *${getMentionPasangan.mood}*
 ‚û• Uang Pasangan : Rp. ${numberWithCommas(fixNumberE(getMentionPasangan.uang))}

 ‚û• Rumah : _${getMentionRumah.crid}_
 ‚û• Distrik : _${lahanDisplayText}_
 ‚û• Nomor : _${getMentionRumah.rid}_
‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
`, false, { gifPlayback: true })
                // const IdButtonAutoDelete = GenerateSerialNumber("000000000000000")
                //const buttonMessageSend = await rem.sendButtons(from, 'Link Button', shuffleArray([{id: `${prefix}beripda uang oldMsgId=${id}&&${IdButtonAutoDelete}`, text: 'üíµ Beri Uang üíµ'}, {id: `${prefix}beripda makan undefined oldMsgId=${id}&&${IdButtonAutoDelete}`, text: 'ü•ò Beri Makan ü•ò'}, {id: `act oldMsgId=${id}&&${IdButtonAutoDelete}`, text: `${prefix}act`}]), '', '')
                //createAutoDelete(IdButtonAutoDelete, buttonMessageSend.key.id, buttonMessageSend.key.remoteJid)
            } 
                
            break
//         case prefix+'pasangan2':
//         case prefix+'pd2':
//             //if(!isOwner) return rem.sendText(from, 'Invalid!')
//             // if (!isGroupMsg) return reply(from, 'Perintah ini hanya bisa di gunakan dalam group!', id)
//             if(args[1] != undefined && args[1] == 'mal_id') {
//                 if(mentionedJidList.length == 0) return rem.sendText(from, 'mentionedJidList empty!')
//                 const getUserPasangan2 = getUserRoleplay_pasangan2(_mentionUserDb)
//                 if(getUserPasangan2 == undefined) return rem.sendText(from, 'User tidak memiliki pasangan ke 2!')

//                 rem.sendText(from, `*${getUserPasangan2.nama}*\n\n*Mal ID :* ${getUserPasangan2.mal_id}\n*Status :* ${getUserPasangan2.status}`)
//             } else if(args[1] != undefined && args[1].toLowerCase() == 'putus' && getUserRoleplay_pasangan2(_userDb) != undefined) {
//                 const getUserPasanganPdPutus2 = getUserRoleplay_pasangan2(_userDb)
//                 let textSendPdPutus = `Yakin?`
//                     if(getUserPasanganPdPutus2.status == 'Menikah') {
//                         const hartaHakPasangan2 = Math.floor(20 / 100 * getMoney(_userDb))
//                         textSendPdPutus += `\n\n_Harta Hak Pasangan : 20%_ | *${numberWithCommas(fixNumberE(hartaHakPasangan))}*`
//                     } else if(getUserPasanganPdPutus2.status.startsWith('Berkeluarga')) {
//                         const hartaHakPasangan2 = Math.floor(45 / 100 * getMoney(_userDb))
//                         textSendPdPutus += `\n\n_Harta Hak Pasangan : 45%_ | *${numberWithCommas(fixNumberE(hartaHakPasangan))}*`
//                     }

//                 rem.sendButtons(from, textSendPdPutus, shuffleArray([{id: `${prefix}pd putus ${sender} answer=1`, text: 'Yakin'}, {id: `NoPutus`, text: 'Tidak'}]), '', '')
//             } else if(message.selectedButtonId != undefined && message.selectedButtonId.trim().split(' ')[1] == 'putus' && getUserRoleplay_pasangan2(_userDb) != undefined) {
//                 const argsPdPutus = message.selectedButtonId.trim().split(' ')
//                 const getUserPasanganPdPutus2 = getUserRoleplay_pasangan2(_userDb)

//                 if(argsPdPutus[2] == sender && parseFloat(argsPdPutus[3].split('answer=')[1]) == '1') {
//                     await addUserRoleplayMantan_pasangan(sender, getUserPasanganPdPutus.mal_id)

//                     let hartaHakPasangan_confirm = 0
//                     if(getUserPasanganPdPutus2.status == 'Menikah') {
//                         hartaHakPasangan_confirm = Math.floor(20 / 100 * getMoney(_userDb))
//                     } else if(getUserPasanganPdPutus2.status.startsWith('Berkeluarga')) {
//                         hartaHakPasangan_confirm = Math.floor(45 / 100 * getMoney(_userDb))
//                     }

//                     await _mongo_UserSchema.updateOne({ iId: sender }, { $set: { "rl.pd2": {} } })
//                     await MinMoney(sender, hartaHakPasangan_confirm)
//                     console.log('success')

//                     rem.sendText(from, `Kamu telah putus dengan ${getUserPasanganPdPutus2.nama}`)
//                 } else {
//                     reply(from, 'Invalid!')
//                 }

//             } else if(args.length == 1) {
//                 //if(message.selectedButtonId != undefined && message.selectedButtonId.trim().split(' ')[1] != undefined) return
//                 const getUserRumahPd = getUserRoleplay_rumah(_userDb)
//                 let getUserPasanganPd2 = getUserRoleplay_pasangan2(_userDb)
//                 if(getUserRoleplay_rumah(_userDb) == undefined) return reply(from, `Kamu belum memiliki rumah!, Beli rumah terlebih dahulu. _${prefix}rumah_`, id)

//                 if(!getUserPasanganPd2.img.startsWith('http') && !fs.existsSync(getUserPasanganPd2.img)) {
//                     const getImageDefault = await axios.get(`https://api.jikan.moe/v4/characters/${getUserPasanganPd.mal_id}`)
//                     await _mongo_UserSchema.updateOne({ iId: sender }, { $set: { "rl.pd.img2": getImageDefault.data.data.images?.jpg?.image_url } })
//                     getUserPasanganPd2.img = getImageDefault.data.data.images?.jpg?.image_url
//                 }

//                 // const mood = getRandomMood()
//                 // if (mood === 'Biasa üòê') {
//                 //     await _mongo_UserSchema.updateOne({ iId: sender }, { $set: { "rl.pd.mood": `${mood}` } })
//                 // } else if (mood === 'Buruk üò°') {
//                 //     await _mongo_UserSchema.updateOne({ iId: sender }, { $set: { "rl.pd.mood": `${mood}` } })
//                 // } else if (mood === 'Baik üòä') {
//                 //     await _mongo_UserSchema.updateOne({ iId: sender }, { $set: { "rl.pd.mood": `${mood}` } })
//                 // } else {
//                 //     return rem.sendText(from, 'Terjadi Kesalahan!')
//                 // }

//                 // if(getUserMood.mood == 'Biasa üòê') {
//                 //     var LimitMoodPasangan = '50'
//                 // } else if(getUserMood.mood == 'Buruk üò°') {
//                 //     var LimitMoodPasangan = '1'
//                 // } else if(getUserMood.mood == 'Baik üòä') {
//                 //     var LimitMoodPasangan = '100'
//                 // } else {
//                 //     var LimitMoodPasangan = '50'
//                 // }

//                 const calculateUserNextXpPasangan2 = 2000 * (Math.pow(2, getUserPasanganPd2.level) - 1)
//                 const calculateUmurPasangan2 = showElapsedTime(getUserPasanganPd2.umurpd)
//                 const calculateSejakPasangan2 = moment(getUserPasanganPd2.umurpd).format('LL')

//                 if(getUserRumahPd.lahan == 'd1') {
//                     var lahanDisplayText = '1'
//                 } else if(getUserRumahPd.lahan == 'd2') {
//                     var lahanDisplayText = '2'
//                 } else if(getUserRumahPd.lahan == 'd3') {
//                     var lahanDisplayText = '3'
//                 } else if(getUserRumahPd.lahan == 'd4') {
//                     var lahanDisplayText = '4'
//                 } else {
//                     var lahanDisplayText = '?'
//                 }

//                 if(getUserPasanganPd2.status == 'Pacaran') {
//                     var emoteDisplayStatus = `‚ù§Ô∏è ${getUserPasanganPd2.status} ‚ù§Ô∏è`
//                 } else if(getUserPasanganPd2.status == 'Menikah') {
//                     var emoteDisplayStatus = `üë©‚Äç‚ù§Ô∏è‚Äçüíã‚Äçüë® ${getUserPasanganPd2.status} üë©‚Äç‚ù§Ô∏è‚Äçüíã‚Äçüë®`
//                 } else if(getUserPasanganPd2.status == 'Berkeluarga.1.Cowo') {
//                     var emoteDisplayStatus = `üë®‚Äçüë©‚Äçüë¶ ${getUserPasanganPd2.status.replace('.1.Cowo', '')} üë®‚Äçüë©‚Äçüë¶`
//                 } else if(getUserPasanganPd2.status == 'Berkeluarga.1.Cewe') {
//                     var emoteDisplayStatus = `üë®‚Äçüë©‚Äçüëß ${getUserPasanganPd2.status.replace('.1.Cewe', '')} üë®‚Äçüë©‚Äçüëß`
//                 } else if(getUserPasanganPd2.status == 'Berkeluarga.2..Cowo.Cewe') {
//                     var emoteDisplayStatus = `üë®‚Äçüë©‚Äçüëß‚Äçüë¶ ${getUserPasanganPd2.status.replace('.2..Cowo.Cewe', '')} üë®‚Äçüë©‚Äçüëß‚Äçüë¶`
//                 } else if(getUserPasanganPd2.status == 'Berkeluarga.2..Cewe.Cowo') {
//                     var emoteDisplayStatus = `üë®‚Äçüë©‚Äçüëß‚Äçüë¶ ${getUserPasanganPd2.status.replace('.2..Cewe.Cowo', '')} üë®‚Äçüë©‚Äçüëß‚Äçüë¶`
//                 } else if(getUserPasanganPd2.status == 'Berkeluarga.2..Cowo.Cowo') {
//                     var emoteDisplayStatus = `üë®‚Äçüë©‚Äçüë¶‚Äçüë¶ ${getUserPasanganPd2.status.replace('.2..Cowo.Cowo', '')} üë®‚Äçüë©‚Äçüë¶‚Äçüë¶`
//                 } else if(getUserPasanganPd2.status == 'Berkeluarga.2..Cewe.Cewe') {
//                     var emoteDisplayStatus = `üë®‚Äçüë©‚Äçüëß‚Äçüëß ${getUserPasanganPd2.status.replace('.2..Cewe.Cewe', '')} üë®‚Äçüë©‚Äçüëß‚Äçüëß`
//                 } else if(getUserPasanganPd2.status.startsWith('Berkeluarga')) {
//                     var emoteDisplayStatus = `üë®‚Äçüë©‚Äçüëß‚Äçüë¶ Berkeluarga üë®‚Äçüë©‚Äçüëß‚Äçüë¶`
//                 } else if(getUserPasanganPd2.status.startsWith('Putus')) {
//                     var emoteDisplayStatus = getUserPasanganPd2.status.replace('Putus.', '')
//                 } else {
//                     var emoteDisplayStatus = 'Unknown'
//                 }

//                 if(getUserPasanganPd2.status == 'Pacaran') {
//                     var limitHubunganMax = '100'
//                 } else if(getUserPasanganPd2.status == 'Menikah') {
//                     var limitHubunganMax = '300'
//                 } else if(getUserPasanganPd2.status.startsWith('Berkeluarga')) {
//                     var limitHubunganMax = '500'
//                 } else {
//                     var limitHubunganMax = '100'
//                 }

//                 if(getUserPasanganPd2.status.startsWith('Putus')) {
//                     rem.sendButtons(from,  `*${pushname}* üíî *${getUserPasanganPd2.nama}*

// Status : ${emoteDisplayStatus}
// Hubungan : üíî *${getUserPasanganPd.hubungan}/${limitHubunganMax}*\n\n_Coba untuk menjaga agar tingkat Hubungan tidak menyentuh angka dibawah 5_`, [{id: `${prefix}pdlmr putus ${sender}`, text: 'üíî Putus üíî'}], '', '')
                
//                 } else if(getUserPasanganPd2.status2.startsWith('ConfirmHamil'))  { //Jika melahirkan
//                     let isAnak2 = ''
//                     if(getUserPasanganPd2.status.startsWith('Berkeluarga')) {
//                         isAnak2 += `\n ‚û• Anak : ${getUserPasanganPd2.anak.length} | ${prefix}anak2`
//                     }

//                     await rem.sendFileAuto(from, getUserPasanganPd2.img2, '', `‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
// *${pushname}* ‚ù§Ô∏è *${getUserPasanganPd2.nama}*
// ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
//  ‚û• Berpasangan Sejak : *_${calculateSejakPasangan2}_*
//  ‚û• Umur Pasangan : *${calculateUmurPasangan2}*
//  ‚û• Status Kehamilan : Melahirkan
//  ${isAnak2}
//  ‚û• Status : ${emoteDisplayStatus2}
//  ‚û• Hubungan ‚ù§Ô∏è *${getUserPasanganPd2.hubungan}/${limitHubunganMax}*
//  ‚û• Mood Pasangan : ${getUserPasanganPd2.mood}
//  ‚û• Uang Pasangan : Rp. ${numberWithCommas(fixNumberE(getUserPasanganPd2.uang))}

//  ‚û• Rumah : _${getUserRumahPd.crid}_
//  ‚û• Distrik : _${lahanDisplayText}_
//  ‚û• Nomor : _${getUserRumahPd.rid}_
// ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
// `, false, { gifPlayback: true })
//                     await rem.sendButtons(from, 'Link Button', [{id: `ConfirmHamil`, text: `${prefix}nkkand2`}], '', '')

//                 } else {
//                     let isAnak2 = ''
//                     if(getUserPasanganPd2.status.startsWith('Berkeluarga')) {
//                         isAnak2 += `\n ‚û• Anak : ${getUserPasanganPd2.anak.length} | ${prefix}anak2`
//                     }

//                     if(getUserPasanganPd2.status2.startsWith('Hamil')) {
//                         emoteDisplayStatus2 += `\n ‚û• Status Kehamilan : Hamil ${getUserPasanganPd2.status2.split('.')[1]} Bulan`
//                     }

//                     await rem.sendFileAuto(from, getUserPasanganPd2.img2, '', `‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
// *${pushname}* ‚ù§Ô∏è *${getUserPasanganPd2.nama}*
// ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
//  ‚û• Berpasangan Sejak : *_${calculateSejakPasangan2}_*
//  ‚û• Umur Pasangan : *${calculateUmurPasangan2}*
//  ${isAnak2}
//  ‚û• Status : ${emoteDisplayStatus2}
//  ‚û• Hubungan ‚ù§Ô∏è *${getUserPasanganPd2.hubungan}/${limitHubunganMax}*
//  ‚û• Mood Pasangan : ${getUserPasanganPd2.mood}
//  ‚û• Uang Pasangan : Rp. ${numberWithCommas(fixNumberE(getUserPasanganPd2.uang))}

//  ‚û• Rumah : _${getUserRumahPd.crid}_
//  ‚û• Distrik : _${lahanDisplayText}_
//  ‚û• Nomor : _${getUserRumahPd.rid}_
// ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
// `, false, { gifPlayback: true })
//                     const IdButtonAutoDelete = GenerateSerialNumber("000000000000000")
//                     const buttonMessageSend = await rem.sendButtons(from, `Link Button\n\n${pushname}`, shuffleArray([{id: `${prefix}beripda uang oldMsgId=${id}&&${IdButtonAutoDelete}&&undefined&&${sender}`, text: 'üíµ Beri Uang üíµ'}, {id: `${prefix}beripda makan undefined oldMsgId=${id}&&${IdButtonAutoDelete}&&undefined&&${sender}`, text: 'ü•ò Beri Makan ü•ò'}, {id: `act oldMsgId=${id}&&${IdButtonAutoDelete}&&undefined&&${sender}`, text: `${prefix}act`}]), '', '')
//                     // createAutoDelete(IdButtonAutoDelete, buttonMessageSend.key.id, buttonMessageSend.key.remoteJid)
//                 }
//             } else if(mentionedJidList.length >= 1) {
//                 const getMentionRumah = getUserRoleplay_rumah(_mentionUserDb)
//                 let getMentionPasangan2 = getUserRoleplay_pasangan2(_mentionUserDb)
//                 if(getMentionPasangan == undefined) return reply(from, 'Tidak memiliki pasangan!', id)
//                 if(getMentionRumah == undefined) return reply(from, 'Tidak memiliki rumah!', id)

//                 if(!getMentionPasangan2.img2.startsWith('http') && !fs.existsSync(getMentionPasangan2.img)) {
//                     const getImageDefault = await axios.get(`https://api.jikan.moe/v4/characters/${getMentionPasangan.mal_id}`)
//                     await _mongo_UserSchema.updateOne({ iId: mentionedJidList[0] }, { $set: { "rl.pd2.img2": getImageDefault.data.data.images?.jpg?.image_url } })
//                     getMentionPasangan2.img = getImageDefault.data.data.images?.jpg?.image_url
//                 }

//                 if(getMentionRumah.lahan == 'd1') {
//                     var lahanDisplayText = '1'
//                 } else if(getMentionRumah.lahan == 'd2') {
//                     var lahanDisplayText = '2'
//                 } else if(getMentionRumah.lahan == 'd3') {
//                     var lahanDisplayText = '3'
//                 } else if(getMentionRumah.lahan == 'd4') {
//                     var lahanDisplayText = '4'
//                 } else {
//                     var lahanDisplayText = '?'
//                 }

//                 var contactDb = await _mongo_ContactSchema.findOne({ iId: mentionedJidList[0] })
//                 var namaMention0 = await rem.contacts(mentionedJidList[0], contactDb)
//                 var namaMention01 = getNama(_mentionUserDb)
//                 if(namaMention01 == undefined) {
//                     var namaMention = namaMention0
//                 } else {
//                     var namaMention = namaMention01
//                 }

//                 if(getMentionPasangan2.status == 'Pacaran') {
//                     var emoteDisplayStatus = `üë©‚Äç‚ù§Ô∏è‚Äçüë® ${getMentionPasangan2.status} üë©‚Äç‚ù§Ô∏è‚Äçüë®`
//                 } else if(getMentionPasangan2.status == 'Menikah') {
//                     var emoteDisplayStatus = `üë©‚Äç‚ù§Ô∏è‚Äçüíã‚Äçüë® ${getMentionPasangan2.status} üë©‚Äç‚ù§Ô∏è‚Äçüíã‚Äçüë®`
//                 } else if(getMentionPasangan2.status == 'Berkeluarga.1.Cowo') {
//                     var emoteDisplayStatus = `üë®‚Äçüë©‚Äçüë¶ ${getMentionPasangan2.status.replace('.1.Cowo', '')} üë®‚Äçüë©‚Äçüë¶`
//                 } else if(getMentionPasangan2.status == 'Berkeluarga.1.Cewe') {
//                     var emoteDisplayStatus = `üë®‚Äçüë©‚Äçüëß ${getMentionPasangan2.status.replace('.1.Cewe', '')} üë®‚Äçüë©‚Äçüëß`
//                 } else if(getMentionPasangan2.status == 'Berkeluarga.2..Cowo.Cewe') {
//                     var emoteDisplayStatus = `üë®‚Äçüë©‚Äçüëß‚Äçüë¶ ${getMentionPasangan2.status.replace('.2..Cowo.Cewe', '')} üë®‚Äçüë©‚Äçüëß‚Äçüë¶`
//                 } else if(getMentionPasangan2.status == 'Berkeluarga.2..Cewe.Cowo') {
//                     var emoteDisplayStatus = `üë®‚Äçüë©‚Äçüëß‚Äçüë¶ ${getMentionPasangan2.status.replace('.2..Cewe.Cowo', '')} üë®‚Äçüë©‚Äçüëß‚Äçüë¶`
//                 } else if(getMentionPasangan2.status == 'Berkeluarga.2..Cowo.Cowo') {
//                     var emoteDisplayStatus = `üë®‚Äçüë©‚Äçüë¶‚Äçüë¶ ${getMentionPasangan2.status.replace('.2..Cowo.Cowo', '')} üë®‚Äçüë©‚Äçüë¶‚Äçüë¶`
//                 } else if(getMentionPasangan2.status == 'Berkeluarga.2..Cewe.Cewe') {
//                     var emoteDisplayStatus = `üë®‚Äçüë©‚Äçüëß‚Äçüëß ${getMentionPasangan2.status.replace('.2..Cewe.Cewe', '')} üë®‚Äçüë©‚Äçüëß‚Äçüëß`
//                 } else if(getMentionPasangan2.status.startsWith('Berkeluarga')) {
//                     var emoteDisplayStatus = `üë®‚Äçüë©‚Äçüëß‚Äçüë¶ Berkeluarga üë®‚Äçüë©‚Äçüëß‚Äçüë¶`
//                 } else if(getMentionPasangan2.status.startsWith('Putus')) {
//                     var emoteDisplayStatus = `üíî ${getMentionPasangan2.status.split('.')[0]} | ${getMentionPasangan2.status.split('.')[1]} üíî`
//                 } else {
//                     var emoteDisplayStatus = 'Unknown'
//                 }

//                 if(getMentionPasangan2.status == 'Pacaran') {
//                     var limitHubunganMax = '100'
//                 } else if(getMentionPasangan2.status == 'Menikah') {
//                     var limitHubunganMax = '300'
//                 } else if(getMentionPasangan2.status.startsWith('Berkeluarga')) {
//                     var limitHubunganMax = '500'
//                 } else {
//                     var limitHubunganMax = '100'
//                 }

//                 if(getMentionPasangan2.status2.startsWith('ConfirmHamil')) {
//                     emoteDisplayStatus += `\n ‚û• Status Kehamilan : Melahirkan`
//                 } else if(getMentionPasangan2.status2.startsWith('Hamil')) {
//                     emoteDisplayStatus += `\n ‚û• Status Kehamilan : Hamil ${getMentionPasangan2.status2.split('.')[1]} Bulan`
//                 }

//                 let isAnak2 = ''
//                 if(getMentionPasangan2.status.startsWith('Berkeluarga')) {
//                     emoteDisplayStatus += `\n‚û• Anak : ${getMentionPasangan2.anak.length} | ${prefix}anak2`
//                 }

//                 // const mood = getRandomMood()
//                 // if (mood === 'Biasa üòê') {
//                 //     await _mongo_UserSchema.updateOne({ iId: mentionedJidList[0] }, { $set: { "rl.pd.mood": `${mood}` } })
//                 // } else if (mood === 'Buruk üò°') {
//                 //     await _mongo_UserSchema.updateOne({ iId: mentionedJidList[0] }, { $set: { "rl.pd.mood": `${mood}` } })
//                 // } else if (mood === 'Baik üòä') {
//                 //     await _mongo_UserSchema.updateOne({ iId: mentionedJidList[0] }, { $set: { "rl.pd.mood": `${mood}` } })
//                 // } else {
//                 //     return rem.sendText(from, 'Terjadi Kesalahan!')
//                 // }

//                 // if(getMentionMood.mood == 'Biasa üòê') {
//                 //     var LimitMoodPasangan = '50'
//                 // } else if(getMentionMood.mood == 'Buruk üò°') {
//                 //     var LimitMoodPasangan = '1'
//                 // } else if(getMentionMood.mood == 'Baik üòä') {
//                 //     var LimitMoodPasangan = '100'
//                 // } else {
//                 //     var LimitMoodPasangan = '50'
//                 // }

//                 const calculateMentionNextXpPasangan = 2000 * (Math.pow(2, getMentionPasangan2.level) - 1)
//                 const calculateUmurPasangan = showElapsedTime(getMentionPasangan2.umurpd)
//                 const calculateSejakPasangan = moment(getMentionPasangan2.umurpd).format('LL')
//                 await rem.sendFileAuto(from, getMentionPasangan2.img2, '', `‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
// *${namaMention}* ‚ù§Ô∏è *${getMentionPasangan2.nama}*
// ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
//  ‚û• Berpasangan Sejak : *_${calculateSejakPasangan2}_*
//  ‚û• Umur Pasangan : *${calculateUmurPasangan2}*
//  ${isAnak2}
//  ‚û• Status : ${emoteDisplayStatus2}
//  ‚û• Hubungan ‚ù§Ô∏è *${getMentionPasangan2.hubungan}/${limitHubunganMax}*
//  ‚û• Mood Pasangan : *${getMentionPasangan2.mood}*
//  ‚û• Uang Pasangan : Rp. ${numberWithCommas(fixNumberE(getMentionPasangan2.uang))}

//  ‚û• Rumah : _${getMentionRumah.crid}_
//  ‚û• Distrik : _${lahanDisplayText}_
//  ‚û• Nomor : _${getMentionRumah.rid}_
// ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
// `, false, { gifPlayback: true })
//                 // const IdButtonAutoDelete = GenerateSerialNumber("000000000000000")
//                 //const buttonMessageSend = await rem.sendButtons(from, 'Link Button', shuffleArray([{id: `${prefix}beripda uang oldMsgId=${id}&&${IdButtonAutoDelete}`, text: 'üíµ Beri Uang üíµ'}, {id: `${prefix}beripda makan undefined oldMsgId=${id}&&${IdButtonAutoDelete}`, text: 'ü•ò Beri Makan ü•ò'}, {id: `act oldMsgId=${id}&&${IdButtonAutoDelete}`, text: `${prefix}act`}]), '', '')
//                 //createAutoDelete(IdButtonAutoDelete, buttonMessageSend.key.id, buttonMessageSend.key.remoteJid)
//             } 
                
//             break
        case prefix+'beripda':
        case prefix+'beripd':
            // if (!isGroupMsg) return reply(from, 'Perintah ini hanya bisa di gunakan dalam group!', id)
            if(getUserRoleplay_pasangan(_userDb) == undefined) return rem.sendText(from, `Untuk mendapatkan pasangan, _${prefix}character <nama>_\nNote : *Abaikan tanda < dan>*`)
            const selectedButtonIdBeU = message.selectedButtonId?.toLowerCase()?.split(' ') || []
            const moneyCheck = getMoney(_userDb)
            const getUserPasanganBpda = getUserRoleplay_pasangan(_userDb)

            /*if(message.selectedButtonId != undefined) {
                const splitOldMessageId0 = message.selectedButtonId.split('oldMsgId=')[1]
                const splitOldMessageId_Id = splitOldMessageId0.split('&&')[0]
                const splitOldMessageId_key = splitOldMessageId0.split('&&')[1]
                const splitOldMessageId_senderId = splitOldMessageId0.split('&&')[3]
                try {
                    const _autoDel = JSON.parse(fs.readFileSync('./lib/database/bot/msgDel.json'))
                    const getMsgAutoDel = getAutoDelete(splitOldMessageId_key)
                    if(getMsgAutoDel == undefined || splitOldMessageId_Id == undefined) return reply(from, 'Invalid!. Try again')
                    
                    //console.log(_autoDel[getMsgAutoDel])
                    rem.deleteMessage(_autoDel[getMsgAutoDel].msgFrom, { id: _autoDel[getMsgAutoDel].msgId, remoteJid: _autoDel[getMsgAutoDel].msgFrom, fromMe: true })
                    
                    _autoDel.splice(getMsgAutoDel, 1)
                    fs.writeFileSync('./lib/database/bot/msgDel.json', JSON.stringify(_autoDel))
                } catch (err) {
                    console.error(err)
                    return reply(from, 'Invalid!. Try again')
                }
            }*/

            /* Uang */
            if(selectedButtonIdBeU[1] == 'uang' && selectedButtonIdBeU[2] == '100k') {
                const hargaBeriUang = 100000
                const hubunganPasanganNambah = 2
                if(selectedButtonIdBeU[3] != sender) return
                if(moneyCheck < hargaBeriUang) return rem.sendText(from, 'Uang kamu kurang!')

                const calculateUangNambahPasangan = Math.floor(getUserPasanganBpda.uang + hargaBeriUang)
                const calculateHubunganNambahPasangan = Math.floor(getUserPasanganBpda.hubungan + hubunganPasanganNambah)
                await MinMoney(sender, hargaBeriUang)
                await replaceUserRoleplayUang_pasangan(sender, calculateUangNambahPasangan)
                await replaceUserRoleplayHubungan_pasangan(sender, calculateHubunganNambahPasangan)
                await addUserRoleplayXP_pasangan(sender, 500)

                rem.sendText(from, `Success!\nMemberi uang sebesar Rp. ${numberWithCommas(fixNumberE(hargaBeriUang))} kepada ${getUserPasanganBpda.nama}\n\nHubungan +${hubunganPasanganNambah}`)
            } else if(selectedButtonIdBeU[1] == 'uang' && selectedButtonIdBeU[2] == '250k') {
                const hargaBeriUang = 250000
                const hubunganPasanganNambah = 4
                if(selectedButtonIdBeU[3] != sender) return
                if(moneyCheck < hargaBeriUang) return rem.sendText(from, 'Uang kamu kurang!')

                const calculateUangNambahPasangan = Math.floor(getUserPasanganBpda.uang + hargaBeriUang)
                const calculateHubunganNambahPasangan = Math.floor(getUserPasanganBpda.hubungan + hubunganPasanganNambah)
                await MinMoney(sender, hargaBeriUang)
                await replaceUserRoleplayUang_pasangan(sender, calculateUangNambahPasangan)
                await replaceUserRoleplayHubungan_pasangan(sender, calculateHubunganNambahPasangan)
                await addUserRoleplayXP_pasangan(sender, 500)

                rem.sendText(from, `Success!\nMemberi uang sebesar Rp. ${numberWithCommas(fixNumberE(hargaBeriUang))} kepada ${getUserPasanganBpda.nama}\n\nHubungan +${hubunganPasanganNambah}`)
            } else if(selectedButtonIdBeU[1] == 'uang' && selectedButtonIdBeU[2] == '500k') {
                const hargaBeriUang = 500000
                const hubunganPasanganNambah = 6
                if(selectedButtonIdBeU[3] != sender) return
                if(moneyCheck < hargaBeriUang) return rem.sendText(from, 'Uang kamu kurang!')

                const calculateUangNambahPasangan = Math.floor(getUserPasanganBpda.uang + hargaBeriUang)
                const calculateHubunganNambahPasangan = Math.floor(getUserPasanganBpda.hubungan + hubunganPasanganNambah)
                await MinMoney(sender, hargaBeriUang)
                await replaceUserRoleplayUang_pasangan(sender, calculateUangNambahPasangan)
                await replaceUserRoleplayHubungan_pasangan(sender, calculateHubunganNambahPasangan)
                await addUserRoleplayXP_pasangan(sender, 500)

                rem.sendText(from, `Success!\nMemberi uang sebesar Rp. ${numberWithCommas(fixNumberE(hargaBeriUang))} kepada ${getUserPasanganBpda.nama}\n\nHubungan +${hubunganPasanganNambah}`)
            } else if(selectedButtonIdBeU[1] == 'uang') {
                const IdButtonAutoDelete = GenerateSerialNumber("000000000000000")
                await rem.sendButtons(from, 'üíµ Beri Uang üíµ', shuffleArray([{id: `${prefix}beripda uang 100K ${sender} oldMsgId=${id}&&${IdButtonAutoDelete}&&undefined&&${sender}`, text: 'Beri uang $100K'}, {id: `${prefix}beripda uang 250k ${sender} oldMsgId=${id}&&${IdButtonAutoDelete}&&undefined&&${sender}`, text: 'Beri uang $250K'}, {id: `${prefix}beripda uang 500k ${sender} oldMsgId=${id}&&${IdButtonAutoDelete}&&undefined&&${sender}`, text: 'Beri uang $500k'}]), '', '')
                //createAutoDelete(IdButtonAutoDelete, buttonMessageSend.key.id, buttonMessageSend.key.remoteJid)
            } else if(args[1] == 'uang' && message.selectedButtonId == undefined) {
                const hargaBeriUang = Number(args[2])
                if(!hargaBeriUang) return reply(from, `Nomer harus berupa angka!\nContoh: *_${prefix}beripd uang 500000_*`, id)
                if(hargaBeriUang < 100000) return reply(from, `Minimal Rp. 100.000!`, id)

                if(moneyCheck < hargaBeriUang) return rem.sendText(from, 'Uang kamu kurang!')

                let hubunganPasanganNambah = 2
                if(hargaBeriUang >= 500000) {
                    hubunganPasanganNambah = 6
                } else if(hargaBeriUang >= 250000) {
                    hubunganPasanganNambah = 4
                } else if(hargaBeriUang >= 1000000) {
                    hubunganPasanganNambah = 8
                } else {
                    hubunganPasanganNambah = 2
                }

                const calculateUangNambahPasangan = Math.floor(getUserPasanganBpda.uang + hargaBeriUang)
                const calculateHubunganNambahPasangan = Math.floor(getUserPasanganBpda.hubungan + hubunganPasanganNambah)
                await MinMoney(sender, hargaBeriUang)
                await replaceUserRoleplayUang_pasangan(sender, calculateUangNambahPasangan)
                await replaceUserRoleplayHubungan_pasangan(sender, calculateHubunganNambahPasangan)
                await addUserRoleplayXP_pasangan(sender, 500)

                rem.sendText(from, `Success!\nMemberi uang sebesar Rp. ${numberWithCommas(fixNumberE(hargaBeriUang))} kepada ${getUserPasanganBpda.nama}\n\nHubungan +${hubunganPasanganNambah}`)
            }

            /* Makanan */
            else if(selectedButtonIdBeU[1] == 'makan' && selectedButtonIdBeU[2] == 'undefined') {
                const IdButtonAutoDelete = GenerateSerialNumber("000000000000000")
                await await rem.sendButtons(from, 'ü•ò Beri Makan ü•ò', shuffleArray([{id: `${prefix}beripda makan 1 ${sender} oldMsgId=${id}&&${IdButtonAutoDelete}&&undefined&&${sender}`, text:'üçó Ayam Goyeng üçó'}, {id: `${prefix}beripda makan 2 ${sender} oldMsgId=${id}&&${IdButtonAutoDelete}&&undefined&&${sender}`, text: 'ü•© Daging Steak ü•©'}, {id: `${prefix}beripda makan 3 ${sender} oldMsgId=${id}&&${IdButtonAutoDelete}&&undefined&&${sender}`, text: 'üêü Ikan Goreng üêü'}]), '', '')
                //createAutoDelete(IdButtonAutoDelete, buttonMessageSend.key.id, buttonMessageSend.key.remoteJid)
            } else if(selectedButtonIdBeU[1] == 'makan' && selectedButtonIdBeU[2] == '1') {
                const hargaMakananGive = 15000
                const nambahFoodPasangan = 50
                const hubunganPasanganNambah = 3
                const VisualTextDisplayReplyFoodPasangan = 'üçó Ayam Goyeng üçó'
                if(selectedButtonIdBeU[3] != sender) return
                if(moneyCheck < hargaMakananGive) return rem.sendText(from, 'Uang kamu kurang!')

                const calculateFoodNambahPasangan0 = Math.floor(getUserPasanganBpda.food + nambahFoodPasangan)
                let calculateFoodNambahPasangan = calculateFoodNambahPasangan0
                const calculateHubunganNambahPasangan = Math.floor(getUserPasanganBpda.hubungan + hubunganPasanganNambah)

                if(calculateFoodNambahPasangan0 >= 150) {
                    calculateFoodNambahPasangan = 150
                }

                await MinMoney(sender, hargaMakananGive)
                await replaceUserRoleplayFood_pasangan(sender, calculateFoodNambahPasangan)
                await replaceUserRoleplayHubungan_pasangan(sender, calculateHubunganNambahPasangan)
                await addUserRoleplayXP_pasangan(sender, 500)

                rem.sendText(from, `Success!\nMemberi Makanan ${VisualTextDisplayReplyFoodPasangan} seharga Rp. ${numberWithCommas(fixNumberE(hargaMakananGive))}, kepada ${getUserPasanganBpda.nama}`)
            } else if(selectedButtonIdBeU[1] == 'makan' && selectedButtonIdBeU[2] == '2') {
                const hargaMakananGive = 25000
                const nambahFoodPasangan = 70
                const hubunganPasanganNambah = 5
                const VisualTextDisplayReplyFoodPasangan = 'ü•© Daging Steak ü•©'
                if(selectedButtonIdBeU[3] != sender) return
                if(moneyCheck < hargaMakananGive) return rem.sendText(from, 'Uang kamu kurang!')

                const calculateFoodNambahPasangan0 = Math.floor(getUserPasanganBpda.food + nambahFoodPasangan)
                let calculateFoodNambahPasangan = calculateFoodNambahPasangan0
                const calculateHubunganNambahPasangan = Math.floor(getUserPasanganBpda.hubungan + hubunganPasanganNambah)

                if(calculateFoodNambahPasangan0 >= 150) {
                    calculateFoodNambahPasangan = 150
                }

                await MinMoney(sender, hargaMakananGive)
                await replaceUserRoleplayFood_pasangan(sender, calculateFoodNambahPasangan)
                await replaceUserRoleplayHubungan_pasangan(sender, calculateHubunganNambahPasangan)
                await addUserRoleplayXP_pasangan(sender, 500)

                rem.sendText(from, `Success!\nMemberi Makanan ${VisualTextDisplayReplyFoodPasangan} seharga Rp. ${numberWithCommas(fixNumberE(hargaMakananGive))}, kepada ${getUserPasanganBpda.nama}`)
            } else if(selectedButtonIdBeU[1] == 'makan' && selectedButtonIdBeU[2] == '3') {
                const hargaMakananGive = 40000
                const nambahFoodPasangan = 100
                const hubunganPasanganNambah = 7
                const VisualTextDisplayReplyFoodPasangan = 'üêü Ikan Goreng üêü'
                if(selectedButtonIdBeU[3] != sender) return
                if(moneyCheck < hargaMakananGive) return rem.sendText(from, 'Uang kamu kurang!')

                const calculateFoodNambahPasangan0 = Math.floor(getUserPasanganBpda.food + nambahFoodPasangan)
                let calculateFoodNambahPasangan = calculateFoodNambahPasangan0
                const calculateHubunganNambahPasangan = Math.floor(getUserPasanganBpda.hubungan + hubunganPasanganNambah)

                if(calculateFoodNambahPasangan0 >= 150) {
                    calculateFoodNambahPasangan = 150
                }

                await MinMoney(sender, hargaMakananGive)
                await replaceUserRoleplayFood_pasangan(sender, calculateFoodNambahPasangan)
                await replaceUserRoleplayHubungan_pasangan(sender, calculateHubunganNambahPasangan)
                await addUserRoleplayXP_pasangan(sender, 500)

                rem.sendText(from, `Success!\nMemberi Makanan ${VisualTextDisplayReplyFoodPasangan} seharga Rp. ${numberWithCommas(fixNumberE(hargaMakananGive))}, kepada ${getUserPasanganBpda.nama}`)
            }
            break
        case prefix+'act':
            // if (!isGroupMsg) return reply(from, 'Perintah ini hanya bisa di gunakan dalam group!', id)
            if(_userDb?.rl?.gender == undefined || _userDb?.rl?.gender == '') return rem.sendButtons(from, 'Untuk Act, kamu harus *set gender* terlebih dahulu!', [{ id: `${prefix}set_user gender cwo`, text: 'Laki-Laki' }, { id: `${prefix}set_user gender cwe`, text: 'Perempuan' }], '', '')
            //if(!isOwner) return reply(from, 'Maaf, Command ini sedang diperbaiki!')
            let _antispam_act = _userDb.rl.antispamAct
            if(getUserRoleplay_pasangan(_userDb) == undefined) return rem.sendText(from, `Untuk mendapatkan pasangan, _${prefix}character <nama>_\nNote : *Abaikan tanda < dan>*`)
            if(message.selectedButtonId == undefined) {
                var selectedButtonIdBeUAct = undefined
                var splitOldMessageId_isResponseButton2 = undefined
            } else {
                if(message.selectedButtonId != undefined && message.selectedButtonId.startsWith(prefix)) {
                    var selectedButtonIdBeUAct = message.selectedButtonId.toLowerCase().split(' ')
                } else {
                    var selectedButtonIdBeUAct = undefined
                }

                if(message.selectedButtonId.includes('&&')) {
                    const splitOldMessageId0 = message.selectedButtonId.split('oldMsgId=')[1]
                    var splitOldMessageId_isResponseButton2 =  splitOldMessageId0.split('&&')[3]
                } else {
                    var splitOldMessageId_isResponseButton2 = undefined
                }
            }

            if(_antispam_act != 0 && Date.now() >= _antispam_act) {
                await _mongo_UserSchema.updateOne({ iId: sender }, { $set: { "rl.antispamAct": 0 } })
                _antispam_act = 0
            }

            if(_antispam_act != 0) {
                const timeConvert_antispam_act = timeConvert(_antispam_act)
                return rem.sendText(from, `Cooldown selama ${timeConvert_antispam_act.minute} Menit : ${timeConvert_antispam_act.second} Detik!`)
            }
            const getUserPasanganAct = getUserRoleplay_pasangan(_userDb)
            const getMoneyActUser = getMoney(_userDb)

            if(getUserPasanganAct.status.startsWith('Putus')) return rem.sendButtons(from, 'Link Button', [{id: 'pdFromAct', text: `${prefix}pd`}], '', '')

            if(getUserPasanganAct.status == 'Pacaran') {
                var replyTextRandom = {"1": 'Ajak SEEEGGGSSS ‚âß Ôπè ‚â¶', 
                "2": 'Ajak SSEEEGGSSS BRRRUTTAALLLL', 
                "3": 'Ajak Jalan - Jalan', 
                "4": 'Ajak Makan', 
                "5": 'Cubit Pipinya', 
                "6": 'Cium', 
                "7": 'Peluk', 
                "8": 'Kencan', 
                "9": 'Tidur Bareng',
                "10": 'Ajak Nginep',
                "11": 'Honey Moon',
                "12": 'Minta Pap TT',
                "13": 'Selingkuh',
                "14": 'Menikah'
                }
            } else if(getUserPasanganAct.status == 'Menikah') {
                var replyTextRandom = {"m1": 'SEEEGGGSSS ‚âß Ôπè ‚â¶', 
                "m2": 'SSEEEGGSSS BRRRUTTAALLLL', 
                "m3": 'Ajak Jalan - Jalan', 
                "m4": 'Ajak Makan', 
                "m5": 'Cubit Pipinya', 
                "m6": 'Cium', 
                "m7": 'Peluk', 
                "m8": 'Ajak Jalan - Jalan', 
                "m9": 'Tidur Bareng dan Nganu (o‚Ä≤‚îè‚ñΩ‚îìÔΩÄo) ',
                "m10": 'Honey Moon',
                "m11": 'Buat Anak',
                "m12": 'Selingkuh'
                }
            } else if(getUserPasanganAct.status.startsWith('Berkeluarga')) {
                var replyTextRandom = {"b1": 'SEEEGGGSSS ‚âß Ôπè ‚â¶', 
                "b2": 'SSEEEGGSSS BRRRUTTAALLLL', 
                "b3": 'Ajak Jalan Berdua', 
                "b4": 'Ajak Makan Berdua', 
                "b5": 'Ajak Jalan Sekeluarga',
                "b6": 'Ajak Makan Sekeluarga',
                "b7": 'Cubit Pipinya', 
                "b8": 'Cium', 
                "b9": 'Peluk', 
                "b10": 'Tidur Bareng dan Nganu (o‚Ä≤‚îè‚ñΩ‚îìÔΩÄo) ',
                "b11": 'Honey Moon',
                "b12": 'Liburan Sekeluarga',
                "b13": 'Buat Anak',
                "b14": 'Selingkuh',
                "b15": 'Menikah'
                }
            }

            if(message.selectedButtonId != undefined) {
                try {
                    const splitOldMessageId0 = message.selectedButtonId.split('oldMsgId=')[1]
                    // const splitOldMessageId_Id = splitOldMessageId0.split('&&')[0]
                    // const splitOldMessageId_key = splitOldMessageId0.split('&&')[1]
                    const splitOldMessageId_buttonSelect = splitOldMessageId0.split('&&')[2]
                    if(splitOldMessageId_buttonSelect != 'undefined') {
                        await _mongo_UserSchema.updateOne({ iId: sender }, { $set: { "rl.antispamAct": Date.now() + toMs('2m') } })
                    }
                } catch (err) {
                    console.error(err)
                    var selectedButtonIdBeUAct = undefined
                }
                /*try {
                    const _autoDel = JSON.parse(fs.readFileSync('./lib/database/bot/msgDel.json'))
                    const getMsgAutoDel = getAutoDelete(splitOldMessageId_key)
                    if(getMsgAutoDel == undefined || splitOldMessageId_Id == undefined) return reply(from, 'Invalid!. Try again')
                    
                    //console.log(_autoDel[getMsgAutoDel])
                    rem.deleteMessage(_autoDel[getMsgAutoDel].msgFrom, { id: _autoDel[getMsgAutoDel].msgId, remoteJid: _autoDel[getMsgAutoDel].msgFrom, fromMe: true })
                    
                    _autoDel.splice(getMsgAutoDel, 1)
                    fs.writeFileSync('./lib/database/bot/msgDel.json', JSON.stringify(_autoDel))
                } catch (err) {
                    console.error(err)
                    return reply(from, 'Invalid!. Try again')
                }*/
                /*if(splitOldMessageId0 != undefined && splitOldMessageId_Id != undefined && splitOldMessageId_chatId != undefined) {
                    const getAllChatId = []
                    await rem.loadAllMessages(from, (msg) => {
                        getAllChatId.push(msg)
                        //console.log(msg)
                    })
                    const filterTrueFromBotButton0 = getAllChatId.filter(al => al.key.fromMe == true)
                    const filterTrueFromBotButton01 = filterTrueFromBotButton0.filter(el => el.message != null ? Object.keys(el.message)[0] : '' == 'buttonsMessage')
                    const filterTrueFromBotButton012 = filterTrueFromBotButton01.filter(nyle => nyle.message.buttonsMessage != null)
                    const filterTrueFromBotButton02 = filterTrueFromBotButton012.filter(hl => hl.message.buttonsMessage.buttons[0].buttonId.includes(splitOldMessageId_buttonSelect))
                    const filterTrueFromBotButton02_1 = filterTrueFromBotButton012.filter(hl => hl.message.buttonsMessage.buttons[0].buttonId.includes(splitOldMessageId_Id))
                    if(filterTrueFromBotButton02 != '' || filterTrueFromBotButton02 != []) {
                        await rem.deleteMessage(from, {id: filterTrueFromBotButton02[0].key.id, remoteJid: from, fromMe: true})
                    } else if(filterTrueFromBotButton02 == '' || filterTrueFromBotButton02 == []) {
                        if(filterTrueFromBotButton02_1 == '' || filterTrueFromBotButton02_1 == []) return rem.sendText(from, 'Wrong Format!')
                        await rem.deleteMessage(from, {id: filterTrueFromBotButton02_1[0].key.id, remoteJid: from, fromMe: true})
                    } else {
                        return rem.sendText(from, 'Wrong Format!')
                    }
                }*/
            }

            if(selectedButtonIdBeUAct == undefined) {
                if(getUserPasanganAct.status == 'Pacaran') {
                    var randomMilihReply1 = Math.floor(Math.random() * 13) + 1
                    var randomMilihReply2 = Math.floor(Math.random() * 13) + 1
                    var randomMilihReply3 = Math.floor(Math.random() * 13) + 1
                    if(getUserPasanganAct.hubungan >= 90) {
                        var randomMilihReply1 = Math.floor(14)
                    }
                } else if(getUserPasanganAct.status == 'Menikah') {
                    var randomMilihReply1 = `m${Math.floor(Math.random() * 12) + 1}`
                    var randomMilihReply2 = `m${Math.floor(Math.random() * 12) + 1}`
                    var randomMilihReply3 = `m${Math.floor(Math.random() * 12) + 1}`
                } else if(getUserPasanganAct.status.startsWith('Berkeluarga')) {
                    var randomMilihReply1 = `b${Math.floor(Math.random() * 14) + 1}`
                    var randomMilihReply2 = `b${Math.floor(Math.random() * 14) + 1}`
                    var randomMilihReply3 = `b${Math.floor(Math.random() * 14) + 1}`
                }

                const IdButtonAutoDelete = GenerateSerialNumber("000000000000000")
                await rem.sendButtons(from, `üí≠ Action üí≠\n\n${pushname}`, [{id: `${prefix}act actionadvance ${randomMilihReply1} ${sender} oldMsgId=${id}&&${IdButtonAutoDelete}&&${randomMilihReply1}${randomMilihReply2}${randomMilihReply3}`, text: `${replyTextRandom[randomMilihReply1]}`}, {id: `${prefix}act actionadvance ${randomMilihReply2} ${sender} oldMsgId=${id}&&${IdButtonAutoDelete}&&${randomMilihReply1}${randomMilihReply2}${randomMilihReply3}`, text: `${replyTextRandom[randomMilihReply2]}`}, {id: `${prefix}act actionadvance ${randomMilihReply3} ${sender} oldMsgId=${id}&&${IdButtonAutoDelete}&&${randomMilihReply1}${randomMilihReply2}${randomMilihReply3}`, text: `${replyTextRandom[randomMilihReply3]}`}], '', '')
                //console.log(buttonMessageSend)
                //createAutoDelete(IdButtonAutoDelete, buttonMessageSend.key.id, buttonMessageSend.key.remoteJid)
            }

            /* Number 1, 2 */
            else if(selectedButtonIdBeUAct[1] == 'actionadvance' && selectedButtonIdBeUAct[2] == '1' || selectedButtonIdBeUAct[2] == '2') {
                if(selectedButtonIdBeUAct[3] != sender) return
                /* Tolak Jika Persentase Hubungan dibawah 60% */
                if(getUserPasanganAct.hubungan < 60) {
                    const kurangHubungan = 20
                    const calculateKurangHubungan = getUserPasanganAct.hubungan - kurangHubungan
                    await replaceUserRoleplayHubungan_pasangan(sender, calculateKurangHubungan)

                    await rem.sendText(from, '```B-Ba-Baka``` Kau pikir aku lont* ‚ï∞Ôºà‚Äµ‚ñ°‚Ä≤Ôºâ‚ïØ')
                    rem.sendText(from, `Hubungan ${getUserPasanganAct.hubungan} => ${calculateKurangHubungan}`)
                } else {
                    const nambahHubungan = 40
                    const jumlahXPNambah = Math.floor(Math.random() * 10) + 970
                    const calculateNambahHubungan = getUserPasanganAct.hubungan + nambahHubungan
                    await replaceUserRoleplayHubungan_pasangan(sender, calculateNambahHubungan)

                    const randomSendText = [`‚âß Ôπè ‚â¶ Bo-Boleh, pake pengaman ya~\nDan ##Cencored##`,
                    `Ce-Cepat selesaikan, A-aku malu ÔºûÔπèÔºú\nDan ##Cencored##`,
                    `>///<, a-anu. Di rumahku aja, gak ada orang\nDan ##Cencored##`,
                    `ÔºûÔπèÔºú O-Oke\nDan ##Cencored##`,
                    `Ce-Cepat selesaikan, A-aku malu ÔºûÔπèÔºú\nDan ##Cencored## `
                    ]

                    await addUserRoleplayXP_pasangan(sender, jumlahXPNambah)
                    await rem.sendText(from, randomSendText[Math.floor(Math.random() * 5)])
                    rem.sendText(from, `Hubungan ${getUserPasanganAct.hubungan} => ${calculateNambahHubungan}`)
                // } else if (parseFloat(selectedButtonIdBeUAct[4].split('answer=')[1]) == '1') {
                //     const nambahHubungan = 40
                //     const jumlahXPNambah = Math.floor(Math.random() * 10) + 970
                //     const calculateNambahHubungan = getUserPasanganAct.hubungan + nambahHubungan
                //     await replaceUserRoleplayHubungan_pasangan(sender, calculateNambahHubungan)

                //     // const randomSendText = [`‚âß Ôπè ‚â¶ Bo-Boleh, pake pengaman ya~\nDan ##Cencored##`,
                //     // `Ce-Cepat selesaikan, A-aku malu ÔºûÔπèÔºú\nDan ##Cencored##`,
                //     // `>///<, a-anu. Di rumahku aja, gak ada orang\nDan ##Cencored##`,
                //     // `ÔºûÔπèÔºú O-Oke\nDan ##Cencored##`,
                //     // `Ce-Cepat selesaikan, A-aku malu ÔºûÔπèÔºú\nDan ##Cencored## `
                //     // ]

                //     await addUserRoleplayXP_pasangan(sender, jumlahXPNambah)
                //     await rem.sendText(from, `‚âß Ôπè ‚â¶ Bo-Boleh, pake pengaman ya~\nPlak-plak ##Cencored## Ahh~`)
                //     rem.sendText(from, `Hubungan ${getUserPasanganAct.hubungan} => ${calculateNambahHubungan}`)
                // } else if (parseFloat(selectedButtonIdBeUAct[4].split('answer=')[1]) == '2') {
                //     const nambahHubungan = 45
                //     const jumlahXPNambah = Math.floor(Math.random() * 10) + 990
                //     const calculateNambahHubungan = getUserPasanganAct.hubungan + nambahHubungan
                //     await replaceUserRoleplayHubungan_pasangan(sender, calculateNambahHubungan)

                //     await addUserRoleplayXP_pasangan(sender, jumlahXPNambah)
                //     await rem.sendText(from, `Ce-Cepat selesaikan, A-aku malu ÔºûÔπèÔºú\nSighh-sigh ##Cencored## AHhh~`)
                //     rem.sendText(from, `Hubungan ${getUserPasanganAct.hubungan} => ${calculateNambahHubungan}`)
                // } else if (parseFloat(selectedButtonIdBeUAct[4].split('answer=')[1]) == '3') {
                //     const nambahHubungan = 40
                //     const jumlahXPNambah = Math.floor(Math.random() * 10) + 970
                //     const calculateNambahHubungan = getUserPasanganAct.hubungan + nambahHubungan
                //     await replaceUserRoleplayHubungan_pasangan(sender, calculateNambahHubungan)

                //     await addUserRoleplayXP_pasangan(sender, jumlahXPNambah)
                //     await rem.sendText(from, `Ce-Cepat selesaikan, A-aku malu ÔºûÔπèÔºú\nSighh-sigh ##Cencored## AHhh~`)
                //     rem.sendText(from, `Hubungan ${getUserPasanganAct.hubungan} => ${calculateNambahHubungan}`)
                // }
                }
            }

            /* Number 8, m8 */
            else if(selectedButtonIdBeUAct[1] == 'actionadvance' && selectedButtonIdBeUAct[2] == '8' || selectedButtonIdBeUAct[2] == 'm8') {
                if(selectedButtonIdBeUAct[3] != sender) return

                const nambahHubungan = 6
                const jumlahXPNambah = Math.floor(Math.random() * 10) + 620
                const calculateNambahHubungan = getUserPasanganAct.hubungan + nambahHubungan

                await replaceUserRoleplayHubungan_pasangan(sender, calculateNambahHubungan)
                await addUserRoleplayXP_pasangan(sender, jumlahXPNambah)
                await rem.sendText(from, `Kamu mengajak ${getUserPasanganAct.nama} Jalan - Jalan`)
                rem.sendText(from, `Hubungan ${getUserPasanganAct.hubungan} => ${calculateNambahHubungan}`)
            } 
            
            /* Number 4, m4 */
            else if(selectedButtonIdBeUAct[1] == 'actionadvance' && selectedButtonIdBeUAct[2] == '4' || selectedButtonIdBeUAct[2] == 'm4') {
                if(selectedButtonIdBeUAct[3] != sender) return

                if(parseFloat(selectedButtonIdBeUAct[4].split('answer=')[1]) == '1') {
                    const nambahHubungan = 2
                    const uangNgurang = 5000
                    const jumlahXPNambah = Math.floor(Math.random() * 10) + 430
                    if(getMoneyActUser < uangNgurang) return rem.sendText(from, 'Uang kamu tidak cukup!')

                    const calculateNambahHubungan = getUserPasanganAct.hubungan + nambahHubungan
                    await replaceUserRoleplayHubungan_pasangan(sender, calculateNambahHubungan)
                    await addUserRoleplayXP_pasangan(sender, jumlahXPNambah)
                    await MinMoney(sender, uangNgurang)
                    await rem.sendText(from, `Kamu makan di warung bersama ${getUserPasanganAct.nama}`)
                    rem.sendText(from, `Hubungan ${getUserPasanganAct.hubungan} => ${calculateNambahHubungan}\nMoney -Rp. ${numberWithCommas(fixNumberE(uangNgurang))}`)
                } else if(parseFloat(selectedButtonIdBeUAct[4].split('answer=')[1]) == '2') {
                    const nambahHubungan = 4
                    const uangNgurang = 20000
                    const jumlahXPNambah = Math.floor(Math.random() * 10) + 630
                    if(getMoneyActUser < uangNgurang) return rem.sendText(from, 'Uang kamu tidak cukup!')

                    const calculateNambahHubungan = getUserPasanganAct.hubungan + nambahHubungan
                    await replaceUserRoleplayHubungan_pasangan(sender, calculateNambahHubungan)
                    await addUserRoleplayXP_pasangan(sender, jumlahXPNambah)
                    await MinMoney(sender, uangNgurang)
                    await rem.sendText(from, `Kamu makan di Restoran bersama ${getUserPasanganAct.nama}`)
                    rem.sendText(from, `Hubungan ${getUserPasanganAct.hubungan} => ${calculateNambahHubungan}\nMoney -Rp. ${numberWithCommas(fixNumberE(uangNgurang))}`) 
                } else if(parseFloat(selectedButtonIdBeUAct[4].split('answer=')[1]) == '3') {
                    const nambahHubungan = 6
                    const uangNgurang = 50000
                    const jumlahXPNambah = Math.floor(Math.random() * 10) + 830
                    if(getMoneyActUser < uangNgurang) return rem.sendText(from, 'Uang kamu tidak cukup!')

                    const calculateNambahHubungan = getUserPasanganAct.hubungan + nambahHubungan
                    await replaceUserRoleplayHubungan_pasangan(sender, calculateNambahHubungan)
                    await addUserRoleplayXP_pasangan(sender, jumlahXPNambah)
                    await MinMoney(sender, uangNgurang)
                    await rem.sendText(from, `Kamu makan di Restoran Mewah bersama ${getUserPasanganAct.nama}`)
                    rem.sendText(from, `Hubungan ${getUserPasanganAct.hubungan} => ${calculateNambahHubungan}\nMoney -Rp. ${numberWithCommas(fixNumberE(uangNgurang))}`)
                } else {
                    const IdButtonAutoDelete = GenerateSerialNumber("000000000000000")
                    await _mongo_UserSchema.updateOne({ iId: sender }, { $set: { "rl.antispamAct": 0 } })
                    await rem.sendButtons(from, `Makan dimana?\nTerserah\n\n${pushname}`, shuffleArray([{id: `${prefix}act actionadvance 4 ${sender} answer=1 oldMsgId=${id}&&${IdButtonAutoDelete}&&${randomMilihReply1}${randomMilihReply2}${randomMilihReply3}&&true_response2`, text: `Warung Sederhana`}, {id: `${prefix}act actionadvance 4 ${sender} answer=2 oldMsgId=${id}&&${IdButtonAutoDelete}&&${randomMilihReply1}${randomMilihReply2}${randomMilihReply3}&&true_response2`, text: `Restoran`}, {id: `${prefix}act actionadvance 4 ${sender} answer=3 oldMsgId=${id}&&${IdButtonAutoDelete}&&${randomMilihReply1}${randomMilihReply2}${randomMilihReply3}&&true_response2`, text: `Restoran Mewah`}]), '', '')
                    //createAutoDelete(IdButtonAutoDelete, buttonMessageSend.key.id, buttonMessageSend.key.remoteJid)
                }
            } 
            
            /* Number 5, m5, b7 */
            else if(selectedButtonIdBeUAct[1] == 'actionadvance' && selectedButtonIdBeUAct[2] == '5' || selectedButtonIdBeUAct[2] == 'm5' || selectedButtonIdBeUAct[2] == 'b7') {
                if(selectedButtonIdBeUAct[3] != sender) return
                const nambahHubungan = 2
                const jumlahXPNambah = Math.floor(Math.random() * 10) + 280
                const randomTextReplyAct5 = ['‚óëÔπè‚óê', 
                '(^///^)', 
                '>_<', 
                '>.<', 
                'ÔºûÔπèÔºú', 
                '~(>_<„ÄÇ)Ôºº', 
                '~~>_<~~', 
                '(‚âßÔπè ‚â¶)', 
                'O.O', 
                'ÔºûÔ∏øÔºú', 
                'ÔºàÔºû‰∫∫ÔºúÔºõÔºâ'
                ]

                var randomMilihReplyAct5 = Math.floor(Math.random() * 11)

                const calculateNambahHubungan = getUserPasanganAct.hubungan + nambahHubungan
                await replaceUserRoleplayHubungan_pasangan(sender, calculateNambahHubungan)
                await addUserRoleplayXP_pasangan(sender, jumlahXPNambah)
                await rem.sendText(from, randomTextReplyAct5[randomMilihReplyAct5])
                rem.sendText(from, `Hubungan ${getUserPasanganAct.hubungan} => ${calculateNambahHubungan}`)  
            } 
            
            /* Number 6 */
            else if(selectedButtonIdBeUAct[1] == 'actionadvance' && selectedButtonIdBeUAct[2] == '6') {
                if(selectedButtonIdBeUAct[3] != sender) return
                
                if(getUserPasanganAct.hubungan < 30) {
                    const kurangHubungan = 3
                    const calculateKurangHubungan = getUserPasanganAct.hubungan - kurangHubungan
                    await replaceUserRoleplayHubungan_pasangan(sender, calculateKurangHubungan)

                    await rem.sendText(from, 'ÔºûÔ∏øÔºú a-anu, mungkin ini terlalu cepat?, aku belum siap ÔºûÔπèÔºú')
                    rem.sendText(from, `Hubungan ${getUserPasanganAct.hubungan} => ${calculateKurangHubungan}`)
                } else {
                    const nambahHubungan = 8
                    const jumlahXPNambah = Math.floor(Math.random() * 10) + 650
                    const calculateNambahHubungan = getUserPasanganAct.hubungan + nambahHubungan
                    await replaceUserRoleplayHubungan_pasangan(sender, calculateNambahHubungan)

                    const randomSendTextAct6 = [`k-ke-kenapa mencium ku?? ÔºàÔºû‰∫∫ÔºúÔºõÔºâ`,
                    '‚óëÔπè‚óê', 
                    '(^///^)', 
                    '>_<', 
                    '>.<', 
                    'ÔºûÔπèÔºú', 
                    '~(>_<„ÄÇ)Ôºº', 
                    '~~>_<~~', 
                    '(‚âßÔπè ‚â¶)', 
                    'O.O', 
                    'ÔºûÔ∏øÔºú', 
                    'ÔºàÔºû‰∫∫ÔºúÔºõÔºâ']

                    await addUserRoleplayXP_pasangan(sender, jumlahXPNambah)
                    await rem.sendText(from, randomSendTextAct6[Math.floor(Math.random() * 12)])
                    rem.sendText(from, `Hubungan ${getUserPasanganAct.hubungan} => ${calculateNambahHubungan}`)
                }
            } 
            
            /* Number 7, m7, b9 */
            else if(selectedButtonIdBeUAct[1] == 'actionadvance' && selectedButtonIdBeUAct[2] == '7' || selectedButtonIdBeUAct[2] == 'm7' || selectedButtonIdBeUAct[2] == 'b9') {
                if(selectedButtonIdBeUAct[3] != sender) return

                const nambahHubungan = 4
                const jumlahXPNambah = Math.floor(Math.random() * 10) + 290
                const calculateNambahHubungan = getUserPasanganAct.hubungan + nambahHubungan
                await replaceUserRoleplayHubungan_pasangan(sender, calculateNambahHubungan)

                await addUserRoleplayXP_pasangan(sender, jumlahXPNambah)
                await rem.sendText(from, `Peluuuk~ \(Ôø£Ô∏∂Ôø£*\))`)
                rem.sendText(from, `Hubungan ${getUserPasanganAct.hubungan} => ${calculateNambahHubungan}`)
            } 
            
            /* Number 9, 10 */
            else if(selectedButtonIdBeUAct[1] == 'actionadvance' && selectedButtonIdBeUAct[2] == '9' || selectedButtonIdBeUAct[2] == '10') {
                if(selectedButtonIdBeUAct[3] != sender) return
                
                if(getUserPasanganAct.hubungan < 60) {
                    if(message.selectedButtonId != undefined && selectedButtonIdBeUAct[4] == '<60' && parseFloat(selectedButtonIdBeUAct[5].split('answer=')[1]) == '1') {
                        const nambahHubungan = 5
                        const jumlahXPNambah = Math.floor(Math.random() * 10) + 890
                        const calculateNambahHubungan = getUserPasanganAct.hubungan + nambahHubungan
                        await replaceUserRoleplayHubungan_pasangan(sender, calculateNambahHubungan)

                        await addUserRoleplayXP_pasangan(sender, jumlahXPNambah)
                        await rem.sendText(from, `Ohayoo~\n\n_Malam itu tidak terjadi apa apa_`)
                        rem.sendText(from, `Hubungan ${getUserPasanganAct.hubungan} => ${calculateNambahHubungan}`)
                    } else if(message.selectedButtonId != undefined && selectedButtonIdBeUAct[4] == '<60' && parseFloat(selectedButtonIdBeUAct[5].split('answer=')[1]) == '2') {
                        const calculatePersentageKetemuAct = Math.floor(Math.random() * 100)
                        const persentageKetemuAct = 30

                        /* Ketemu */
                        if(calculatePersentageKetemuAct < persentageKetemuAct) {
                            const kurangHubungan = 8
                            const calculateKurangHubungan = getUserPasanganAct.hubungan - kurangHubungan
                            await replaceUserRoleplayHubungan_pasangan(sender, calculateKurangHubungan)
        
                            await rem.sendText(from, `Ôºà*„Çú„Éº„Çú*ÔºâEmmm ${pushname}, kamu ngapain?`)
                            rem.sendText(from, `Hubungan ${getUserPasanganAct.hubungan} => ${calculateKurangHubungan}`)
                        } else {
                            const nambahHubungan = 0
                            const jumlahXPNambah = Math.floor(Math.random() * 10) + 1300
                            const calculateNambahHubungan = getUserPasanganAct.hubungan + nambahHubungan
                            await replaceUserRoleplayHubungan_pasangan(sender, calculateNambahHubungan)

                            await addUserRoleplayXP_pasangan(sender, jumlahXPNambah)
                            await rem.sendText(from, `Ohayoo~\n\n_Malam itu kamu ngocox dan tidak diketahui_`)
                            rem.sendText(from, `Hubungan ${getUserPasanganAct.hubungan} => ${calculateNambahHubungan}`)
                        }

                    } else if(message.selectedButtonId != undefined && selectedButtonIdBeUAct[4] == '<60' && parseFloat(selectedButtonIdBeUAct[5].split('answer=')[1]) == '3') {
                        const calculatePersentageKetemuAct = Math.floor(Math.random() * 100)
                        const persentageKetemuAct = 80

                        /* Ketemu */
                        if(calculatePersentageKetemuAct < persentageKetemuAct) {
                            const kurangHubungan = 40
                            const calculateKurangHubungan = getUserPasanganAct.hubungan - kurangHubungan
                            await replaceUserRoleplayHubungan_pasangan(sender, calculateKurangHubungan)
        
                            await rem.sendText(from, `„ÉΩÔºà‚âß‚ñ°‚â¶Ôºâ„Éé HENTAII!!!\n\n_Kamu ketahuan!_`)
                            rem.sendText(from, `Hubungan ${getUserPasanganAct.hubungan} => ${calculateKurangHubungan}`)
                        } else {
                            const nambahHubungan = 0
                            const jumlahXPNambah = Math.floor(Math.random() * 10) + 2100
                            const calculateNambahHubungan = getUserPasanganAct.hubungan + nambahHubungan
                            await replaceUserRoleplayHubungan_pasangan(sender, calculateNambahHubungan)

                            await addUserRoleplayXP_pasangan(sender, jumlahXPNambah)
                            await rem.sendText(from, `Ohayoo~\n\n_Malam itu kamu eseg2 dan tidak diketahui_`)
                            rem.sendText(from, `Hubungan ${getUserPasanganAct.hubungan} => ${calculateNambahHubungan}`)
                        }
                        
                    } else {
                        const IdButtonAutoDelete = GenerateSerialNumber("000000000000000")
                        await _mongo_UserSchema.updateOne({ iId: sender }, { $set: { "rl.antispamAct": 0 } })
                        await  rem.sendButtons(from, `Ti-Tidur doang ya?\nJANGAAN ANEH ANEH!!!!! o(‰∏ÄÔ∏ø‰∏Ä+)o\nOyasumi~\n\n${pushname}`, shuffleArray([{id: `${prefix}act actionadvance 9 ${sender} <60 answer=1 oldMsgId=${id}&&${IdButtonAutoDelete}&&${randomMilihReply1}${randomMilihReply2}${randomMilihReply3}&&true_response2`, text: `Tahan Nafsu #KUATIMAN`}, {id: `${prefix}act actionadvance 9 ${sender} <60 answer=2 oldMsgId=${id}&&${IdButtonAutoDelete}&&${randomMilihReply1}${randomMilihReply2}${randomMilihReply3}&&true_response2`, text: `Ngocox dibelakang`}, {id: `${prefix}act actionadvance 9 ${sender} <60 answer=3 oldMsgId=${id}&&${IdButtonAutoDelete}&&${randomMilihReply1}${randomMilihReply2}${randomMilihReply3}&&true_response2`, text: `Eseg2 dikit`}]), '', '')
                        //createAutoDelete(IdButtonAutoDelete, buttonMessageSend.key.id, buttonMessageSend.key.remoteJid)
                    }
                } else {

                    const nambahHubungan = 6
                    const jumlahXPNambah = Math.floor(Math.random() * 10) + 680
                    const calculateNambahHubungan = getUserPasanganAct.hubungan + nambahHubungan
                    await replaceUserRoleplayHubungan_pasangan(sender, calculateNambahHubungan)

                    await addUserRoleplayXP_pasangan(sender, jumlahXPNambah)
                    await rem.sendText(from, `Kamu tidur bareng bersama ${getUserPasanganAct.nama}`)
                    rem.sendText(from, `Hubungan ${getUserPasanganAct.hubungan} => ${calculateNambahHubungan}`)
                }
            }

            /* Number 11, m10, b11 */
            else if(selectedButtonIdBeUAct[1] == 'actionadvance' && selectedButtonIdBeUAct[2] == '11' || selectedButtonIdBeUAct[2] == 'm10' || selectedButtonIdBeUAct[2] == 'b11') {
                if(selectedButtonIdBeUAct[3] != sender) return

                if(parseFloat(selectedButtonIdBeUAct[4].split('answer=')[1]) == '1') {
                    const nambahHubungan = 20
                    const uangNgurang = Math.floor(5000000 * getUserPasanganAct.anak.length)
                    const jumlahXPNambah = Math.floor(Math.random() * 15) + 3550
                    if(getMoneyActUser < uangNgurang) return rem.sendText(from, 'Uang kamu tidak cukup!')

                    const calculateNambahHubungan = getUserPasanganAct.hubungan + nambahHubungan
                    await replaceUserRoleplayHubungan_pasangan(sender, calculateNambahHubungan)
                    await addUserRoleplayXP_pasangan(sender, jumlahXPNambah)
                    await MinMoney(sender, uangNgurang)
                    await rem.sendText(from, `Kamu mengajak HoneyMoon ${getUserPasanganAct.nama} ke Swiss`)
                    rem.sendText(from, `Hubungan ${getUserPasanganAct.hubungan} => ${calculateNambahHubungan}\nUang : -${uangNgurang}`)
                } else if(parseFloat(selectedButtonIdBeUAct[4].split('answer=')[1]) == '2') {
                    const nambahHubungan = 20
                    const uangNgurang = Math.floor(6000000 * getUserPasanganAct.anak.length)
                    const jumlahXPNambah = Math.floor(Math.random() * 15) + 3550
                    if(getMoneyActUser < uangNgurang) return rem.sendText(from, 'Uang kamu tidak cukup!')

                    const calculateNambahHubungan = getUserPasanganAct.hubungan + nambahHubungan
                    await replaceUserRoleplayHubungan_pasangan(sender, calculateNambahHubungan)
                    await addUserRoleplayXP_pasangan(sender, jumlahXPNambah)
                    await MinMoney(sender, uangNgurang)
                    await rem.sendText(from, `Kamu mengajak liburan ${getUserPasanganAct.nama} ke Jerman`)
                    rem.sendText(from, `Hubungan ${getUserPasanganAct.hubungan} => ${calculateNambahHubungan}\nUang : -${uangNgurang}`)
                } else if(parseFloat(selectedButtonIdBeUAct[4].split('answer=')[1]) == '3') {
                    const nambahHubungan = 20
                    const uangNgurang = Math.floor(5500000 * getUserPasanganAct.anak.length)
                    const jumlahXPNambah = Math.floor(Math.random() * 15) + 3550
                    if(getMoneyActUser < uangNgurang) return rem.sendText(from, 'Uang kamu tidak cukup!')

                    const calculateNambahHubungan = getUserPasanganAct.hubungan + nambahHubungan
                    await replaceUserRoleplayHubungan_pasangan(sender, calculateNambahHubungan)
                    await addUserRoleplayXP_pasangan(sender, jumlahXPNambah)
                    await MinMoney(sender, uangNgurang)
                    await rem.sendText(from, `Kamu mengajak liburan ${getUserPasanganAct.nama} ke China`)
                    rem.sendText(from, `Hubungan ${getUserPasanganAct.hubungan} => ${calculateNambahHubungan}\nUang : -${uangNgurang}`)
                } else {
                    const IdButtonAutoDelete = GenerateSerialNumber("000000000000000")
                    await _mongo_UserSchema.updateOne({ iId: sender }, { $set: { "rl.antispamAct": 0 } })
                    await rem.sendButtons(from, `Honey Moon dimana?\nTerserah\n\n${pushname}`, shuffleArray([{id: `${prefix}act actionadvance b11 ${sender} answer=1 oldMsgId=${id}&&${IdButtonAutoDelete}&&${randomMilihReply1}${randomMilihReply2}${randomMilihReply3}&&true_response2`, text: `Honey Moon ke Swiss`}, {id: `${prefix}act actionadvance b11 ${sender} answer=2 oldMsgId=${id}&&${IdButtonAutoDelete}&&${randomMilihReply1}${randomMilihReply2}${randomMilihReply3}&&true_response2`, text: `Honey Moon ke Jerman`}, {id: `${prefix}act actionadvance b11 ${sender} answer=3 oldMsgId=${id}&&${IdButtonAutoDelete}&&${randomMilihReply1}${randomMilihReply2}${randomMilihReply3}&&true_response2`, text: `Honey Moon ke China`}]), '', '')
                    //createAutoDelete(IdButtonAutoDelete, buttonMessageSend.key.id, buttonMessageSend.key.remoteJid)
                }
            }
            
            /* Number 12 */
            else if(selectedButtonIdBeUAct[1] == 'actionadvance' && selectedButtonIdBeUAct[2] == '12') {
                if(selectedButtonIdBeUAct[3] != sender) return

                if(getUserPasanganAct.hubungan < 70) {
                    const kurangHubungan = 40
                    const calculateKurangHubungan = getUserPasanganAct.hubungan - kurangHubungan
                    await replaceUserRoleplayHubungan_pasangan(sender, calculateKurangHubungan)
        
                    await rem.sendText(from, `„ÉΩÔºà‚âß‚ñ°‚â¶Ôºâ„Éé HENTAII!!!`)
                    rem.sendText(from, `Hubungan ${getUserPasanganAct.hubungan} => ${calculateKurangHubungan}`)
                } else {
                    const nambahHubungan = 2
                    const jumlahXPNambah = Math.floor(Math.random() * 10) + 180
                    const calculateNambahHubungan = getUserPasanganAct.hubungan + nambahHubungan
                    await replaceUserRoleplayHubungan_pasangan(sender, calculateNambahHubungan)
    
                    await addUserRoleplayXP_pasangan(sender, jumlahXPNambah)
                    await rem.sendText(from, `Ôºà*„Çú„Éº„Çú*Ôºâ Emm oke\n\n##Cencored##`)
                    rem.sendText(from, `Hubungan ${getUserPasanganAct.hubungan} => ${calculateNambahHubungan}`)
                }
            }

            /* Number 13 NIKAH */
            else if(selectedButtonIdBeUAct[1] == 'actionadvance' && selectedButtonIdBeUAct[2] == '14') {
                if(selectedButtonIdBeUAct[3] != sender) return

                if(getUserPasanganAct.hubungan <= 99) return rem.sendText(from, 'Tingkat Hubungan kamu belum mencapai 100%')
                if(getUserPasanganAct.level < 5) return rem.sendText(from, 'Level Pasangan kamu belum mencapai 5')

                rem.sendButtons(from, `Yakin Untuk Menikah?\n\n${pushname}`, shuffleArray([{id: `${prefix}pdlmr lamar ${sender} oldMsgId=${id}&&${chatId}&&${randomMilihReply1}${randomMilihReply2}${randomMilihReply3}&&true_response2`, text: 'Yakin'}, {id: `NoLamar`, text: 'Tidak'}]), '', '')
            }

            /* Number m1, m2, m9, m11 */
            else if(selectedButtonIdBeUAct[1] == 'actionadvance' && selectedButtonIdBeUAct[2] == 'm1' || selectedButtonIdBeUAct[2] == 'm2' || selectedButtonIdBeUAct[2] == 'm9' || selectedButtonIdBeUAct[2] == 'm11') {
                if(selectedButtonIdBeUAct[3] != sender) return

                if(getUserPasanganAct.status2.startsWith('Hamil') || getUserPasanganAct.status2.startsWith('ConfirmHamil')) return rem.sendText(from, 'Aku hamil tau!, Sabar napa')
                if(parseFloat(selectedButtonIdBeUAct[4].split('answer=')[1]) == '1') {
                    const nambahHubungan = 30
                    const PersenPerHml = _userDb?.rl?.gender != getUserPasanganAct.gender ? 40 : 0
                    const jumlahXPNambah = Math.floor(Math.random() * 10) + 2900
                    const calculatePersenHamil = Math.floor(Math.random() * 100)
                    const calculateNambahHubungan = getUserPasanganAct.hubungan + nambahHubungan
                    await replaceUserRoleplayHubungan_pasangan(sender, calculateNambahHubungan)
                    await addUserRoleplayXP_pasangan(sender, jumlahXPNambah)

                    if(calculatePersenHamil < PersenPerHml) {
                        await rem.sendText(from, `Ha~`)
                        await replaceUserRoleplayStatus2_pasangan(sender, 'Hamil.1')
                        rem.sendButtons(from, `Hubungan ${getUserPasanganAct.hubungan} => ${calculateNambahHubungan}`, [{id: 'ActPassToPd oldMsgId=${id}&&${chatId}&&${randomMilihReply1}${randomMilihReply2}${randomMilihReply3}', text: `${prefix}pd`}], '', '')
                    } else if(calculatePersenHamil > PersenPerHml) {
                        await rem.sendText(from, `Ha~`)
                        rem.sendText(from, `Hubungan ${getUserPasanganAct.hubungan} => ${calculateNambahHubungan}`)
                    }

                } else if(parseFloat(selectedButtonIdBeUAct[4].split('answer=')[1])== '2') {
                    const nambahHubungan = 10
                    const jumlahXPNambah = Math.floor(Math.random() * 10) + 2400
                    const calculateNambahHubungan = getUserPasanganAct.hubungan + nambahHubungan
                    await replaceUserRoleplayHubungan_pasangan(sender, calculateNambahHubungan)
                    
                    await addUserRoleplayXP_pasangan(sender, jumlahXPNambah)
                    await rem.sendText(from, `Kok diluar :<`)
                    rem.sendText(from, `Hubungan ${getUserPasanganAct.hubungan} => ${calculateNambahHubungan}`)
                } else {
                    const IdButtonAutoDelete = GenerateSerialNumber("000000000000000")
                    await _mongo_UserSchema.updateOne({ iId: sender }, { $set: { "rl.antispamAct": 0 } })
                    await rem.sendButtons(from, `Pilih mana?\n\n${pushname}`, shuffleArray([{id: `${prefix}act actionadvance m1 ${sender} answer=1 oldMsgId=${id}&&${IdButtonAutoDelete}&&${randomMilihReply1}${randomMilihReply2}${randomMilihReply3}&&true_response2`, text: 'Di Dalam'}, {id: `${prefix}act actionadvance m1 ${sender} answer=2 oldMsgId=${id}&&${IdButtonAutoDelete}&&${randomMilihReply1}${randomMilihReply2}${randomMilihReply3}&&true_response2`, text: 'Di Luar'}]), '', '')
                    //createAutoDelete(IdButtonAutoDelete, buttonMessageSend.key.id, buttonMessageSend.key.remoteJid)
                }
            }

            /* Number m6, b8 */
            else if(selectedButtonIdBeUAct[1] == 'actionadvance' && selectedButtonIdBeUAct[2] == 'm6' || selectedButtonIdBeUAct[2] == 'b8') {
                if(selectedButtonIdBeUAct[3] != sender) return

                const nambahHubungan = 8
                const jumlahXPNambah = Math.floor(Math.random() * 10) + 1830
                const calculateNambahHubungan = getUserPasanganAct.hubungan + nambahHubungan
                await replaceUserRoleplayHubungan_pasangan(sender, calculateNambahHubungan)

                const randomSendTextActm6 = [`ÔºàÔºû‰∫∫ÔºúÔºõÔºâ`,
                '‚óëÔπè‚óê', 
                '(^///^)', 
                '>_<', 
                '>.<', 
                'ÔºûÔπèÔºú', 
                '~(>_<„ÄÇ)Ôºº', 
                '~~>_<~~', 
                '(‚âßÔπè ‚â¶)', 
                'O.O', 
                'ÔºûÔ∏øÔºú', 
                'ÔºàÔºû‰∫∫ÔºúÔºõÔºâ']

                await addUserRoleplayXP_pasangan(sender, jumlahXPNambah)
                await rem.sendText(from, randomSendTextActm6[Math.floor(Math.random() * 12)])
                rem.sendText(from, `Hubungan ${getUserPasanganAct.hubungan} => ${calculateNambahHubungan}`)
            }

            /* Number b1, b2, b10, b13 */
            else if(selectedButtonIdBeUAct[1] == 'actionadvance' && selectedButtonIdBeUAct[2] == 'b1' || selectedButtonIdBeUAct[2] == 'b2' || selectedButtonIdBeUAct[2] == 'b10' ||  selectedButtonIdBeUAct[2] == 'b13') {
                if(selectedButtonIdBeUAct[3] != sender) return

                if(getUserPasanganAct.status2.startsWith('Hamil') || getUserPasanganAct.status2.startsWith('ConfirmHamil')) return rem.sendText(from, 'Aku hamil tau!, Sabar napa')

                const randomMessageKeciduk = [`Anu... papa lagi latian p..push u..up ya push up, trus mama lagi hitungin udah b..berapa k..kali p..push up n..nya\n\n_Timdak jadi ngeue_`, `'Papa sama Mama ngapain?\n\n_Timdak jadi ngeue_'`, `_Mendadak ada tamu,...yah tidak jadi kentu_ `, `Anakmu menerobos kekamar\n\n_Timdak jadi ngeue_`]

                const hoursCheckActB1 = moment().hours()
                let persenKetahuan = 20
                const calculatePersenKetahuan = Math.floor(Math.random() * 100)
                if (parseFloat(selectedButtonIdBeUAct[4].split('answer=')[1]) == '1') {
                    const nambahHubungan = 30
                    const PersenPerHml = _userDb?.rl?.gender != getUserPasanganAct.gender ? 40 : 0
                    const jumlahXPNambah = Math.floor(Math.random() * 10) + 3400
                    const calculatePersenHamil = Math.floor(Math.random() * 100)
                    const calculateNambahHubungan = getUserPasanganAct.hubungan + nambahHubungan
                    await replaceUserRoleplayHubungan_pasangan(sender, calculateNambahHubungan)
                    await addUserRoleplayXP_pasangan(sender, jumlahXPNambah)

                    console.log(PersenPerHml)

                    if(calculatePersenHamil < PersenPerHml) {
                        await rem.sendText(from, `Ha~`)
                        await replaceUserRoleplayStatus2_pasangan(sender, 'Hamil.1')
                        rem.sendButtons(from, `Hubungan ${getUserPasanganAct.hubungan} => ${calculateNambahHubungan}`, [{id: 'ActPassToPd oldMsgId=${id}&&${chatId}&&${randomMilihReply1}${randomMilihReply2}${randomMilihReply3}', text: `${prefix}pd`}], '', '')
                    } else if(calculatePersenHamil > PersenPerHml) {
                        await rem.sendText(from, `Ha~`)
                        rem.sendText(from, `Hubungan ${getUserPasanganAct.hubungan} => ${calculateNambahHubungan}`)
                    }
                } else if(parseFloat(selectedButtonIdBeUAct[4].split('answer=')[1]) == '2') {
                    const nambahHubungan = 10
                    const jumlahXPNambah = Math.floor(Math.random() * 10) + 3000
                    const calculateNambahHubungan = getUserPasanganAct.hubungan + nambahHubungan
                    await replaceUserRoleplayHubungan_pasangan(sender, calculateNambahHubungan)
                    await addUserRoleplayXP_pasangan(sender, jumlahXPNambah)
                    
                    await rem.sendText(from, `Kok diluar :<`)
                    rem.sendText(from, `Hubungan ${getUserPasanganAct.hubungan} => ${calculateNambahHubungan}`)
                } else {
                    if(hoursCheckActB1 <= 24 && hoursCheckActB1 >= 21) {
                        if(getUserPasanganAct.anak.length >= 75) {
                            persenKetahuan = 90
                        } else if(getUserPasanganAct.anak.length >= 70) {
                            persenKetahuan = 90
                        } else if(getUserPasanganAct.anak.length >= 65) {
                            persenKetahuan = 90
                        } else if(getUserPasanganAct.anak.length >= 60) {
                            persenKetahuan =  90
                        } else if(getUserPasanganAct.anak.length >= 55) {
                            persenKetahuan = 90
                        } else if(getUserPasanganAct.anak.length >= 50) {
                            persenKetahuan = 85
                        } else if(getUserPasanganAct.anak.length >= 45) {
                            persenKetahuan = 80
                        } else if(getUserPasanganAct.anak.length >= 40) {
                            persenKetahuan = 75
                        } else if(getUserPasanganAct.anak.length >= 35) {
                            persenKetahuan = 70
                        } else if(getUserPasanganAct.anak.length >= 30) {
                            persenKetahuan = 65
                        } else if(getUserPasanganAct.anak.length >= 25) {
                            persenKetahuan = 60
                        } else if(getUserPasanganAct.anak.length >= 20) {
                            persenKetahuan = 55
                        } else if(getUserPasanganAct.anak.length >= 15) {
                            persenKetahuan = 50
                        } else if(getUserPasanganAct.anak.length >= 10) {
                            persenKetahuan = 45
                        } else if(getUserPasanganAct.anak.length >= 7) {
                            persenKetahuan = 40
                        } else if(getUserPasanganAct.anak.length >= 5) {
                            persenKetahuan = 35
                        } else if(getUserPasanganAct.anak.length >= 4) {
                            persenKetahuan = 30
                        } else if(getUserPasanganAct.anak.length >= 3) {
                            persenKetahuan = 25
                        } else if(getUserPasanganAct.anak.length >= 2) {
                            persenKetahuan = 20
                        }
                        console.log(persenKetahuan + '_2')
                    } else if(hoursCheckActB1 >= 0 && hoursCheckActB1 <= 5) {
                        if(getUserPasanganAct.anak.length >= 75) {
                            persenKetahuan = 90
                        } else if(getUserPasanganAct.anak.length >= 70) {
                            persenKetahuan = 90
                        } else if(getUserPasanganAct.anak.length >= 65) {
                            persenKetahuan = 90
                        } else if(getUserPasanganAct.anak.length >= 60) {
                            persenKetahuan =  90
                        } else if(getUserPasanganAct.anak.length >= 55) {
                            persenKetahuan = 85
                        } else if(getUserPasanganAct.anak.length >= 50) {
                            persenKetahuan = 80
                        } else if(getUserPasanganAct.anak.length >= 45) {
                            persenKetahuan = 75
                        } else if(getUserPasanganAct.anak.length >= 40) {
                            persenKetahuan = 70
                        } else if(getUserPasanganAct.anak.length >= 35) {
                            persenKetahuan = 65
                        } else if(getUserPasanganAct.anak.length >= 30) {
                            persenKetahuan = 60
                        } else if(getUserPasanganAct.anak.length >= 25) {
                            persenKetahuan = 55
                        } else if(getUserPasanganAct.anak.length >= 20) {
                            persenKetahuan = 50
                        } else if(getUserPasanganAct.anak.length >= 15) {
                            persenKetahuan = 45
                        } else if(getUserPasanganAct.anak.length >= 10) {
                            persenKetahuan = 40
                        } else if(getUserPasanganAct.anak.length >= 7) {
                            persenKetahuan = 35
                        } else if(getUserPasanganAct.anak.length >= 5) {
                            persenKetahuan = 30
                        } else if(getUserPasanganAct.anak.length >= 4) {
                            persenKetahuan = 25
                        } else if(getUserPasanganAct.anak.length >= 3) {
                            persenKetahuan = 20
                        } else if(getUserPasanganAct.anak.length >= 2) {
                            persenKetahuan = 15
                        }
                        console.log(persenKetahuan + '_2')
                    } else {
                        if(getUserPasanganAct.anak.length >= 75) {
                            persenKetahuan = 95
                        } else if(getUserPasanganAct.anak.length >= 70) {
                            persenKetahuan = 95
                        } else if(getUserPasanganAct.anak.length >= 65) {
                            persenKetahuan = 95
                        } else if(getUserPasanganAct.anak.length >= 60) {
                            persenKetahuan =  95
                        } else if(getUserPasanganAct.anak.length >= 55) {
                            persenKetahuan = 95
                        } else if(getUserPasanganAct.anak.length >= 50) {
                            persenKetahuan = 95
                        } else if(getUserPasanganAct.anak.length >= 45) {
                            persenKetahuan = 90
                        } else if(getUserPasanganAct.anak.length >= 40) {
                            persenKetahuan = 85
                        } else if(getUserPasanganAct.anak.length >= 35) {
                            persenKetahuan = 80
                        } else if(getUserPasanganAct.anak.length >= 30) {
                            persenKetahuan = 75
                        } else if(getUserPasanganAct.anak.length >= 25) {
                            persenKetahuan = 70
                        } else if(getUserPasanganAct.anak.length >= 20) {
                            persenKetahuan = 65
                        } else if(getUserPasanganAct.anak.length >= 15) {
                            persenKetahuan = 60
                        } else if(getUserPasanganAct.anak.length >= 10) {
                            persenKetahuan = 55
                        } else if(getUserPasanganAct.anak.length >= 7) {
                            persenKetahuan = 50
                        } else if(getUserPasanganAct.anak.length >= 5) {
                            persenKetahuan = 45
                        } else if(getUserPasanganAct.anak.length >= 4) {
                            persenKetahuan = 40
                        } else if(getUserPasanganAct.anak.length >= 3) {
                            persenKetahuan = 35
                        } else if(getUserPasanganAct.anak.length >= 2) {
                            persenKetahuan = 30
                        }
                        console.log(persenKetahuan + '_2')
                    }

                    if(calculatePersenKetahuan < persenKetahuan) {
                        const randomMessageKeciduq = randomMessageKeciduk[Math.floor(Math.random() * randomMessageKeciduk.length)]
                        return await rem.sendText(from, randomMessageKeciduq)
                    }

                    const IdButtonAutoDelete = GenerateSerialNumber("000000000000000")
                    await _mongo_UserSchema.updateOne({ iId: sender }, { $set: { "rl.antispamAct": 0 } })
                    await rem.sendButtons(from, `Pilih mana?\n\n${pushname}`, shuffleArray([{id: `${prefix}act actionadvance b1 ${sender} answer=1 oldMsgId=${id}&&${IdButtonAutoDelete}&&${randomMilihReply1}${randomMilihReply2}${randomMilihReply3}&&true_response2`, text: 'Di Dalam'}, {id: `${prefix}act actionadvance b1 ${sender} answer=2 oldMsgId=${id}&&${IdButtonAutoDelete}&&${randomMilihReply1}${randomMilihReply2}${randomMilihReply3}&&true_response2`, text: 'Di Luar'}]), '', '')
                    //createAutoDelete(IdButtonAutoDelete, buttonMessageSend.key.id, buttonMessageSend.key.remoteJid)
                }
            }

            /* Number 3, m3, b3 */
            else if(selectedButtonIdBeUAct[1] == 'actionadvance' && selectedButtonIdBeUAct[2] == '3' || selectedButtonIdBeUAct[2] == 'm3' || selectedButtonIdBeUAct[2] == 'b3') {
                if(selectedButtonIdBeUAct[3] != sender) return

                if(parseFloat(selectedButtonIdBeUAct[4].split('answer=')[1]) == '1') {
                    const nambahHubungan = 2
                    const uangNgurang = 150000
                    const jumlahXPNambah = Math.floor(Math.random() * 10) + 1500
                    if(getMoneyActUser < uangNgurang) return rem.sendText(from, 'Uang kamu tidak cukup!')

                    const calculateNambahHubungan = getUserPasanganAct.hubungan + nambahHubungan
                    await replaceUserRoleplayHubungan_pasangan(sender, calculateNambahHubungan)
                    await addUserRoleplayXP_pasangan(sender, jumlahXPNambah)
                    await MinMoney(sender, uangNgurang)
                    await rem.sendText(from, `Kamu nonton film di bioskop bersama ${getUserPasanganAct.nama}`)
                    rem.sendText(from, `Hubungan ${getUserPasanganAct.hubungan} => ${calculateNambahHubungan}`)
                } else if(parseFloat(selectedButtonIdBeUAct[4].split('answer=')[1]) == '2') {
                    const nambahHubungan = 4
                    const uangNgurang = 150000
                    const jumlahXPNambah = Math.floor(Math.random() * 10) + 2500
                    if(getMoneyActUser < uangNgurang) return rem.sendText(from, 'Uang kamu tidak cukup!')

                    const calculateNambahHubungan = getUserPasanganAct.hubungan + nambahHubungan
                    await replaceUserRoleplayHubungan_pasangan(sender, calculateNambahHubungan)
                    await addUserRoleplayXP_pasangan(sender, jumlahXPNambah)
                    await MinMoney(sender, uangNgurang)
                    await rem.sendText(from, `Kamu jalan-jalan di mall bersama ${getUserPasanganAct.nama}`)
                    rem.sendText(from, `Hubungan ${getUserPasanganAct.hubungan} => ${calculateNambahHubungan}`)  
                } else if(parseFloat(selectedButtonIdBeUAct[4].split('answer=')[1]) == '3') {
                    const nambahHubungan = 6
                    const uangNgurang = 150000
                    const jumlahXPNambah = Math.floor(Math.random() * 10) + 2500
                    if(getMoneyActUser < uangNgurang) return rem.sendText(from, 'Uang kamu tidak cukup!')

                    const calculateNambahHubungan = getUserPasanganAct.hubungan + nambahHubungan
                    await replaceUserRoleplayHubungan_pasangan(sender, calculateNambahHubungan)
                    await addUserRoleplayXP_pasangan(sender, jumlahXPNambah)
                    await MinMoney(sender, uangNgurang)
                    await rem.sendText(from, `Kamu jalan-jalan ke club bersama ${getUserPasanganAct.nama}`)
                    rem.sendText(from, `Hubungan ${getUserPasanganAct.hubungan} => ${calculateNambahHubungan}`)
                } else {
                    const IdButtonAutoDelete = GenerateSerialNumber("000000000000000")
                    await _mongo_UserSchema.updateOne({ iId: sender }, { $set: { "rl.antispamAct": 0 } })
                    const buttonMessageSend = await rem.sendButtons(from, `Mau jalan-jalan kemana?\n\n${pushname}`, shuffleArray([{id: `${prefix}act actionadvance 3 ${sender} answer=1 oldMsgId=${id}&&${IdButtonAutoDelete}&&${randomMilihReply1}${randomMilihReply2}${randomMilihReply3}&&true_response2`, text: `Bioskop`}, {id: `${prefix}act actionadvance 3 ${sender} answer=2 oldMsgId=${id}&&${IdButtonAutoDelete}&&${randomMilihReply1}${randomMilihReply2}${randomMilihReply3}&&true_response2`, text: `Mall`}, {id: `${prefix}act actionadvance 3 ${sender} answer=3 oldMsgId=${id}&&${IdButtonAutoDelete}&&${randomMilihReply1}${randomMilihReply2}${randomMilihReply3}&&true_response2`, text: `Club`}]), '', '')
                    //createAutoDelete(IdButtonAutoDelete, buttonMessageSend.key.id, buttonMessageSend.key.remoteJid)
                }
            } 

            /* Number b4 */
            else if(selectedButtonIdBeUAct[1] == 'actionadvance' && selectedButtonIdBeUAct[2] == 'b4') {
                if(selectedButtonIdBeUAct[3] != sender) return

                if(parseFloat(selectedButtonIdBeUAct[4].split('answer=')[1]) == '1') {
                    const nambahHubungan = 1
                    const uangNgurang = 5000
                    const jumlahXPNambah = Math.floor(Math.random() * 10) + 500
                    if(getMoneyActUser < uangNgurang) return rem.sendText(from, 'Uang kamu tidak cukup!')

                    const calculateNambahHubungan = getUserPasanganAct.hubungan + nambahHubungan
                    await replaceUserRoleplayHubungan_pasangan(sender, calculateNambahHubungan)
                    await addUserRoleplayXP_pasangan(sender, jumlahXPNambah)
                    await MinMoney(sender, uangNgurang)
                    await rem.sendText(from, `Kamu makan di warung bersama ${getUserPasanganAct.nama}`)
                    rem.sendText(from, `Hubungan ${getUserPasanganAct.hubungan} => ${calculateNambahHubungan}`)
                } else if(parseFloat(selectedButtonIdBeUAct[4].split('answer=')[1]) == '2') {
                    const nambahHubungan = 1
                    const uangNgurang = 20000
                    const jumlahXPNambah = Math.floor(Math.random() * 10) + 500
                    if(getMoneyActUser < uangNgurang) return rem.sendText(from, 'Uang kamu tidak cukup!')

                    const calculateNambahHubungan = getUserPasanganAct.hubungan + nambahHubungan
                    await replaceUserRoleplayHubungan_pasangan(sender, calculateNambahHubungan)
                    await addUserRoleplayXP_pasangan(sender, jumlahXPNambah)
                    await MinMoney(sender, uangNgurang)
                    await rem.sendText(from, `Kamu makan di Restoran bersama ${getUserPasanganAct.nama}`)
                    rem.sendText(from, `Hubungan ${getUserPasanganAct.hubungan} => ${calculateNambahHubungan}`)  
                } else if(parseFloat(selectedButtonIdBeUAct[4].split('answer=')[1]) == '3') {
                    const nambahHubungan = 1
                    const uangNgurang = 50000
                    const jumlahXPNambah = Math.floor(Math.random() * 10) + 500
                    if(getMoneyActUser < uangNgurang) return rem.sendText(from, 'Uang kamu tidak cukup!')

                    const calculateNambahHubungan = getUserPasanganAct.hubungan + nambahHubungan
                    await replaceUserRoleplayHubungan_pasangan(sender, calculateNambahHubungan)
                    await addUserRoleplayXP_pasangan(sender, jumlahXPNambah)
                    await MinMoney(sender, uangNgurang)
                    await rem.sendText(from, `Kamu makan di Restoran Mewah bersama ${getUserPasanganAct.nama}`)
                    rem.sendText(from, `Hubungan ${getUserPasanganAct.hubungan} => ${calculateNambahHubungan}`)  
                } else {
                    const IdButtonAutoDelete = GenerateSerialNumber("000000000000000")
                    await _mongo_UserSchema.updateOne({ iId: sender }, { $set: { "rl.antispamAct": 0 } })
                    const buttonMessageSend = await rem.sendButtons(from, `Makan dimana?\nTerserah\n\n${pushname}`, shuffleArray([{id: `${prefix}act actionadvance b4 ${sender} answer=1 oldMsgId=${id}&&${IdButtonAutoDelete}&&${randomMilihReply1}${randomMilihReply2}${randomMilihReply3}&&true_response2`, text: `Warung Sederhana`}, {id: `${prefix}act actionadvance b4 ${sender} answer=2 oldMsgId=${id}&&${IdButtonAutoDelete}&&${randomMilihReply1}${randomMilihReply2}${randomMilihReply3}&&true_response2`, text: `Restoran`}, {id: `${prefix}act actionadvance b4 ${sender} answer=3 oldMsgId=${id}&&${IdButtonAutoDelete}&&${randomMilihReply1}${randomMilihReply2}${randomMilihReply3}&&true_response2`, text: `Restoran Mewah`}]), '', '')
                    //createAutoDelete(IdButtonAutoDelete, buttonMessageSend.key.id, buttonMessageSend.key.remoteJid)
                }
            } 

            /* Number b5 */

            else if(selectedButtonIdBeUAct[1] == 'actionadvance' && selectedButtonIdBeUAct[2] == 'b5') {
                if(selectedButtonIdBeUAct[3] != sender) return

                if(parseFloat(selectedButtonIdBeUAct[4].split('answer=')[1]) == '1') {
                    const nambahHubungan = 2
                    const uangNgurang = Math.floor(50000 * getUserPasanganAct.anak.length)
                    const jumlahXPNambah = Math.floor(Math.random() * 10) + 1550
                    if(getMoneyActUser < uangNgurang) return rem.sendText(from, 'Uang kamu tidak cukup!')

                    const calculateNambahHubungan = getUserPasanganAct.hubungan + nambahHubungan
                    await replaceUserRoleplayHubungan_pasangan(sender, calculateNambahHubungan)
                    await addUserRoleplayXP_pasangan(sender, jumlahXPNambah)
                    await MinMoney(sender, uangNgurang)
                    await rem.sendText(from, `Kamu mengajak jalan-jalan ${getUserPasanganAct.nama} bersama keluarga ke Pesta Konser`)
                    rem.sendText(from, `Hubungan ${getUserPasanganAct.hubungan} => ${calculateNambahHubungan}\nUang : -${uangNgurang}`)
                } else if(parseFloat(selectedButtonIdBeUAct[4].split('answer=')[1]) == '2') {
                    const nambahHubungan = 4
                    const uangNgurang = 150000
                    const jumlahXPNambah = Math.floor(Math.random() * 10) + 2500
                    if(getMoneyActUser < uangNgurang) return rem.sendText(from, 'Uang kamu tidak cukup!')

                    const calculateNambahHubungan = getUserPasanganAct.hubungan + nambahHubungan
                    await replaceUserRoleplayHubungan_pasangan(sender, calculateNambahHubungan)
                    await addUserRoleplayXP_pasangan(sender, jumlahXPNambah)
                    await MinMoney(sender, uangNgurang)
                    await rem.sendText(from, `Kamu jalan-jalan bersama ${getUserPasanganAct.nama} dan anak-anakmu ke mall`)
                    rem.sendText(from, `Hubungan ${getUserPasanganAct.hubungan} => ${calculateNambahHubungan}`)  
                } else if(parseFloat(selectedButtonIdBeUAct[4].split('answer=')[1]) == '3') {
                    const nambahHubungan = 2
                    const uangNgurang = Math.floor(500000 * getUserPasanganAct.anak.length)
                    const jumlahXPNambah = Math.floor(Math.random() * 10) + 1500
                    if(getMoneyActUser < uangNgurang) return rem.sendText(from, 'Uang kamu tidak cukup!')

                    const calculateNambahHubungan = getUserPasanganAct.hubungan + nambahHubungan
                    await replaceUserRoleplayHubungan_pasangan(sender, calculateNambahHubungan)
                    await addUserRoleplayXP_pasangan(sender, jumlahXPNambah)
                    await MinMoney(sender, uangNgurang)
                    await rem.sendText(from, `Kamu mengajak anakmu dan ${getUserPasanganAct.nama} main ke taman bermain`)
                    rem.sendText(from, `Hubungan ${getUserPasanganAct.hubungan} => ${calculateNambahHubungan}\nUang : -${uangNgurang}`)
                } else {
                    const IdButtonAutoDelete = GenerateSerialNumber("000000000000000")
                    await _mongo_UserSchema.updateOne({ iId: sender }, { $set: { "rl.antispamAct": 0 } })
                    await rem.sendButtons(from, `Liburan kemana?\nTerserah\n\n${pushname}`, shuffleArray([{id: `${prefix}act actionadvance b5 ${sender} answer=1 oldMsgId=${id}&&${IdButtonAutoDelete}&&${randomMilihReply1}${randomMilihReply2}${randomMilihReply3}&&true_response2`, text: `Jalan-jalan ke Konser`}, {id: `${prefix}act actionadvance b5 ${sender} answer=2 oldMsgId=${id}&&${IdButtonAutoDelete}&&${randomMilihReply1}${randomMilihReply2}${randomMilihReply3}&&true_response2`, text: `Jalan-jalan ke Mall`}, {id: `${prefix}act actionadvance b5 ${sender} answer=3 oldMsgId=${id}&&${IdButtonAutoDelete}&&${randomMilihReply1}${randomMilihReply2}${randomMilihReply3}&&true_response2`, text: `Main di Taman Bermain`}, {id: `${prefix}act actionadvance b12 ${sender} answer=4 oldMsgId=${id}&&${IdButtonAutoDelete}&&${randomMilihReply1}${randomMilihReply2}${randomMilihReply3}&&true_response2`, text: `Liburan ke Eropa`}]), '', '')
                    //createAutoDelete(IdButtonAutoDelete, buttonMessageSend.key.id, buttonMessageSend.key.remoteJid)
                }
            }  

            /* Number b12 */
            else if(selectedButtonIdBeUAct[1] == 'actionadvance' && selectedButtonIdBeUAct[2] == 'b12') {
                if(selectedButtonIdBeUAct[3] != sender) return

                if(parseFloat(selectedButtonIdBeUAct[4].split('answer=')[1]) == '1') {
                    const nambahHubungan = 12
                    const uangNgurang = Math.floor(20000000 * getUserPasanganAct.anak.length)
                    const jumlahXPNambah = Math.floor(Math.random() * 15) + 3230
                    if(getMoneyActUser < uangNgurang) return rem.sendText(from, 'Uang kamu tidak cukup!')

                    const calculateNambahHubungan = getUserPasanganAct.hubungan + nambahHubungan
                    await replaceUserRoleplayHubungan_pasangan(sender, calculateNambahHubungan)
                    await addUserRoleplayXP_pasangan(sender, jumlahXPNambah)
                    await MinMoney(sender, uangNgurang)
                    await rem.sendText(from, `Kamu mengajak liburan ${getUserPasanganAct.nama} bersama keluarga ke Japan`)
                    rem.sendText(from, `Hubungan ${getUserPasanganAct.hubungan} => ${calculateNambahHubungan}\nUang : -${uangNgurang}`)
                } else if(parseFloat(selectedButtonIdBeUAct[4].split('answer=')[1]) == '2') {
                    const nambahHubungan = 12
                    const uangNgurang = Math.floor(1500000 * getUserPasanganAct.anak.length)
                    const jumlahXPNambah = Math.floor(Math.random() * 15) + 3230
                    if(getMoneyActUser < uangNgurang) return rem.sendText(from, 'Uang kamu tidak cukup!')

                    const calculateNambahHubungan = getUserPasanganAct.hubungan + nambahHubungan
                    await replaceUserRoleplayHubungan_pasangan(sender, calculateNambahHubungan)
                    await addUserRoleplayXP_pasangan(sender, jumlahXPNambah)
                    await MinMoney(sender, uangNgurang)
                    await rem.sendText(from, `Kamu mengajak liburan ${getUserPasanganAct.nama} bersama keluarga ke Korea`)
                    rem.sendText(from, `Hubungan ${getUserPasanganAct.hubungan} => ${calculateNambahHubungan}\nUang : -${uangNgurang}`)
                } else if(parseFloat(selectedButtonIdBeUAct[4].split('answer=')[1]) == '3') {
                    const nambahHubungan = 12
                    const uangNgurang = Math.floor(500000 * getUserPasanganAct.anak.length)
                    const jumlahXPNambah = Math.floor(Math.random() * 15) + 3230
                    if(getMoneyActUser < uangNgurang) return rem.sendText(from, 'Uang kamu tidak cukup!')

                    const calculateNambahHubungan = getUserPasanganAct.hubungan + nambahHubungan
                    await replaceUserRoleplayHubungan_pasangan(sender, calculateNambahHubungan)
                    await addUserRoleplayXP_pasangan(sender, jumlahXPNambah)
                    await MinMoney(sender, uangNgurang)
                    await rem.sendText(from, `Kamu mengajak liburan ${getUserPasanganAct.nama} bersama keluarga ke Bali`)
                    rem.sendText(from, `Hubungan ${getUserPasanganAct.hubungan} => ${calculateNambahHubungan}\nUang : -${uangNgurang}`)
                } else if(parseFloat(selectedButtonIdBeUAct[4].split('answer=')[1]) == '4') {
                    const nambahHubungan = 12
                    const uangNgurang = Math.floor(2500000 * getUserPasanganAct.anak.length)
                    const jumlahXPNambah = Math.floor(Math.random() * 15) + 3230
                    if(getMoneyActUser < uangNgurang) return rem.sendText(from, 'Uang kamu tidak cukup!')

                    const calculateNambahHubungan = getUserPasanganAct.hubungan + nambahHubungan
                    await replaceUserRoleplayHubungan_pasangan(sender, calculateNambahHubungan)
                    await addUserRoleplayXP_pasangan(sender, jumlahXPNambah)
                    await MinMoney(sender, uangNgurang)
                    await rem.sendText(from, `Kamu mengajak liburan ${getUserPasanganAct.nama} bersama keluarga ke Eropa`)
                    rem.sendText(from, `Hubungan ${getUserPasanganAct.hubungan} => ${calculateNambahHubungan}\nUang : -${uangNgurang}`)
                } else {
                    const IdButtonAutoDelete = GenerateSerialNumber("000000000000000")
                    await _mongo_UserSchema.updateOne({ iId: sender }, { $set: { "rl.antispamAct": 0 } })
                    await rem.sendButtons(from, `Liburan kemana?\nTerserah\n\n${pushname}`, shuffleArray([{id: `${prefix}act actionadvance b12 ${sender} answer=1 oldMsgId=${id}&&${IdButtonAutoDelete}&&${randomMilihReply1}${randomMilihReply2}${randomMilihReply3}&&true_response2`, text: `Liburan ke Japan`}, {id: `${prefix}act actionadvance b12 ${sender} answer=2 oldMsgId=${id}&&${IdButtonAutoDelete}&&${randomMilihReply1}${randomMilihReply2}${randomMilihReply3}&&true_response2`, text: `Liburan ke Korea`}, {id: `${prefix}act actionadvance b12 ${sender} answer=3 oldMsgId=${id}&&${IdButtonAutoDelete}&&${randomMilihReply1}${randomMilihReply2}${randomMilihReply3}&&true_response2`, text: `Liburan ke Bali`}, {id: `${prefix}act actionadvance b12 ${sender} answer=4 oldMsgId=${id}&&${IdButtonAutoDelete}&&${randomMilihReply1}${randomMilihReply2}${randomMilihReply3}&&true_response2`, text: `Liburan ke Eropa`}]), '', '')
                    //createAutoDelete(IdButtonAutoDelete, buttonMessageSend.key.id, buttonMessageSend.key.remoteJid)
                }
            }

            /* Number b6 */
            else if(selectedButtonIdBeUAct[1] == 'actionadvance' && selectedButtonIdBeUAct[2] == 'b6') {
                if(selectedButtonIdBeUAct[3] != sender) return

                if(parseFloat(selectedButtonIdBeUAct[4].split('answer=')[1]) == '1') {
                    const nambahHubungan = 4
                    const uangNgurang = Math.floor(2500 * getUserPasanganAct.anak.length)
                    const jumlahXPNambah = Math.floor(Math.random() * 10) + 3230
                    if(getMoneyActUser < uangNgurang) return rem.sendText(from, 'Uang kamu tidak cukup!')

                    const calculateNambahHubungan = getUserPasanganAct.hubungan + nambahHubungan
                    await replaceUserRoleplayHubungan_pasangan(sender, calculateNambahHubungan)
                    await addUserRoleplayXP_pasangan(sender, jumlahXPNambah)
                    await MinMoney(sender, uangNgurang)
                    await rem.sendText(from, `Kamu makan di warung bersama ${getUserPasanganAct.nama}`)
                    rem.sendText(from, `Hubungan ${getUserPasanganAct.hubungan} => ${calculateNambahHubungan}\nUang : -${uangNgurang}`)
                } else if(parseFloat(selectedButtonIdBeUAct[4].split('answer=')[1]) == '2') {
                    const nambahHubungan = 6
                    const uangNgurang = Math.floor(10000 * getUserPasanganAct.anak.length)
                    const jumlahXPNambah = Math.floor(Math.random() * 10) + 3430
                    if(getMoneyActUser < uangNgurang) return rem.sendText(from, 'Uang kamu tidak cukup!')

                    const calculateNambahHubungan = getUserPasanganAct.hubungan + nambahHubungan
                    await replaceUserRoleplayHubungan_pasangan(sender, calculateNambahHubungan)
                    await addUserRoleplayXP_pasangan(sender, jumlahXPNambah)
                    await MinMoney(sender, uangNgurang)
                    await rem.sendText(from, `Kamu makan di Restoran bersama ${getUserPasanganAct.nama}`)
                    rem.sendText(from, `Hubungan ${getUserPasanganAct.hubungan} => ${calculateNambahHubungan}\nUang : -${uangNgurang}`)  
                } else if(parseFloat(selectedButtonIdBeUAct[4].split('answer=')[1]) == '3') {
                    const nambahHubungan = 10
                    const uangNgurang = Math.floor(25000 * getUserPasanganAct.anak.length)
                    const jumlahXPNambah = Math.floor(Math.random() * 10) + 3630
                    if(getMoneyActUser < uangNgurang) return rem.sendText(from, 'Uang kamu tidak cukup!')

                    const calculateNambahHubungan = getUserPasanganAct.hubungan + nambahHubungan
                    await replaceUserRoleplayHubungan_pasangan(sender, calculateNambahHubungan)
                    await addUserRoleplayXP_pasangan(sender, jumlahXPNambah)
                    await MinMoney(sender, uangNgurang)
                    await rem.sendText(from, `Kamu makan di Restoran Mewah bersama ${getUserPasanganAct.nama}`)
                    rem.sendText(from, `Hubungan ${getUserPasanganAct.hubungan} => ${calculateNambahHubungan}\nUang : -${uangNgurang}`)  
                } else {
                    const IdButtonAutoDelete = GenerateSerialNumber("000000000000000")
                    await _mongo_UserSchema.updateOne({ iId: sender }, { $set: { "rl.antispamAct": 0 } })
                    await rem.sendButtons(from, `Makan dimana?\nTerserah\n\n${pushname}`, shuffleArray([{id: `${prefix}act actionadvance b6 ${sender} answer=1 oldMsgId=${id}&&${IdButtonAutoDelete}&&${randomMilihReply1}${randomMilihReply2}${randomMilihReply3}&&true_response2`, text: `Warung Sederhana`}, {id: `${prefix}act actionadvance b6 ${sender} answer=2 oldMsgId=${id}&&${IdButtonAutoDelete}&&${randomMilihReply1}${randomMilihReply2}${randomMilihReply3}&&true_response2`, text: `Restoran`}, {id: `${prefix}act actionadvance b6 ${sender} answer=3 oldMsgId=${id}&&${IdButtonAutoDelete}&&${randomMilihReply1}${randomMilihReply2}${randomMilihReply3}&&true_response2`, text: `Restoran Mewah`}]), '', '')
                    //createAutoDelete(IdButtonAutoDelete, buttonMessageSend.key.id, buttonMessageSend.key.remoteJid)
                }

                if(getUserPasanganAct.mood == 'Buruk üò°' && parseFloat(selectedButtonIdBeUAct[4].split('answer=')[1])) {
                    const moodBerubah = 'Biasa üòê'
                    await getUserRoleplayMood_pasangan(sender, moodBerubah)
                }
            }

            // Number 14 || m12 || b14
            else if(selectedButtonIdBeUAct[1] == 'actionadvance' && selectedButtonIdBeUAct[2] == '13' || selectedButtonIdBeUAct[2] == 'm12' || selectedButtonIdBeUAct[2] == 'b14') {
                if(selectedButtonIdBeUAct[3] != sender) return

                let percentCaught = 20
                let ngurangHubungan = 50
                if(selectedButtonIdBeUAct[2] == '13') {
                    percentCaught = 20
                    ngurangHubungan = 50
                } else if(selectedButtonIdBeUAct[2] == 'm12') {
                    percentCaught = 30
                    ngurangHubungan = 150
                } else if(selectedButtonIdBeUAct[2] == 'b14') {
                    percentCaught = 50
                    ngurangHubungan = 250
                }

                const calculatePercentCaught = Math.floor(Math.random() * 100)
                if(calculatePercentCaught < percentCaught) {
                    const calculateNgurangHubungan = getUserPasanganAct.hubungan - ngurangHubungan
                    await replaceUserRoleplayHubungan_pasangan(sender, calculateNgurangHubungan)
                    await rem.sendText(from, `Kamu ketahuan selingkuh oleh ${getUserPasanganAct.nama}`)
                    rem.sendText(from, `Hubungan ${getUserPasanganAct.hubungan} => ${calculateNgurangHubungan}`)
                } else {
                    const statStamina = getUserMakan(_userDb)?.stamina
                    await replaceUserMakan(sender, 'stamina', 200)
                    await rem.sendText(from, `Kamu diam2 berselingkuh dari ${getUserPasanganAct.nama}`)
                    rem.sendText(from, `Stamina ${statStamina} => 200`)
                }
            }
            break
        case prefix+'mk':
            //if(!isOwner) return rem.sendText(from, 'Invalid!')
            if (args.length === 1) return rem.sendButtons(from, `Untuk membeli makanan, silahkan lihat *_${prefix}shop_*`, [{id: 'buyMakan', text: `${prefix}shop`}], '', '')
            if(getMoney(_userDb) == undefined) await setMoney(sender)
            if(getUserMakan(_userDb) == undefined) await setUserMakanan(sender)

            const getMakanUser = getUserMakan(_userDb)
            const getMoneyUserMk = getMoney(_userDb)
            if(args[1] == '1') {
                const HargaMakanan = Math.floor(2000)
                if(getMoneyUserMk < HargaMakanan) return reply(from, 'Uang kamu tidak cukup!', id)

                const tambahMakanUser = Math.floor(20)
                const calculateTambahMakanUser0 = Math.floor(getMakanUser + tambahMakanUser)
                let calculateTambahMakanUser = calculateTambahMakanUser0

                if(calculateTambahMakanUser0 >= 150) {
                    calculateTambahMakanUser = 150
                }

                await addUserMakan(_userDb, sender, 'food', tambahMakanUser)
                await MinMoney(sender, HargaMakanan)
                reply(from, `Membeli Roti\n\nFood +${tambahMakanUser}\nMoney -Rp. ${numberWithCommas(fixNumberE(HargaMakanan))}`, id)
            } else if(args[1] == '2') {
                const HargaMakanan = Math.floor(5000)
                if(getMoneyUserMk < HargaMakanan) return reply(from, 'Uang kamu tidak cukup!', id)

                const tambahMakanUser = Math.floor(30)
                const calculateTambahMakanUser0 = Math.floor(getMakanUser + tambahMakanUser)
                let calculateTambahMakanUser = calculateTambahMakanUser0

                if(calculateTambahMakanUser0 >= 150) {
                    calculateTambahMakanUser = 150
                }

                await addUserMakan(_userDb, sender, 'food', tambahMakanUser)
                await MinMoney(sender, HargaMakanan)
                reply(from, `Membeli FastFood\n\nFood +${tambahMakanUser}\nMoney -Rp. ${numberWithCommas(fixNumberE(HargaMakanan))}`, id)
            } else if(args[1] == '3') {
                const HargaMakanan = Math.floor(15000)
                if(getMoneyUserMk < HargaMakanan) return reply(from, 'Uang kamu tidak cukup!', id)

                const tambahMakanUser = Math.floor(50)
                const calculateTambahMakanUser0 = Math.floor(getMakanUser + tambahMakanUser)
                let calculateTambahMakanUser = calculateTambahMakanUser0

                if(calculateTambahMakanUser0 >= 150) {
                    calculateTambahMakanUser = 150
                }

                await addUserMakan(_userDb, sender, 'food', tambahMakanUser)
                await MinMoney(sender, HargaMakanan)
                reply(from, `Membeli Nasi & Ayam Goyeng\n\nFood +${tambahMakanUser}\nMoney -Rp. ${numberWithCommas(fixNumberE(HargaMakanan))}`, id)
            } else if(args[1] == '4') {
                const HargaMakanan = Math.floor(25000)
                if(getMoneyUserMk < HargaMakanan) return reply(from, 'Uang kamu tidak cukup!', id)

                const tambahMakanUser = Math.floor(70)
                const calculateTambahMakanUser0 = Math.floor(getMakanUser + tambahMakanUser)
                let calculateTambahMakanUser = calculateTambahMakanUser0

                if(calculateTambahMakanUser0 >= 150) {
                    calculateTambahMakanUser = 150
                }

                await addUserMakan(_userDb, sender, 'food', tambahMakanUser)
                await MinMoney(sender, HargaMakanan)
                reply(from, `Membeli Nasi & Steak\n\nFood +${tambahMakanUser}\nMoney -Rp. ${numberWithCommas(fixNumberE(HargaMakanan))}`, id)
            } else if(args[1] == '5') {
                const HargaMakanan = Math.floor(40000)
                if(getMoneyUserMk < HargaMakanan) return reply(from, 'Uang kamu tidak cukup!', id)

                const tambahMakanUser = Math.floor(100)
                const calculateTambahMakanUser0 = Math.floor(getMakanUser + tambahMakanUser)
                let calculateTambahMakanUser = calculateTambahMakanUser0

                if(calculateTambahMakanUser0 >= 150) {
                    calculateTambahMakanUser = 150
                }

                await addUserMakan(_userDb, sender, 'food', tambahMakanUser)
                await MinMoney(sender, HargaMakanan)
                reply(from, `Membeli Nasi & Nasi & Ikan\n\nFood +${tambahMakanUser}\nMoney -Rp. ${numberWithCommas(fixNumberE(HargaMakanan))}`, id)
            } else {
                reply(from, `Tidak ditemukan barang  ${args[1]}`, id)
            }
            break
        case prefix+'setpd':
        case prefix+'setpp':
            console.log('triggered')
            // if(!isOwner) return reply(from, 'Fitur ini sedang dalam perbaikan', id)
            //if(isVirtualBot && !isOwner) return reply(from, `Silahkan command _${prefix}setpd pp_ di wa.me/${global?.coreBotNumber}`)
            if(getUserRoleplay_pasangan(_userDb) == undefined) return reply(from, `Untuk mendapatkan pasangan, _${prefix}character <nama>_\nNote : *Abaikan tanda < dan>*`, id)
            const getUserPasanganSetPd = getUserRoleplay_pasangan(_userDb)
            if(message.selectedButtonId == undefined) {
                var selectedButtonIdBeUSetPd = undefined
            } else {
                if(message.selectedButtonId != undefined && message.selectedButtonId.startsWith(prefix)) {
                    var selectedButtonIdBeUSetPd = message.selectedButtonId.split(' ')
                } else {
                    var selectedButtonIdBeUSetPd = undefined
                }
            }

            const hargaRenameAnak = 600000
            if(message.selectedButtonId != undefined && selectedButtonIdBeUSetPd?.[1] == 'confirm') {
                if(selectedButtonIdBeUSetPd[2] == 'pp') {
                    if(!fs.existsSync(`./media/user/imgpd/temp_${selectedButtonIdBeUSetPd[3]}.${selectedButtonIdBeUSetPd[7]}`)) return reply(from, 'File tidak ditemukan!\nMungkin sudah di konfirmasi')
                    await fs.renameSync(`./media/user/imgpd/temp_${selectedButtonIdBeUSetPd[3]}.${selectedButtonIdBeUSetPd[7]}`, `./media/user/imgpd/${selectedButtonIdBeUSetPd[3]}.${selectedButtonIdBeUSetPd[7]}`)
                    await replaceUserRoleplayValue_pasangan(selectedButtonIdBeUSetPd[3], 'img', `./media/user/imgpd/${selectedButtonIdBeUSetPd[3]}.${selectedButtonIdBeUSetPd[7]}`)
                    await rem.sendText(from, 'Success!')

                    console.log(await sendRequestRandomJadibot('sendText', [selectedButtonIdBeUSetPd[3], `*SetPd pp, telah diganti*\n_Request Id: *#${selectedButtonIdBeUSetPd[8].toUpperCase()}*_`]))
                } else if(selectedButtonIdBeUSetPd[2] == 'rk') {
                    if(selectedButtonIdBeUSetPd[3] == undefined || selectedButtonIdBeUSetPd[4] == undefined || selectedButtonIdBeUSetPd[5] == undefined) return reply(from, 'Invalid!\ninvalid_params')
                    if(selectedButtonIdBeUSetPd[3] != sender) return reply(from, 'Invalid!\ninvalid_params.sender')

                    const namaAnak = message.selectedButtonId.replace(`${selectedButtonIdBeUSetPd[0]} ${selectedButtonIdBeUSetPd[1]} ${selectedButtonIdBeUSetPd[2]} ${selectedButtonIdBeUSetPd[3]} ${selectedButtonIdBeUSetPd[4]} `, '').trim()
                    if(namaAnak.length > 50) return reply(from, 'Invalid!\ninvalid_params.nama')
                    
                    const getUserPasanganAnak = getUserRoleplay_pasangan(_userDb)
                    if(!isPrem && _userDb.limit.cd_setpd_rk > Date.now()) {
                        const timeConvertSetpdRk = timeConvert(_userDb.limit.cd_setpd_rk)
                        return reply(from, `Anda sudah menggunakan fitur ini!\nKamu bisa menggunakan fitur ini lagi dalam\n\n*${timeConvertSetpdRk.day} Hari | ${timeConvertSetpdRk.hour} Jam : ${timeConvertSetpdRk.minute} Menit : ${timeConvertSetpdRk.second} Detik*`, id)
                    }
                    if(getUserPasanganAnak == undefined) return reply(from, 'Anda belum memiliki pasangan!')
                    if(getUserPasanganAnak.anak.length == 0) return reply(from, 'Anda belum memiliki anak!')
    
                    const posAnak = Number(selectedButtonIdBeUSetPd[4])
                    if(getUserPasanganAnak.anak[posAnak] == undefined) return reply(from, 'Anak tidak ditemukan!')

                    if(_userDb.economy.money < hargaRenameAnak) return reply(from, `Uang kamu tidak cukup!`, id)
                    await MinMoney(sender, hargaRenameAnak)

                    if(!isPrem) await _mongo_UserSchema.updateOne({ iId: _userDb.iId }, { $set: { 'limit.cd_setpd_rk': isOwner ? 0 : (Date.now() + toMs('7d')), } })
                    await _mongo_UserSchema.updateOne({ iId: _userDb.iId, "rl.pd.anak.id": getUserPasanganAnak.anak[posAnak].id }, { $set: { "rl.pd.anak.$.nama": namaAnak } })
                    reply(from, `Berhasil mengganti nama anak ke *${namaAnak}*`, id)
                }
            } else if(message.selectedButtonId != undefined && selectedButtonIdBeUSetPd?.[1] == 'no') {
                if(isVirtualBot) return

                const reasonGetSetPdPpNo = message.body.slice(2)
                if(!reasonGetSetPdPpNo) return reply(from, 'Harap masukan alasan kenapa anda menolak permintaan setpd pp ini\n*2 <alasan>*\nContoh: _2 Gambar tidak sesuai dengan pd_', id)
                
                if(selectedButtonIdBeUSetPd[2] == 'pp') {
                    if(!fs.existsSync(`./media/user/imgpd/temp_${selectedButtonIdBeUSetPd[3]}.${selectedButtonIdBeUSetPd[7]}`)) return reply(from, 'File tidak ditemukan!\nMungkin sudah di konfirmasi')
                    await fs.unlinkSync(`./media/user/imgpd/temp_${selectedButtonIdBeUSetPd[3]}.${selectedButtonIdBeUSetPd[7]}`)
                    await rem.sendText(from, 'Success!')

                    console.log(await sendRequestRandomJadibot('sendText', [selectedButtonIdBeUSetPd[3], `*Permintaan SetPd pp ditolak*\nAlasan: _${reasonGetSetPdPpNo}_\n\n_Request Id: *#${selectedButtonIdBeUSetPd[8].toUpperCase()}*_`]))
                }
            }

            //AUTO DELETE BUTTON
            if(message.selectedButtonId != undefined) {
                try {
                    // await rem.deleteMessage(selectedButtonIdBeUSetPd[4], {id: selectedButtonIdBeUSetPd[6].toUpperCase(), remoteJid: selectedButtonIdBeUSetPd[4], fromMe: true})
                    const reactionMessage = {
                        react: {
                            text: "‚úÖ",
                            key: message.key
                        }
                    }
                    
                    await rem.sendReact(from, message.key, "‚úÖ")
                } catch (err) {
                    console.error(err)
                }
            }

            if(message.selectedButtonId == undefined && args[1] == 'pp') {
                if (isMedia && isImage || isQuotedImage || isVideo || isQuotedVideo) {

                    if(_userDb.limit.cd_setpd_pp > Date.now() && !isOwner) {
                        const timeConvertSetpdPp = timeConvert(_userDb.limit.cd_setpd_pp)
                        return reply(from, `Anda sudah menggunakan fitur ini!\nKamu bisa menggunakan fitur ini lagi dalam\n\n*${timeConvertSetpdPp.day} Hari | ${timeConvertSetpdPp.hour} Jam : ${timeConvertSetpdPp.minute} Menit : ${timeConvertSetpdPp.second} Detik*`, id)
                    }

                    const encryptMediaa = quotedMsg ? quotedMsg : message
                    if(isVideo && !encryptMediaa.messageContent.gifPlayback) return reply(from, 'Format video harus gif!')
                    if(isQuotedVideo && !encryptMediaa.gifPlayback) return reply(from, 'Format video harus gif!')

                    const mediaDataa = await encryptMediaa.getMedia()
                    const extensionType = encryptMediaa.mimetype.split('/')[1]
                    const pathImageTempSetPdPp = `./media/user/imgpd/temp_${sender}.${extensionType}`
                    const urlPathImageTempSetPdPp = 'https://db2.remcp.com/imgpd/' + pathImageTempSetPdPp.split('./media/user/imgpd/')[1]

                    const getCharacterDataSetPdPp0 = (await axios.get(`https://api.jikan.moe/v4/characters/${getUserPasanganSetPd.mal_id}/full`)).data
                    const getCharacterDataSetPdPp = getCharacterDataSetPdPp0.data
                    if(getCharacterDataSetPdPp == undefined) return reply(from, `Error!\nTolong laporkan ini ke developer/side owner\n\npath:${getUserPasanganSetPd.mal_id}/full\nres:${JSON.stringify(getCharacterDataSetPdPp0)}`)
                    const malOriginSetPdPp = getCharacterDataSetPdPp.anime.length > 0 ? 'anime' : getCharacterDataSetPdPp.manga.length > 0 ? 'manga' : 'Unknown'
                    const imageChatacterSetPdPp = getCharacterDataSetPdPp.images?.jpg?.image_url

                    await fs.writeFileSync(pathImageTempSetPdPp, mediaDataa)
                    let bufferResultSetPdPp = undefined

                    if(!isVideo) {
                        // generate side by side image
                        const breakBetweenImages = 8 // in pixels
                        const borderCanvas = 0 // in pixels
                        const sizeImage1 = await sizeOf(mediaDataa)

                        const getBufferSetPdPpImage2 = (await axios.get(imageChatacterSetPdPp, { responseType: 'arraybuffer' })).data
                        const sizeImage2 = await sizeOf(getBufferSetPdPpImage2)
                        
                        const totalWidth = sizeImage1.width + sizeImage2.width + breakBetweenImages + borderCanvas * 2
                        const totalHeight = Math.max(sizeImage1.height, sizeImage2.height) + borderCanvas * 2
                        const canvas1 = cnvs.createCanvas(totalWidth, totalHeight);
                        const ctx1 = canvas1.getContext('2d');
    
                        const loadImage1 = await cnvs.loadImage(mediaDataa)
                        const loadImage2 = await cnvs.loadImage(imageChatacterSetPdPp)
                    
                        // set background to white
                        ctx1.fillStyle = '#ffffff';
                        ctx1.fillRect(0, 0, totalWidth, totalHeight);
                        
                        // draw first image centered vertically inside border canvas
                        ctx1.drawImage(loadImage1, borderCanvas, (totalHeight - sizeImage1.height) / 2);
                    
                        // add white break between images
                        ctx1.fillStyle = '#ffffff';
                        ctx1.fillRect(sizeImage1.width + borderCanvas, 0, breakBetweenImages, totalHeight);
                    
                        // draw second image centered vertically
                        ctx1.drawImage(loadImage2, sizeImage1.width + breakBetweenImages + borderCanvas, (totalHeight - sizeImage2.height) / 2);
                        
                        bufferResultSetPdPp = await canvas1.toBuffer('image/jpeg')
                    }
                    
                    const randomIdRequest = GenerateSerialNumber("000000")
                    let tempImageSetPdPp = undefined

                    const textSendSetPdPPConfirmation = `*Yes/No?*
                    
Sender : *wa.me/${sender.replace('@s.whatsapp.net', '')}*
Request Id : *#${randomIdRequest}*
‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
‚û• Name : *${getCharacterDataSetPdPp.name}*
‚û• ${capitalizeFirstLetter(malOriginSetPdPp)} Origin : ${getCharacterDataSetPdPp[malOriginSetPdPp]?.[0]?.[malOriginSetPdPp]?.title || 'Unknown'} (${getCharacterDataSetPdPp[malOriginSetPdPp]?.[0]?.role || 'Unknown'})
‚û• UID MAL : ${getCharacterDataSetPdPp.mal_id}
‚û• URL : ${getCharacterDataSetPdPp.url}
‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ

Gambar kiri (Request)
Gambar kanan (.Character)

_${urlPathImageTempSetPdPp}_`

                    const sendToSetPdPp = '120363043619573873@g.us'
                    const buttonidSendSetPdPPConfirmation = (tempImageSetPdPp) => { return [ {id: `.setpd confirm pp ${sender} ${bufferResultSetPdPp ? sendToSetPdPp : tempImageSetPdPp.key.remoteJid} ${bufferResultSetPdPp ? true : tempImageSetPdPp.key.fromMe} ${tempImageSetPdPp.key.id} ${extensionType} ${randomIdRequest}`, text: 'Yes'}, {id: `.setpd no pp ${sender} ${bufferResultSetPdPp ? sendToSetPdPp : tempImageSetPdPp.key.remoteJid} ${bufferResultSetPdPp ? true : tempImageSetPdPp.key.fromMe} ${tempImageSetPdPp.key.id} ${extensionType} ${randomIdRequest}`, text: 'No'} ] }
                    if(!isVirtualBot) {
                        // tempImageSetPdPp = bufferResultSetPdPp ? 
                        //     await rem.sendAdReply(sendToSetPdPp, textSendSetPdPPConfirmation, bufferResultSetPdPp, getCharacterDataSetPdPp.name, getCharacterDataSetPdPp.mal_id.toString(), urlPathImageTempSetPdPp, urlPathImageTempSetPdPp) :
                        //     await rem.sendFileAuto(sendToSetPdPp, pathImageTempSetPdPp, `temp_${sender}.${extensionType}`, textSendSetPdPPConfirmation, messageRaw)
                        tempImageSetPdPp = await rem.sendFileAuto(sendToSetPdPp, (bufferResultSetPdPp ? bufferResultSetPdPp : pathImageTempSetPdPp), `temp_${sender}.${extensionType}`, textSendSetPdPPConfirmation, messageRaw)
                        await rem.sendButtons(sendToSetPdPp, '*Yes/No?*', buttonidSendSetPdPPConfirmation(tempImageSetPdPp), '', '', {}, {}, false, false) 
                    } else {
                        // tempImageSetPdPp = bufferResultSetPdPp ? 
                        //     (await axios.post('http://localhost:7516/api/v2/post/useBotMethod', { method: 'sendAdReply', number: sendToSetPdPp, data: textSendSetPdPPConfirmation, options: bufferResultSetPdPp.toString('base64'), options1: getCharacterDataSetPdPp.name, options2: getCharacterDataSetPdPp.mal_id.toString(), options3: urlPathImageTempSetPdPp, options4: urlPathImageTempSetPdPp })).data :
                        //     (await axios.post('http://localhost:7516/api/v2/post/useBotMethod', { method: 'sendFileAuto', number: sendToSetPdPp, data: pathImageTempSetPdPp, options: `temp_${sender}.${extensionType}`, options1: textSendSetPdPPConfirmation })).data
                        tempImageSetPdPp = (await axios.post('http://localhost:7516/api/v2/post/useBotMethod', { method: 'sendFileAuto', number: sendToSetPdPp, data: (bufferResultSetPdPp ? bufferResultSetPdPp.toString('base64') : pathImageTempSetPdPp), options: `temp_${sender}.${extensionType}`, options1: textSendSetPdPPConfirmation })).data
                        await axios.post('http://localhost:7516/api/v2/post/useBotMethod', { method: 'sendButtons', number: sendToSetPdPp, data: '*Yes/No?*', options: buttonidSendSetPdPPConfirmation(tempImageSetPdPp), options1: '', options2: '', options3: {}, options4: {}, options5: false, options6: false })
                    }
                    reply(from, `*Sedang dikonfirmasi!*, Mungkin membutuhkan beberapa waktu\nJika cukup lama, lapor ke Owner!\n\n_Request Id: *#${randomIdRequest}*_`, id)
                    await _mongo_UserSchema.updateOne({ iId: _userDb.iId }, { $set: { 'limit.cd_setpd_pp': !isPrem ? (Date.now() + (toMs('2h') + toMs('30m'))) : (Date.now() + toMs('1h')), } })
                } else {    
                    await reply(from, 'Format salah\nSilahkan reply pesan dengan gambar', id)
                }
            } else if(message.selectedButtonId == undefined && args[1] == 'pp_default') {
                if((from != '120363417108683279@g.us') && (from != '6281358181668-1621640771@g.us') && (from != '120363043619573873@g.us')) return reply(from, 'Silahkan gunakan cmd ini pada group Bot Admin!')
                if(!isAdmin) return await reply(from, 'Perintah ini hanya untuk role Bot Admin!', id)
                if(args[2] == undefined) return reply(from, 'Invalid!')
                
                const posPd_imageDefault = await _mongo_UserSchema.findOne({ "rl.pd.mal_id": args[2] })
                if(posPd_imageDefault == undefined) return reply(from, 'Not Found!')

                const getImageDefault = await axios.get(`https://api.jikan.moe/v4/characters/${args[2]}`)
                const changePdImg = await _mongo_UserSchema.updateOne({ "rl.pd.mal_id": args[2] }, { $set: { "rl.pd.img": getImageDefault.data.data.images?.jpg?.image_url } })
                // const currentTime = moment.tz('Asia/Jakarta')
                // const dayName = currentTime.format('dddd')
                // const formattedTime = currentTime.format('DD/MM/YYYY HH:mm:ss')

                console.log(changePdImg)
                reply(from, 'Success, setpd has been reset!')
                
//                 let setDefaultPP = `*|| RESET PD PROFILE ||*\n
// Successfully reset pd profile again!
// ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
// Di reset oleh : @${sender.replace('@s.whatsapp.net', '')}
// Hari : ${dayName}
// Tanggal/Pukul : ${formattedTime}
// ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ`
                
//                 if(isVirtualBot) {
//                     rem.sendTextWithMentions('6281358181668-1621640771@g.us', setDefaultPP)
//                     rem.sendTextWithMentions('120363417108683279@g.us', setDefaultPP)
//                     rem.sendTextWithMentions(from, setDefaultPP)
//                 }
            } else if(message.selectedButtonId == undefined && args[1] == 'rk') {
                if(args[2] == undefined) return reply(from, 'Masukkan nomer urut anak!')
                if(isNaN(args[2])) return reply(from, 'Nomor urut harus angka!')
                if(args[3] == undefined) return reply(from, 'Masukkan nama anak!')

                const namaAnak = body.replace(`${args[0]} ${args[1]} ${args[2]} `, '')
                if(namaAnak.length > 50) return reply(from, 'Nama anak terlalu panjang!\nMax 50 karakter')
                
                const getUserPasanganAnak = getUserRoleplay_pasangan(_userDb)
                if(!isPrem && _userDb.limit.cd_setpd_rk > Date.now()) {
                    const timeConvertSetpdRk = timeConvert(_userDb.limit.cd_setpd_rk)
                    return reply(from, `Anda sudah menggunakan fitur ini!\nKamu bisa menggunakan fitur ini lagi dalam\n\n*${timeConvertSetpdRk.day} Hari | ${timeConvertSetpdRk.hour} Jam : ${timeConvertSetpdRk.minute} Menit : ${timeConvertSetpdRk.second} Detik*`, id)
                }
                if(getUserPasanganAnak == undefined) return reply(from, 'Anda belum memiliki pasangan!')
                if(getUserPasanganAnak.anak.length == 0) return reply(from, 'Anda belum memiliki anak!')

                const posAnak = Number(args[2]) - 1
                if(getUserPasanganAnak.anak[posAnak] == undefined) return reply(from, 'Anak tidak ditemukan!')

                rem.sendButtons(from, `*Rename Anak*\n\nHarga: ${numberWithCommas(hargaRenameAnak)}\n\n*${namaAnak}*`, [ {id: `.setpd confirm rk ${sender} ${posAnak} ${namaAnak}`, text: 'Yes'}, {id: `.setpd no rk ${sender} ${posAnak} ${namaAnak}`, text: 'No'} ], '', '')
            } else if(message.selectedButtonId == undefined) {
                return reply(from, `Wrong Format!\n\n~ *_${prefix}setpd pp_*\n~ *_${prefix}setpd rk <no urut> <nama>_*\n    _Mengganti nama anak_`, id)
            }
            break
            //PEMERINTAH
        /*case prefix+'dokumen':
            if(!isOwner) return
            if (!isGroupMsg) return reply(from, 'Perintah ini hanya bisa di gunakan dalam group!', id)
            const usermoney = getMoney(sender)
            if (args.length === 1) {
                reply(from, `List2 Dokumen\n\n1. SIM C\nHarga: Yk.100.000\n\n2. SIM A\nHarga: Yk.300.000\n\n3. Licensi Pilot\nHarga: Yk.1.000.000`, id)
            } else if(args[1] == 'daftar') {
                if (args[2] == '1') {
                    if (usermoney > 100000) return rem.sendText(from, 'Duitmu kurang, kerja dulu sana')
                    await MinMoney(sender, 100000)
                    if (_SIMC.includes(sender)) return reply(from, 'Anda sudah memiliki Dokumen ini', id)
                    _SIMC.push(sender)
                    fs.writeFileSync('./lib/database/roleplay/simc.json', JSON.stringify(_SIMC))
                    await reply(from, 'Sukses mendaftar', id)
                } else if(args[2] == '2') {
                    if (usermoney > 200000) return rem.sendText(from, 'Duitmu kurang, kerja dulu sana')
                    await MinMoney(sender, 200000)
                    if (_SIMA.includes(sender)) return reply(from, 'Anda sudah memiliki Dokumen ini', id)
                    _SIMA.push(sender)
                    fs.writeFileSync('./lib/database/roleplay/sima.json', JSON.stringify(_SIMA))
                    await reply(from, 'Sukses mendaftar', id)
                } else if(args[2] == '3') {
                    if (usermoney > 1000000) return reply(from, 'Duitmu kurang, kerja dulu sana', id)
                    await MinMoney(sender, 1000000)
                    if (_Lpilot.includes(sender)) return reply(from, 'Anda sudah memiliki Dokumen ini', id)
                    _Lpilot.push(sender)
                    fs.writeFileSync('./lib/database/roleplay/Lpilot.json', JSON.stringify(_Lpilot))
                }
            }
            break*/
            //MONEY
        case prefix+'money':
        case prefix+'m':
            //if(!isOwner) return reply(from, 'Money akan tersedia setelah S10 dimulai', id)
            // if (!isGroupMsg) return reply(from, 'Perintah ini hanya bisa di gunakan dalam group!', id)
            if (args.length === 1) {
            if (getMoney(_userDb) === undefined) await setMoney(sender)
                const moneylu = numberWithCommas(getMoney(_userDb))
                const duidharam = numberWithCommas(getMoney_haram(_userDb))
                let totalDonateUser = 0
                const getDonateListUser = _userDb.email ? await _mongo_BotSchema.findOne({ iId: 'donate' }, { "donate.amount": 1, "donate.email": 1, _id: 0 }) : null
                getDonateListUser ? getDonateListUser.donate.map(all => all.email == _userDb.email ? totalDonateUser += all.amount : null) : null
                const isSpyMoney = getUserItemIdSpy(_userDb)
                const textMoney = `ÔºÑ Money Total: ${!isSpyMoney ? moneylu : '#####'}\nUang HARAM: ${!isSpyMoney ? duidharam : '#####'}${totalDonateUser ? `\n---------------------------------------------------------------------------\n*Donate: _Rp. ${!isSpyMoney ? numberWithCommas(totalDonateUser) : '#####'}_*` : ''}\n\nTier : *${!isSpyMoney ? tierTag : '#####'}*`
                await reply(from, textMoney)
            } else if(args[1] == 'add') {
                if(!isOwner) return reply(from, 'Perintah ini hanya untuk Dwi!', id)
                if (quotedMsg) {
                    let qmidlm = quotedMsg.sender
                    const amountMoneyadd = Math.floor(args[2])
                    await addMoney(qmidlm, amountMoneyadd)
                    if(isMention) {
                        rem.sendTextWithMentions(from, `Success Add Money @${qmidlm.replace('@s.whatsapp.net','')}!\n\nUpdated!\nMoney: ${numberWithCommas(fixNumberE(_userDb.economy.money + Number(amountMoneyadd)))}`)
                    } else {
                        rem.sendText(from, `Success Add Money wa.me/${qmidlm.replace('@s.whatsapp.net','')}!\n\nUpdated!\nMoney: ${numberWithCommas(fixNumberE(_userDb.economy.money + Number(amountMoneyadd)))}`)
                    }
                } else if(args.length == 4) {
                    if(!args[3].includes('@s.whatsapp.net')) return reply(from, 'Args[3] Harus berupa @s.whatsapp.net ID', id)
                    let qmidlm = args[3]
                    const amountMoneyadd = Math.floor(args[2])
                    await addMoney(qmidlm, amountMoneyadd)
                    if(isMention) {
                        rem.sendTextWithMentions(from, `Success Add Money @${qmidlm.replace('@s.whatsapp.net','')}!\n\nUpdated!\nMoney: ${numberWithCommas(fixNumberE(_userDb.economy.money + Number(amountMoneyadd)))}`)
                    } else {
                        rem.sendText(from, `Success Add Money wa.me/${qmidlm.replace('@s.whatsapp.net','')}!\n\nUpdated!\nMoney: ${numberWithCommas(fixNumberE(_userDb.economy.money + Number(amountMoneyadd)))}`)
                    }
                } else {
                    return reply(from, 'Invalid!', id)
                }
            } else if(args[1] == 'min') {
                if(!isOwner) return reply(from, 'Perintah ini hanya untuk Dwi!', id)
                if (quotedMsg) {
                    let qmidlm2 = quotedMsg.sender
                    if (getMoney(_userDb) === undefined) await setMoney(qmidlm2)
                    const amountMoneyMin = Math.floor(args[2])
                    await MinMoney(qmidlm2, amountMoneyMin)
                    if(isMention) {
                        rem.sendTextWithMentions(from, `Success Min Money @${qmidlm2.replace('@s.whatsapp.net','')}!\n\nUpdated!\nMoney: ${numberWithCommas(fixNumberE(_userDb.economy.money - Number(amountMoneyMin)))}`)
                    } else {
                        rem.sendText(from, `Success Min Money wa.me/${qmidlm2.replace('@s.whatsapp.net','')}!\n\nUpdated!\nMoney: ${numberWithCommas(fixNumberE(_userDb.economy.money - Number(amountMoneyMin)))}`)
                    }
                } else if(args.length == 4) {
                    if(!args[3].includes('@s.whatsapp.net')) return reply(from, 'Args[3] Harus berupa @s.whatsapp.net ID', id)
                    let qmidlm2 = args[3]
                    const amountMoneyMin = Math.floor(args[2])
                    await MinMoney(qmidlm2, amountMoneyMin)
                    if(isMention) {
                        rem.sendTextWithMentions(from, `Success Min Money @${qmidlm2.replace('@s.whatsapp.net','')}!\n\nUpdated!\nMoney: ${numberWithCommas(fixNumberE(_userDb.economy.money - Number(amountMoneyMind)))}`)
                    } else {
                        rem.sendText(from, `Success Min Money wa.me/${qmidlm2.replace('@s.whatsapp.net','')}!\n\nUpdated!\nMoney: ${numberWithCommas(fixNumberE(_userDb.economy.money - Number(amountMoneyMin)))}`)
                    }
                } else {
                    return reply(from, 'Invalid!', id)
                }
            } else if(args[1] == 'reset')  {
                if(!isOwner) return reply(from, 'Perintah ini hanya untuk Dwi!', id)
                if (quotedMsg) {
                    let qmidlm2 = quotedMsg.sender
                    await _mongo_UserSchema.updateOne({ iId: qmidlm2 }, { $set: { "economy.money": 200 } })
                    if(isMention) {
                        rem.sendTextWithMentions(from, `Success Reset Money @${qmidlm2.replace('@s.whatsapp.net','')}!`)
                    } else {
                        rem.sendText(from, `Success Reset Money wa.me/${qmidlm2.replace('@s.whatsapp.net','')}!`)
                    }
                } else if(args.length == 3) {
                    if(!args[2].includes('@s.whatsapp.net')) return reply(from, 'Args[2] Harus berupda @s.whatsapp.net ID', id)
                    let qmidlm2 = args[2]
                    await _mongo_UserSchema.updateOne({ iId: qmidlm2 }, { $set: { money: 200 } })
                    if(isMention) {
                        rem.sendTextWithMentions(from, `Success Reset Money @${qmidlm2.replace('@s.whatsapp.net','')}!`)
                    } else {
                        rem.sendText(from, `Success Reset Money wa.me/${qmidlm2.replace('@s.whatsapp.net','')}!`)
                    }
                } else {
                    return reply(from, 'Invalid!', id)
                }
            }
            break
        case prefix+'point':
        case prefix+'p':
            // if (!isSideOwner) return reply(from, 'Err: 403!')
            if(args.length === 1) {
                if(getPoint(_userDb) === undefined) await setPoint(sender)
                const pointEasterlu = numberWithCommas(getPoint(_userDb))
                const isSpyPoint = getUserItemIdSpy(_userDb)
                const pointText = `ü™∫ Point Easter Egg: ${!isSpyPoint ? pointEasterlu : '#####'}`
                await reply(from, pointText)
            } else if(args[1] == 'add') {
                if(!isOwner) return reply(from, 'Perintah ini hanya untuk Owner!', id)
                if (quotedMsg) {
                    let ndog = quotedMsg.sender
                    const amountPointadd = Math.floor(args[2])
                    await addPoint(ndog, amountPointadd)
                    if(isMention) {
                        rem.sendTextWithMentions(from, `Success Add Point Easter Egg@${ndog.replace('@s.whatsapp.net','')}!\n\nUpdated!\nü™∫ Point Easter Egg: ${numberWithCommas(fixNumberE(_userDb.economy.point + Number(amountPointadd)))}`)
                    } else {
                        rem.sendText(from, `Success Add Point Easter Eggwa.me/${ndog.replace('@s.whatsapp.net','')}!\n\nUpdated!\nü™∫ Point Easter Egg: ${numberWithCommas(fixNumberE(_userDb.economy.point + Number(amountPointadd)))}`)
                    }
                } else if(args.length == 4) {
                    if(!args[3].includes('@s.whatsapp.net')) return reply(from, 'Args[3] Harus berupa @s.whatsapp.net ID', id)
                    let ndog = args[3]
                    const amountPointadd = Math.floor(args[2])
                    await addPoint(ndog, amountPointadd)
                    if(isMention) {
                        rem.sendTextWithMentions(from, `Success Add Point Easter Egg @${ndog.replace('@s.whatsapp.net','')}!\n\nUpdated!\nü™∫ Point Easter Egg: ${numberWithCommas(fixNumberE(_userDb.economy.point + Number(amountPointadd)))}`)
                    } else {
                        rem.sendText(from, `Success Add Point Easter Egg wa.me/${ndog.replace('@s.whatsapp.net','')}!\n\nUpdated!\nü™∫ Point Easter Egg: ${numberWithCommas(fixNumberE(_userDb.economy.point + Number(amountPointadd)))}`)
                    }
                } else {
                    return reply(from, 'Invalid!', id)
                }
            } else if(args[1] == 'min') {
                if(!isOwner) return reply(from, 'Perintah ini hanya untuk Owner!', id)
                if(quotedMsg) {
                    let ndog2 = quotedMsg.sender
                    if(getPoint(_userDb) === undefined) await setPoint(ndog2)
                    const amountPointMin = Math.floor(args[2])
                    await MinPoint(ndog2, amountPointMin)
                    if(isMention) {
                        rem.sendTextWithMentions(from, `Success Min Point Easter Egg @${ndog2.replace('@s.whatsapp.net','')}!\n\nUpdated!\nü™∫ Point Easter Egg: ${numberWithCommas(fixNumberE(_userDb.economy.point - Number(amountPointMin)))}`)
                    } else {
                        rem.sendText(from, `Success Min Point Easter Egg wa.me/${ndog2.replace('@s.whatsapp.net','')}!\n\nUpdated!\nü™∫ Point Easter Egg: ${numberWithCommas(fixNumberE(_userDb.economy.point - Number(amountPointMin)))}`)
                    }
                } else if(args.length == 4) {
                    if(!args[3].includes('@s.whatsapp.net')) return reply(from, 'Args[3] Harus berupa @s.whatsapp.net ID', id)
                    let ndog2 = args[3]
                    const amountPointMin = Math.floor(args[2])
                    await MinPoint(ndog2, amountPointMin)
                    if(isMention) {
                        rem.sendTextWithMentions(from, `Success Min Point Easter Egg @${ndog2.replace('@s.whatsapp.net','')}!\n\nUpdated!\nü™∫ Point Easter Egg: ${numberWithCommas(fixNumberE(_userDb.economy.point - Number(amountPointMin)))}`)
                    } else {
                        rem.sendText(from, `Success Min Point Easter Egg wa.me/${ndog2.replace('@s.whatsapp.net','')}!\n\nUpdated!\nü™∫ Point Easter Egg: ${numberWithCommas(fixNumberE(_userDb.economy.point - Number(amountPointMin)))}`)
                    }
                } else {
                    return reply(from, 'Invalid!', id)
                }
            } else if(args[1] == 'reset') {
                if(!isOwner) return reply(from, 'Perintah ini hanya untuk Owner!', id)
                if(quotedMsg) {
                    let ndog2 = quotedMsg.sender
                    await _mongo_UserSchema.updateOne({ iId: ndog2 }, { $set: { "economy.point": 0 } })
                    if(isMention) {
                        rem.sendTextWithMentions(from, `Success Reset Point Easter Egg @${ndog2.replace('@s.whatsapp.net','')}!`)
                    } else {
                        rem.sendText(from, `Success Reset Point Easter Egg wa.me/${ndog2.replace('@s.whatsapp.net','')}!`)
                    }
                } else if(args.length == 3) {
                    if(!args[2].includes('@s.whatsapp.net')) return reply(from, 'Args[2] Harus berupa @s.whatsapp.net ID', id)
                    let ndog2 = args[2]
                    await _mongo_UserSchema.updateOne({ iId: ndog2 }, { $set: { "economy.point": 0 } })
                    if(isMention) {
                        rem.sendTextWithMentions(from, `Success Reset Point Easter Egg @${ndog2.replace('@s.whatsapp.net','')}!`)
                    } else {
                        rem.sendText(from, `Success Reset Point Easter Egg wa.me/${ndog2.replace('@s.whatsapp.net','')}!`)
                    }
                } else {
                    return reply(from, 'Invalid!', id)
                }
            }
            break
        // Kegunaan Afinitas Saudara
        case prefix+'pullmoney':
        case prefix+'pullm':
            if(!isSideOwner) return reply(from, 'Err: 403', id)

            const afinitasSaudaraList = _userDb.rl?.afinitas?.saudara?.list || []
            if(afinitasSaudaraList.length === 0) return reply(from, `Kamu tidak memiliki afinitas saudara! Gunakan *${prefix}afinitas saudara* untuk menambahkan afinitas saudara.`, id)

            //check if user already pulled money in the last 24 hours
            const lastPull = _userDb.lastAction?.pullmoney || 0
            const cooldownTime = 24 * 60 * 60 * 1000

            if(lastPull > 0 && Date.now() - lastPull < cooldownTime && !isOwner) {
                const remainingTime = cooldownTime - (Date.now() - lastPull)
                const hours = Math.floor(remainingTime / (60 * 60 * 1000))
                const minutes = Math.floor((remainingTime % (60 * 60 * 1000)) / (60 * 1000))
                const seconds = Math.floor((remainingTime % (60 * 1000)) / 1000)
                
                return reply(from, `Kamu sudah menarik uang dalam 24 jam terakhir. Silakan tunggu *${hours} jam | ${minutes} menit | ${seconds} detik* sebelum menarik lagi.`, id)
            }

            let moneyToAdd = 0
            const saudaraCount = afinitasSaudaraList.length

            if(saudaraCount >= 5) {
                moneyToAdd = 75000
            } else if(saudaraCount >= 4) {
                moneyToAdd = 65000
            } else if(saudaraCount >= 3) {
                moneyToAdd = 45000
            } else if(saudaraCount >= 2) {
                moneyToAdd = 30000
            } else if(saudaraCount >= 1) {
                moneyToAdd = 15000
            }

            await _mongo_UserSchema.updateOne({ iId: sender }, { $inc: { "economy.money": moneyToAdd }, $set: { "lastAction.pullmoney": Date.now() } })

            // get current duid
            const updateUserMoneyDb = await _mongo_UserSchema.findOne({ iId: sender })
            const currentMoney = updateUserMoneyDb.economy.money
            reply(from, `üí∞ Berhasil menarik uang dari saudara!\n\nUang yang diterima: Rp${numberWithCommas(moneyToAdd)}\nTotal uang sekarang: Rp${numberWithCommas(currentMoney)}\n\nKamu dapat menarik uang lagi setelah 24 jam.`, id)
            break
        case prefix+'pay':
            if(!isPrem) return reply(from, 'Command ini hanya untuk User Premium!', id)
            if(!isGroupMsg) return await reply(from, 'Command ini hanya bisa digunakan di dalam grup!', id)
            if(args[1] == undefined || args[2] == undefined) return reply(from, `Format Salah!\nContoh: _${prefix}pay @tagmember <jumlah>_`, id)
            if(isNaN(args[2])) return reply(from, 'Jumlah harus berupa angka!', id)
            if(mentionedJidList.length == 0) return reply(from, 'Tag orang yang ingin kamu beri uang!', id)

            const limitGiveMoney = 2
            const limitMoneyPerGive = 50000
            const amountMoney = Math.floor(args[2])
            if (getMoney(_userDb) < amountMoney) return reply(from, `Maaf, uang kamu tidak cukup untuk memberi uang sebesar ${numberWithCommas(fixNumberE(amountMoney))}!`, id)
            if (amountMoney < 1) return reply(from, 'Maaf, jumlah uang yang ingin kamu berikan tidak boleh kurang dari 1!', id)
            
            const levelMentionPay = getLevelingLevel(_mentionUserDb)
            if((levelMentionPay <= 5) && (amountMoney > 50_000)) return reply(from, 'Maaf, member yang levelnya dibawah 5 hanya bisa menerima uang maksimal 50.000!', id)
            if((levelMentionPay <= 10) && (amountMoney > 200_000)) return reply(from, 'Maaf, member yang levelnya dibawah 10 hanya bisa menerima uang maksimal 200.000!', id)
            if((levelMentionPay <= 15) && (amountMoney > 500_000)) return reply(from, 'Maaf, member yang levelnya dibawah 15 hanya bisa menerima uang maksimal 500.000!', id)
            if(amountMoney > 1_000_000) return reply(from, 'Maaf, batas maksimal mengirim uang adalah 1.000.000!', id)
                
            if(_userDb.limit.lpaym == undefined) {
                await setMoneyLimitGive(_userDb.iId)
                _userDb = await _mongo_UserSchema.findOne({ iId: sender })
            }
            const limitPayMoney = getMoneyLimitGive(_userDb, mentionedJidList[0])
            
            let isLimitGiveMoney = 0
            if(limitPayMoney?.posLimitMoney != 'false') isLimitGiveMoney = Math.floor(_userDb.limit.lpaym[limitPayMoney.posLimitMoney].limit)
            if(isLimitGiveMoney >= limitGiveMoney) return reply(from, `Maaf, kamu sudah memberi uang sebanyak ${limitGiveMoney} kali hari ini!`, id)

            await MinMoney(sender, amountMoney)
            await addMoney(mentionedJidList[0], amountMoney, _mentionUserDb)
            await addMoneyLimitGive(_userDb, sender, mentionedJidList[0], 1)
            if(isMention) {
                rem.sendTextWithMentions(from, `Success Give Money @${mentionedJidList[0].replace('@s.whatsapp.net','')}!\n\nUpdated!\nMoney: ${numberWithCommas(fixNumberE(_userDb.economy.money - Number(amountMoney)))}`)
            } else {
                rem.sendText(from, `Success Give Money wa.me/${mentionedJidList[0].replace('@s.whatsapp.net','')}!\n\nUpdated!\nMoney: ${numberWithCommas(fixNumberE(_userDb.economy.money - Number(amountMoney)))}`)
            }
            break
        case prefix+'sultan':
        case prefix+'st':
            if (!isGroupMsg) return await reply(from, 'Command ini hanya bisa digunakan di dalam grup!', id)
            //if(!isOwner) reply(from, 'Money akan tersedia setelah S10 dimulai', id)
            let limitDisplayTopSt = 10
            const uangnyabang = await _mongo_UserSchema.find({}, { iId: 1, "economy.money": 1, _id: 0 }).sort({ "economy.money": -1 }).limit(11)
            // uangnyabang.sort((a, b) => (a.economy.money < b.economy.money) ? 1 : -1)
            let urutanmoney = '-----[ *SULTAN* ]----\n\n'
            try {
                let nomnya = 0
                if(isMention) {
                    for (let i = 0; i < limitDisplayTopSt; i++) {
                        nomnya += 1
                        if(uangnyabang[i].iId == '62856038120076@s.whatsapp.net' || uangnyabang[i].iId == superOwnerPajak) {
                            limitDisplayTopSt += 1
                            nomnya -= 1
                            continue;
                        }
                        var namasultan0 = await rem.onWhatsApp(uangnyabang[i].iId)
                        if(!namasultan0?.[0]?.exists) {
                            urutanmoney += `${i + 1}. +${uangnyabang[i].iId.replace('@s.whatsapp.net', '')}\n‚û§ UANG: *${numberWithCommas(fixNumberE(uangnyabang[i].economy.money.toFixed(0)))}*\n\n`
                        } else {
                            urutanmoney += `${i + 1}. @${uangnyabang[i].iId.replace('@s.whatsapp.net', '')}\n‚û§ UANG: *${numberWithCommas(fixNumberE(uangnyabang[i].economy.money.toFixed(0)))}*\n\n`
                        }
                    }
                    await rem.sendTextWithMentions(from, urutanmoney)
                } else {
                    for (let i = 0; i < limitDisplayTopSt; i++) {
                        nomnya += 1
                        if(uangnyabang[i].iId == '62856038120076@s.whatsapp.net' || uangnyabang[i].iId == superOwnerPajak) {
                            limitDisplayTopSt += 1
                            nomnya -= 1
                            continue;
                        }
                        var contactDb = await _mongo_ContactSchema.findOne({ iId: uangnyabang[i].iId })
                        var namasultan0 = await rem.contacts(uangnyabang[i].iId, contactDb)
                        const getNameSultan = uangnyabang[i]
                        var namasultan01 = getNama(getNameSultan)
                        console.log(namasultan01)
                        if(namasultan01 == undefined) {
                            var namasultan = namasultan0
                        } else {
                            var namasultan = namasultan01
                        }
                        urutanmoney += `${nomnya}. *_${namasultan}_*\nwa.me/${uangnyabang[i].iId.replace('@s.whatsapp.net', '')}\n‚û§ UANG: *${numberWithCommas(fixNumberE(uangnyabang[i].economy.money.toFixed(0)))}*\n\n`
                    }
                    rem.sendText(from, urutanmoney)
                }
            } catch (err) {
                console.error(err)
                await reply(from, 'Perlu setidaknya *10* user yang memiliki level di database!', id)
            }
            break
            //Virtual Trading (bersifat fiksi)
        case prefix+'resetinv':
            if(!isSuperOwner) return reply(from, 'Invalid!')
            
            const coinResetInv = ['naocoin', 'elacoin', 'recoin']
            let resetCoinInv = coinResetInv
            if(args[1]) {
                if(!coinResetInv.includes(args[1])) return reply(from, 'Coin not found')
                resetCoinInv = [args[1]]
            }

            for(let i = 0; i < resetCoinInv.length; i++) {
                console.log(resetCoinInv[i])
                await _mongo_InvestHistorySchema.deleteMany({ coin: resetCoinInv[i] })

                const findInitialInvestPrice = await _mongo_CommandSchema.findOne({ cId: 'invest_price' })
                await _mongo_CommandSchema.updateOne({
                    cId: 'invest_price'
                }, {
                    $set: {
                        [`invest.${resetCoinInv[i]}.currentPrice`]: findInitialInvestPrice.invest[resetCoinInv[i]].initialPrice,
                        [`invest.${resetCoinInv[i]}.circulatingSupply`]: findInitialInvestPrice.invest[resetCoinInv[i]].initialSupply,
                        [`invest.${resetCoinInv[i]}.marketCap`]: 0,
                        [`invest.${resetCoinInv[i]}.totalVolume`]: 0
                    }
                })

                // last loop
                if(i == resetCoinInv.length - 1) {
                    reply(from, 'success')
                }
            }
            break
        case prefix+'ind':
        case prefix+'harga':
            if (!isGroupMsg) return reply(from, 'Perintah ini hanya bisa di gunakan dalam group!', id)
            if(getMoney(_userDb) == undefined) await setMoney(sender)
            const isSpyInd = getUserItemIdSpy(_userDb)
            if(getInvest_user(_userDb) == undefined) {
                await setInvest_user(sender)
                _userDb = await _mongo_UserSchema.findOne({ iId: sender })
            }

            const getCoinInvestPrice = await _mongo_CommandSchema.findOne({ cId: 'invest_price' })
            const naoCoinPriceInd = safeBig(getCoinInvestPrice.invest.naocoin.currentPrice)
            const elaCoinPriceInd = safeBig(getCoinInvestPrice.invest.elacoin.currentPrice)
            const reCoinPriceInd = safeBig(getCoinInvestPrice.invest.recoin.currentPrice)

            const allCoinInd = ['iron', 'gold', 'diamond', 'naocoin', 'elacoin', 'recoin']
            // search lower date from _userDb?.limit?.invest[allCoinInd]
            let lowerDateInd = Date.now()
            allCoinInd.forEach(coin => {
                if(_userDb?.limit?.investCounter?.['resetCounter_' + coin] != undefined) {
                    if(lowerDateInd > _userDb.limit.investCounter['resetCounter_' + coin]) lowerDateInd = _userDb.limit.investCounter['resetCounter_' + coin]
                }
            })

            if(isOwner) console.log('lowerDateInd', lowerDateInd)

            const getHistoryInvestUser = await _mongo_InvestHistorySchema.find({ from: sender, date: { $gt: new Date(lowerDateInd) } }, { coin: 1, type: 1, content: 1, price: 1, _id: 0 })
            if(isOwner) console.log(getHistoryInvestUser)
            // map to { type: type, qty: content, price: price }
            const getHistoryInd = getHistoryInvestUser.map((content) => {
                return {
                    coin: content.coin,
                    type: content.type,
                    qty: content.content,
                    price: content.price
                }
            })

            // calculate the profit/loss each coin and calculate the total
            const investUser = getInvest_user(_userDb)

            let dataInvestInd = {}
            let totalProfitAll = 0
            let totalCostAll = 0

            const percentageUpDownInd = {}
            for(let i = 0; i < allCoinInd.length; i++) {
                const coinInd = allCoinInd[i]
                const getCoinInvest = getHistoryInd.filter((content) => content.coin === coinInd)

                let priceNowCoin = 0
                if((coinInd === 'naocoin') || (coinInd === 'elacoin') || (coinInd === 'recoin')) {
                    priceNowCoin = safeBig(getCoinInvestPrice.invest[coinInd].currentPrice)
                } else {
                    priceNowCoin = _botDb.invest[0]?.[coinInd]
                }
                // percentageUpDownInd[coinInd] = ((priceNowCoin - historyBasePriceInd[coinInd][0]) / historyBasePriceInd[coinInd][0]) * 100
                let percentageUpDownIndThis = 0
                if((coinInd === 'naocoin') || (coinInd === 'elacoin') || (coinInd === 'recoin')) {
                    const basePriceBig = safeBig(_botDb.invest[1][`re_${coinInd}8`] || 1)
                    if (basePriceBig.gt(0)) {
                        percentageUpDownIndThis = priceNowCoin.minus(basePriceBig).div(basePriceBig).times(100).toNumber()
                    }
                } else {
                    percentageUpDownIndThis = ((priceNowCoin - _botDb.invest[1][`re_${coinInd}8`]) / _botDb.invest[1][`re_${coinInd}8`]) * 100
                }
                percentageUpDownInd[coinInd] = !isNaN(percentageUpDownIndThis) ? `(${percentageUpDownIndThis > 0 ? '+' : ''}${percentageUpDownIndThis.toFixed(2)}%)` : `(0%)`

                if(getCoinInvest.length == 0) continue
                let totalBoughtQty = 0;
                let totalCost = 0;
                let totalSoldQty = 0;
                let totalProceeds = 0;
                

                getCoinInvest.forEach(transaction => {
                    if (transaction.type === 'buy') {
                        totalBoughtQty += transaction.qty;
                        totalCost += transaction.qty * transaction.price;
                    } else if (transaction.type === 'sell') {
                        totalSoldQty += transaction.qty;
                        totalProceeds += transaction.qty * transaction.price;
                    }
                });

                // Remaining quantity
                const remainingQty = totalBoughtQty - totalSoldQty;
                
                // Current value of remaining holdings
                const currentValue = remainingQty * priceNowCoin;

                // Profit calculation
                const profit = totalProceeds + currentValue - totalCost;

                // Percentage profit/loss calculation
                const percentageProfit = (profit / totalCost) * 100;

                totalProfitAll += profit;
                totalCostAll += totalCost;
                dataInvestInd[coinInd] = {
                    coin: coinInd,
                    profitLoss: profit,
                    profitLossPercentage: percentageProfit,
                    stringProfitLossPercentage: `${(percentageProfit > 0) ? '+' : ''}${percentageProfit.toFixed(2)}`
                }
            }
                
            const totalProfitLossAllPercentage = ((totalProfitAll / totalCostAll) * 100)
            const textotalProfitLossAllPercentage = !isNaN(totalProfitLossAllPercentage) && (investUser?.iron > 0 || investUser?.gold > 0 || investUser?.diamond > 0 || investUser?.naocoin > 0 || investUser?.elacoin > 0 || investUser?.recoin > 0 ) ? ` (${(totalProfitLossAllPercentage > 0) ? '+' : ''}${totalProfitLossAllPercentage.toFixed(2)}%)` : ''

            const textProfitLossIron = dataInvestInd.iron && investUser?.iron > 0 ? ` (${dataInvestInd.iron.stringProfitLossPercentage}%)` : ''
            const textProfitLossGold = dataInvestInd.gold && investUser?.gold > 0 ? ` (${dataInvestInd.gold.stringProfitLossPercentage}%)` : ''
            const textProfitLossDiamond = dataInvestInd.diamond && investUser?.diamond > 0 ? ` (${dataInvestInd.diamond.stringProfitLossPercentage}%)` : ''
            const textProfitLossNaoCoin = dataInvestInd.naocoin && investUser?.naocoin > 0 ? ` (${dataInvestInd.naocoin.stringProfitLossPercentage}%)` : ''
            const textProfitLossElaCoin = dataInvestInd.elacoin && investUser?.elacoin > 0 ? ` (${dataInvestInd.elacoin.stringProfitLossPercentage}%)` : ''
            const textProfitLossReCoin = dataInvestInd.recoin && investUser?.recoin > 0 ? ` (${dataInvestInd.recoin.stringProfitLossPercentage}%)` : ''

            const totalValueIronInd = _botDb.invest[0]?.iron * (investUser?.iron || 0)
            const totalValueGoldInd = _botDb.invest[0]?.gold * (investUser?.gold || 0)
            const totalValueDiamondInd = _botDb.invest[0]?.diamond * (investUser?.diamond || 0)
            const totalValueNaoCoinInd = safeToNumber(naoCoinPriceInd.times(investUser?.naocoin || 0))
            const totalValueElaCoinInd = safeToNumber(elaCoinPriceInd.times(investUser?.elacoin || 0))
            const totalValueReCoinInd = safeToNumber(reCoinPriceInd.times(investUser?.recoin || 0))

            const totalPortofolioAllInd = totalValueIronInd + totalValueGoldInd + totalValueDiamondInd + totalValueNaoCoinInd + totalValueElaCoinInd + totalValueReCoinInd

            if(getDscInv(_userDb) == undefined) {
                const sendIndText = `!! Data bersifat TIDAK NYATA !!
‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
Harga barang invest

‚û• Iron : Rp. ${numberWithCommas(fixNumberE(_botDb.invest[0]?.iron))} ${percentageUpDownInd.iron}
‚û• Gold : Rp. ${numberWithCommas(fixNumberE(_botDb.invest[0]?.gold))} ${percentageUpDownInd.gold}
‚û• Diamond : Rp. ${numberWithCommas(fixNumberE(_botDb.invest[0]?.diamond))} ${percentageUpDownInd.diamond}
‚û• NaoCoin : Rp. ${numberWithCommas(fixNumberE(naoCoinPriceInd.toFixed(0)))} ${percentageUpDownInd.naocoin}
‚û• ElaCoin : Rp. ${numberWithCommas(fixNumberE(elaCoinPriceInd.toFixed(0)))} ${percentageUpDownInd.elacoin}
‚û• Recoin : Rp. ${numberWithCommas(fixNumberE(reCoinPriceInd.toFixed(0)))} ${percentageUpDownInd.recoin}

 ‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
Barang yang dimiliki

1. Iron : ${isSpyInd ? '#####' : numberWithCommas(fixNumberE(investUser?.iron || 0))}${isSpyInd ? ' (####%)' : textProfitLossIron}
2. Gold : ${isSpyInd ? '#####' : numberWithCommas(fixNumberE(investUser?.gold || 0))}${isSpyInd ? ' (####%)' : textProfitLossGold}
3. Diamond : ${isSpyInd ? '#####' : numberWithCommas(fixNumberE(investUser?.diamond || 0))}${isSpyInd ? ' (####%)' : textProfitLossDiamond}
4. NaoCoin : ${isSpyInd ? '#####' : numberWithCommas(fixNumberE(investUser?.naocoin || 0))}${isSpyInd ? ' (####%)' : textProfitLossNaoCoin}
5. ElaCoin : ${isSpyInd ? '#####' : numberWithCommas(fixNumberE(investUser?.elacoin || 0))}${isSpyInd ? ' (####%)' : textProfitLossElaCoin}
6. ReCoin : ${isSpyInd ? '#####' : numberWithCommas(fixNumberE(investUser?.recoin || 0))}${isSpyInd ? ' (####%)' : textProfitLossReCoin}

Total Portofolio : Rp. ${isSpyInd ? '#####' : numberWithCommas(fixNumberE(totalPortofolioAllInd || 0))}${isSpyInd ? ' (####%)' : textotalProfitLossAllPercentage}
‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ`
                // reply(from, `*Data bersifat TIDAK NYATA*\nHarga Barang Invest\n\nIron : _Rp. ${numberWithCommas(fixNumberE(_botDb.invest[0]?.iron))}_\nGold : _Rp. ${numberWithCommas(fixNumberE(_botDb.invest[0]?.gold))}_\nNaoCoin : _Rp. ${numberWithCommas(fixNumberE(_botDb.invest[0]?.naocoin))}_\nElaCoin : _Rp. ${numberWithCommas(fixNumberE(_botDb.invest[0]?.elacoin))}_\nReCoin : _Rp. ${numberWithCommas(fixNumberE(_botDb.invest[0]?.recoin))}_\n\nÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕè1. Iron | Mempunyai : ${getInvest_user(_userDb).iron}\n2. Gold | Mempunyai : ${getInvest_user(_userDb).gold}\n3. NaoCoin | Mempunyai : ${getInvest_user(_userDb).naocoin}\n4. ElaCoin | Mempunyai : ${getInvest_user(_userDb).elacoin}\n5. ReCoin | Mempunyai : ${getInvest_user(_userDb).recoin}`, id)
                reply(from, sendIndText)
            } else {
                const dscInv_ind = getDscInv(_userDb)
                // const dscInv_coal = Math.floor(_botDb.invest[0]?.coal - Math.floor(dscInv_ind.buy / 100 * _botDb.invest[0]?.coal))
                // const dscInv_copper = Math.floor(_botDb.invest[0]?.copper - Math.floor(dscInv_ind.buy / 100 * _botDb.invest[0]?.copper))
                const dscInv_iron = Math.floor(_botDb.invest[0]?.iron - Math.floor(dscInv_ind.buy / 100 * _botDb.invest[0]?.iron))
                const dscInv_gold = Math.floor(_botDb.invest[0]?.gold - Math.floor(dscInv_ind.buy / 100 * _botDb.invest[0]?.gold))
                const dscInv_diamond = Math.floor(_botDb.invest[0]?.diamond - Math.floor(dscInv_ind.buy / 100 * _botDb.invest[0]?.diamond))
                const dscInv_naocoin = Math.floor(safeToNumber(naoCoinPriceInd) - Math.floor(dscInv_ind.buy / 100 * safeToNumber(naoCoinPriceInd)))
                const dscInv_elacoin = Math.floor(safeToNumber(elaCoinPriceInd) - Math.floor(dscInv_ind.buy / 100 * safeToNumber(elaCoinPriceInd)))
                const dscInv_recoin = Math.floor(safeToNumber(reCoinPriceInd) - Math.floor(dscInv_ind.buy / 100 * safeToNumber(reCoinPriceInd)))

                const timeConvertDscInv_sell = timeConvert(dscInv_ind.time)
                const outputTextDscInv_sell = `${timeConvertDscInv_sell.day} Hari : ${timeConvertDscInv_sell.hour} Jam : ${timeConvertDscInv_sell.minute} Menit : ${timeConvertDscInv_sell.second} Detik`

                const timeConvertDscInv_buy = timeConvert(dscInv_ind.time)
                const outputTextDscInv_buy = `${timeConvertDscInv_buy.day} Hari : ${timeConvertDscInv_buy.hour} Jam : ${timeConvertDscInv_buy.minute} Menit : ${timeConvertDscInv_buy.second} Detik`
                
                const sendIndTextDisc = `!! Data bersifat TIDAK NYATA !!
‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
Harga barang invest

‚û• Iron : ~_Rp. ${numberWithCommas(fixNumberE(_botDb.invest[0]?.iron))}_~ _Rp. ${numberWithCommas(fixNumberE(dscInv_iron))}_
‚û• Gold : ~_Rp. ${numberWithCommas(fixNumberE(_botDb.invest[0]?.gold))}_~ _Rp. ${numberWithCommas(fixNumberE(dscInv_gold))}_
‚û• Diamond : ~_Rp. ${numberWithCommas(fixNumberE(_botDb.invest[0]?.diamond))}_~ _Rp. ${numberWithCommas(fixNumberE(dscInv_diamond))}_
‚û• NaoCoin : ~_Rp. ${numberWithCommas(fixNumberE(naoCoinPriceInd.toFixed(0)))}_~ _Rp. ${numberWithCommas(fixNumberE(dscInv_naocoin))}_
‚û• ElaCoin : ~_Rp. ${numberWithCommas(fixNumberE(elaCoinPriceInd.toFixed(0)))}_~ _Rp. ${numberWithCommas(fixNumberE(dscInv_elacoin))}_
‚û• Recoin : ~_Rp. ${numberWithCommas(fixNumberE(reCoinPriceInd.toFixed(0)))}_~ _Rp. ${numberWithCommas(fixNumberE(dscInv_recoin))}_

Discount Beli : *_${dscInv_ind.buy}%_*
 Time : _${outputTextDscInv_buy}_
Bonus Jual : *_+${dscInv_ind.sell}%_*
 Time : _${outputTextDscInv_sell}_
 
_Harga jual sama dengan Harga Awal atau Harga jual + Bonus jual_

ÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕè
‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
Barang yang dimiliki

1. Iron : ${isSpyInd ? '#####' : numberWithCommas(fixNumberE(investUser?.iron || 0))}${isSpyInd ? ' (####%)' : textProfitLossIron}
2. Gold : ${isSpyInd ? '#####' : numberWithCommas(fixNumberE(investUser?.gold || 0))}${isSpyInd ? ' (####%)' : textProfitLossGold}
3. Diamond : ${isSpyInd ? '#####' : numberWithCommas(fixNumberE(investUser?.diamond || 0))}${isSpyInd ? ' (####%)' : textProfitLossDiamond}
4. NaoCoin : ${isSpyInd ? '#####' : numberWithCommas(fixNumberE(investUser?.naocoin || 0))}${isSpyInd ? ' (####%)' : textProfitLossNaoCoin}
5. ElaCoin : ${isSpyInd ? '#####' : numberWithCommas(fixNumberE(investUser?.elacoin || 0))}${isSpyInd ? ' (####%)' : textProfitLossElaCoin}
6. ReCoin : ${isSpyInd ? '#####' : numberWithCommas(fixNumberE(investUser?.recoin || 0))}${isSpyInd ? ' (####%)' : textProfitLossReCoin}

Total Portofolio : Rp. ${isSpyInd ? '#####' : numberWithCommas(fixNumberE(totalPortofolioAllInd || 0))}${isSpyInd ? ' (####%)' : textotalProfitLossAllPercentage}
‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ`
                reply(from, sendIndTextDisc)
            }
            break
        case prefix+'invest':
        case prefix+'inv':
            //if(!isOwner) return
            if (!isGroupMsg) return reply(from, 'Perintah ini hanya bisa di gunakan dalam group!', id)
            if(getMoney(_userDb) == undefined) await setMoney(sender)
            const isSpyInv = getUserItemIdSpy(_userDb)
            if(getInvest_user(_userDb) == undefined) {
                await setInvest_user(sender)
                _userDb = await _mongo_UserSchema.findOne({ iId: sender })
            }

            const getCoinInvestPriceInv = await _mongo_CommandSchema.findOne({ cId: 'invest_price' })
            const naoCoinPriceInv = safeBig(getCoinInvestPriceInv.invest.naocoin.currentPrice)
            const elaCoinPriceInv = safeBig(getCoinInvestPriceInv.invest.elacoin.currentPrice)
            const reCoinPriceInv = safeBig(getCoinInvestPriceInv.invest.recoin.currentPrice)

            let outputText_inv = `*Harga 1 Barang :*
  _Iron :_ Rp. ${numberWithCommas(fixNumberE(_botDb.invest[0]?.iron))}
  _Gold :_ Rp. ${numberWithCommas(fixNumberE(_botDb.invest[0]?.gold))}
  _Diamond :_ Rp. ${numberWithCommas(fixNumberE(_botDb.invest[0]?.diamond))}
  _NaoCoin :_ Rp. ${numberWithCommas(fixNumberE(naoCoinPriceInv.toFixed(0)))}
  _ElaCoin :_ Rp. ${numberWithCommas(fixNumberE(elaCoinPriceInv.toFixed(0)))}
  _ReCoin :_ Rp. ${numberWithCommas(fixNumberE(reCoinPriceInv.toFixed(0)))}
‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ
Money : Rp. ${isSpyInv ? '#####' : numberWithCommas(fixNumberE(getMoney(_userDb)))}
‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ

1. Iron | Mempunyai : ${isSpyInv ? '#####' : getInvest_user(_userDb).iron}
2. Gold | Mempunyai : ${isSpyInv ? '#####' : getInvest_user(_userDb).gold}
3. Diamond | Mempunyai : ${isSpyInv ? '#####' : getInvest_user(_userDb).diamond}
4. NaoCoin | Mempunyai : ${isSpyInv ? '#####' : getInvest_user(_userDb).naocoin}
5. ElaCoin | Mempunyai : ${isSpyInv ? '#####' : getInvest_user(_userDb).elacoin}
6. ReCoin | Mempunyai : ${isSpyInv ? '#####' : getInvest_user(_userDb).recoin}

Kirim _${prefix}inv <barang>_ untuk melihat detail
Contoh : *${prefix}inv 5*

Untuk *Membeli* Ketik : _${prefix}beli <barang> <jumlah>_
Contoh : *${prefix}beli gold 8*

Untuk *Menjual* Ketik : _${prefix}jual <barang> <jumlah>_
Contoh : *${prefix}jual iron 12*`
            if(getDscInv(_userDb) != undefined) {
                const dscInv_inv = getDscInv(_userDb)
                // const dscInv_coal = Math.floor(_botDb.invest[0]?.coal - Math.floor(dscInv_inv.buy / 100 * _botDb.invest[0]?.coal))
                // const dscInv_copper = Math.floor(_botDb.invest[0]?.copper - Math.floor(dscInv_inv.buy / 100 * _botDb.invest[0]?.copper))
                const dscInv_iron = Math.floor(_botDb.invest[0]?.iron - Math.floor(dscInv_inv.buy / 100 * _botDb.invest[0]?.iron))
                const dscInv_gold = Math.floor(_botDb.invest[0]?.gold - Math.floor(dscInv_inv.buy / 100 * _botDb.invest[0]?.gold))
                const dscInv_diamond = Math.floor(_botDb.invest[0]?.diamond - Math.floor(dscInv_inv.buy / 100 * _botDb.invest[0]?.diamond))
                const dscInv_naocoin = Math.floor(safeToNumber(naoCoinPriceInv) - Math.floor(dscInv_inv.buy / 100 * safeToNumber(naoCoinPriceInv)))
                const dscInv_elacoin = Math.floor(safeToNumber(elaCoinPriceInv) - Math.floor(dscInv_inv.buy / 100 * safeToNumber(elaCoinPriceInv)))
                const dscInv_recoin = Math.floor(safeToNumber(reCoinPriceInv) - Math.floor(dscInv_inv.buy / 100 * safeToNumber(reCoinPriceInv)))

                const timeConvertDscInv_sell = timeConvert(dscInv_inv.time)
                const outputTextDscInv_sell = `${timeConvertDscInv_sell.day} Hari : ${timeConvertDscInv_sell.hour} Jam : ${timeConvertDscInv_sell.minute} Menit : ${timeConvertDscInv_sell.second} Detik`

                const timeConvertDscInv_buy = timeConvert(dscInv_inv.time)
                const outputTextDscInv_buy = `${timeConvertDscInv_buy.day} Hari : ${timeConvertDscInv_buy.hour} Jam : ${timeConvertDscInv_buy.minute} Menit : ${timeConvertDscInv_buy.second} Detik`
                outputText_inv = `*Harga 1 Barang :*
  _Iron_ : ~Rp. ${numberWithCommas(fixNumberE(_botDb.invest[0]?.iron))}~ Rp. ${numberWithCommas(fixNumberE(dscInv_iron))}
  _Gold_ : ~Rp. ${numberWithCommas(fixNumberE(_botDb.invest[0]?.gold))}~ Rp. ${numberWithCommas(fixNumberE(dscInv_gold))}
  _Diamond_ : ~Rp. ${numberWithCommas(fixNumberE(_botDb.invest[0]?.diamond))}~ Rp. ${numberWithCommas(fixNumberE(dscInv_diamond))}
  _NaoCoin_ : ~Rp. ${numberWithCommas(fixNumberE(naoCoinPriceInv.toFixed(0)))}~ Rp. ${numberWithCommas(fixNumberE(dscInv_naocoin))}
  _ElaCoin_ : ~Rp. ${numberWithCommas(fixNumberE(elaCoinPriceInv.toFixed(0)))}~ Rp. ${numberWithCommas(fixNumberE(dscInv_elacoin))}
  _ReCoin_ : ~Rp. ${numberWithCommas(fixNumberE(reCoinPriceInv.toFixed(0)))}~ Rp. ${numberWithCommas(fixNumberE(dscInv_recoin))}
‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ
Money : Rp. ${isSpyInv ? '#####' : numberWithCommas(fixNumberE(getMoney(_userDb)))}
‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ

1. Iron | Mempunyai : ${isSpyInv ? '#####' : getInvest_user(_userDb).iron}
2. Gold | Mempunyai : ${isSpyInv ? '#####' : getInvest_user(_userDb).gold}
3. Diamond | Mempunyai : ${isSpyInv ? '#####' : getInvest_user(_userDb).diamond}
4. NaoCoin | Mempunyai : ${isSpyInv ? '#####' : getInvest_user(_userDb).naocoin}
5. ElaCoin | Mempunyai : ${isSpyInv ? '#####' : getInvest_user(_userDb).elacoin}
6. ReCoin | Mempunyai : ${isSpyInv ? '#####' : getInvest_user(_userDb).recoin}

Discount Beli : *_${dscInv_inv.buy}%_*
 Time : _${outputTextDscInv_buy}_
Bonus Jual : *_+${dscInv_inv.sell}%_*
 Time : _${outputTextDscInv_sell}_

Untuk *Membeli* Ketik : _${prefix}beli <barang> <jumlah>_
Contoh : *${prefix}beli gold 8*

Untuk *Menjual* Ketik : _${prefix}jual <barang> <jumlah>_
Contoh : *${prefix}jual iron 12*`
            }

            const _invest = _botDb.invest
            if(args[1] == undefined) {
                rem.sendFile(from, './lib/cache/chart/invest.png', 'invest.png', outputText_inv, messageRaw, image)
            } else if((args[1].toLowerCase() == 'naocoin' || args[1].toLowerCase() == 'nao' || args[1].toLowerCase() == 'nc' || args[1] == '4') || 
            (args[1].toLowerCase() == 'elacoin' || args[1].toLowerCase() == 'ela' || args[1].toLowerCase() == 'ec' || args[1] == '5') ||
            (args[1].toLowerCase() == 'recoin' || args[1].toLowerCase() == 're' || args[1].toLowerCase() == 'rc' || args[1] == '6')) {

                let getCoinInvName = ''
                if(args[1].toLowerCase() == 'naocoin' || args[1].toLowerCase() == 'nao' || args[1].toLowerCase() == 'nc' || args[1] == '4') getCoinInvName = 'naocoin'
                if(args[1].toLowerCase() == 'elacoin' || args[1].toLowerCase() == 'ela' || args[1].toLowerCase() == 'ec' || args[1] == '5') getCoinInvName = 'elacoin'
                if(args[1].toLowerCase() == 'recoin' || args[1].toLowerCase() == 're' || args[1].toLowerCase() == 'rc' || args[1] == '6') getCoinInvName = 'recoin'

                const getChartCoinInv = await axios.get(`http://localhost:5153/chart/${getCoinInvName}`, { responseType: 'arraybuffer' })

                const getCalculatedDataInv = (await axios.get(`http://localhost:5153/price/${getCoinInvName}?period=${toMs('7d')}`)).data
                console.log(getCalculatedDataInv)
                const coinPriceInv = safeBig(getCalculatedDataInv.currentPrice).toFixed(0)
                const coinMarketCap = safeBig(getCalculatedDataInv.marketCap).toFixed(0)
                // const coinTotalVolume = safeBig(getCalculatedDataInv.totalVolume).toFixed(0)
                const coinTotalSupply = safeBig(getCalculatedDataInv.circulatingSupply).toFixed(0)
                // const coinMaxSupply = safeBig(getCalculatedDataInv.maxSupply || 0).toFixed(0)
                const coinVolatility = safeBig(getCalculatedDataInv.volatility || 0).toFixed(2)
                const coinSMA = safeBig(getCalculatedDataInv.sma || 0)
                // const coinWAP = safeBig(getCalculatedDataInv.wap || 0)
                
                const text = `> Harga 1 Barang :
  _${getCoinInvName === 'naocoin' ? 'NaoCoin' : getCoinInvName === 'elacoin' ? 'ElaCoin' : getCoinInvName === 'recoin' ? 'Recoin' : 'Invalid'} :_ Rp. ${numberWithCommas(fixNumberE(coinPriceInv))}

> Inventory :
‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ
  Money : Rp. ${isSpyInv ? '#####' : numberWithCommas(fixNumberE(getMoney(_userDb)))}
  ${getCoinInvName === 'naocoin' ? 'NaoCoin' : getCoinInvName === 'elacoin' ? 'ElaCoin' : getCoinInvName === 'recoin' ? 'Recoin' : 'Invalid'} : ${isSpyInv ? '#####' : numberWithCommas(fixNumberE(getInvest_user(_userDb)[getCoinInvName] || 0))} ${getCoinInvName === 'naocoin' ? 'NaoCoin' : getCoinInvName === 'elacoin' ? 'ElaCoin' : getCoinInvName === 'recoin' ? 'Recoin' : 'Invalid'}
‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ

> Statistics :
  *Market Cap :* Rp. ${numberWithCommas(fixNumberE(coinMarketCap))}
  *Total Supply :* ${numberWithCommas(fixNumberE(coinTotalSupply))}
  *Volatility (7 days) :* ${coinVolatility}%
  *SMA (7 days) :* ${coinSMA.toFixed(2)}
`

                rem.sendFile(from, getChartCoinInv.data, 'invest.png', text, messageRaw, image)
            } else {
                
                const timeFilter_a2 = moment().format('mm')
                const timeFilter_b2 = moment().format('HH')
                if(timeFilter_a2.trim()[0] <= 0) {
                    var timeFilter_labels_0 = Math.floor(`${timeFilter_b2}${timeFilter_a2}` - 10) - 40
                    var timeFilter_labels_1 = Math.floor(`${timeFilter_b2}${timeFilter_a2}` - 9) - 40
                    var timeFilter_labels_2 = Math.floor(`${timeFilter_b2}${timeFilter_a2}` - 8) - 40
                    var timeFilter_labels_3 = Math.floor(`${timeFilter_b2}${timeFilter_a2}` - 7) - 40
                    var timeFilter_labels_4 = Math.floor(`${timeFilter_b2}${timeFilter_a2}` - 6) - 40
                    var timeFilter_labels_5 = Math.floor(`${timeFilter_b2}${timeFilter_a2}` - 5) - 40
                    var timeFilter_labels_6 = Math.floor(`${timeFilter_b2}${timeFilter_a2}` - 4) - 40
                    var timeFilter_labels_7 = Math.floor(`${timeFilter_b2}${timeFilter_a2}` - 3) - 40
                    var timeFilter_labels_8 = Math.floor(`${timeFilter_b2}${timeFilter_a2}` - 2) - 40
                    var timeFilter_labels_9 = Math.floor(`${timeFilter_b2}${timeFilter_a2}` - 1) - 40
                    var timeFilter_labels_10 = Math.floor(`${timeFilter_b2}${timeFilter_a2}`) - 40
                } else {
                    var timeFilter_labels_0 = Math.floor(`${timeFilter_b2}${timeFilter_a2}` - 10)
                    var timeFilter_labels_1 = Math.floor(`${timeFilter_b2}${timeFilter_a2}` - 9)
                    var timeFilter_labels_2 = Math.floor(`${timeFilter_b2}${timeFilter_a2}` - 8)
                    var timeFilter_labels_3 = Math.floor(`${timeFilter_b2}${timeFilter_a2}` - 7)
                    var timeFilter_labels_4 = Math.floor(`${timeFilter_b2}${timeFilter_a2}` - 6)
                    var timeFilter_labels_5 = Math.floor(`${timeFilter_b2}${timeFilter_a2}` - 5)
                    var timeFilter_labels_6 = Math.floor(`${timeFilter_b2}${timeFilter_a2}` - 4)
                    var timeFilter_labels_7 = Math.floor(`${timeFilter_b2}${timeFilter_a2}` - 3)
                    var timeFilter_labels_8 = Math.floor(`${timeFilter_b2}${timeFilter_a2}` - 2)
                    var timeFilter_labels_9 = Math.floor(`${timeFilter_b2}${timeFilter_a2}` - 1)
                    var timeFilter_labels_10 = Math.floor(`${timeFilter_b2}${timeFilter_a2}`)
                };

                // const re6_coal = _invest[1].re_coal6
                // const re7_coal = _invest[1].re_coal7
                // const re8_coal = _invest[1].re_coal8
                // const re9_coal = _invest[1].re_coal9
                // const re6_copper = _invest[1].re_copper6
                // const re7_copper = _invest[1].re_copper7
                // const re8_copper = _invest[1].re_copper8
                // const re9_copper = _invest[1].re_copper9
                const re6_iron = _invest[1].re_iron6
                const re7_iron = _invest[1].re_iron7
                const re8_iron = _invest[1].re_iron8
                const re9_iron = _invest[1].re_iron9
                const re6_gold = _invest[1].re_gold6
                const re7_gold = _invest[1].re_gold7
                const re8_gold = _invest[1].re_gold8
                const re9_gold = _invest[1].re_gold9
                const re6_diamond = _invest[1].re_diamond6
                const re7_diamond = _invest[1].re_diamond7
                const re8_diamond = _invest[1].re_diamond8
                const re9_diamond = _invest[1].re_diamond9
                // const re6_sacoin = _invest[1].re_sacoin6
                // const re7_sacoin = _invest[1].re_sacoin7
                // const re8_sacoin = _invest[1].re_sacoin8
                // const re9_sacoin = _invest[1].re_sacoin9
                const re6_naocoin = _invest[1].re_naocoin6
                const re7_naocoin = _invest[1].re_naocoin7
                const re8_naocoin = _invest[1].re_naocoin8
                const re9_naocoin = _invest[1].re_naocoin9
                const re6_elacoin = _invest[1].re_elacoin6
                const re7_elacoin = _invest[1].re_elacoin7
                const re8_elacoin = _invest[1].re_elacoin8
                const re9_elacoin = _invest[1].re_elacoin9
                const re6_recoin = _invest[1].re_recoin6
                const re7_recoin = _invest[1].re_recoin7
                const re8_recoin = _invest[1].re_recoin8
                const re9_recoin = _invest[1].re_recoin9

                let textNameInv = ''

                // const minMaxValueCoal = [1_999, 9_999]
                const minMaxValueCopper = [10_000, 15_999]
                const minMaxValueIron = [10_000, 50_000]
                const minMaxValueGold = [110_000, 165_000]
                const minMaxValueDiamond = [189_000, 389_000]
                // const minMaxValueSaCoin = [409_000, 789_000]
                const minMaxValueNaoCoin = [450_000, 850_000]
                const minMaxValueElaCoin = [1_300_000, 3_500_000]
                const minMaxValueReCoin = [80_000_000, 40_500_000]

                let minMaxValue = undefined
                let maxValueInv = undefined
                let minValueInv = undefined
                let dataInv = []
                let bgColorInv = undefined
                let borderColorInv = undefined

                /*if(args[1].toLowerCase('coal') || args[1] == '1') {
                    minMaxValue = minMaxValueCoal
                    maxValueInv = Math.max(...[re6_coal, re7_coal, re8_coal, re9_coal, _botDb.invest[0]?.coal])
                    minValueInv = Math.min(...[re6_coal, re7_coal, re8_coal, re9_coal, _botDb.invest[0]?.coal])
                    dataInv = [re6_coal, re7_coal, re8_coal, re9_coal, _botDb.invest[0]?.coal]
                    bgColorInv = 'rgb(79, 79, 79)'
                    borderColorInv = 'rgba(79, 79, 79, 2)'
                } else if(args[1].toLowerCase() == 'copper' || args[1] == '2') {
                    minMaxValue = minMaxValueCopper
                    maxValueInv = Math.max(...[re6_copper, re7_copper, re8_copper, re9_copper, _botDb.invest[0]?.copper])
                    minValueInv = Math.min(...[re6_copper, re7_copper, re8_copper, re9_copper, _botDb.invest[0]?.copper])
                    dataInv = [re6_copper, re7_copper, re8_copper, re9_copper, _botDb.invest[0]?.copper]
                    bgColorInv = 'rgb(184, 115, 51)'
                    borderColorInv = 'rgba(184, 115, 51, 2)'
                } else*/ if(args[1].toLowerCase() == 'iron' || args[1] == '1') {
                    textNameInv = 'Iron'
                    minMaxValue = minMaxValueIron
                    maxValueInv = Math.max(...[re6_iron, re7_iron, re8_iron, re9_iron, _botDb.invest[0]?.iron])
                    minValueInv = Math.min(...[re6_iron, re7_iron, re8_iron, re9_iron, _botDb.invest[0]?.iron])
                    dataInv = [re6_iron, re7_iron, re8_iron, re9_iron, _botDb.invest[0]?.iron]
                    bgColorInv = 'rgb(133,255,0)'
                    borderColorInv = 'rgba(133,255,0,2)'
                } else if(args[1].toLowerCase() == 'gold' || args[1] == '2') {
                    textNameInv = 'Gold'
                    minMaxValue = minMaxValueGold
                    maxValueInv = Math.max(...[re6_gold, re7_gold, re8_gold, re9_gold, _botDb.invest[0]?.gold])
                    minValueInv = Math.min(...[re6_gold, re7_gold, re8_gold, re9_gold, _botDb.invest[0]?.gold])
                    dataInv = [re6_gold, re7_gold, re8_gold, re9_gold, _botDb.invest[0]?.gold]
                    bgColorInv = 'rgb(241,202,29)'
                    borderColorInv = 'rgba(241,202,29,2)'
                } else if(args[1].toLowerCase('diamond') || args[1].toLowerCase('dm') || args[1] == '3') {
                    textNameInv = 'Diamond'
                    minMaxValue = minMaxValueDiamond
                    maxValueInv = Math.max(...[re6_diamond, re7_diamond, re8_diamond, re9_diamond, _botDb.invest[0]?.diamond])
                    minValueInv = Math.min(...[re6_diamond, re7_diamond, re8_diamond, re9_diamond, _botDb.invest[0]?.diamond])
                    dataInv = [re6_diamond, re7_diamond, re8_diamond, re9_diamond, _botDb.invest[0]?.diamond]
                    bgColorInv = 'rgb(154, 197, 219)'
                    borderColorInv = 'rgba(154, 197, 219, 2)'
                } /*else if(args[1].toLowerCase('sacoin') || args[1].toLowerCase('sc') || args[1] == '6') {
                    minMaxValue = minMaxValueSaCoin
                    maxValueInv = Math.max(...[re6_sacoin, re7_sacoin, re8_sacoin, re9_sacoin, _botDb.invest[0]?.sacoin])
                    minValueInv = Math.min(...[re6_sacoin, re7_sacoin, re8_sacoin, re9_sacoin, _botDb.invest[0]?.sacoin])
                    dataInv = [re6_sacoin, re7_sacoin, re8_sacoin, re9_sacoin, _botDb.invest[0]?.sacoin]
                    bgColorInv = 'rgb(255, 238, 0)'
                    borderColorInv = 'rgba(255, 238, 0, 2)'
                }*/ else if(args[1].toLowerCase() == 'naocoin' || args[1].toLowerCase() == 'nao' || args[1].toLowerCase() == 'nc' || args[1] == '4') {
                    textNameInv = 'NaoCoin'
                    minMaxValue = minMaxValueNaoCoin
                    maxValueInv = Math.max(...[re6_naocoin, re7_naocoin, re8_naocoin, re9_naocoin, _botDb.invest[0]?.naocoin])
                    minValueInv = Math.min(...[re6_naocoin, re7_naocoin, re8_naocoin, re9_naocoin, _botDb.invest[0]?.naocoin])
                    dataInv = [re6_naocoin, re7_naocoin, re8_naocoin, re9_naocoin, _botDb.invest[0]?.naocoin]
                    bgColorInv = 'rgb(247,52,43)'
                    borderColorInv = 'rgba(247,52,43,2)'
                } else if(args[1].toLowerCase() == 'elacoin' || args[1].toLowerCase() == 'ela' || args[1].toLowerCase() == 'ec' || args[1] == '5') {
                    textNameInv = 'ElaCoin'
                    minMaxValue = minMaxValueElaCoin
                    maxValueInv = Math.max(...[re6_elacoin, re7_elacoin, re8_elacoin, re9_elacoin, _botDb.invest[0]?.elacoin])
                    minValueInv = Math.min(...[re6_elacoin, re7_elacoin, re8_elacoin, re9_elacoin, _botDb.invest[0]?.elacoin])
                    dataInv = [re6_elacoin, re7_elacoin, re8_elacoin, re9_elacoin, _botDb.invest[0]?.elacoin]
                    bgColorInv = 'rgb(50,91,186)'
                    borderColorInv = 'rgba(50,91,186,2)'
                } else if(args[1].toLowerCase() == 'recoin' || args[1].toLowerCase() == 're' || args[1].toLowerCase() == 'rc' || args[1] == '6') {
                    textNameInv = 'ReCoin'
                    minMaxValue = minMaxValueReCoin
                    maxValueInv = Math.max(...[re6_recoin, re7_recoin, re8_recoin, re9_recoin, _botDb.invest[0]?.recoin])
                    minValueInv = Math.min(...[re6_recoin, re7_recoin, re8_recoin, re9_recoin, _botDb.invest[0]?.recoin])
                    dataInv = [re6_recoin, re7_recoin, re8_recoin, re9_recoin, _botDb.invest[0]?.recoin]
                    bgColorInv = 'rgb(0,128,255)'
                    borderColorInv = 'rgba(0,128,255,2)'
                } else {
                    rem.sendFile(from, './lib/cache/chart/invest.png', 'invest.png', outputText_inv, messageRaw, image)
                }

                if(minMaxValue != undefined) {
                    if(minValueInv <= minMaxValue[0]) {
                        minValueInv = minMaxValue[0]
                    }
                    if(maxValueInv >= minMaxValue[1]) {
                        maxValueInv = minMaxValue[1]
                    }
                    const configuration = {
                        type: 'line',
                        data: {
                          labels: [numberWithCommas2(timeFilter_labels_6), numberWithCommas2(timeFilter_labels_7), numberWithCommas2(timeFilter_labels_8), numberWithCommas2(timeFilter_labels_9), numberWithCommas2(timeFilter_labels_10)],
                          datasets: [{
                              label: textNameInv,
                              //backgroundColor: 'rgba(255,0,0,0.2)',
                              backgroundColor: bgColorInv,
                              borderColor: borderColorInv,
                              data: dataInv
                          }]
                        },
                        options: {
                                  plugins: {
                                      legend: {
                                          position: 'top',
                                      },
                                      title: {
                                          display: true,
                                          text: 'Market'
                                      }
                                  },
                                  scales: {
                                  y: {
                                    display: true,
                                    beginAtZero: true,
                                    min: Math.floor(minValueInv - (minValueInv * 0.2)),
                                    max: Math.floor(maxValueInv + (maxValueInv * 0.2)),
                                    //stepsize: 20000
                                  }
                              }
                          },
                          plugins: [{
                              id: 'background-colour',
                              beforeDraw: (chart) => {
                                  const width = 1920; //px
                                  const height = 1080; //px
                                  const ctx = chart.ctx;
                                  ctx.save();
                                  ctx.fillStyle = '#1F2633';
                                  ctx.fillRect(0, 0, width, height);
                                  ctx.restore();
                              }
                          }]
                      };
                  
                    const imageBuffer1 = await canvasRenderService1.renderToBuffer(configuration);
                  
                    // Write image to file
                    await fs.writeFileSync('./lib/cache/chart/invest_custom.png', imageBuffer1);
                    rem.sendFile(from, './lib/cache/chart/invest_custom.png', 'invest_custom.png', outputText_inv, messageRaw, image)
                }                
            }
            break
        case prefix+'invs':
            if(!isSideOwner) return reply(from, 'Invalid!', id)

            const buyIncreasePercent = 0.0000005
            const sellDecreasePercent = 0.000005
            const invsListPercent = { // digit
                "0": {
                    buy: 0.5,
                    sell: 0.5
                },
                "1": {
                    buy: 0.05,
                    sell: 0.05
                },
                "2": {
                    buy: 0.005,
                    sell: 0.005
                },
                "3": {
                    buy: 0.0005,
                    sell: 0.0005
                },
                "4": {
                    buy: 0.00005,
                    sell: 0.00005
                },
                "5": {
                    buy: 0.000006,
                    sell: 0.000006
                },
                "6": {
                    buy: 0.0000006,
                    sell: 0.0000006
                },
                "7": {
                    buy: 0.00000006,
                    sell: 0.00000006
                }
            }
            // const invsListPercent = { // digit
            //     "0": {
            //         buy: 1,
            //         sell: 1
            //     },
            //     "1": {
            //         buy: 0.1,
            //         sell: 0.1
            //     },
            //     "2": {
            //         buy: 0.01,
            //         sell: 0.01
            //     },
            //     "3": {
            //         buy: 0.001,
            //         sell: 0.001
            //     },
            //     "4": {
            //         buy: 0.0001,
            //         sell: 0.0001
            //     },
            //     "5": {
            //         buy: 0.00001,
            //         sell: 0.00001
            //     },
            //     "6": {
            //         buy: 0.000001,
            //         sell: 0.000001
            //     },
            //     "7": {
            //         buy: 0.0000001,
            //         sell: 0.0000001
            //     }
            // }

            let textInvs = `*[ Statistik Invest ]*\n_1 menit terakhir_\n`
            const invsList = _botDb.invest[2]
            for(let i = 0; i < Object.keys(invsList).length; i++) {
                const invsListKey = Object.keys(invsList)[i]
                const invsListValue = Object.values(invsList)[i]
                const digitInvCount = (Math.floor(_botDb.invest[0][invsListKey] / 1000) || '').toString().length
                const invPrice = invsListPercent[digitInvCount]
                const buyIncrease = Math.floor((invsListValue.buy * _botDb.invest[0][invsListKey]) * invPrice.buy)
                const sellDecrease = Math.floor((invsListValue.sell * _botDb.invest[0][invsListKey]) * invPrice.sell)
                textInvs += `\n${i + 1}. *${capitalizeFirstLetter(invsListKey)}*\n   Buy: ‚Üë${numberWithCommas(fixNumberE(buyIncrease))}\n   Sell: ‚Üì${numberWithCommas(fixNumberE(sellDecrease))}`
            }

            reply(from, textInvs, id)
            break
        case prefix+'in':
        case prefix+'beli':
            // if(!isOwner) return reply(from, 'Fitur ini sedang diperbaiki!')
            if (!isGroupMsg) return await reply(from, 'Command ini hanya bisa digunakan di dalam grup!', id)
            if(args.length === 1) return reply(from, `*Format Slah,* Ketik ${prefix}in <no.barang> <jumlah>`, id)
            if(args[2] == undefined) return reply(from, `*Format Slah,* Ketik ${prefix}in <no.barang> <jumlah>`, id)
            //if (inArray_includes(args[1].toLowerCase(), isHuruf)) return reply(from, '<no.barang> harus berupa Angka', id)
            //if (inArray_includes(args[2].toLowerCase(), isHuruf)) return reply(from, '<jumlah> harus berupa Angka', id)
            if(getInvest_user(_userDb) == undefined) await setInvest_user(sender)
            if(getMoney(_userDb) == undefined) await setMoney(sender)
            const nomerBarang_invest = args[1]
            var jumlahBarang_invest = args[2]
            const antiCheat = ["-", "+", "*", "x", "/", "^", "=", "."]
            if(inArray_includes(jumlahBarang_invest, antiCheat)) return reply(from, 'Invalid!')
            // if(isNaN(jumlahBarang_invest)) return reply(from, 'Invalid!')
            // random 500 - 1000
            // const randomWaitTimeIn = Math.floor(Math.random() * 501) + 500
            // await sleep(randomWaitTimeIn)
            // _userDb = await _mongo_UserSchema.findOne({ iId: sender })

            // let pajakBeliItem_invest = Math.floor(itemSellPrice * 0.1)
            // pajak 0.2%
            let pajakBeliItem_invest = 0

            let itemBuyInvName = ''
            let itemBuyInv = 0
            let itemBuyInvFunc = undefined
            let itemInvId = undefined

            let getDataCoinPrice = undefined
            if((nomerBarang_invest == '4' || nomerBarang_invest.toLowerCase() == 'naocoin' || nomerBarang_invest.toLowerCase() == 'nc') ||
            (nomerBarang_invest == '5' || nomerBarang_invest.toLowerCase() == 'elacoin' || nomerBarang_invest.toLowerCase() == 'ela') ||
            (nomerBarang_invest == '6' || nomerBarang_invest.toLowerCase() == 'recoin' || nomerBarang_invest.toLowerCase() == 're' || nomerBarang_invest.toLowerCase() == 'rem' || nomerBarang_invest.toLowerCase() == 'rc')) {
                // if(!isVirtualAccount) { date now 1726920000000
                if(Date.now() < 1726920000000) {
                    const timeConvertInvestCoinBuy = timeConvert(1726920000000)
                    return reply(from, `Untuk pembelian koin ini sedang dalam perbaikan!\nAkan dibuka pada\n${timeConvertInvestCoinBuy.hour} Jam : ${timeConvertInvestCoinBuy.minute} Menit : ${timeConvertInvestCoinBuy.second} Detik`)
                }
                getDataCoinPrice = await _mongo_CommandSchema.findOne({ cId: 'invest_price' })
            }

            /*if(nomerBarang_invest == '1' || nomerBarang_invest.toLowerCase() == 'coal') {
                itemBuyInvName = 'Coal'
                itemBuyInv = _botDb.invest[0]?.coal
                itemBuyInvFunc = addInvest_user_coal
            } else if(nomerBarang_invest == '2' || nomerBarang_invest.toLowerCase() == 'copper') {
                itemBuyInvName = 'Copper'
                itemBuyInv = _botDb.invest[0]?.copper
                itemBuyInvFunc = addInvest_user_copper
            } else*/ if(nomerBarang_invest == '1' || nomerBarang_invest.toLowerCase() == 'iron') { //Iron
                itemBuyInvName = 'Iron'
                itemBuyInv = _botDb.invest[0]?.iron
                itemBuyInvFunc = addInvest_user_iron
                itemInvId = 'iron'
            } else if(nomerBarang_invest == '2' || nomerBarang_invest.toLowerCase() == 'gold') { //Gold
                itemBuyInvName = 'Gold'
                itemBuyInv = _botDb.invest[0]?.gold
                itemBuyInvFunc = addInvest_user_gold
                itemInvId = 'gold'
            } else if(nomerBarang_invest == '3' || nomerBarang_invest.toLowerCase() == 'diamond' || nomerBarang_invest == 'dm') {
                itemBuyInvName = 'Diamond'
                itemBuyInv = _botDb.invest[0]?.diamond
                itemBuyInvFunc = addInvest_user_diamond
                itemInvId = 'diamond'
            } /*else if(nomerBarang_invest == '6' || nomerBarang_invest.toLowerCase() == 'sacoin' || nomerBarang_invest.toLowerCase() == 'sc') {
                itemBuyInvName = 'SaCoin'
                itemBuyInv = _botDb.invest[0]?.sacoin
                itemBuyInvFunc = addInvest_user_sacoin
            }*/ else if(nomerBarang_invest == '4' || nomerBarang_invest.toLowerCase() == 'naocoin' || nomerBarang_invest.toLowerCase() == 'nc') { //NaoCoin
                itemBuyInvName = 'NaoCoin'
                itemBuyInv = safeToNumber(safeBig(getDataCoinPrice.invest.naocoin.currentPrice))
                itemBuyInvFunc = addInvest_user_naocoin
                itemInvId = 'naocoin'
            } else if(nomerBarang_invest == '5' || nomerBarang_invest.toLowerCase() == 'elacoin' || nomerBarang_invest.toLowerCase() == 'ela') { //NaoCoin
                itemBuyInvName = 'ElaCoin'
                itemBuyInv = safeToNumber(safeBig(getDataCoinPrice.invest.elacoin.currentPrice))
                itemBuyInvFunc = addInvest_user_elacoin
                itemInvId = 'elacoin'
            } else if(nomerBarang_invest == '6' || nomerBarang_invest.toLowerCase() == 'recoin' || nomerBarang_invest.toLowerCase() == 're' || nomerBarang_invest.toLowerCase() == 'rem' || nomerBarang_invest.toLowerCase() == 'rc') { //ReCoin
                itemBuyInvName = 'ReCoin'
                itemBuyInv = safeToNumber(safeBig(getDataCoinPrice.invest.recoin.currentPrice))
                itemBuyInvFunc = addInvest_user_recoin
                itemInvId = 'recoin'
            } else {
                reply(from, `Tidak ditemukan barang  ${args[1]}`, id)
            }

            const investLimitBuy = getInvest_limit(_userDb, itemInvId)
            if(!(isOwner || isSuperOwner) && investLimitBuy?.[itemInvId] >= 2) {
                const timeConvertInvestLimitBuy = timeConvert(investLimitBuy.time_limit_reset)
                return reply(from, `*Limit transaksi _${itemBuyInvName}_ sudah tercapai!*\nCooldown: ${timeConvertInvestLimitBuy.second} Detik`, id)
            }

            if(itemBuyInvFunc != undefined) {
                if(jumlahBarang_invest.toLowerCase() == 'all') {
                    if(!getDataCoinPrice) pajakBeliItem_invest = 20000
                    if(getDataCoinPrice) pajakBeliItem_invest = Math.floor(itemBuyInv * 0.019)
                    // if(getDataCoinPrice && !isSideOwner) return reply(from, 'Maintenance')
                    // pajak 2%
                    // if(getDataCoinPrice) pajakBeliItem_invest = Math.floor(itemBuyInv * 0.02)
                    // pajak 0.2%
                    // pajakBeliItem_invest = Math.floor(itemBuyInv * 0.002)
                    var jumlahBarang_invest =  Math.floor((getMoney(_userDb) - pajakBeliItem_invest) / itemBuyInv) - 1
                    if(jumlahBarang_invest <= 0) return reply(from, `Maaf, Uang mu tidak cukup\nHarga 1 ${itemBuyInvName} = _${numberWithCommas(fixNumberE(itemBuyInv))} + ${numberWithCommas(pajakBeliItem_invest)} (Pajak)_`, id)
                    
                    let barangDibeli_harga = Math.floor(itemBuyInv * jumlahBarang_invest + pajakBeliItem_invest)
                    if(getDscInv(_userDb) != undefined) {
                        const dscInv_buy = Number(getDscInv(_userDb).buy / 100 * itemBuyInv)
                        jumlahBarang_invest = Math.floor((getMoney(_userDb) - pajakBeliItem_invest) / (Math.floor(itemBuyInv - dscInv_buy)))
                        barangDibeli_harga = Math.floor(Math.floor(itemBuyInv - dscInv_buy) * jumlahBarang_invest + pajakBeliItem_invest)
                    } 
                    // -1 mengakali bug
                    if ((barangDibeli_harga - 1) > getMoney(_userDb)) return reply(from, `Uang kamu Tidak cukup\n\nBarang : ${numberWithCommas(fixNumberE(jumlahBarang_invest))} ${itemBuyInvName}\nHarga : _Rp. ${numberWithCommas(fixNumberE(barangDibeli_harga))}_\nUang mu : _Rp. ${numberWithCommas(fixNumberE(getMoney(_userDb)))}_`, id)
                    // await MinMoney(sender, barangDibeli_harga, _userDb)
                    // const checkBug = await itemBuyInvFunc(sender, Math.floor(jumlahBarang_invest), _userDb)
                    const checkBug = await investTransaction(sender, 'buy', itemInvId, Math.floor(jumlahBarang_invest), barangDibeli_harga, itemBuyInv)
                    if(checkBug?.modifiedCount <= 0) return reply(from, '*Transaksi invalid!*\nTransaksi ini sudah dilakukan')
//                     if(checkBug?.isAmountUndefined) reply(from, `*‚ö†Ô∏è !Error! ‚ö†Ô∏è*\n\n*Mohon segera laporkan ke owner/sideowner _${prefix}bugreport_*\n\nres: ${JSON.stringify(checkBug)}_${itemBuyInvFunc?.name}_${prefix}in.1

//                     ÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕè
// Additional Data_Encrypt: ${util.format(encryptValue(JSON.stringify(_userDb)))}`, id)
                    await addInvest_counter_market(itemInvId, 'buy', 1)
                    reply(from, `Succes\n\nMembeli : ${numberWithCommas(fixNumberE(jumlahBarang_invest))} ${itemBuyInvName}\nHarga : _Rp. ${numberWithCommas(fixNumberE(barangDibeli_harga))}_${getDataCoinPrice ? '\nPajak : 1,9%' : `\nPajak : ${numberWithCommas(fixNumberE(pajakBeliItem_invest))}`}`, id)
                } else {
                    if(isNaN(jumlahBarang_invest)) return reply(from, '<jumlah> harus berupa Angka', id)
                    if(Math.floor(jumlahBarang_invest) == 0) return reply(from, 'Jumlah tidak boleh 0', id)
    
                    if(!getDataCoinPrice) pajakBeliItem_invest = Math.floor(1000)
                    // if(getDataCoinPrice) pajakBeliItem_invest = Math.floor(itemBuyInv * 0.002)
                    // pajak 0.2%
                    if(getDataCoinPrice) pajakBeliItem_invest = Math.floor(itemBuyInv * 0.019)
                    // if(getDataCoinPrice && !isSideOwner) return reply(from, 'Maintenance')
                    // pajak 0.2%
                    // pajakBeliItem_invest = Math.floor(itemBuyInv * 0.002)
    
                    let barangDibeli_harga = Math.floor(itemBuyInv * jumlahBarang_invest + pajakBeliItem_invest)
                    if(getDscInv(_userDb) != undefined) {
                        const dscInv_buy = Number(getDscInv(_userDb).buy / 100 * itemBuyInv)
                        barangDibeli_harga = Math.floor(Math.floor(itemBuyInv - dscInv_buy) * jumlahBarang_invest + pajakBeliItem_invest)
                    }
                    // -1 mengakali bug
                    if ((barangDibeli_harga - 1) > getMoney(_userDb)) return reply(from, `Uang kamu Tidak cukup\n\nBarang : ${numberWithCommas(fixNumberE(jumlahBarang_invest))} ${itemBuyInvName}\nHarga : _Rp. ${numberWithCommas(fixNumberE(barangDibeli_harga))}_\nUang mu : _Rp. ${numberWithCommas(fixNumberE(getMoney(_userDb)))}_`, id)
                    // await MinMoney(sender, barangDibeli_harga, _userDb)
                    // const checkBug = await itemBuyInvFunc(sender, Math.floor(jumlahBarang_invest), _userDb)
                    const checkBug = await investTransaction(sender, 'buy', itemInvId, Math.floor(jumlahBarang_invest), barangDibeli_harga, itemBuyInv)
                    console.log(barangDibeli_harga, checkBug)
                    if(checkBug?.modifiedCount <= 0) return reply(from, '*Transaksi invalid!*\nTransaksi ini sudah dilakukan')
//                     if(checkBug?.isAmountUndefined) reply(from, `*‚ö†Ô∏è !Error! ‚ö†Ô∏è*\n\n*Mohon segera laporkan ke owner/sideowner _${prefix}bugreport_*\n\nres: ${JSON.stringify(checkBug)}_${itemBuyInvFunc?.name}_${prefix}in.2

//                     ÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕè
// Additional Data_Encrypt: ${util.format(encryptValue(JSON.stringify(_userDb)))}`, id)
                    await addInvest_counter_market(itemInvId, 'buy', 1)
                    reply(from, `Succes\n\nMembeli : ${numberWithCommas(fixNumberE(jumlahBarang_invest))} ${itemBuyInvName}\nHarga : _Rp. ${numberWithCommas(fixNumberE(barangDibeli_harga))}_${getDataCoinPrice ? '\nPajak : 1,9%' : `\nPajak : ${numberWithCommas(fixNumberE(pajakBeliItem_invest))}`}`, id)
                }
                await addInvest_limit(sender, _userDb, itemInvId)
                await addMoney(superOwnerPajak, pajakBeliItem_invest)
            }
            break
        case prefix+'ins':
        case prefix+'jual':
            // if(!isOwner) return reply(from, 'Fitur ini sedang diperbaiki!')
            if (!isGroupMsg) return await reply(from, 'Command ini hanya bisa digunakan di dalam grup!', id)
            if(args.length === 1) return reply(from, `*Format Slah,* Ketik ${prefix}ins <no.barang> <jumlah>`, id)
            if(args[2] == undefined) return reply(from, `*Format Slah,* Ketik ${prefix}ins <no.barang> <jumlah>`, id)
            //if (inArray_includes(args[1].toLowerCase(), isHuruf)) return reply(from, '<no.barang> harus berupa Angka', id)
            //if (inArray_includes(args[2].toLowerCase(), isHuruf)) return reply(from, '<jumlah> harus berupa Angka', id)
            if(getInvest_user(_userDb) == undefined) await setInvest_user(sender)
            if(getMoney(_userDb) == undefined) await setMoney(sender)
            const nomerBarang_invest_jual = args[1]
            var jumlahBarang_invest_jual = args[2]
            const antiCheat2 = ["-", "+", "*", "x", "/", "^", "=", "."]
            if(inArray_includes(jumlahBarang_invest_jual, antiCheat2)) return reply(from, 'Invalid!')
            // random 500 - 1000
            const randomWaitTimeIns = Math.floor(Math.random() * 501) + 500
            // await sleep(randomWaitTimeIns)
            // _userDb = await _mongo_UserSchema.findOne({ iId: sender })

            let pajakJualItem_invest = 0

            let itemSellInvName = ''
            let itemSellInv = 0
            let itemSellPrice = 0
            let itemSellInvFunc = undefined
            let itemSellInvId = undefined

            // let getDataCoinPrice = undefined
            // if((nomerBarang_invest == '4' || nomerBarang_invest.toLowerCase() == 'naocoin' || nomerBarang_invest.toLowerCase() == 'nc') ||
            // (nomerBarang_invest == '5' || nomerBarang_invest.toLowerCase() == 'elacoin' || nomerBarang_invest.toLowerCase() == 'ela') ||
            // (nomerBarang_invest == '6' || nomerBarang_invest.toLowerCase() == 'recoin' || nomerBarang_invest.toLowerCase() == 're' || nomerBarang_invest.toLowerCase() == 'rem' || nomerBarang_invest.toLowerCase() == 'rc')) {
            //     getDataCoinPrice = await _mongo_CommandSchema.findOne({ cId: 'invest_price' })
            // }
            let getDataCoinPriceSell = undefined
            if((nomerBarang_invest_jual == '4' || nomerBarang_invest_jual.toLowerCase() == 'naocoin' || nomerBarang_invest_jual.toLowerCase() == 'coin') ||
            (nomerBarang_invest_jual == '5' || nomerBarang_invest_jual.toLowerCase() == 'elacoin' || nomerBarang_invest_jual.toLowerCase() == 'ela') ||
            (nomerBarang_invest_jual == '6' || nomerBarang_invest_jual.toLowerCase() == 'recoin' || nomerBarang_invest_jual.toLowerCase() == 're' || nomerBarang_invest_jual.toLowerCase() == 'rem' || nomerBarang_invest_jual.toLowerCase() == 'rc')) {
                if(Date.now() < 1726920000000) {
                    const timeConvertInvestCoinSell = timeConvert(1726920000000)
                    return reply(from, `Untuk pembelian koin ini sedang dalam perbaikan!\nAkan dibuka pada\n${timeConvertInvestCoinSell.hour} Jam : ${timeConvertInvestCoinSell.minute} Menit : ${timeConvertInvestCoinSell.second} Detik`)
                }
                getDataCoinPriceSell = await _mongo_CommandSchema.findOne({ cId: 'invest_price' })
            }

            /*if(nomerBarang_invest_jual == '1' || nomerBarang_invest_jual.toLowerCase() == 'coal') {
                itemSellInvName = 'Coal'
                itemSellInv = getInvest_user(_userDb).coal
                itemSellPrice = _botDb.invest[0]?.coal
                itemSellInvFunc = MinInvest_user_coal
            } else if(nomerBarang_invest_jual == '2' || nomerBarang_invest_jual.toLowerCase() == 'copper') {
                itemSellInvName = 'Copper'
                itemSellInv = getInvest_user(_userDb).copper
                itemSellPrice = _botDb.invest[0]?.copper
                itemSellInvFunc = MinInvest_user_copper
            } else*/ if(nomerBarang_invest_jual == '1' || nomerBarang_invest_jual.toLowerCase() == 'iron') { //Iron
                itemSellInvName = 'Iron'
                itemSellInv = getInvest_user(_userDb).iron
                itemSellPrice = _botDb.invest[0]?.iron
                itemSellInvFunc = MinInvest_user_iron
                itemSellInvId = 'iron'
            } else if(nomerBarang_invest_jual == '2' || nomerBarang_invest_jual.toLowerCase() == 'gold') { //Gold
                itemSellInvName = 'Gold'
                itemSellInv = getInvest_user(_userDb).gold
                itemSellPrice = _botDb.invest[0]?.gold
                itemSellInvFunc = MinInvest_user_gold
                itemSellInvId = 'gold'
            } else if(nomerBarang_invest_jual == '3' || nomerBarang_invest_jual.toLowerCase() == 'diamond' || nomerBarang_invest_jual.toLowerCase() == 'dm') { //Diamond
                itemSellInvName = 'Diamond'
                itemSellInv = getInvest_user(_userDb).diamond
                itemSellPrice = _botDb.invest[0]?.diamond
                itemSellInvFunc = MinInvest_user_diamond
                itemSellInvId = 'diamond'
            } /*else if(nomerBarang_invest_jual == '6' || nomerBarang_invest_jual.toLowerCase() == 'sacoin' || nomerBarang_invest_jual.toLowerCase() == 'sc') {
                itemSellInvName = 'SaCoin'
                itemSellInv = getInvest_user(_userDb).sacoin
                itemSellPrice = _botDb.invest[0]?.sacoin
                itemSellInvFunc = MinInvest_user_sacoin
            }*/ else if(nomerBarang_invest_jual == '4' || nomerBarang_invest_jual.toLowerCase() == 'naocoin' || nomerBarang_invest_jual.toLowerCase() == 'coin') { //NaoCoin
                itemSellInvName = 'NaoCoin'
                itemSellInv = getInvest_user(_userDb).naocoin
                itemSellPrice = safeToNumber(safeBig(getDataCoinPriceSell.invest.naocoin.currentPrice))
                itemSellInvFunc = MinInvest_user_naocoin
                itemSellInvId = 'naocoin'
            } else if(nomerBarang_invest_jual == '5' || nomerBarang_invest_jual.toLowerCase() == 'elacoin' || nomerBarang_invest_jual.toLowerCase() == 'ela') { //NaoCoin
                itemSellInvName = 'ElaCoin'
                itemSellInv = getInvest_user(_userDb).elacoin
                itemSellPrice = safeToNumber(safeBig(getDataCoinPriceSell.invest.elacoin.currentPrice))
                itemSellInvFunc = MinInvest_user_elacoin
                itemSellInvId = 'elacoin'
            } else if(nomerBarang_invest_jual == '6' || nomerBarang_invest_jual.toLowerCase() == 'recoin' || nomerBarang_invest_jual.toLowerCase() == 're' || nomerBarang_invest_jual.toLowerCase() == 'rem' || nomerBarang_invest_jual.toLowerCase() == 'rc') { //ReCoin
                itemSellInvName = 'ReCoin'
                itemSellInv = getInvest_user(_userDb).recoin
                itemSellPrice = safeToNumber(safeBig(getDataCoinPriceSell.invest.recoin.currentPrice))
                itemSellInvFunc = MinInvest_user_recoin
                itemSellInvId = 'recoin'
            } else {
                reply(from, `Tidak ditemukan barang  ${args[1]}`, id)
            }

            const investLimitSell = getInvest_limit(_userDb, itemSellInvId)
            if(!(isOwner || isSuperOwner) && investLimitSell?.[itemSellInvId] >= 2) {
                const timeConvertInvestLimitSell = timeConvert(investLimitSell.time_limit_reset)
                return reply(from, `*Limit transaksi _${itemSellInvName}_ sudah tercapai!*\nCooldown: ${timeConvertInvestLimitSell.second} Detik`, id)
            }

            let isZeroItemAfterIns = false
            if(jumlahBarang_invest_jual.toLowerCase() == 'all') {
                if(!getDataCoinPriceSell) pajakJualItem_invest = 20000
                // pajak 10%
                // pajakJualItem_invest = Math.floor(itemSellPrice * 0.1)
                // pajak 5%
                // pajakJualItem_invest = Math.floor(itemSellPrice * 0.05)
                if(itemSellInvFunc != undefined) {
                    const jumlahBarang_invest_jual = itemSellInv
                    if(isNaN(jumlahBarang_invest_jual)) return reply(from, `Barang yang dimiliki kurang\n\nDimiliki : ${numberWithCommas(fixNumberE(itemSellInv))} ${itemSellInvName}`, id)
                    if(Math.floor(jumlahBarang_invest_jual) <= 0) return reply(from, `Barang yang dimiliki kurang\n\nDimiliki : ${numberWithCommas(fixNumberE(itemSellInv))} ${itemSellInvName}`, id)
                    
                    isZeroItemAfterIns = true
                    if(getDataCoinPriceSell) pajakJualItem_invest = Math.floor((itemSellPrice * jumlahBarang_invest_jual) * 0.04)
                    // if(getDataCoinPriceSell && !isSideOwner) return reply(from, 'Maintenance')

                    let barangDijual_harga = Math.floor((itemSellPrice * jumlahBarang_invest_jual) - pajakJualItem_invest)
                    if(getDscInv(_userDb) != undefined) {
                        const dscInv_sell = Number(getDscInv(_userDb).sell / 100 * itemSellPrice)
                        barangDijual_harga = Math.floor((Math.floor(itemSellPrice + dscInv_sell) * jumlahBarang_invest_jual) - pajakJualItem_invest)
                    } 
                    // const checkBug = await itemSellInvFunc(sender, Math.floor(jumlahBarang_invest_jual), _userDb)
                    const checkBug = await investTransaction(sender, 'sell', itemSellInvId, Math.floor(jumlahBarang_invest_jual), barangDijual_harga, itemSellPrice, isZeroItemAfterIns)
                    if(checkBug?.modifiedCount <= 0) return reply(from, '*Transaksi invalid!*\nTransaksi ini sudah dilakukan')
//                     if(checkBug?.isAmountUndefined) reply(from, `*‚ö†Ô∏è !Error! ‚ö†Ô∏è*\n\n*Mohon segera laporkan ke owner/sideowner _${prefix}bugreport_*\n\nres: ${JSON.stringify(checkBug)}_${itemSellInvFunc?.name}_${prefix}ins.1

//                     ÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕè
// Additional Data_Encrypt: ${util.format(encryptValue(JSON.stringify(_userDb)))}`, id)
                    await addInvest_counter_market(itemSellInvId, 'sell', 1)
                    // await addMoney(sender, barangDijual_harga, _userDb)
                    reply(from, `Succes\n\nMenjual : ${numberWithCommas(fixNumberE(jumlahBarang_invest_jual))} ${itemSellInvName}${getDataCoinPriceSell ? '\nPajak : 4%' : `\nPajak : ${numberWithCommas(pajakJualItem_invest)}`}\nTotal : _Rp. ${numberWithCommas(fixNumberE(barangDijual_harga))}_`, id)
                }
            } else {
                if(isNaN(jumlahBarang_invest_jual)) return reply(from, '<jumlah> harus berupa Angka', id)
                if(Math.floor(jumlahBarang_invest_jual) == 0) return reply(from, 'Jumlah tidak boleh 0', id)

                if(!getDataCoinPriceSell) pajakJualItem_invest = 1000
                if(getDataCoinPriceSell) pajakJualItem_invest = Math.floor((itemSellPrice * jumlahBarang_invest_jual) * 0.04)
                // if(getDataCoinPriceSell && !isSideOwner) return reply(from, 'Maintenance')
                // pajak 10%
                // pajakJualItem_invest = Math.floor(itemSellPrice * 0.1)
                if(itemSellInvFunc != undefined) {
                    if(isNaN(itemSellInv)) return reply(from, `Barang yang dimiliki kurang\n\nDimiliki : ${numberWithCommas(fixNumberE(itemSellInv))} ${itemSellInvName}`, id)
                    if(itemSellInv < Math.floor(jumlahBarang_invest_jual)) return reply(from, `Barang yang dimiliki kurang\n\nDimiliki : ${numberWithCommas(fixNumberE(itemSellInv))} ${itemSellInvName}`, id)
                    if((itemSellInv - jumlahBarang_invest_jual) <= 0) isZeroItemAfterIns = true

                    let barangDijual_harga = Math.floor((itemSellPrice * jumlahBarang_invest_jual) - pajakJualItem_invest)
                    if(getDscInv(_userDb) != undefined) {
                        const dscInv_sell = Number(getDscInv(_userDb).sell / 100 * itemSellPrice)
                        barangDijual_harga = Math.floor((Math.floor(itemSellPrice + dscInv_sell) * jumlahBarang_invest_jual) - pajakJualItem_invest)
                    } 
                    // const checkBug = await itemSellInvFunc(sender, Math.floor(jumlahBarang_invest_jual), _userDb)
                    const checkBug = await investTransaction(sender, 'sell', itemSellInvId, Math.floor(jumlahBarang_invest_jual), barangDijual_harga, itemSellPrice, isZeroItemAfterIns)
//                     if(checkBug?.isAmountUndefined) reply(from, `*‚ö†Ô∏è !Error! ‚ö†Ô∏è*\n\n*Mohon segera laporkan ke owner/sideowner _${prefix}bugreport_*\n\nres: ${JSON.stringify(checkBug)}_${itemSellInvFunc?.name}_${prefix}ins.2

//                     ÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕè
// Additional Data_Encrypt: ${util.format(encryptValue(JSON.stringify(_userDb)))}`, id)
                    await addInvest_counter_market(itemSellInvId, 'sell', 1)
                    // await addMoney(sender, barangDijual_harga, _userDb)
                    reply(from, `Succes\n\nMenjual : ${numberWithCommas(fixNumberE(jumlahBarang_invest_jual))} ${itemSellInvName}${getDataCoinPriceSell ? '\nPajak : 4%' : `\nPajak : ${numberWithCommas(fixNumberE(pajakJualItem_invest))}`}\nTotal : _Rp. ${numberWithCommas(fixNumberE(barangDijual_harga))}_`, id)
                }
            }
            await addInvest_limit(sender, _userDb, itemSellInvId)
            await addMoney(superOwnerPajak, pajakJualItem_invest)
            break
        case prefix+'give':
            //if(!isOwner) return reply(from, 'Fitur ini sedang Maintenance!', id)
            if (!isGroupMsg) return reply(from, 'Perintah ini hanya bisa di gunakan dalam group!', id)
            if(getLevelingLevel(_userDb) <= 9) return reply(from, 'Fitur give akan terbuka saat mencapai level 10!', id)
            if(args.length === 1) return reply(from, `*Format Slah,* Ketik ${prefix}give @tagmember <no.barang> <jumlah>`, id)
            if(args[2] == undefined || args[3] == undefined) return reply(from, `*Format Slah,* Ketik ${prefix}give @tagmember <no.barang> <jumlah>`, id)
            if (mentionedJidList.length === 0) return reply(from, 'Untuk menggunakan Perintah ini, kirim perintah *'+prefix+'give* @tagmember <no.barang> <jumlah>', id)
            if (mentionedJidList.length !== 1) return reply(from, 'Maaf, hanya bisa give ke 1 user', id)
            if (!isVirtualBot && mentionedJidList[0] === rem.user.jid) return reply(from, 'Kamu tidak bisa give ke Bot', id)
            // if (getInvest_user(_mentionUserDb) == undefined) return reply(from, `User tidak memiliki invest!\nSilahkan command _${prefix}ind_ atau _${prefix}inv_ terlebih dahulu!`, id) 
            if(inArray_includes(args[3].toLowerCase(), isHuruf)) return reply(from, 'Jumlah harus ber Nomer', id)
            if(isNaN(args[3])) return reply(from, 'Jumlah harus ber Nomer', id)
            if(getInvest_user(_mentionUserDb) == undefined) await setInvest_user(mentionedJidList[0])
            const limitGive_investOutCommand0 = getLimitGive_invest(_userDb, _mentionUserDb.iId)
            if(limitGive_investOutCommand0 == null || limitGive_investOutCommand0 == undefined) await setLimitGive_invest(sender)
            const limitGive_investOutCommand = getLimitGive_invest(_userDb, _mentionUserDb.iId)
            //console.log(limitGive_investOutCommand)
            if(limitGive_investOutCommand?.idgivein != 'false') {
                var isLimitGive = Math.floor(_userDb.limit.lgivein[limitGive_investOutCommand.idgivein].limit)
            } else {
                //console.log('a')
                var isLimitGive = 0
            }
            //console.log(isLimitGive)
            if(isLimitGive >= 25) return reply(from, 'Limit give telah mencapai batas, Max 25x Perhari', id)
            if(Math.floor(args[3]) >= 26) return reply(from, 'Max give adalah 25', id) 
            const giveBarangTujuan = mentionedJidList[0]
            const nomerBarang_invest_give = args[2]
            const amountGiveBarang = Math.floor(args[3])

            // random 500 - 1000
            const randomWaitTimeGive = Math.floor(Math.random() * 501) + 500
            await sleep(randomWaitTimeGive)
            _userDb = await _mongo_UserSchema.findOne({ iId: sender })

            let nameInvGive = ''
            let senderGiveBarang = 0
            let minFuncInvGive = undefined
            let addFuncInvGive = undefined

            /*if(nomerBarang_invest_give == '1' || nomerBarang_invest_give.toLowerCase() == 'coal') {
                nameInvGive = 'Coal'
                senderGiveBarang = getInvest_user(_userDb).coal
                minFuncInvGive = MinInvest_user_coal
                addFuncInvGive = addInvest_user_coal
            } else if(nomerBarang_invest_give == '2' || nomerBarang_invest_give.toLowerCase() == 'copper') {
                nameInvGive = 'Copper'
                senderGiveBarang = getInvest_user(_userDb).copper
                minFuncInvGive = MinInvest_user_copper
                addFuncInvGive = addInvest_user_copper
            } else*/ if(nomerBarang_invest_give == '1' || nomerBarang_invest_give.toLowerCase() == 'iron') { //Iron
                nameInvGive = 'Iron'
                senderGiveBarang = getInvest_user(_userDb).iron
                minFuncInvGive = MinInvest_user_iron
                addFuncInvGive = addInvest_user_iron
            } else if(nomerBarang_invest_give == '2' || nomerBarang_invest_give.toLowerCase() == 'gold') { //Gold
                nameInvGive = 'Gold'
                senderGiveBarang = getInvest_user(_userDb).gold
                minFuncInvGive = MinInvest_user_gold
                addFuncInvGive = addInvest_user_gold
            } else if(nomerBarang_invest_give == '3' || nomerBarang_invest_give.toLowerCase() == 'diamond' || nomerBarang_invest_give.toLowerCase() == 'dm') { //Diamond
                nameInvGive = 'Diamond'
                senderGiveBarang = getInvest_user(_userDb).diamond
                minFuncInvGive = MinInvest_user_diamond
                addFuncInvGive = addInvest_user_diamond
            } /*else if(nomerBarang_invest_give == '6' || nomerBarang_invest_give.toLowerCase() == 'sacoin' || nomerBarang_invest_give.toLowerCase() == 'sc') {
                nameInvGive = 'SaCoin'
                senderGiveBarang = getInvest_user(_userDb).sacoin
                minFuncInvGive = MinInvest_user_sacoin
                addFuncInvGive = addInvest_user_sacoin
            }*/ else if(nomerBarang_invest_give == '4' || nomerBarang_invest_give.toLowerCase() == 'naocoin') { //NaoCoin
                if(getLevelingLevel(_mentionUserDb) <= 11) return reply(from, 'Tidak bisa membagikan NaoCoin/ElaCoin ke Member yang levelnya dibawah 12!', id)
                nameInvGive = 'NaoCoin'
                senderGiveBarang = getInvest_user(_userDb).naocoin
                minFuncInvGive = MinInvest_user_naocoin
                addFuncInvGive = addInvest_user_naocoin
            } else if(nomerBarang_invest_give == '5' || nomerBarang_invest_give.toLowerCase() == 'elacoin') { //ElaCoin
                if(getLevelingLevel(_mentionUserDb) <= 11) return reply(from, 'Tidak bisa membagikan NaoCoin/ElaCoin ke Member yang levelnya dibawah 12!', id)
                nameInvGive = 'ElaCoin'
                senderGiveBarang = getInvest_user(_userDb).elacoin
                minFuncInvGive = MinInvest_user_elacoin
                addFuncInvGive = addInvest_user_elacoin
            } else if(nomerBarang_invest_give == '6' || nomerBarang_invest_give.toLowerCase() == 'recoin') { //ReCoin
                if(getLevelingLevel(_mentionUserDb) <= 19) return reply(from, 'Tidak bisa membagikan ReCoin ke Member yang levelnya dibawah 20!', id)
                nameInvGive = 'ReCoin'
                senderGiveBarang = getInvest_user(_userDb).recoin
                minFuncInvGive = MinInvest_user_recoin
                addFuncInvGive = addInvest_user_recoin
            } else {
                reply(from, `Tidak ditemukan barang ${args[2]}`, id)
            }

            if(minFuncInvGive != undefined) {
                if(!senderGiveBarang) return reply(from, `Maaf, barang yang kamu pilih tidak valid!\n*Coba beli/jual menggunakan barang yang dipilih, dan coba lakukan cmd give lagi*`, id)
                if(senderGiveBarang < amountGiveBarang) return reply(from, `Maaf, Barang kamu tidak cukup\n\nDimiliki : ${senderGiveBarang} ${nameInvGive}\nGive : ${amountGiveBarang} ${nameInvGive}`, id)
                await addLimitGive_invest(_userDb, sender, giveBarangTujuan, amountGiveBarang)
                const checkBug = await minFuncInvGive(sender, Math.floor(amountGiveBarang), _userDb)
//                 if(checkBug?.isAmountUndefined) reply(from, `*‚ö†Ô∏è !Error! ‚ö†Ô∏è*\n\n*Mohon segera laporkan ke owner/sideowner*\n*Lapor ke _${prefix}bugreport_, dan sertakan juga pesan ini!*\n\nres: ${JSON.stringify(checkBug)}_${minFuncInvGive?.name}_${prefix}give.1

//                     ÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕè
// Additional Data_Encrypt: ${util.format(encryptValue(JSON.stringify(_userDb)))}`, id)
                await sleep(2000)
                const checkBug2 = await addFuncInvGive(giveBarangTujuan, Math.floor(amountGiveBarang), _userDb)
//                 if(checkBug2?.isAmountUndefined) reply(from, `*‚ö†Ô∏è !Error! ‚ö†Ô∏è*\n\n*Mohon segera laporkan ke owner/sideowner _${prefix}bugreport_*\n\nres: ${JSON.stringify(checkBug2)}_${addFuncInvGive?.name}_${prefix}give.2

//                     ÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕè
// Additional Data_Encrypt: ${util.format(encryptValue(JSON.stringify(_userDb)))}`, id)
                if(isMention) {
                    rem.sendTextWithMentions(from, `Succes give ${nameInvGive} to @${giveBarangTujuan.replace('@s.whatsapp.net','')}\n${nameInvGive}: -${numberWithCommas(fixNumberE(amountGiveBarang))}`)
                } else {
                    rem.sendText(from, `Succes give ${nameInvGive} to wa.me/${giveBarangTujuan.replace('@s.whatsapp.net','')}\n${nameInvGive}: -${numberWithCommas(fixNumberE(amountGiveBarang))}`)
                }
            }
            break
            //JOB
        case prefix+'job':
            if (!isGroupMsg) return reply(from, 'Perintah ini hanya bisa di gunakan dalam group!', id)
            if(kerjajob.getUserJobId(_userDb) == undefined) await kerjajob.setUserJob(sender)
            if(kerjajob.getUserJob(_userDb) == 'miner') {
                var jobBefore = 'Miner/Penambang'
            } else if(kerjajob.getUserJob(_userDb) == 'lj') {
                var jobBefore = 'Lumberjack/Penebang Pohon'
            } else if(kerjajob.getUserJob(_userDb) == 'gojek') {
                var jobBefore = 'Gojek'
            } else if(kerjajob.getUserJob(_userDb) == 'tsampah') {
                var jobBefore = 'Tukang Sampah'
            } else if(kerjajob.getUserJob(_userDb) == 'polisi')  {
                var jobBefore = 'Polisi'
            } else if(kerjajob.getUserJob(_userDb) == 'bo') {
                var jobBefore = 'Prostitusi Online :V'
            } else if(kerjajob.getUserJob(_userDb) == 'Pengangguran') {
                var jobBefore = 'Pengangguran'
            }/*Bamru*/ else if(kerjajob.getUserJob(_userDb) == 'Kantoran') {
                var jobBefore = 'Kantoran'
            }
            const currentJobLvlJob = kerjajob.getLvlJob(_userDb)
            const requiredJobXpJob = 2000 * (Math.pow(2, currentJobLvlJob) - 1)

            let isJobBoostText = ''
            const getJobBoost = kerjajob.getUserBoostJob(_userDb)
            if(getJobBoost && getJobBoost?.xp != 0) {
                const convertTimeJobBoost = timeConvert(getJobBoost.time)
                isJobBoostText = `\n\n*Job Boost*\n*x${getJobBoost.xp}* XP\n${convertTimeJobBoost.day} Hari | ${convertTimeJobBoost.hour} Jam : ${convertTimeJobBoost.minute} Menit : ${convertTimeJobBoost.second} Detik`
            }
            
            // if (args.length === 1) return reply(from, `Pekerjaan: ${jobBefore}\nJob Lvl: ${kerjajob.getLvlJob(_userDb)}\nJob XP: ${kerjajob.getXpJob(_userDb)} / ${requiredJobXpJob}\n\n1. Miner | Perlu Lvl 5\n2. Lumberjack | Perlu Lvl 5\n3. Gojek | Perlu Lvl 5\n4. Tukang sampah | Perlu Lvl 1\n5. Polisi | Perlu Lvl 10\n6. Prostitusi Online :v | Perlu Lvl 10\n7. Kantoran | Perlu Lvl 15\n\nUntuk melamar perkerjaan ketik, _${prefix}job <kerjaan>_\nContoh: _${prefix}job 5_\n\nUntuk Mengecek Level Untuk Melamar Ketik _${prefix}level_\n\nGaji berbeda2 sesuai pekerjaan\n*MENGUBAH JOB=RESET _LVLJOB_*\n*Note :* Cara ganti job ya, Pilih aja jobnya${isJobBoostText}`, id)
            if(args.length === 1) {
                const isSpyJob = getUserItemIdSpy(_userDb)
                return reply(from, `Job:
Xp Job: ${isSpyJob ? '#####' : kerjajob.getXpJob(_userDb)} / ${isSpyJob ? '#####' : requiredJobXpJob}
Level Job: ${isSpyJob ? '#####' : kerjajob.getLvlJob(_userDb)}
‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
List Pekerjaan:

1. Miner // Perlu Level 5
2. Lumberjack // Perlu Level 5
3. Gojek // Perlu Level 5
4. T. Sampah // Level 5
5. Polisi // Perlu Level 10
6. Prostitusi // Perlu Level 10
7. Kantoran // Perlu Level 15

‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
Untuk melamar kerja ketik .job <nomor>
Contoh: ${prefix}job 2

Untuk mengecek level ketik ${prefix}l / ${prefix}level

NB: Gaji berbeda-beda sesuai pekerjaan
Mengubah job=Reset level job
Cara ganti job ya pilih aja job yang baru${isJobBoostText}`)
            }
            if(args[1] == '1') {
                if(getLevelingLevel(_userDb) < 5) return reply(from, `Level Kamu tidak cukup\n\nLevel kamu: ${getLevelingLevel(_userDb)}\nUntuk Bekerja disini kamu perlu naik ke level 5`, id)
                if(kerjajob.getUserJob(_userDb) == 'miner') return reply(from, 'Kamu sudah melamar Pekerjaan ini', id)
                
                var kerja = 'Miner/Penambang'
                if(kerjajob.getUserJob(_userDb) == 'lj' || kerjajob.getUserJob(_userDb) == 'gojek' || kerjajob.getUserJob(_userDb) == 'tsampah' || kerjajob.getUserJob(_userDb) == 'polisi' || kerjajob.getUserJob(_userDb) == 'bo' || kerjajob.getUserJob(_userDb) == 'Kantoran') {
                    await _mongo_UserSchema.updateOne({ iId: sender }, { $set: { "economy.job": {} } })
                    await kerjajob.setUserJob(sender)
                    await kerjajob.addUserJob(sender, 'miner')
                    reply(from, `*Succes* mengganti job\nDari: ${jobBefore}\nKe: ${kerja}\n\nJOB LVL RESET!`, id)
                } else if (kerjajob.getUserJob(_userDb) === 'Pengangguran') {
                    const JobHoki = Math.floor(Math.random() * 100)
                    if(JobHoki < 19) {
                        reply(from, 'Maaf, Lamaran kerjamu ditolak di perusahaan PT.XXXXX\n\nUntuk melamar kembali *'+prefix+'job 1*\nSEMANGAT!!', id)
                    } else {
                        await kerjajob.addUserJob(sender, 'miner')
                        reply(from, `*Succes*\n\nLamaranmu di terima di perusahaan PT DWIR\nPekerjaan: ${kerja}`, id) 
                    }
                }
            } else if(args[1] == '2') {
                if(getLevelingLevel(_userDb) < 5) return reply(from, `Level Kamu tidak cukup\n\nLevel kamu: ${getLevelingLevel(_userDb)}\nUntuk Bekerja disini kamu perlu naik ke level 5`, id)
                if(kerjajob.getUserJob(_userDb) == 'lj') return reply(from, 'Kamu sudah melamar Pekerjaan ini', id)
                
                var kerja = 'Lumberjack/Penebang Pohon'
                if(kerjajob.getUserJob(_userDb) == 'miner' || kerjajob.getUserJob(_userDb) == 'gojek' || kerjajob.getUserJob(_userDb) == 'tsampah' || kerjajob.getUserJob(_userDb) == 'polisi' || kerjajob.getUserJob(_userDb) == 'bo' || kerjajob.getUserJob(_userDb) == 'Kantoran') {
                    await _mongo_UserSchema.updateOne({ iId: sender }, { $set: { "economy.job": {} } })
                    await kerjajob.setUserJob(sender)
                    await kerjajob.addUserJob(sender, 'lj')
                    reply(from, `*Succes* mengganti job\nDari: ${jobBefore}\nKe: ${kerja}\n\nJOB LVL RESET!`, id)
                } else if (kerjajob.getUserJob(_userDb) === 'Pengangguran') {
                    const JobHoki = Math.floor(Math.random() * 100)
                    if(JobHoki < 19) {
                        reply(from, 'Maaf, Lamaran kerjamu ditolak di perusahaan PT.XXXXX\n\nUntuk melamar kembali *'+prefix+'job 2*\nSEMANGAT!!', id)
                    } else {
                        await kerjajob.addUserJob(sender, 'lj')
                        reply(from, `*Succes*\n\nLamaranmu di terima di perusahaan PT DWIR\nPekerjaan: ${kerja}`, id) 
                    }
                }
            } else if(args[1] == '3') {
                if(getLevelingLevel(_userDb) < 5) return reply(from, `Level Kamu tidak cukup\n\nLevel kamu: ${getLevelingLevel(_userDb)}\nUntuk Bekerja disini kamu perlu naik ke level 5`, id)
                if(kerjajob.getUserJob(_userDb) == 'gojek') return reply(from, 'Kamu sudah melamar Pekerjaan ini', id)
                
                var kerja = 'Gojek'
                if(kerjajob.getUserJob(_userDb) == 'miner' || kerjajob.getUserJob(_userDb) == 'lj' || kerjajob.getUserJob(_userDb) == 'tsampah' || kerjajob.getUserJob(_userDb) == 'polisi' || kerjajob.getUserJob(_userDb) == 'bo' || kerjajob.getUserJob(_userDb) == 'Kantoran') {
                    await _mongo_UserSchema.updateOne({ iId: sender }, { $set: { "economy.job": {} } })
                    await kerjajob.setUserJob(sender)
                    await kerjajob.addUserJob(sender, 'gojek')
                    reply(from, `*Succes* mengganti job\nDari: ${jobBefore}\nKe: ${kerja}\n\nJOB LVL RESET!`, id)
                } else if (kerjajob.getUserJob(_userDb) === 'Pengangguran') {
                    const JobHoki = Math.floor(Math.random() * 100)
                    if(JobHoki < 19) {
                        reply(from, 'Maaf, Lamaran kerjamu ditolak di perusahaan PT.XXXXX\n\nUntuk melamar kembali *'+prefix+'job 3*\nSEMANGAT!!', id)
                    } else {
                        await kerjajob.addUserJob(sender, 'gojek')
                        reply(from, `*Succes*\n\nLamaranmu di terima di perusahaan PT DWIR\nPekerjaan: ${kerja}`, id) 
                    }
                }
            } else if(args[1] == '4') {
                if(getLevelingLevel(_userDb) < 1) return reply(from, `Level Kamu tidak cukup\n\nLevel kamu: ${getLevelingLevel(_userDb)}\nUntuk Bekerja disini kamu perlu naik ke level 1`, id)
                if(kerjajob.getUserJob(_userDb) == 'tsampah') return reply(from, 'Kamu sudah melamar Pekerjaan ini', id)
                
                var kerja = 'Tukang Sampah'
                if(kerjajob.getUserJob(_userDb) == 'miner' || kerjajob.getUserJob(_userDb) == 'lj' || kerjajob.getUserJob(_userDb) == 'gojek' || kerjajob.getUserJob(_userDb) == 'polisi' || kerjajob.getUserJob(_userDb) == 'bo' || kerjajob.getUserJob(_userDb) == 'Kantoran') {
                    await _mongo_UserSchema.updateOne({ iId: sender }, { $set: { "economy.job": {} } })
                    await kerjajob.setUserJob(sender)
                    await kerjajob.addUserJob(sender, 'tsampah')
                    reply(from, `*Succes* mengganti job\nDari: ${jobBefore}\nKe: ${kerja}\n\nJOB LVL RESET!`, id)
                } else if (kerjajob.getUserJob(_userDb) === 'Pengangguran') {
                    const JobHoki = Math.floor(Math.random() * 100)
                    if(JobHoki < 19) {
                        reply(from, 'Maaf, Lamaran kerjamu ditolak di perusahaan PT.XXXXX\n\nUntuk melamar kembali *'+prefix+'job 4*\nSEMANGAT!!', id)
                    } else {
                        await kerjajob.addUserJob(sender, 'tsampah')
                        reply(from, `*Succes*\n\nLamaranmu di terima di perusahaan PT DWIR\nPekerjaan: ${kerja}`, id) 
                    }
                } 
            } else if(args[1] == '5') {
                if(getLevelingLevel(_userDb) < 10) return reply(from, `Level Kamu tidak cukup\n\nLevel kamu: ${getLevelingLevel(_userDb)}\nUntuk Bekerja disini kamu perlu naik ke level 10`, id)
                if(kerjajob.getUserJob(_userDb) == 'polisi') return reply(from, 'Kamu sudah melamar Pekerjaan ini', id)
               
                var kerja = 'Polisi'
                if(kerjajob.getUserJob(_userDb) == 'miner' || kerjajob.getUserJob(_userDb) == 'lj' || kerjajob.getUserJob(_userDb) == 'gojek' || kerjajob.getUserJob(_userDb) == 'tsampah' || kerjajob.getUserJob(_userDb) == 'bo' || kerjajob.getUserJob(_userDb) == 'Kantoran') {
                    await _mongo_UserSchema.updateOne({ iId: sender }, { $set: { "economy.job": {} } })
                    await kerjajob.setUserJob(sender)
                    await kerjajob.addUserJob(sender, 'polisi')
                    reply(from, `*Succes* mengganti job\nDari: ${jobBefore}\nKe: ${kerja}\n\nJOB LVL RESET!`, id)
                } else if (kerjajob.getUserJob(_userDb) === 'Pengangguran') {
                    const JobHoki = Math.floor(Math.random() * 100)
                    if(JobHoki < 19) {
                        reply(from, 'Maaf, Lamaran kerjamu ditolak di perusahaan PT.XXXXX\n\nUntuk melamar kembali *'+prefix+'job 5*\nSEMANGAT!!', id)
                    } else {
                        await kerjajob.addUserJob(sender, 'polisi')
                        reply(from, `*Succes*\n\nLamaranmu di terima di perusahaan PT DWIR\nPekerjaan: ${kerja}`, id) 
                    }
                } 
            } else if(args[1] == '6') {
                if(getLevelingLevel(_userDb) < 10) return reply(from, `Level Kamu tidak cukup\n\nLevel kamu: ${getLevelingLevel(_userDb)}\nUntuk Bekerja disini kamu perlu naik ke level 10`, id)
                if(kerjajob.getUserJob(_userDb) == 'bo') return reply(from, 'Kamu sudah melamar Pekerjaan ini', id)
                
                var kerja = 'Prostitusi Online :V'
                if(kerjajob.getUserJob(_userDb) == 'miner' || kerjajob.getUserJob(_userDb) == 'lj' || kerjajob.getUserJob(_userDb) == 'gojek' || kerjajob.getUserJob(_userDb) == 'tsampah' || kerjajob.getUserJob(_userDb) == 'polisi' || kerjajob.getUserJob(_userDb) == 'Kantoran') {
                    await _mongo_UserSchema.updateOne({ iId: sender }, { $set: { "economy.job": {} } })
                    await kerjajob.setUserJob(sender)
                    await kerjajob.addUserJob(sender, 'bo')
                    reply(from, `*Succes* mengganti job\nDari: ${jobBefore}\nKe: ${kerja}\n\nJOB LVL RESET!`, id)
                } else if (kerjajob.getUserJob(_userDb) == 'Pengangguran') {
                    const JobHoki = Math.floor(Math.random() * 100)
                    if(JobHoki < 25) {
                        reply(from, 'Maaf, Lamaran kerjamu ditolak di perusahaan PT.XXXXX\n\nUntuk melamar kembali *'+prefix+'job 6*\nSEMANGAT!!', id)
                    } else {
                        await kerjajob.addUserJob(sender, 'bo')
                        reply(from, `*Succes*\n\nLamaranmu di terima di perusahaan PT ANGGA\nPekerjaan: ${kerja}`, id) 
                    }
                } 
            } else if(args[1] == '7') {
                if(getLevelingLevel(_userDb) < 15) return reply(from, `Level Kamu tidak cukup\n\nLevel kamu: ${getLevelingLevel(_userDb)}\nUntuk Bekerja disini kamu perlu naik ke level 15`, id)
                if(kerjajob.getUserJob(_userDb) == 'Kantoran') return reply(from, 'Kamu sudah melamar Pekerjaan ini', id)
                
                var kerja = 'Kantoran'
                if(kerjajob.getUserJob(_userDb) == 'miner' || kerjajob.getUserJob(_userDb) == 'lj' || kerjajob.getUserJob(_userDb) == 'gojek' || kerjajob.getUserJob(_userDb) == 'tsampah' || kerjajob.getUserJob(_userDb) == 'polisi' || kerjajob.getUserJob(_userDb) == 'bo') {
                    await _mongo_UserSchema.updateOne({ iId: sender }, { $set: { "economy.job": {} } })
                    await kerjajob.setUserJob(sender)
                    await kerjajob.addUserJob(sender, 'Kantoran')
                    reply(from, `*Succes* mengganti job\nDari: ${jobBefore}\nKe: ${kerja}\n\nJOB LVL RESET!`, id)
                } else if (kerjajob.getUserJob(_userDb) == 'Pengangguran') {
                    const JobHoki = Math.floor(Math.random() * 100)
                    if(JobHoki < 35) {
                        reply(from, 'Maaf, Lamaran kerjamu ditolak di perusahaan PT.XXXXX\n\nUntuk melamar kembali *'+prefix+'job 7*\nSEMANGAT!!', id)
                    } else {
                        await kerjajob.addUserJob(sender, 'Kantoran')
                        reply(from, `*Succes*\n\nLamaranmu di terima di perusahaan PT DWIR\nPekerjaan: ${kerja}`, id) 
                    }
                } 
            }
            break
        case prefix+'work':
        case prefix+'w':
            if (!isGroupMsg) return reply(from, 'Perintah ini hanya bisa di gunakan dalam group!', id)
            if(getMoney(_userDb) === undefined) await setMoney(sender)
            if(kerjajob.getUserJob(_userDb) == 'Pengangguran') return reply(from, 'Kamu belum memiliki pekerjaan, Ketik *'+prefix+'job* untuk melamar pekerjaan', id)
            const waktunyaa = Math.floor(2)
            const waktubroheii = waktunyaa+'m'

            if(_userDb.economy.worklimit != 0 && Date.now() >= _userDb.economy.worklimit) {
                await _mongo_UserSchema.updateOne({ iId: sender }, { $set: { "economy.worklimit": 0 } })
                _userDb = await _mongo_UserSchema.findOne({ iId: sender })
            }

            if(kerjajob.getWorkId(_userDb)) return reply(from, `Kamu sudah berkerja, tunggu ${timeConvert(kerjajob.getWorkTimer(_userDb)).minute} Menit : ${timeConvert(kerjajob.getWorkTimer(_userDb)).second} Detik untuk berkerja lagi!`, id)
            await kerjajob.addWork(sender, waktubroheii)

            const randomStaminaKurang = Math.floor(Math.random() * 5) + 10
            const randomMakanKurang = Math.floor(Math.random() * 5) + 5
            const randomUangHilang = Math.floor(Math.random() * 500) + 1000
            const HasilUangHilang = randomUangHilang
            const randomGagalJob = Math.floor(Math.random() * 100)
            const getUserRumahWork0 = getUserRoleplay_rumah(_userDb)
            const getUserRumahWork = getUserRumahWork0
            const getUserMakananStaminaWork = getUserMakan(_userDb)

            if(getUserMakananStaminaWork.food <= 0) return reply(from, `Kamu lapar!\nBeli makanan di ${prefix}shop`, id)
            if(getUserMakananStaminaWork.stamina <= 0) return reply(from, `Kamu lelah!\nTunggu selama beberapa menit untuk memulihkan stamina`, id)

            await minUserMakan(_userDb, sender, 'stamina', randomStaminaKurang)
            await minUserMakan(_userDb, sender, 'food', randomMakanKurang)

            if(message.selectedButtonId != undefined) {
                // return reply(from, 'Invalid!\nerr: access_denied')
                const argsWButtonId = message.selectedButtonId.trim().split(' ')
                if(argsWButtonId[1] != sender) return

                if(argsWButtonId[3] == 'acc' && argsWButtonId[2] == 'bo' && kerjajob.getUserJob(_userDb) == 'bo') {
                    let genderSenderButtW = getGen(_userDb)
                    let genderTypeButtW = undefined
                    if (genderSenderButtW === undefined) {
                        genderTypeButtW = undefined
                    } else if (genderSenderButtW === 'lk') {
                        genderTypeButtW = 1
                    } else if (genderSenderButtW === 'pr') {
                        genderTypeButtW = 0
                    }

                    if(isNaN(argsWButtonId[5]) || isNaN(argsWButtonId[6])) return reply(from, 'Invalid, coba lagi!')
                    if(Math.floor(argsWButtonId[5]) > 7501 || Math.floor(argsWButtonId[5]) <= 0 || Math.floor(argsWButtonId[6]) > 2001 || Math.floor(argsWButtonId[6]) <= 0) return reply(from, 'Invalid, coba lagi!')

                    const moneyAddButt = Math.floor(Math.floor(argsWButtonId[5]) * kerjajob.getMulti(_userDb) - Math.floor(argsWButtonId[6]) * 3)

                    if(genderTypeButtW == 0) {
                        if(argsWButtonId[4] == 'gb') {
                            const getPosWorkLimit = _userDb.economy.worklimit
    
                            var amountXpJob = Math.floor(600)
                            await kerjajob.addJobXp(_userDb, sender, amountXpJob)
                            await addMoney(sender, moneyAddButt)
                            await addMoney_haram(sender, moneyAddButt)
                            const randomTextBoCweGang = [`_Kamu di eue rame2 dan mendapat Rp. ${numberWithCommas(fixNumberE(moneyAddButt))}_`, `_Kamu di gangbang rame2 dan mendapat Rp. ${numberWithCommas(fixNumberE(moneyAddButt))}_`, `_Kamu digangbang rame2 di basement_\nMendapat Rp. ${numberWithCommas(fixNumberE(moneyAddButt))}\nCooldown 4menit`, `_Client kamu menyewa hotel dan kamu di eue banyak orang dan Mendapat Rp. ${numberWithCommas(fixNumberE(moneyAddButt))}_`, `_Kamu di ewue banyak orang hingga berdarah_\nMendapat : Rp. ${numberWithCommas(fixNumberE(moneyAddButt))}`, `_Kamu di gangbang terus menerus, hingga kamu capek_\nMendapat : Rp. ${numberWithCommas(fixNumberE(moneyAddButt))}`]
                            const perRnaodmCweGang = Math.floor(Math.random() * randomTextBoCweGang.length)
                            if(perRnaodmCweGang == 2 || perRnaodmCweGang == 4 || perRnaodmCweGang == 5) await _mongo_UserSchema.updateOne({ iId: sender }, { $set: { "economy.worklimit": Date.now() + toMs('2m') } })
                            const persenRandomCweGang = randomTextBoCweGang[perRnaodmCweGang]
                            reply(from, persenRandomCweGang)
                        } else if(argsWButtonId[4] == 'lsb') {

                            var amountXpJob = Math.floor(600)
                            await kerjajob.addJobXp(_userDb, amountXpJob)
                            await addMoney(sender, moneyAddButt)
                            await addMoney_haram(sender, moneyAddButt)
                            const randomTextBoCweLsb = [`_Kamu ngelesbi dan mendapat Rp. ${numberWithCommas(fixNumberE(moneyAddButt))}_`, `_Kamu eseg2 dengan Client mu dan mendapat Rp. ${numberWithCommas(fixNumberE(moneyAddButt))}_`]
                            const perRnaodmCweLsb = Math.floor(Math.random() * randomTextBoCweLsb.length)
                            const persenRandomCweLsb = randomTextBoCweLsb[perRnaodmCweLsb]
                            reply(from, persenRandomCweLsb)
                        } else {
                            reply(from, 'Invalid, coba lagi!')
                        }
                    } else if(genderTypeButtW == 1) {
                        if(argsWButtonId[4] == 'gei') {
                            var amountXpJob = Math.floor(600)
                            await kerjajob.addJobXp(_userDb, sender, amountXpJob)
                            await addMoney(sender, moneyAddButt)
                            await addMoney_haram(sender, moneyAddButt)
                            const randomTextBoCwoGei = [`_:/ Rp. ${numberWithCommas(fixNumberE(moneyAddButt))}_`, `_;-; Rp. ${numberWithCommas(fixNumberE(moneyAddButt))}_`, `_Kamu ngegei dan mendapat Rp. ${numberWithCommas(fixNumberE(moneyAddButt))}_`, `_Kamu main 4nal dengan Client mu dan mendapat Rp. ${numberWithCommas(fixNumberE(moneyAddButt))}_`]
                            const perRnaodmCwoGei = Math.floor(Math.random() * randomTextBoCwoGei.length)
                            const persenRandomCwoGei = randomTextBoCwoGei[perRnaodmCwoGei]
                            reply(from, persenRandomCwoGei)
                        } else {
                            reply(from, 'Invalid, coba lagi!')
                        }
                    } else {
                        reply(from, 'Invalid, coba lagi!')
                    }
                } else if(argsWButtonId[3] == 'dec' && argsWButtonId[2] == 'bo' && kerjajob.getUserJob(_userDb) == 'bo') {
                    reply(from, 'Kamu menolak ajakan client')
                }
            } else {
                if(kerjajob.getUserJob(_userDb) == 'tsampah') {

                    if(getUserRumahWork0 == undefined) {
                        var biayaTaxiWork = Math.floor(1000)
                    } else {
                        var biayaTaxiWork = Math.floor(500)
                    }
    
                    const moneyadd = Math.floor(2000 * kerjajob.getMulti(_userDb) - biayaTaxiWork)
                    
                    if (randomGagalJob < 5) {
                        await addMoney(sender, HasilUangHilang, _userDb)
                        await _mongo_UserSchema.updateOne({ iId: sender }, { $set: { "economy.job.job": "Pengangguran", "economy.job.xpjob": 0, "economy.job.lvljob": 1, "economy.job.multi": 1 } })
                        reply(from, 'Kamu salah mengambil dan membuang sampah, dan menyebabkan kamu terluka karena sampah itu meledak, dan kamu pun di PECAT karena tidak melapor ke boss', id)
                    } else {
                        var amountXpJob = Math.floor(300)
                        await kerjajob.addJobXp(_userDb, sender, amountXpJob)
                        await addMoney(sender, moneyadd, _userDb)
                        reply(from, `Kamu berkerja Sebagai Tukang Sampah, Dan mendapat Rp. ${numberWithCommas(fixNumberE(moneyadd))}\nBiaya Taxi : Rp. ${numberWithCommas(fixNumberE(biayaTaxiWork))}\n\n_Total gaji sudah dipotong/dikurangi dengan biaya taxi_`, id)
                    }
                } else if(kerjajob.getUserJob(_userDb) == 'miner') {
    
                    if(getUserRumahWork0 == undefined) {
                        var biayaTaxiWork = Math.floor(4000)
                    } else if(getUserRumahWork.lahan == 'd1') {
                        var biayaTaxiWork = Math.floor(3500)
                    } else if(getUserRumahWork.lahan == 'd2') {
                        var biayaTaxiWork = Math.floor(3000)
                    } else if(getUserRumahWork.lahan == 'd3') {
                        var biayaTaxiWork = Math.floor(2500)
                    } else if(getUserRumahWork.lahan == 'd4') {
                        var biayaTaxiWork = Math.floor(1000)
                    }
    
                    const moneyadd = Math.floor(5000 * kerjajob.getMulti(_userDb) - biayaTaxiWork)
    
                    if (randomGagalJob < 5) {
                        await addMoney(sender, HasilUangHilang, _userDb)
                        await _mongo_UserSchema.updateOne({ iId: sender }, { $set: { "economy.job.job": "Pengangguran", "economy.job.xpjob": 0, "economy.job.lvljob": 1, "economy.job.multi": 1 } })
                        reply(from, 'Kamu salah memilih tempat menambang, dan menyebabkan 20% goa longsor, dan kamu pun di PECAT', id)
                    } else {
                        var amountXpJob = Math.floor(500)
                        await kerjajob.addJobXp(_userDb, sender, amountXpJob)
                        await addMoney(sender, moneyadd, _userDb)
                        reply(from, `Kamu berkerja sebagai Miner / Penambang, Dan mendapat Rp. ${numberWithCommas(fixNumberE(moneyadd))}\nBiaya Taxi : Rp. ${numberWithCommas(fixNumberE(biayaTaxiWork))}\n\n_Total gaji sudah dipotong/dikurangi dengan biaya taxi_`, id)
                    }
                } else if(kerjajob.getUserJob(_userDb) == 'lj') {
    
                    if(getUserRumahWork0 == undefined) {
                        var biayaTaxiWork = Math.floor(4000)
                    } else if(getUserRumahWork.lahan == 'd1') {
                        var biayaTaxiWork = Math.floor(3500)
                    } else if(getUserRumahWork.lahan == 'd2') {
                        var biayaTaxiWork = Math.floor(3000)
                    } else if(getUserRumahWork.lahan == 'd3') {
                        var biayaTaxiWork = Math.floor(2500)
                    } else if(getUserRumahWork.lahan == 'd4') {
                        var biayaTaxiWork = Math.floor(1000)
                    }
    
                    const moneyadd = Math.floor(4500 * kerjajob.getMulti(_userDb) - biayaTaxiWork)
    
                    if (randomGagalJob < 5) {
                        await addMoney(sender, HasilUangHilang, _userDb)
                        await _mongo_UserSchema.updateOne({ iId: sender }, { $set: { "economy.job.job": "Pengangguran", "economy.job.xpjob": 0, "economy.job.lvljob": 1, "economy.job.multi": 1 } })
                        reply(from, 'Kamu salah menebang pohon , dan kamu menyebabkan gudang tertimpa pohon, dan kamu pun di PECAT', id)
                    } else {
                        var amountXpJob = Math.floor(500)
                        await kerjajob.addJobXp(_userDb, sender, amountXpJob)
                        await addMoney(sender, moneyadd, _userDb)
                        reply(from, `Kamu berkerja Sebagai Penebang Pohon, Dan mendapat Rp. ${numberWithCommas(fixNumberE(moneyadd))}\nBiaya Taxi : Rp. ${numberWithCommas(fixNumberE(biayaTaxiWork))}\n\n_Total gaji sudah dipotong/dikurangi dengan biaya taxi_`, id)
                    }
                } else if(kerjajob.getUserJob(_userDb) == 'gojek') {
    
                    if(getUserRumahWork0 == undefined) {
                        var biayaTaxiWork = Math.floor(2000)
                    } else {
                        var biayaTaxiWork = Math.floor(500)
                    }
    
                    const moneyadd = Math.floor(3000 * kerjajob.getMulti(_userDb) - biayaTaxiWork)
    
                    if (randomGagalJob < 5) {
                        await addMoney(sender, HasilUangHilang, _userDb)
                        await _mongo_UserSchema.updateOne({ iId: sender }, { $set: { "economy.job.job": "Pengangguran", "economy.job.xpjob": 0, "economy.job.lvljob": 1, "economy.job.multi": 1 } })
                        reply(from, 'Kamu badmood dan memarahi penumpang, dan kamu menyebabkan rating 1 kamu banyak, dan kamu pun di PECAT', id)
                    } else {
                        var amountXpJob = Math.floor(500)
                        await kerjajob.addJobXp(_userDb, sender, amountXpJob)
                        await addMoney(sender, moneyadd, _userDb)
                        reply(from, `Kamu mengantar penumpang, Dan mendapat Rp. ${numberWithCommas(fixNumberE(moneyadd))}\nBiaya Taxi : Rp. ${numberWithCommas(fixNumberE(biayaTaxiWork))}\n\n_Total gaji sudah dipotong/dikurangi dengan biaya taxi_`, id)
                    }
                } else if(kerjajob.getUserJob(_userDb) == 'polisi') {
    
                    if(getUserRumahWork0 == undefined) {
                        var biayaTaxiWork = Math.floor(2000)
                    } else {
                        var biayaTaxiWork = Math.floor(500)
                    }
    
                    const moneyadd = Math.floor(6000 * kerjajob.getMulti(_userDb) - biayaTaxiWork)
    
                    if (randomGagalJob < 5) {
                        await addMoney(sender, HasilUangHilang, _userDb)
                        await _mongo_UserSchema.updateOne({ iId: sender }, { $set: { "economy.job.job": "Pengangguran", "economy.job.xpjob": 0, "economy.job.lvljob": 1, "economy.job.multi": 1 } })
                        const textListPolice = ['Kamu terbukti salah menembak sasaran, dan menyebabkan korban meninggal dan pelaku melarikan diri, dan kamu pun DIPECAT', 'Kamu melindas orang demo dengan sengaja dan kamu dipecat!']
                        reply(from, textListPolice[Math.floor(Math.random() * textListPolice.length)], id)
                    } else {
                        var amountXpJob = Math.floor(500)
                        await kerjajob.addJobXp(_userDb, sender, amountXpJob)
                        await addMoney(sender, moneyadd, _userDb)
                        reply(from, `Kamu berkerja sebagai Polisi, Dan mendapat Rp. ${numberWithCommas(fixNumberE(moneyadd))}\nBiaya Taxi : Rp. ${numberWithCommas(fixNumberE(biayaTaxiWork))}\n\n_Total gaji sudah dipotong/dikurangi dengan biaya taxi_`, id)
                    }
                } else if(kerjajob.getUserJob(_userDb) == 'bo') {
    
                    let genderSenderW = getGen(_userDb)
                    let genderTypeW = undefined
                    if (genderSenderW === undefined) {
                        genderTypeW = undefined
                    } else if (genderSenderW === 'lk') {
                        genderTypeW = 1
                    } else if (genderSenderW === 'pr') {
                        genderTypeW = 0
                    }
    
                    if(getUserRumahWork0 == undefined) {
                        var biayaTaxiWork = Math.floor(2000)
                        var gajiAddOpenBO = Math.floor(4000)
                        var persenPecatOpenBO = 40
                        var CwePersenLesbi = 5
                        var CwePersenTerGang = 5
                        var persenCwoGei = 5
                    } else if(getUserRumahWork.lahan == 'd1') {
                        var biayaTaxiWork = Math.floor(1000)
                        var gajiAddOpenBO = Math.floor(4000)
                        var persenPecatOpenBO = 40
                        var CwePersenLesbi = 5
                        var CwePersenTerGang = 5
                        var persenCwoGei = 5
                    } else if(getUserRumahWork.lahan == 'd2') {
                        var biayaTaxiWork = Math.floor(1000)
                        var gajiAddOpenBO = Math.floor(4000)
                        var persenPecatOpenBO = 40
                        var CwePersenLesbi = 5
                        var CwePersenTerGang = 5
                        var persenCwoGei = 5
                    } else if(getUserRumahWork.lahan == 'd3') {
                        var biayaTaxiWork = Math.floor(1000)
                        var gajiAddOpenBO = Math.floor(4000)
                        var persenPecatOpenBO = 5
                        var CwePersenLesbi = 20
                        var CwePersenTerGang = 20
                        var persenCwoGei = 20
                    } else if(getUserRumahWork.lahan == 'd4') {
                        var biayaTaxiWork = Math.floor(1000)
                        var gajiAddOpenBO = Math.floor(7500)
                        var persenPecatOpenBO = 5
                        var CwePersenLesbi = 20
                        var CwePersenTerGang = 20
                        var persenCwoGei = 20
                    }

                    const moneyadd = Math.floor(gajiAddOpenBO * kerjajob.getMulti(_userDb) - biayaTaxiWork)

                    if(genderTypeW == 0) {
                        const persenGenCweTerGang = Math.floor(Math.random() * 100)
                        const persenGenCweLesbi = Math.floor(Math.random() * 100)

                        if(persenGenCweLesbi < CwePersenLesbi) {
                            const randomTextCweTerLsb = [`Kamu di tawarin ngelesbi oleh client kamu`, `Kamu di tawarin eseg2 oleh client kamu`]
                            const TextButtonCweTerLsb = randomTextCweTerLsb[Math.floor(Math.random() * randomTextCweTerLsb.length)]
                            const buttonIdSendCweterLsb = [{ id: `${prefix}w ${sender} bo acc lsb ${gajiAddOpenBO} ${biayaTaxiWork}`, text: `Terima`}, { id: `${prefix}w ${sender} bo dec lsb ${gajiAddOpenBO} ${biayaTaxiWork}`, text: `Tolak`}]
                            await _mongo_UserSchema.updateOne({ iId: sender }, { $set: { "economy.worklimit": 0 } })
                            return rem.sendButtons(from, TextButtonCweTerLsb, shuffleArray(buttonIdSendCweterLsb), '', '>///<')
                        } else if(persenGenCweTerGang < CwePersenTerGang) {
                            const randomTextCweTerGang = [`Kamu di tawarin GangBang oleh client kamu`, `Kamu di tawarin main rame2 oleh client kamu`]
                            const TextButtonCweTerGang = randomTextCweTerGang[Math.floor(Math.random() * randomTextCweTerGang.length)]
                            const buttonIdSendCweterGang = [{ id: `${prefix}w ${sender} bo acc gb ${gajiAddOpenBO} ${biayaTaxiWork}`, text: `Terima`}, { id: `${prefix}w ${sender} bo dec gb ${gajiAddOpenBO} ${biayaTaxiWork}`, text: `Tolak`}]
                            await _mongo_UserSchema.updateOne({ iId: sender }, { $set: { "economy.worklimit": 0 } })
                            return rem.sendButtons(from, TextButtonCweTerGang, shuffleArray(buttonIdSendCweterGang), '', '>///<')
                        } else {
                            if (randomGagalJob < persenPecatOpenBO) { 
                                const randomeuwegagal = [`Kamu di palak, dan di GangBang 9 orang sekaligus\n\nKamu Kehilangan\nUang: Rp. ${numberWithCommas(HasilUangHilang)}`, `Kamu ditangkep polisi dan membayar denda sebesar\nUang: Rp. ${numberWithCommas(HasilUangHilang)}`, `Kamu diculik dan diganbang oleh 5 Om2 di depan pacar kamu\nUang Hilang: Rp. ${numberWithCommas(HasilUangHilang)}`, `_Kamu ditipu oleh penjual minuman lalu kamu meminum minuman penjual tersebut lalu berkata "ini bukan aqua ini arak" lalu kamu pun mabuk dan dieue 12 orang sekaligus_\nUang Hilang: Rp. ${numberWithCommas(HasilUangHilang)}`, `_Kamu ditipu kang pijit dan kamu di entot hingga berdarah_\nUang Hilang: Rp. ${numberWithCommas(HasilUangHilang)}`]
                                const persenRandomEuweGagal = randomeuwegagal[Math.floor(Math.random() * randomeuwegagal.length)]
                                await addMoney(sender, HasilUangHilang, _userDb)
                                await _mongo_UserSchema.updateOne({ iId: sender }, { $set: { "economy.job.job": "Pengangguran", "economy.job.xpjob": 0, "economy.job.lvljob": 1, "economy.job.multi": 1 } })
                                reply(from, persenRandomEuweGagal, id)
                            } else {
                                var amountXpJob = Math.floor(500)
                                await kerjajob.addJobXp(_userDb, sender, amountXpJob)
                                await addMoney(sender, moneyadd, _userDb)
                                await addMoney_haram(sender, moneyadd)
                                const randomeuwean = [`Setelah kamu OPEN BO dan dieuwe om-om, Kamu mendapat Rp. ${numberWithCommas(fixNumberE(moneyadd))}\nBiaya Taxi : Rp. ${numberWithCommas(fixNumberE(biayaTaxiWork))}\n\n_Total gaji sudah dipotong/dikurangi dengan biaya taxi_`, `Adek kamu meng euwe kamu saat tidur, Dan mendapat Rp. ${numberWithCommas(fixNumberE(moneyadd))} Sebagai uang tutup mulut`, `Anda open Bo ama papa anda sendiri dan mendapatkan jatah uang senilai Rp. ${numberWithCommas(fixNumberE(moneyadd))}`, `_Adek kamu mengeue kamu dikamar mandi dan mendapatkan uang tutup mulut sebesar Rp. ${numberWithCommas(fixNumberE(moneyadd))}_`, `Pacar kamu menyewa jasa Open Bo mu, Dan mendapat\nUang: Rp. ${numberWithCommas(fixNumberE(moneyadd))}\nBiaya Taxi : Rp. ${numberWithCommas(fixNumberE(biayaTaxiWork))}\n\n_Total gaji sudah dipotong/dikurangi dengan biaya taxi_`, `_Kamu dihipnotis oleh teman sekelasmu dan di entod di kamar mandi, ia memberi mu uang untuk tutup mulut Rp. Rp. ${numberWithCommas(fixNumberE(moneyadd))}_`]
                                const persenRandomEuwe = randomeuwean[Math.floor(Math.random() * randomeuwean.length)]
                                reply(from, persenRandomEuwe, id)
                            }
                        }
                    } else if(genderTypeW == 1) {
                        const persenGenCwoGei = Math.floor(Math.random() * 100)

                        if(persenGenCwoGei < persenCwoGei) {
                            const randomTextCwoGei = [`_Kamu di tawarin ngegei oleh client kamu_`, `_Kamu diajak ngegei oleh client kamu_`]
                            const TextButtonCwoTerGei = randomTextCwoGei[Math.floor(Math.random() * randomTextCwoGei.length)]
                            const buttonIdSendCwoTerGei = [{ id: `${prefix}w ${sender} bo acc gei ${gajiAddOpenBO} ${biayaTaxiWork}`, text: `Terima`}, { id: `${prefix}w ${sender} bo dec gei ${gajiAddOpenBO} ${biayaTaxiWork}`, text: `Tolak`}]
                            await _mongo_UserSchema.updateOne({ iId: sender }, { $set: { "economy.worklimit": 0 } })
                            return rem.sendButtons(from, TextButtonCwoTerGei, shuffleArray(buttonIdSendCwoTerGei), '', '>///<')
                        } else {
                            if (randomGagalJob < persenPecatOpenBO) { 
                                const randomeuwegagal = [`Kamu di palak, dan di paksa ngegei dengan 9 orang sekaligus\n\nKamu Kehilangan\nUang: Rp. ${numberWithCommas(HasilUangHilang)}`, `Kamu ditangkep polisi dan membayar denda sebesar\nUang: Rp. ${numberWithCommas(HasilUangHilang)}`, `Kamu diculik dan di paksa ngegei oleh 5 Om2\nUang Hilang: Rp. ${numberWithCommas(HasilUangHilang)}`]
                                const persenRandomEuweGagal = randomeuwegagal[Math.floor(Math.random() * randomeuwegagal.length)]
                                await addMoney(sender, HasilUangHilang, _userDb)
                                await _mongo_UserSchema.updateOne({ iId: sender }, { $set: { "economy.job.job": "Pengangguran", "economy.job.xpjob": 0, "economy.job.lvljob": 1, "economy.job.multi": 1 } })
                                reply(from, persenRandomEuweGagal, id)
                            } else {
                                var amountXpJob = Math.floor(500)
                                await kerjajob.addJobXp(_userDb, sender, amountXpJob)
                                await addMoney(sender, moneyadd, _userDb)
                                await addMoney_haram(sender, moneyadd)
                                const randomeuwean = [`_Saat kamu c*li di kamar, KK Perempuan kamu datang dan meng euwe kamu, Setelah itu Kamu dibayar oleh KK perempuan mu_\nUang: Rp. ${numberWithCommas(fixNumberE(moneyadd))}`, `_Pacar kamu menyewa jasa Open Bo mu, Dan mendapat_\nUang: Rp. ${numberWithCommas(fixNumberE(moneyadd))}\nBiaya Taxi : Rp. ${numberWithCommas(fixNumberE(biayaTaxiWork))}\n\n_Total gaji sudah dipotong/dikurangi dengan biaya taxi_`, `_Adek kamu mengeue kamu dikamar mandi dan mendapatkan uang tutup mulut sebesar Rp. ${numberWithCommas(fixNumberE(moneyadd))}_`, `_Kamu ke bar dan menyewa dua cewek cantik di sana untuk menemani mu minum setelah kamu minum dan mabuk kamu remas TT kedua wanita itu dan kamu diajak wanita itu ke sebuah hotel terdekat dan langsung menyewa kamar di sana dan di sana lah kamu meng eue kedua wanita itu dan kamu pun kasi dia uang Rp. ${numberWithCommas(fixNumberE(moneyadd))} untuk ongkos open Bo bersama mu tadi malam_`, `_kakak mu ke kemar mu untuk meewe kamu dan kemudian kamu sadar ke datangan nya dan dia lasung masukkan memek nya ke kontol mu dan setelah dia mengewe kamu dia kasi uang Rp. ${numberWithCommas(fixNumberE(moneyadd))} untuk tutup mulutmu_`]
                                const persenRandomEuwe = randomeuwean[Math.floor(Math.random() * randomeuwean.length)]
                                reply(from, persenRandomEuwe, id)
                            }
                        }
                    } else {
                        if (randomGagalJob < persenPecatOpenBO) { 
                            const randomeuwegagal = [`Kamu di palak, dan di GangBang 9 orang sekaligus\n\nKamu Kehilangan\nUang: Rp. ${numberWithCommas(HasilUangHilang)}`, `Kamu ditangkep polisi dan membayar denda sebesar\nUang: Rp. ${numberWithCommas(HasilUangHilang)}`, `Kamu diculik dan diganbang oleh 5 Om2 di depan pacar kamu\nUang Hilang: Rp. ${numberWithCommas(HasilUangHilang)}`, `Lu: Bang aku dieuwe trus duit ku hilang\nKK lu: Y udh sabar y, ntar KK kasih hadiah\n\nMEANWHILE. tengah malem\nTau lah ( Õ°¬∞ Õú ñ Õ°¬∞)`, `_Kamu ditipu oleh penjual minuman lalu kamu meminum minuman penjual tersebut lalu berkata "ini bukan aqua ini arak" lalu kamu pun mabuk dan dieue 12 orang sekaligus_\nUang Hilang: Rp. ${numberWithCommas(HasilUangHilang)}`]
                            const persenRandomEuweGagal = randomeuwegagal[Math.floor(Math.random() * randomeuwegagal.length)]
                            await addMoney(sender, HasilUangHilang, _userDb)
                            await _mongo_UserSchema.updateOne({ iId: sender }, { $set: { "economy.job.job": "Pengangguran", "economy.job.xpjob": 0, "economy.job.lvljob": 1, "economy.job.multi": 1 } })
                            reply(from, persenRandomEuweGagal, id)
                        } else {
                            var amountXpJob = Math.floor(500)
                            await kerjajob.addJobXp(_userDb, sender, amountXpJob)
                            await addMoney(sender, moneyadd, _userDb)
                            await addMoney_haram(sender, moneyadd)
                            const randomeuwean = [`Setelah kamu OPEN BO dan dieuwe om-om, Kamu mendapat Rp. ${numberWithCommas(fixNumberE(moneyadd))}\nBiaya Taxi : Rp. ${numberWithCommas(fixNumberE(biayaTaxiWork))}\n\n_Total gaji sudah dipotong/dikurangi dengan biaya taxi_`, `Saat kamu c*li di kamar, KK Perempuan kamu datang dan meng euwe kamu, Setelah itu Kamu dibayar oleh KK perempuan mu\nUang: Rp. ${numberWithCommas(fixNumberE(moneyadd))}`, `Pacar kamu menyewa jasa Open Bo mu, Dan mendapat\nUang: Rp. ${numberWithCommas(fixNumberE(moneyadd))}\nBiaya Taxi : Rp. ${numberWithCommas(fixNumberE(biayaTaxiWork))}\n\n_Total gaji sudah dipotong/dikurangi dengan biaya taxi_`, `Adek kamu meng euwe kamu saat tidur, Dan mendapat Rp. ${numberWithCommas(fixNumberE(moneyadd))} Sebagai uang tutup mulut`, `Anda open Bo ama mama anda sendiri dan mendapatkan jatah uang senilai Rp. ${numberWithCommas(fixNumberE(moneyadd))}`, `Adek kamu mengeue kamu dikamar mandi dan mendapatkan uang tutup mulut sebesar Rp. ${numberWithCommas(fixNumberE(moneyadd))}`]
                            const persenRandomEuwe = randomeuwean[Math.floor(Math.random() * randomeuwean.length)]
                            reply(from, persenRandomEuwe, id)
                        }
                    }
                } else if(kerjajob.getUserJob(_userDb) == 'Kantoran') {
    
                    if(getUserRumahWork0 == undefined) {
                        var biayaTaxiWork = Math.floor(4000)
                    } else if(getUserRumahWork.lahan == 'd1') {
                        var biayaTaxiWork = Math.floor(500)
                    } else if(getUserRumahWork.lahan == 'd2') {
                        var biayaTaxiWork = Math.floor(1000)
                    } else if(getUserRumahWork.lahan == 'd3') {
                        var biayaTaxiWork = Math.floor(2500)
                    } else if(getUserRumahWork.lahan == 'd4') {
                        var biayaTaxiWork = Math.floor(3000)
                    }
    
                    const moneyadd = Math.floor(9000 * kerjajob.getMulti(_userDb) - biayaTaxiWork)
    
                    if (randomGagalJob < 5) {
                        await addMoney(sender, HasilUangHilang, _userDb)
                        await _mongo_UserSchema.updateOne({ iId: sender }, { $set: { "economy.job.job": "Pengangguran", "economy.job.xpjob": 0, "economy.job.lvljob": 1, "economy.job.multi": 1 } })
                        reply(from, 'Kamu salah menghitung data, dan menyebabkan kerugian besar, dan kamu pun di PECAT', id)
                    } else {
                        var amountXpJob = Math.floor(500)
                        await kerjajob.addJobXp(_userDb, sender, amountXpJob)
                        await addMoney(sender, moneyadd, _userDb)
                        reply(from, `Kamu selesai mengkomding, Dan mendapat Rp. ${numberWithCommas(fixNumberE(moneyadd))}\nBiaya Taxi : Rp. ${numberWithCommas(fixNumberE(biayaTaxiWork))}\n\n_Total gaji sudah dipotong/dikurangi dengan biaya taxi_`, id)
                    }
                } else {
                    return reply(from, `ERR! Invalid job\nSilahkan memilih pekerjaan terlebih dahulu di *_${prefix}job_*`)
                }
            }
            break
        case prefix+'ww':
            // if(from == '120363021660813196@g.us') return reply(from, 'Akan dibuka beta test pada group ini pada jam 18.00!')
            // if(from != '120363021660813196@g.us' || !isGroupMsg) return reply(from, 'Fitur ini sedang dalam pembuatan')
            if(from != '6281358181668-1621640771@g.us' && from != '120363159869866611@g.us') return reply(from, 'Fitur ini sedang dalam Beta Test!')

            const bodySplitWW = message?.selectedRowId?.split(' ') || message?.selectedButtonId?.split(' ')

            let getWWGame = bodySplitWW == undefined || bodySplitWW?.[1] == 'create' ? getWW_game(groupId) : getWW_game(JSON.parse(bodySplitWW[2]).id)
            const dbArrayWWGame = global.ww
            let wwPlaydb = getWWGame != undefined ? dbArrayWWGame[getWWGame] : {}

            if(bodySplitWW == undefined) {
                const textSendWWPlay = `*WEREWOLF*

Game nya kayak Amogus, fitnah2 an, cuman werewolf ada role2 yang didapat oleh beberapa pemain saat maen

Trus gamenya ada malam hari dan juga siang hari
di malam hari, semua pada melakukan aksinya, dan di pagi hari waktunya diskusi

Untuk Aksi Khusus di malam hari, diberi waktu *1 menit*
Untuk sesi diskusi, diberi waktu *2 menit*

Diantaranya Role2 ww:

*_(Tim Baik)_*

- *Warga (Baik):* Ga ngapa2 in, jadi NPC udah, ikut mengompori juga gpp ;v

- *Pemburu (Baik):* Mempunyai tembak üî´, Jika kena voting, maka akan diberi pilihan untuk membunuh siapa
Jika benar, akan selamat, dan Jika salah akan mati

- *Penerawang (Baik):* Melihat role orang lain

- *Penjaga (Baik):* Ngejaga orang yang dipilih, 
Agar tidak mati saat di serang Serigala
Jika yang di jaga adalah serigala, si Penjaga akan mati

- *Penyihir (Baik):* Untuk menyelamatkan Orang yang di serang Serigala

- *Penculik (Netral):* Bisa menculik role orang lain, hanya 1x
Hanya bisa dipakai ketika sudah mencapai 2 round/lebih
Yang role nya dicuri, akan menebak siapa yang nyulik
Kalau benar, yang nyulik akan mati, dan role mu aman
Jika salah, kamu akan mati, dan role mu diambil

*_(Tim Jahat)_*

- *Serigala (Jahat):* Yang ngebunuh (Impostor)
`

                if(getWWGame != undefined) {
                    const sendButtonsListWW = [{
                        title: 'Action ww',
                        rows: [{
                            title: 'Start (Room Master)',
                            description: 'Memulai game',
                            rowId: `${prefix}wwplay ${JSON.stringify({ i: wwPlaydb.id })}`
                        },
                        {
                            title: 'Join',
                            description: 'Masuk kedalam game',
                            rowId: `${prefix}ww join ${JSON.stringify({ id: wwPlaydb.id , groupId: wwPlaydb.groupId})}`
                        },
                        {
                            title: 'Leave',
                            description: 'Keluar dari game',
                            rowId: `${prefix}ww leave ${JSON.stringify({ id: wwPlaydb.id, groupId: wwPlaydb.groupId })}`
                        }]
                    }]
                    await rem.sendList(from, textSendWWPlay, sendButtonsListWW, '', '@dwirizqi.h')
                } else {
                    await rem.sendButtons(from, textSendWWPlay, [{ id: `${prefix}ww create`, text: 'Create Game' }], '', '@dwirizqi.h')
                }
            } else if(bodySplitWW[1] == 'create') {
                if(getWWGame != undefined) return rem.sendTextWithMentions(from, `Masih ada yang bermain di group ini, @${dbArrayWWGame[getWWGame].roomMaster.replace('@s.whatsapp.net', '')}`, message)

                const idWWPlay = GenerateSerialNumber('0000')
                await setWW_game(idWWPlay, groupId, sender, virtualBotID || 'CORE')

                const sendButtonsListWW = [{
                    title: 'Action ww',
                    rows: [{
                        title: 'Start (Room Master)',
                        description: 'Memulai game',
                        rowId: `${prefix}wwplay ${JSON.stringify({ i: wwPlaydb.id })}`
                    },
                    {
                        title: 'Join',
                        description: 'Masuk kedalam game',
                        rowId: `${prefix}ww join ${JSON.stringify({ id: idWWPlay, groupId: groupId})}`
                    },
                    {
                        title: 'Leave',
                        description: 'Keluar dari game',
                        rowId: `${prefix}ww leave ${JSON.stringify({ id: idWWPlay, groupId: groupId})}`
                    }]
                }]

                await rem.sendList(from, `Game sudah dibuat, membutuhkan 11 pemain untuk memulai\n\nJika sudah 11 pemain terkumpul, suruh @${sender.replace('@s.whatsapp.net', '')} untuk memulainya (Tombol ada di paling atas)`, sendButtonsListWW, '', '@dwirizqi.h', {}, { mentions: [sender] })
            } else if(bodySplitWW[1] == 'join') {
                if(getWWGame == undefined) return reply(from, 'Tidak ada game yang di start di group ini!')
                if(wwPlaydb.status != 'waiting') return reply(from, 'Game sudah dimulai! silahkan tunggu game selanjutnya!')
                console.log(wwPlaydb.player.findIndex(all => all.number == sender), sender)
                if(wwPlaydb.player.findIndex(all => all.number == sender) != -1) return reply(from, 'Kamu sudah masuk ke game!')
                if(wwPlaydb.player.length >= 20) return reply(from, `Jumlah player sudah maksimal!, Untuk start game suruh @${wwPlaydb.roomMaster.replace('@s.whatsapp.net', '')} memencet tombol Start`, {}, { mentions: [wwPlaydbPlay.roomMaster] })
                if(dbArrayWWGame.map(all => all.player).map(all1 => all1.map(all2 => all2.number)).join().includes(sender)) return reply(from, 'Kamu sudah masuk ke game di group lain!')

                await addWWPlayer_game(wwPlaydb.id, sender, undefined)
                wwPlaydb = global.ww[getWW_game(JSON.parse(bodySplitWW[2]).id)]

                const sendButtonsListWW = [{
                    title: 'Action ww',
                    rows: [{
                        title: 'Start (Room Master)',
                        description: 'Memulai game',
                        rowId: `${prefix}wwplay ${JSON.stringify({ i: wwPlaydb.id })}`
                    },
                    {
                        title: 'Join',
                        description: 'Masuk kedalam game',
                        rowId: `${prefix}ww join ${JSON.stringify({ id: wwPlaydb.id , groupId: wwPlaydb.groupId})}`
                    },
                    {
                        title: 'Leave',
                        description: 'Keluar dari game',
                        rowId: `${prefix}ww leave ${JSON.stringify({ id: wwPlaydb.id, groupId: wwPlaydb.groupId })}`
                    }]
                }]
                await rem.sendList(from, `Success masuk ke game!\n\nTotal: ${wwPlaydb.player.length}/12\nPlayer:\n‚óè @${wwPlaydb.player.map(all => all.number).join('\n‚óè @').replace(/@s.whatsapp.net/g, '')}\n\nSyarat untuk memulai adalah 12 player\nJika sudah 12, suruh Room Master start game`, sendButtonsListWW, '', '@dwirizqi.h', {}, { mentions: wwPlaydb.player.map(all => all.number) })
            } else if(bodySplitWW[1] == 'leave') {
                if(getWWGame == undefined) return reply(from, 'Tidak ada game yang di start di group ini!')
                if(wwPlaydb.player.findIndex(all => all.number == sender) == -1) return reply(from, 'Kamu tidak masuk ke game!')

                await removeWWPlayer_game(wwPlaydb.id, sender, undefined)
                wwPlaydb = global.ww[getWW_game(JSON.parse(bodySplitWW[2]).id)]
                
                const sendButtonsListWW = [{
                    title: 'Action ww',
                    rows: [{
                        title: 'Start (Room Master)',
                        description: 'Memulai game',
                        rowId: `${prefix}wwplay ${JSON.stringify({ i: wwPlaydb.id })}`
                    },
                    {
                        title: 'Join',
                        description: 'Masuk kedalam game',
                        rowId: `${prefix}ww join ${JSON.stringify({ id: wwPlaydb.id , groupId: wwPlaydb.groupId})}`
                    },
                    {
                        title: 'Leave',
                        description: 'Keluar dari game',
                        rowId: `${prefix}ww leave ${JSON.stringify({ id: wwPlaydb.id, groupId: wwPlaydb.groupId })}`
                    }]
                }]
                await rem.sendList(from, `Success keluar dari game!\n\nTotal: ${wwPlaydb.player.length}/12\nPlayer:\n‚óè @${wwPlaydb.player.map(all => all.number).join('\n‚óè @').replace(/@s.whatsapp.net/g, '')}\n\nSyarat untuk memulai adalah 12 player\nJika sudah 12, suruh Room Master start game`, sendButtonsListWW, '', '@dwirizqi.h', {}, { mentions: wwPlaydb.player.map(all => all.number) })
            }
            break
        case prefix+'wwplay':
            // if((message?.selectedRowId != undefined && message?.selectedButtonId == undefined) || (message?.selectedRowId == undefined && message?.selectedButtonId = undefined)) return reply(from, 'Invalid!')
            const bodySplitWWPlay = message?.selectedRowId?.split(' ') || message?.selectedButtonId?.split(' ')
            if(bodySplitWWPlay == undefined) return reply(from, 'Invalid_message!')
            const dataPlayMessage = JSON.parse(bodySplitWWPlay[1])

            let getWWGamePlay = getWW_game(dataPlayMessage.i)
            if(getWWGamePlay == undefined) return reply(from, 'Tidak ada game yang di start di group ini!')

            const dbArrayWWGamePlay = global.ww
            let wwPlaydbPlay = dbArrayWWGamePlay[getWWGamePlay]

            console.log((dataPlayMessage.r != undefined && dataPlayMessage.r != wwPlaydbPlay.round))
            console.log(dataPlayMessage.r)
            if((dataPlayMessage.r != undefined && dataPlayMessage.r != wwPlaydbPlay.round) || dataPlayMessage.isAfterAct) return reply(from, 'Invalid_round!')
            const playerFind = wwPlaydbPlay.player.findIndex(all => all.number == sender)
            if(bodySplitWWPlay[2] == 'kill') {
                if(wwPlaydbPlay.player[playerFind].role == 'wolf') {
                    if(wwPlaydbPlay.player[playerFind].act == true) return reply(from, 'Kamu sudah menggunakan aksi!')

                    global.ww[getWWGamePlay].player[playerFind].act = true
                    global.ww[getWWGamePlay].player[playerFind].options = { isKill: true, kill: dataPlayMessage.t }
    
                    reply(from, `Kamu memilih untuk membunuh wa.me/${dataPlayMessage.t.replace('@s.whatsapp.net', '')}`)
                } else if(wwPlaydbPlay.player[playerFind].role == 'pemburu') {
                    if(dataPlayMessage.isPemburu) {
                        if(wwPlaydbPlay.player[playerFind].act == true) return reply(from, 'Kamu sudah menggunakan aksi!')

                        const searchPlayer = wwPlaydbPlay.player.findIndex(all => all.number == dataPlayMessage.t)
                        const isCorrectPemburu = searchPlayer == -1 ? false : wwPlaydbPlay.player[searchPlayer].role == 'wolf' ? true : false

                        global.ww[getWWGamePlay].player[playerFind].act = true

                        if(isCorrectPemburu) {
                            global.ww[getWWGamePlay].player[searchPlayer].status = 'death'

                            rem.sendTextWithMentions(wwPlaydbPlay.groupId, `@${dataPlayMessage.t.replace('@s.whatsapp.net', '')}\n\n*Player tersebut telah mati!*\nDan @${sender} telah dinyatakan tidak bersalah!`)
                            rem.sendText(from, `Kamu berhasil menebak dengan benar, Dengan ini kamu telah bebas!`)
                            rem.sendText(dataPlayMessage.t, `*Kamu telah mati!*\nKarena ditebak oleh pemburu`)
                        } else {
                            global.ww[getWWGamePlay].player[playerFind].status = 'death'
                            global.ww[getWWGamePlay].player[searchPlayer].status = 'death'

                            rem.sendTextWithMentions(wwPlaydbPlay.groupId, `@${sender.replace('@s.whatsapp.net', '')}\n*Player tersebut telah dihukum mati!*\n*Role: _${wwPlaydbPlay.player[playerFind].role}_*\n\n@${dataPlayMessage.t.replace('@s.whatsapp.net', '')} *Player tersebut telah mati karena ditembak pemburu!*\n*Role: _${global.ww[getWWGamePlay].player[searchPlayer].role}_*`)
                            rem.sendText(from, `Tebakanmu salah, kamu membunuh orang yang tidak bersalah!\nKamu telah mati!`)
                            rem.sendText(dataPlayMessage.t, `*Kamu telah mati!*\nKarena dituduh oleh pemburu!`)
                        }
                    }
                }
            } else if(bodySplitWWPlay[2] == 'inspect') {
                if(wwPlaydbPlay.player[playerFind].role != 'penerawang') return reply(from, 'Invalid_role!')
                if(wwPlaydbPlay.player[playerFind].act == true) return reply(from, 'Kamu sudah menggunakan aksi!')

                global.ww[getWWGamePlay].player[playerFind].act = true
                wwPlaydbPlay.player[playerFind].options.listInspect == undefined ? global.ww[getWWGamePlay].player[playerFind].options.listInspect = [dataPlayMessage.t] : global.ww[getWWGamePlay].player[playerFind].options.listInspect.push(dataPlayMessage.t)

                const playerTargetInspect = wwPlaydbPlay.player.find(all => all.number == dataPlayMessage.t)
                reply(from, `Kamu memeriksa _wa.me/${dataPlayMessage.t.replace('@s.whatsapp.net', '')}_\nDan hasilnya adalah : *${playerTargetInspect.role}*`)
            } else if(bodySplitWWPlay[2] == 'protect') {
                if(wwPlaydbPlay.player[playerFind].role != 'penjaga') return reply(from, 'Invalid_role!')
                if(wwPlaydbPlay.player[playerFind].act == true) return reply(from, 'Kamu sudah menggunakan aksi!')

                const searchPlayer = wwPlaydbPlay.player.findIndex(all => all.number == dataPlayMessage.t)

                global.ww[getWWGamePlay].player[playerFind].act = true
                global.ww[getWWGamePlay].player[playerFind].options.protect = dataPlayMessage.t
                global.ww[getWWGamePlay].player[searchPlayer].options.protected = true
                wwPlaydbPlay.player[playerFind].options.listProtect == undefined ? global.ww[getWWGamePlay].player[playerFind].options.listProtect = [dataPlayMessage.t] : global.ww[getWWGamePlay].player[playerFind].options.listProtect.push(dataPlayMessage.t)

                reply(from, `Kamu memilih untuk melindungi wa.me/${dataPlayMessage.t.replace('@s.whatsapp.net', '')}`)
            } else if(bodySplitWWPlay[2] == 'steal') {
                if(wwPlaydbPlay.player[playerFind].role != 'penculik') return reply(from, 'Invalid_role!')
                if(wwPlaydbPlay.round < 2) return reply(from, 'Invalid_round_not_enough!')
                if(wwPlaydbPlay.player[playerFind].act == true || wwPlaydbPlay.player[playerFind].options.isStealed) return reply(from, 'Kamu sudah menggunakan aksi!')

                global.ww[getWWGamePlay].player[playerFind].act = true
                global.ww[getWWGamePlay].player[playerFind].options.stealFrom = dataPlayMessage.t

                reply(from, `Kamu Berusaha untuk mencuri role wa.me/${dataPlayMessage.t.replace('@s.whatsapp.net', '')} ...`)
                const getPlayerName = wwPlaydbPlay.player.map(async ({ number }) => ({ title: `Tebak ${await rem.contacts(number, _botDb)}`, description: `Menebak ${number.replace('@s.whatsapp.net', '')}`, rowId: `${prefix}wwplay {"id":"${wwPlaydbPlay.id}","groupId":"${wwPlaydbPlay.groupId}","target":"${number}"} guessStealer` }))
                const sections = [{ title: "Pilih Player Untuk Ditebak", rows: getPlayerName }]
                await rem.sendList(from, "Role kamu telah diculik!\nSilahkan tebak penculik untuk mengamankan role mu\n*Jika salah*, role mu akan hilang dan kamu akan mati\n*Jika benar*, role mu aman, dan penculik akan mati\n\nKamu mempunyai waktu 15Detik", sections, 'Kamu Telah Diculik', '@dwirizqi.h')

                await sleep(15000)

                if(!global.ww[getWWGamePlay].player[playerFind].options.isStealed) {
                    const playerStealed = wwPlaydbPlay.player.findIndex(all => all.number == dataPlayMessage.t)

                    global.ww[getWWGamePlay].player[playerStealed].status = 'death'
                    global.ww[getWWGamePlay].player[playerStealed].act = true
                    global.ww[getWWGamePlay].player[playerFind].role = wwPlaydbPlay.player[playerStealed].role
                    global.ww[getWWGamePlay].player[playerFind].options.isStealed = true

                    rem.sendTextWithMentions(wwPlaydbPlay.groupId, `@${sender.replace('@s.whatsapp.net', '')}\nTelah diculik\n*Player tersebut telah mati!*`)
                    rem.sendText(from, `Kamu salah menebak\nRole mu telah diambil dan kamu telah mati!`)
                    rem.sendText(dataPlayMessage.t, `Kamu berhasil mengambil role *${wwPlaydbPlay.player[playerStealed].role}!*`)
                }

            } else if(bodySplitWWPlay[2] == 'guessStealer') {
                if(wwPlaydbPlay.player[playerFind].act == true) return reply(from, 'Kamu sudah menggunakan aksi!')

                const searchPlayer = wwPlaydbPlay.player.findIndex(all => all.options.stealFrom == sender)
                const isCorrectStealer = searchPlayer == -1 ? false : wwPlaydbPlay.player[searchPlayer].number == dataPlayMessage.t ? true : false

                if(isCorrectStealer) {
                    global.ww[getWWGamePlay].player[searchPlayer].status = 'death'
                    global.ww[getWWGamePlay].player[searchPlayer].options.isStealed = true

                    rem.sendTextWithMentions(wwPlaydbPlay.groupId, `@${dataPlayMessage.t.replace('@s.whatsapp.net', '')}\nBerusaha menculik role dan gagal\n*Player tersebut telah mati!*`)
                    rem.sendText(from, `Kamu berhasil mengamankan role mu!\n*Penculik telah mati*`)
                    rem.sendText(dataPlayMessage.t, `*Kamu telah mati!*\nKarena Player yang diculik telah menebakmu`)
                } else {
                    global.ww[getWWGamePlay].player[playerFind].status = 'death'
                    global.ww[getWWGamePlay].player[playerFind].act = true
                    global.ww[getWWGamePlay].player[searchPlayer].role = wwPlaydbPlay.player[playerFind].role
                    global.ww[getWWGamePlay].player[searchPlayer].options.isStealed = true

                    rem.sendTextWithMentions(wwPlaydbPlay.groupId, `@${sender.replace('@s.whatsapp.net', '')}\nTelah diculik\n*Player tersebut telah mati!*`)
                    rem.sendText(from, `Kamu salah menebak\nRole mu telah diambil dan kamu telah mati!`)
                    rem.sendText(dataPlayMessage.t, `Kamu berhasil mengambil role *${wwPlaydbPlay.player[playerFind].role}!*`)
                }
            } else if(bodySplitWWPlay[2] == 'help') {
                if(wwPlaydbPlay.player[playerFind].role != 'penyihir') return reply(from, 'Invalid_role!')
                if(wwPlaydbPlay.player[playerFind].act == true) return reply(from, 'Kamu sudah menggunakan aksi!')

                const searchPlayer = wwPlaydbPlay.player.findIndex(all => all.number == dataPlayMessage.t)
                global.ww[getWWGamePlay].player[playerFind].act = true
                if(wwPlaydbPlay.player[searchPlayer].role == 'wolf') {
                    global.ww[getWWGamePlay].player[playerFind].status = 'death'

                    rem.sendTextWithMentions(wwPlaydbPlay.groupId, `@${sender.replace('@s.whatsapp.net', '')}\nTelah salah menolong orang, *Player telah mati!*`)
                    rem.sendText(from, `Kamu telah menolong seorang wolf, *Kamu mati!*`)
                    rem.sendText(dataPlayMessage.t, `Kamu berhasil selamat, Karena telah membunuh penyihir!`)
                } else {
                    const randomSuccess = Math.floor(Math.random() * 100)
                    if(randomSuccess > 70) {
                        global.ww[getWWGamePlay].player[searchPlayer].status = 'alive'

                        rem.sendTextWithMentions(wwPlaydbPlay.groupId, `Penyihir berhasil menolong @${dataPlayMessage.t.replace('@s.whatsapp.net', '')}\n*Player tersebut telah selamat!*`)
                        rem.sendText(from, `Kamu berhasil menyelamatkan player tersebut!`)
                        rem.sendText(dataPlayMessage.t, `Kamu berhasil selamat, Karena ditolong oleh penyihir`)
                    } else {
                        global.ww[getWWGamePlay].player[searchPlayer].status = 'death'

                        rem.sendTextWithMentions(wwPlaydbPlay.groupId, `Penyihir gagal menolong @${dataPlayMessage.t.replace('@s.whatsapp.net', '')}\n*Player tersebut telah mati!*`)
                        rem.sendText(from, `Kamu gagal menyelamatkan player tersebut!`)
                        rem.sendText(dataPlayMessage.t, `Kamu telah mati, Karena tidak ditolong oleh penyihir`)
                    }
                }
            } else if(bodySplitWWPlay[2] == 'vote') {
                if(playerFind == -1) return reply(from, 'Invalid_player_not_found!')
                if(wwPlaydbPlay.player[playerFind].status == 'death') return reply(from, 'Kamu sudah mati!')
                if(wwPlaydbPlay.player[playerFind].isAfterVote == true) return reply(from, 'Sesi vote telah berakhir!')
                if(wwPlaydbPlay.player[playerFind].act == true) return reply(from, 'Kamu sudah meng vote!')

                global.ww[getWWGamePlay].player[playerFind].act = true
                if(dataPlayMessage.t == 'skip') return rem.sendText(from, 'Kamu berhasil mengvote!')

                let findRoundVote = wwPlaydbPlay.listVote.findIndex(all => all.round == wwPlaydbPlay.round)
                if(findRoundVote == -1) {
                    global.ww[getWWGamePlay].listVote.push({ round: wwPlaydbPlay.round, vote: [dataPlayMessage.t] })
                    findRoundVote = wwPlaydbPlay.listVote.findIndex(all => all.round == wwPlaydbPlay.round)
                } else {
                    global.ww[getWWGamePlay].listVote[findRoundVote].vote.push(dataPlayMessage.t)
                }

                rem.sendText(from, 'Kamu berhasil mengvote!')
            } else {
                if(wwPlaydbPlay.roomMaster != sender) return reply(from, `Game Harus di Start oleh Room Master! @${wwPlaydbPlay.roomMaster.replace('@s.whatsapp.net', '')}`, {}, { mentions: [wwPlaydbPlay.roomMaster] })
                if(wwPlaydbPlay.player.length <= 6) return reply(from, `Jumlah player Tidak Mencukupi!\nMinimal adalah 7`)
                if(wwPlaydbPlay.status.startsWith('playing')) return reply(from, `Game Sudah di Start!`)

                global.ww[getWWGamePlay].isStop = false

                stateWWGame_starting(wwPlaydbPlay.id, rem, isVirtualBot, virtualBotID)
            }
            break
        case prefix+'clearww':
            if(!isOwner) return

            const pos = global.ww.findIndex(all => all.groupId == groupId)
            console.log(pos)
            
            global.ww[pos].round = 0
            global.ww[pos].status = 'waiting'
            global.ww[pos].isStop = true
            
            for(let i = 0; i < global.ww[pos].player.length; i++) {
                global.ww[pos].player[i].status = 'alive'
                global.ww[pos].player[i].act = false
                global.ww[pos].player[i].options = {}
                delete global.ww[pos].player[i].role;
            }

            reply(from, 'Success')
            break
        // Truth or Dare (TOD) commands
        case prefix+'tod':
            if(from != '120363420815448807@g.us' && from != '120363159869866611@g.us') return reply('invalid')
            
            const todRules = `*üéÆ TRUTH OR DARE üéÆ*\n
_*Rules pada Game Truth or Dare (TOD)*_

1. Mengumpulkan Pemain: Permainan dimulai dengan sekelompok orang. Kelompok yang terdiri dari 3-8 player.

2. Membuat Permainan: Salah satu pemain harus Create host/room untuk permainan Truth or Dare, lalu sisa player lainnya Join ke dalam room nya.

3. Memulai Permainan: Setelah membuat permainan host room akan memulai permainan Truth or Dare nya.

4. Memilih Kebenaran atau Tantangan: Pada gilirannya, pemain memilih antara menjawab pertanyaan ‚Äúkebenaran‚Äù atau melakukan ‚Äútantangan‚Äù. Jika mereka memilih ‚Äúkebenaran‚Äù, mereka harus menjawab pertanyaan apa pun yang diajukan dengan jujur. Jika mereka memilih ‚Äútantangan,‚Äù mereka harus menyelesaikan tugas atau tantangan yang diberikan.

5. Sangat penting untuk menetapkan apa yang tidak boleh dilakukan.

6. Menghormati Keputusan: Para pemain harus merasa nyaman dan aman. Mereka memiliki hak untuk melewatkan giliran atau keluar dari permainan jika merasa tidak nyaman.

7. Menjaganya Tetap Menyenangkan: Tujuan dari permainan ini adalah untuk bersenang-senang dan menikmati ikatan persahabatan. Pertanyaan dan tantangan tidak boleh digunakan untuk mempermalukan atau menyakiti siapa pun.

8. Konsekuensi: Beberapa versi permainan memiliki konsekuensi bagi pemain yang menolak untuk menjawab kebenaran atau menyelesaikan tantangan. Konsekuensi ini harus disepakati oleh semua pemain sebelum permainan dimulai.

9. Mengakhiri Permainan: Permainan akan terus berlanjut hingga pemain memutuskan untuk berhenti atau ketika semua orang telah mendapatkan giliran yang cukup.


_*Cara bermain game Truth or Dare (TOD)*_

1. Pemain akan di pilih oleh bot secara acak untuk memilih antara Truth atau Dare.

2. Jika pemain memilih Truth, bot akan memberikan pertanyaan yang harus dijawab dengan jujur oleh pemain tersebut.

3. Jika pemain memilih Dare, bot akan memberikan tantangan yang harus diselesaikan oleh pemain tersebut.

4. Setelah pemain menyelesaikan tantangan atau menjawab pertanyaan, giliran akan berpindah ke pemain berikutnya.

5. Permainan akan berlanjut hingga semua pemain mendapatkan giliran atau permainan dihentikan oleh host.

6. Jika ada pemain yang tidak mau menjawab pertanyaan atau menyelesaikan tantangan, mereka dapat memilih untuk keluar dari permainan atau mendapatkan konsekuensi yang telah disepakati sebelumnya.

7. Permainan ini bertujuan untuk bersenang-senang dan mempererat hubungan antar pemain, jadi pastikan untuk menjaga suasana tetap positif dan menyenangkan.


_*Reply pesan di bawah ini untuk membuat room Truth or Dare (TOD)*_`

            const buttonTod = [
                { id: `${prefix}tod create`, text: 'Create Game' },
                { id: `${prefix}tod join`, text: 'Join Game' },
                { id: `${prefix}tod leave`, text: 'Leave Game' },
                { id: `${prefix}tod start`, text: 'Start Game' }
            ]

            if(!message.selectedButtonId) rem.sendButtons(from, todRules, buttonTod, '', '', { quoted: message })
        try {
            const todSubcmd = args[1]?.toLowerCase()
            if (todSubcmd === 'create') {
                // Check if group
                if(!isGroupMsg) return reply(from, 'Perintah ini hanya bisa digunakan dalam grup!', id)
            
                // Check if game already exists in this group
                // const existingGameIndex = Object.values(global.todGames || {})
                //                             .findIndex(game => game.from === from)
                const existingGameIndex0 = await _mongo_CommandSchema.findOne({ cId: 'tod', content: { $elemMatch: { from: from } } }, { content: { $elemMatch: { from: from } } } )
                const existingGameIndex = existingGameIndex0?.content[0]
                if (existingGameIndex) return reply(from, 'Game Truth or Dare sudah ada di grup ini!', id)
                // const listPlayer = existingGameIndex?.players.map(player => player.split('@')[0]).join('\n‚óè @')
            
                // Create new game
                const gameId = 'tod_' + Math.random().toString(36).substring(2, 10)
                await _mongo_CommandSchema.updateOne({ cId: 'tod' }, { $push: { content: {
                    id: gameId,
                    host: sender,
                    players: [sender],
                    status: 'waiting',
                    from: from,
                    startTime: Date.now(),
                    lastActionTime: Date.now(),
                    remainingPlayers: []
                } } })
            
                // Send notification
                const buttons = [
                    { id: `${prefix}tod join`, text: 'Join Game' },
                    { id: `${prefix}tod start`, text: 'Start Game' },
                    { id: `${prefix}tod leave`, text: 'Leave Game' }
                ]

                await rem.sendButtons(from, ('*üéÆ TRUTH OR DARE üéÆ*\n\nGame baru telah dibuat oleh @' + sender.split('@')[0] + '\n\nKetik *' + prefix + 'tod join* untuk bergabung\nMinimal 3 orang untuk memulai permainan\nMaksimal 8 orang\nPilih pesan di bawah ini dengan cara mereply nya!'), buttons, '','', { quoted: message }, { mentions: [sender] })
                // await rem.sendText(from, `*Daftar Pemain:*\n\n‚óè @${listPlayer}\n\nKetik *${prefix}tod start* untuk memulai permainan`, { mentions: listPlayer })
            
            } else if (todSubcmd === 'join') {

                // Check if group
                if(!isGroupMsg) return reply(from, 'Perintah ini hanya bisa digunakan dalam grup!', id)
                

                // Find game in this group
                // const game = Object.values(global.todGames || {})
                //                .find(g => g.from === from && g.status === 'waiting')
                const game0 = await _mongo_CommandSchema.findOne({ cId: 'tod', content: { $elemMatch: { from: from } } }, { content: { $elemMatch: { from: from } } } )
                const game = game0?.content[0]
                // const listJoinPlayer = game?.players.map(player => player.split('@')[0]).join('\n‚óè @')
                // if game is not found
                if (!game) return reply(from, 'Tidak ada game Truth or Dare yang sedang menunggu dimulai di grup ini.', id)
                // Check if player is already in the game
                if (game.players.includes(sender)) return reply(from, 'Kamu sudah bergabung dalam game ini!', id)
                
                // Check player limit
                if (game.players.length >= 8) return reply(from, 'Jumlah pemain sudah maksimal (8 orang)!', id)
            
                // Add player to game
                await _mongo_CommandSchema.updateOne({ cId: 'tod', 'content.id': game.id }, { $addToSet: { 'content.$.players': sender } })
                game.players.push(sender)
            
                // Send notification
                await rem.sendText(from, '*üéÆ TRUTH OR DARE üéÆ*\n\n@' + sender.split('@')[0] + ' telah bergabung!\n\nJumlah pemain: ' + game.players.length + '/8\nMinimal 3 pemain untuk memulai permainan', { mentions: [sender] })
                // await rem.sendText(from, `*Daftar Pemain:*\n\n‚óè @${listJoinPlayer}\n\nKetik *${prefix}tod start* untuk memulai permainan`, { mentions: game.players })
            
            } else if (todSubcmd === 'leave') {
                // Check if group
                if (!isGroupMsg) return reply(from, 'Perintah ini hanya bisa digunakan dalam grup!', id)
            
                // Find game in this group
                // const gameKey = Object.keys(global.todGames || {})
                //                  .find(key => global.todGames[key].from === from && 
                //                               global.todGames[key].players.includes(sender))
                const gameKey0 = await _mongo_CommandSchema.findOne({ cId: 'tod', content: { $elemMatch: { from: from, players: sender } } }, { content: { $elemMatch: { from: from, players: sender } } } )
                const gameKey = gameKey0?.content[0]
                if (!gameKey) return reply(from, 'Kamu tidak berada dalam game Truth or Dare di grup ini.', id)
                // if game is not found
                if (!gameKey) return reply(from, 'Tidak ada game Truth or Dare yang sedang menunggu dimulai di grup ini.', id)
                // const listLeavePlayer = gameKey?.players.map(player => player.split('@')[0]).join('\n‚óè @')

                const game = gameKey
    
                // If player is host and game hasn't started
                if (game.host === sender && game.status === 'waiting') {
                    // End the game
                    await _mongo_CommandSchema.updateOne({ cId: 'tod' }, { $pull: { content: { id: game.id } } })
                    return reply(from, 'Game Truth or Dare telah dibatalkan karena host meninggalkan permainan.', id)
                }
                
                // await rem.sendText(from, `*Daftar Pemain:*\n\n‚óè @${listLeavePlayer}\n\nKetik *${prefix}tod start* untuk memulai permainan`, { mentions: game.players })

                // If game is ongoing and it's player's turn
                if (game.status === 'playing' && game.currentPlayer === sender) {
                    // Penalize player
                    await MinMoney(sender, 100000)
                
                    // Remove from game
                    // const playerIndex = game.players.indexOf(sender)
                    // if (playerIndex > -1) {
                    //     game.players.splice(playerIndex, 1)
                    // }

                    await _mongo_CommandSchema.updateOne({ cId: 'tod', 'content.id': game.id }, { $pull: { 'content.$.players': sender } })
                    await _mongo_CommandSchema.updateOne({ cId: 'tod', 'content.id': game.id }, { $pull: { 'content.$.remainingPlayers': sender } })
                
                    await rem.sendText(from, '*üéÆ TRUTH OR DARE üéÆ*\n\n@' + sender.split('@')[0] + ' telah meninggalkan permainan saat gilirannya!\nDenda: 100,000 üí∞', { mentions: [sender] })

                    // await rem.sendText(from, `*Daftar Pemain:*\n\n‚óè @${listLeavePlayer}\n\nKetik *${prefix}tod start* untuk memulai permainan`, { mentions: game.players })
                
                    // Continue game if enough players
                    if (game.players.length >= 3) {
                        continueTodGame(rem, gameKey, prefix)
                    } else {
                        await rem.sendText(from, 'Game berakhir karena jumlah pemain kurang dari 3.', id)
                        await _mongo_CommandSchema.updateOne({ cId: 'tod' }, { $pull: { content: { id: game.id } } })
                    }

                    //Continue game if host room doesn't exist
                    if (game.host === sender && game.status === 'playing') {
                        await rem.sendText(from, 'Game berakhir karena host meninggalkan permainan.', id)
                        await _mongo_CommandSchema.updateOne({ cId: 'tod' }, { $pull: { content: { id: game.id } } })
                    
                    }
                    return
                }
            
                // Remove player from game
                // const playerIndex = game.players.indexOf(sender)
                // if (playerIndex > -1) {
                //     game.players.splice(playerIndex, 1)
                // }
                await _mongo_CommandSchema.updateOne({ cId: 'tod', 'content.id': game.id }, { $pull: { 'content.$.players': sender } })
                await _mongo_CommandSchema.updateOne({ cId: 'tod', 'content.id': game.id }, { $pull: { 'content.$.remainingPlayers': sender } })
            
                await reply(from, '@' + sender.split('@')[0] + ' telah meninggalkan permainan Truth or Dare.', id)
            
                // Check if game can continue
                if (game.status === 'playing' && game.players.length < 3) {
                    await rem.sendText(from, 'Game berakhir karena jumlah pemain kurang dari 3.', id)
                    // delete global.todGames[gameKey]
                    await _mongo_CommandSchema.updateOne({ cId: 'tod' }, { $pull: { content: { id: game.id } } })
                }

                if (game.host === sender && game.status === 'playing') {
                        await rem.sendText(from, 'Game berakhir karena host meninggalkan permainan.', id)
                        await _mongo_CommandSchema.updateOne({ cId: 'tod' }, { $pull: { content: { id: game.id } } })
                    
                }
            
            } else if (todSubcmd === 'start') {
                // Check if group
                if (!isGroupMsg) return reply(from, 'Perintah ini hanya bisa digunakan dalam grup!', id)
            
                // Find game in this group
                // const gameKey = Object.keys(global.todGames || {})
                //                  .find(key => global.todGames[key].from === from && 
                //                               global.todGames[key].status === 'waiting');
                const gameKey0 = await _mongo_CommandSchema.findOne({ cId: 'tod', content: { $elemMatch: { from: from } } }, { content: { $elemMatch: { from: from } } } )
                const gameKey = gameKey0?.content[0]
                
                if(gameKey.status !== 'waiting') return reply(from, 'Game sudah dimulai!')
            
                // const game = global.todGames[gameKey]
                const game = gameKey
            
                // Check if sender is host
                if (game.host !== sender) {
                    return reply(from, 'Hanya host yang dapat memulai permainan!', id)
                }

                if (!gameKey) return reply(from, 'Tidak ada game Truth or Dare yang sedang menunggu dimulai di grup ini.', id)
            
                // Check minimum players
                if (game.players.length < 3) {
                    return reply(from, 'Minimal diperlukan 3 pemain untuk memulai permainan.', id)
                }
                
                // Start the game
                const result = await startTodGame(rem, gameKey.id, prefix)
                if (!result.success) {
                    return reply(from, result.message, id)
                }
            
            } else if (todSubcmd === 'answer') {
                // This is for handling answers to truth/dare
                // But we'll handle this via message collector instead
            
            }
        } catch (error) {
            console.error("Error in TOD command:", error)
            reply(from, 'Terjadi kesalahan saat memproses perintah.', id)
        }
            break
        case prefix+'todans':
            console.log('a')
            if(from != '120363420815448807@g.us' && from != '120363159869866611@g.us') return reply(from, 'Err: 403!')
            if(!message.selectedButtonId) return console.log('invalid')

            // if game is not found
            const game3 = await _mongo_CommandSchema.findOne({ cId: 'tod', content: { $elemMatch: { from: from } } }, { content: { $elemMatch: { from: from } } } )
            const game6 = game3?.content[0]
            if (!game6) return reply(from, 'Tidak ada game Truth or Dare yang sedang menunggu dimulai di grup ini.', id)
            console.log('b')

            handleTodChoice(rem, from, sender, allArgs[2], allArgs[1], prefix)
            break
        case prefix+'todanschoice':
            if(from != '120363420815448807@g.us' && from != '120363159869866611@g.us') return reply(from, 'Err: 403!')
            if(!message.selectedButtonId) return console.log('invalid')
            const game4 = await _mongo_CommandSchema.findOne({ cId: 'tod', content: { $elemMatch: { from: from } } }, { content: { $elemMatch: { from: from } } } )
            const game5 = game4?.content[0]
            // if game is not found
            if (!game5) return reply(from, 'Tidak ada game Truth or Dare yang sedang menunggu dimulai di grup ini.', id)

            if (game5 && game5.currentPlayer === sender) {
                // Clear timeout
                if (global.todTimeouts[sender]) {
                    clearTimeout(global.todTimeouts[sender])
                    delete global.todTimeouts[sender]
                }
                const playerNumber = sender.split('@')[0]
                // Send answer to group
                await rem.sendText(
                    from, 
                    `*‚úÖ JAWABAN DITERIMA ‚úÖ*\n\n@${playerNumber} telah menjawab tantangan!`,
                    { mentions: [sender] }
                )
                
                // Continue to next player
                continueTodGame(rem, game5.id, prefix)
            }
            break
        case prefix+'kicktod':
            if(from != '120363420815448807@g.us' && from != '120363159869866611@g.us') return reply(from, 'Err: 403!')
            
            const game1 = await _mongo_CommandSchema.findOne({ cId: 'tod', content: { $elemMatch: { from: from } } }, { content: { $elemMatch: { from: from } } } )
            const game2 = game1?.content[0]

            // if game is not found
            if (!game2) return reply(from, 'Tidak ada game Truth or Dare yang sedang menunggu dimulai di grup ini.', id)
            
            // Check if sender is host
            if (game2.host !== sender) return reply(from, 'Hanya host yang dapat mengeluarkan pemain!', id)

            if (game2 && game2.host === sender) {
                const playerToKick = args[1]
                if (!playerToKick) return reply(from, 'Silahkan masukkan player yang ingin di kick!', id)
                const playerIndex = game2.players.findIndex(player => player === playerToKick)
                if (playerIndex === -1) return reply(from, 'Player tidak ditemukan!', id)
                // Remove player from game
                await _mongo_CommandSchema.updateOne({ cId: 'tod', 'content.id': game2.id }, { $pull: { 'content.$.players': playerToKick } })
                await _mongo_CommandSchema.updateOne({ cId: 'tod', 'content.id': game2.id }, { $pull: { 'content.$.remainingPlayers': playerToKick } })
                game2.players.splice(playerIndex, 1)
                game2.remainingPlayers.splice(playerIndex, 1)
                // Send notification
                await rem.sendText(from, `*üéÆ TRUTH OR DARE üéÆ*\n\n@${playerToKick.split('@')[0]} telah dikeluarkan dari permainan!`, { mentions: [playerToKick] })
            }
            break
        case prefix+'todqs':
            if(!isSideOwner) return reply(from, 'Err: 403!')
            if(from != '120363420815448807@g.us') return reply(from, 'Err: 403!')

            if(!args[1]) return reply(from, `Set Questions TOD\n\nContoh:\n- *${prefix}todqs <add/del> <dare/truth> [question]*\n- *${prefix}todqs list*`, id)
            if(args[1] == 'add') {
                if(!args[2] && !args[3]) return reply(from, 'Invalid!')
                const typeTod = capitalizeFirstLetter(args[2].toLowerCase())
                const question = args.slice(3).join(' ')

                await _mongo_CommandSchema.updateOne({ cId: 'tod' }, { $addToSet: { [`options.questions${typeTod}`]: question } }, { upsert: true })
                reply(from, `Berhasil menambahkan pertanyaan ${typeTod}:\n\n${question}`, id)
            } else if(args[1] == 'del' || args[1] == 'delete') {
                if(!args[2] && !args[3]) return reply(from, 'Invalid!')

                const typeTod = capitalizeFirstLetter(args[2].toLowerCase())
                const positionQuestion = Number(args[3])
                if(isNaN(positionQuestion)) return reply(from, 'Invalid!')

                const listQuestion = await _mongo_CommandSchema.findOne({ cId: 'tod' })
                if(!listQuestion.options) return reply(from, 'Tidak ada list question', id)
                
                const findPosition = listQuestion.options[`questions${typeTod}`][positionQuestion - 1]
                if(!findPosition) return reply(from, 'Pertanyaan tidak ditemukan', id)

                await _mongo_CommandSchema.updateOne({ cId: 'tod' }, { $pull: { [`options.questions${typeTod}`]: findPosition } })
                reply(from, `Berhasil menghapus pertanyaan ${typeTod}:\n\n${findPosition}`, id)
            } else if(args[1] == 'list') {
                const listQuestion = await _mongo_CommandSchema.findOne({ cId: 'tod' })
                if(!listQuestion.options) return reply(from, 'Tidak ada list question', id)

                const listAllQuestionsDare = listQuestion.options?.questionsDare
                const listAllQuestionsTruth = listQuestion.options?.questionsTruth

                let textReply = `*List Questions*\n\n`
                if(listAllQuestionsTruth) {
                    textReply += `*Truth*\n`
                    for(let i = 0; i < listAllQuestionsTruth.length; i++) {
                        textReply += `- ${i+1}. ${listAllQuestionsTruth[i]}\n`
                    }
                } else {
                    textReply += `*Truth*\n- Tidak ada list question\n`
                }
                
                if(listAllQuestionsDare) {
                    textReply += `*Dare*\n`
                    for(let i = 0; i < listAllQuestionsDare.length; i++) {
                        textReply += `- ${i+1}. ${listAllQuestionsDare[i]}\n`
                    }
                } else {
                    textReply += `*Dare*\n- Tidak ada list question\n`
                }
                textReply += `\n\nTotal: ${listAllQuestionsDare?.length + listAllQuestionsTruth?.length} questions`

                reply(from, textReply, id)
            }
            break
        case prefix+'rpgprofile':
        case prefix+'rprofile':
            if(!isSideOwner) return reply(from, 'Err: 403!')

            let dataRpg = getRpg(_userDb)
            if(!dataRpg) {
                await registerRpg(sender)
                _userDb = await _mongo_UserSchema.findOne({ iId: sender })
                dataRpg = getRpg(_userDb)
            }

            const maxLevel = 200 * (Math.pow(2, dataRpg.economy.level)¬†-¬†1)
            const textReply = `‚ü®‚ü®‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ ‚ü®‚ü® RPG ‚ü©‚ü© ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ü©‚ü©
        
‚û• Name : *${pushname}*
‚û• Level : ${dataRpg.economy.level} | Progres : ${textProgressBar(dataRpg.economy.xp, maxLevel, 12)}
‚û• Money : Rn. ${dataRpg.economy.money}
‚ü®‚ü®‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ü©‚ü©
Statistik User :
‚û• HP : ${dataRpg.hp.value}/${dataRpg.hp.max}
‚û• Def : ${dataRpg.def}
‚û• Atk : ${dataRpg.atk}
‚û• Crit Rate : ${dataRpg.crit}% 
‚û• Crit Dmg : ${dataRpg.critDmg}%
‚ü®‚ü®‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ü©‚ü©
User Position :
‚û• Lantai saat ini : ${dataRpg.floor.select}
‚û• Zona saat ini : ${dataRpg.floor.select_zone}
‚û• Lantai Tertinggi : ${dataRpg.floor.max}

‚ü®‚ü®‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ ‚ü®‚ü® RPG ‚ü©‚ü©¬†‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ü©‚ü©`

            reply(from, textReply, id)
        break
    case prefix+'desrare':
    case prefix+'drare':
        if(!isSideOwner) return reply(from, 'Err: 403!')
        const rareDescription = `‚ü®‚ü®‚îÄ‚îÄ‚îÄ‚îÄ ‚ü®‚ü® RARITIES DESC ‚ü©‚ü© ‚îÄ‚îÄ‚îÄ‚îÄ‚ü©‚ü©
     
*[English Sub]*

*Common*: The weakest, most opaque and cheapest weapons in the game.
*Uncommon*: Still weak, but slightly better compared to common weapons.
*Rare*: Not bad, but still not as good as higher tier weapons.
*Demonic*: Quite a bit better than the previous tiers, and these weapons are effective for both grinding and PvP.
*Legendary*: These weapons are powerful, magical and usually effective for both grinding and PvP.
*Mythical*: These weapons are very rare in the game and are considered the best weapons in any case, such as grinding or PvP.

*[Indonesian Sub]*

*Common*: Senjata-senjata paling lemah, burik dan paling murah di dalam permainan ini.
*Uncommon*: Masih lemah, tetapi sedikit lebih baik dibandingkan dengan senjata umum.
*Rare*: Lumayan, tetapi masih tidak sebagus senjata tingkatan yang lebih tinggi.
*Demonic*: Lumayan lebih baik dari pada tingkatan yang sebelumnya, dan senjata-senjata ini efektif untuk grinding maupun PvP.
*Legendary*: Senjata-senjata ini kuat, sakti dan biasanya efektif baik untuk grinding maupun PvP.
*Mythical*: Senjata-senjata ini sangat langka dalam permainan dan dianggap sebagai senjata yang terbaik dalam hal apapun, seperti dalam grinding maupun PvP.

‚ü®‚ü®‚îÄ‚îÄ‚îÄ‚îÄ ‚ü®‚ü® RARITIES DESC ‚ü©‚ü© ‚îÄ‚îÄ‚îÄ‚îÄ‚ü©‚ü©`
            
        reply(from, rareDescription, id)
            
        break
        case prefix+'rpgmenu':
        case prefix+'rmenu':
            if(!isSideOwner) return reply(from, 'Err: 403!')
            const featureList = `‚ü®‚ü®‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ ‚ü®‚ü® RPG MENU ‚ü©‚ü© ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ü©‚ü©

‚û• ${prefix}rpgprofile/${prefix}rprofile
Fungsi : Untuk melihat profile user
‚û• ${prefix}rpgpmenu/${prefix}rmenu
Fungsi : Untuk melihat command RPG
‚û• ${prefix}floor/${prefix}fl
Fungsi : Untuk mengecek atau melihat lantai
‚û• ${prefix}zone/${prefix}zn
Fungsi : Untuk mengecek atau melihat zona
‚û• ${prefix}teleport/${prefix}tp
Fungsi : Untuk teleportasi
‚û• ${prefix}farm/${prefix}fm
Fungsi : Farming Monster
‚û• ${prefix}boss
Fungsi : Melawan boss dan lanjut ke lantai selanjutnya
‚û• ${prefix}duel
Fungsi : Duel dengan player/user lain
‚û• ${prefix}kill
Fungsi : Membunuh player/user lain di zona bebas
‚û• ${prefix}rshop/${prefix}rs
Fungsi : Membeli barang dipasar/pusat perbelanjaan
‚û• ${prefix}craft/${prefix}cf
Fungsi : Membuat item/barang
‚û• ${prefix}forge/${prefix}fg
Fungsi : Mengasah atau upgrade item/barang
‚û• ${prefix}inventory/${prefix}rinv
Fungsi : Mengecek inventory user
‚û• ${prefix}desrarities/${prefix}drare
Fungsi : Untuk melihat deskripsi dari tingkat kelangkaan
‚û• ${prefix}guild
Fungsi : Guild Command List

‚ü®‚ü®‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ ‚ü®‚ü® RPG MENU¬†‚ü©‚ü©¬†‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ü©‚ü©`
            reply(from, featureList, id)
        break
        case prefix+'floor':
        case prefix+'fl':
            if(!isSideOwner) return reply(from, 'Err: 403!')
            if(!allArgs[1] || (allArgs[1]?.toLowerCase() != 'list' && isNaN(allArgs[1])) || (allArgs[1]?.toLowerCase() == 'list' && isNaN(allArgs[2]))) return reply(from, `Mohon masukkan nomer lantai berapa yang akan dilihat\n\n_Jika ingin melihat detail lantai_\n - _${prefix}fl <lantai>_\n *Contoh: _${prefix}fl 2_*\n_Jika ingin menampilkan banyak lantai_\n - _${prefix}fl list <max_lantai>_\n*Contoh: _${prefix}fl list 10_*\n_Jika ingin melihat detail zona_\n - _${prefix}zone <lantai> <zona>_\n *Contoh: _${prefix}zone 2 1_*\n\n_Jika ingin berpindah_\n - _${prefix}tp <lantai> <zona>_\n *Contoh: _${prefix}tp 2 1_*`, id)
            
            let dataRpgFloor = getRpg(_userDb)
            if(dataRpgFloor == undefined) {
                await registerRpg(sender)
                _userDb = await _mongo_UserSchema.findOne({ iId: sender })
                dataRpgFloor = getRpg(_userDb)
            }

            const readFloorDatabase = JSON.parse(fs.readFileSync('./lib/database/rpg/floor.json', 'utf-8'))
            if(allArgs[1]?.toLowerCase() === 'list') {
                let listLantai = `List Lantai\n`
                for(let i = 0; i < Number(allArgs[2]); i++) {
                    let lantaiText = ``
                    lantaiText += `\n${i+1}. ${readFloorDatabase[i].name}\n   Zona:`
                    await readFloorDatabase[i].zone.forEach((all, index) => {
                        lantaiText += `\n    [${index + 1}] ${all.name}`
                        if(all.alt_name) lantaiText += '\n      ```' + all.alt_name + '```'
                        if(all.isMonster) lantaiText += `\n      Monster: _${all.monster_list.map(mAll => `${mAll.name} (${mAll.level})`).join(', ')}_`
                    })
                    lantaiText += '\n'
                    listLantai += lantaiText
                }
                reply(from, listLantai, id)
            } else {
                const floorNum = Number(allArgs[1])
                const floorDbSl = readFloorDatabase[floorNum - 1]
                let lantaiText = `Detail lantai ${floorNum}\n\nNama lantai: *${floorDbSl.name}*\nType lantai: *${floorDbSl.isCity ? 'Kota' : 'Monster'}*\n\nZona:`
                floorDbSl.zone.forEach((all, index) => {
                    lantaiText += `\n [${index + 1}] ${all.name}`
                    if(all.alt_name) lantaiText += '\n  ```' + all.alt_name + '```'
                    if(all.isMonster) lantaiText += `\n  Monster: _${all.monster_list.map(mAll => `${mAll.name} (${mAll.level})`).join(', ')}_`
                })

                let imagePathFloor = `./media/img/rpg/floor/${floorDbSl.image}`
                if(!fs.existsSync(imagePathFloor)) imagePathFloor = './media/img/404_not_found.gif'
                rem.sendFileAuto(from, imagePathFloor, '', lantaiText, messageRaw, { gifPlayback: true })
            }
            break
        case prefix+'zone':
        case prefix+'zn':
            if(!isSideOwner) return reply(from, 'Err: 403!')
            if(!allArgs[1] || !allArgs[2] || isNaN(allArgs[1]) || isNaN(allArgs[2])) return reply(from, `Mohon masukkan nomer lantai dan zona berapa yang akan dilihat\n\n_Jika ingin melihat detail lantai_\n - _${prefix}fl <lantai>_\n *Contoh: _${prefix}fl 2_*\n_Jika ingin menampilkan banyak lantai_\n - _${prefix}fl list <max_lantai>_\n*Contoh: _${prefix}fl list 10_*\n_Jika ingin melihat detail zona_\n - _${prefix}zone <lantai> <zona>_\n *Contoh: _${prefix}zone 2 1_*\n\n_Jika ingin berpindah_\n - _${prefix}tp <lantai> <zona>_\n *Contoh: _${prefix}tp 2 1_*`, id)
            
            let dataRpgZone = getRpg(_userDb)
            if(dataRpgZone == undefined) {
                await registerRpg(sender)
                _userDb = await _mongo_UserSchema.findOne({ iId: sender })
                dataRpgZone = getRpg(_userDb)
            }

            const readFloorDatabaseZn = JSON.parse(fs.readFileSync('./lib/database/rpg/floor.json', 'utf-8'))
            const floorNumZn = Number(allArgs[1])
            const zoneNumZn = Number(allArgs[2])
            const floorDbZn = readFloorDatabaseZn[floorNumZn - 1]
            const zoneFloorDbZn = floorDbZn.zone[zoneNumZn - 1]

            const zoneText = `Detail zona ${floorNumZn} | ${zoneNumZn}\n\nData:\n${JSON.stringify(zoneFloorDbZn, null, 4)}`
            reply(from, zoneText, id)
            break
        case prefix+'teleport':
        case prefix+'tp':
            if(!isSideOwner) return reply(from, 'Err: 403!')
            if(!allArgs[1] || !allArgs[2] || isNaN(allArgs[1]) || isNaN(allArgs[2])) return reply(from, `Mohon masukkan nomer lantai dan zona berapa yang ingin dituju\n\n_Jika ingin melihat detail lantai_\n - _${prefix}fl <lantai>_\n *Contoh: _${prefix}fl 2_*\n_Jika ingin menampilkan banyak lantai_\n - _${prefix}fl list <max_lantai>_\n*Contoh: _${prefix}fl list 10_*\n_Jika ingin melihat detail zona_\n - _${prefix}zone <lantai> <zona>_\n *Contoh: _${prefix}zone 2 1_*\n\n_Jika ingin berpindah_\n - _${prefix}tp <lantai> <zona>_\n *Contoh: _${prefix}tp 2 1_*`, id)

            let dataRpgTp = getRpg(_userDb)
            if(dataRpgTp == undefined) {
                await registerRpg(sender)
                _userDb = await _mongo_UserSchema.findOne({ iId: sender })
                dataRpgTp = getRpg(_userDb)
            }

            const floorNumTp = Number(args[1])
            if(floorNumTp > dataRpgTp.floor.max) return reply(from, `Lantai ${floorNumTp} belum terbuka!\nTantang bos lantai sebelumnya untuk membuka`, id)
            const zoneNumTp = Number(args[2]) || 1
            await actionRpgDb(sender, { $set: { 'rpg.floor.select': floorNumTp , "rpg.floor.select_zone": zoneNumTp } })

            reply(from, `Success
            
Kamu berhasil pindah ke *Lantai ${floorNumTp}* | *Zona ${zoneNumTp}*`, id)
            break
        case prefix+'farm':
            if(!isSideOwner) return reply(from, 'Err: 403!')

            let dataRpgFarm = getRpg(_userDb)
            if(dataRpgFarm == undefined) return reply(from, `Kamu belum terdaftar di RPG!\nDaftar dengan mengirim cmd _${prefix}rpg_`)
 
            if(dataRpgFarm?.death?.isDeath) {
                if(dataRpgFarm?.death?.deathCooldown < Date.now()) await actionRpgDb(sender, { $set: { 'rpg.death.isDeath': false, 'rpg.death.deathCooldown': 0, 'rpg.floor.select': 1, 'rpg.floor.select_zone': 1, 'rpg.hp.value': dataRpgFarm.hp.max } })
                if(dataRpgFarm?.death?.deathCooldown > Date.now()) {
                    const timeConvertFarm = timeConvert(dataRpgFarm?.death?.deathCooldown)
                    return reply(from, `Kamu sedang diobati!\n${timeConvertFarm.day} Hari | ${timeConvertFarm.hour} Jam : ${timeConvertFarm.minute} Menit : ${timeConvertFarm.second} Detik`, id)
                }
            }

            const readFloorDatabaseFarm = JSON.parse(fs.readFileSync('./lib/database/rpg/floor.json', 'utf-8'))
            const readGlobalConfig = JSON.parse(fs.readFileSync('./lib/database/rpg/global.json', 'utf-8'))

            const floorDbFarm = readFloorDatabaseFarm[dataRpgFarm.floor.select - 1]
            const zoneFloorDbFarm = floorDbFarm.zone[dataRpgFarm.floor.select_zone - 1]

            if(!zoneFloorDbFarm.isMonster) return reply(from, `Kamu tidak bisa farming di lantai ini!`, id)
            if(dataRpgFarm.hp.value <= 0) return reply(from, `Kamu tidak bisa farming karena HP mu 0!`, id)

            if(allArgs[1] != 'confirm_farm#1oi4b1o052ib') {
                const monsterList = zoneFloorDbFarm.monster_list
                let monsterTatakaeConfirm = []
                let numberRandomMonster = undefined
                if(zoneFloorDbFarm.isMonsterAttackSimultaneously) {
                    monsterTatakaeConfirm = monsterList.map(all => ({ id: all.id, level: all.level, name: all.name, hp: all.hp, def: all.def, atk: all.atk, penetration: all.penetration, life_steal: all.life_steal, dodge: all.dodge, crit: all.crit, critDmg: all.critDmg }))
                } else {
                    numberRandomMonster = Math.floor(Math.random() * monsterList.length)
                    monsterTatakaeConfirm = [{ id: monsterList[numberRandomMonster].id, level: monsterList[numberRandomMonster].level, name: monsterList[numberRandomMonster].name, hp: monsterList[numberRandomMonster].hp, def: monsterList[numberRandomMonster].def, atk: monsterList[numberRandomMonster].atk, penetration: monsterList[numberRandomMonster].penetration, life_steal: monsterList[numberRandomMonster].life_steal, dodge: monsterList[numberRandomMonster].dodge, crit: monsterList[numberRandomMonster].crit, critDmg: monsterList[numberRandomMonster].critDmg }]
                }

                let textSendFarmConfirmation = `Kamu akan farming di *Lantai ${dataRpgFarm.floor.select}* | *Zona ${dataRpgFarm.floor.select_zone}*\n\nMonster yang akan kamu lawan adalah:\n`
                for(let i = 0; i < monsterTatakaeConfirm.length; i++) {
                    if(monsterTatakaeConfirm[i].level > dataRpgFarm.level) {
                        textSendFarmConfirmation += `\n${i+1}. ${monsterTatakaeConfirme[i].name} (${monsterTatakaeConfirm[i].level})\nStats: Level kamu tidak cukup untuk melihat stats monster ini!\n`
                    } else {
                        textSendFarmConfirmation += `\n${i+1}. ${monsterTatakaeConfirm[i].name} (${monsterTatakaeConfirm[i].level})\nStats: ${util.format(monsterTatakaeConfirm)}\n`
                    }

                    if(i == monsterTatakaeConfirm.length - 1) {
                        textSendFarmConfirmation += `\n\nApakah kamu yakin melawan monster ini?`
                        return rem.sendButtons(from, textSendFarmConfirmation, [{ id: `${prefix}farm confirm_farm#1oi4b1o052ib ${!zoneFloorDbFarm.isMonsterAttackSimultaneously ? numberRandomMonster : 'false'}`, text: 'Ya' }])
                    }
                }
            }

            const playerDataFarm = [{ id: sender, name: pushname, hp: dataRpgFarm.hp, def: dataRpgFarm.def, atk: dataRpgFarm.atk, penetration: dataRpgFarm.penetration, life_steal: dataRpgFarm.life_steal, dodge: dataRpgFarm.dodge, crit: dataRpgFarm.crit, critDmg: dataRpgFarm.critDmg }]
            const monsterList = zoneFloorDbFarm.monster_list
            let monsterTatakae = []
            if(zoneFloorDbFarm.isMonsterAttackSimultaneously) {
                monsterTatakae = monsterList.map(all => ({ id: all.id, name: all.name, level: all.level, hp: all.hp, def: all.def, atk: all.atk, penetration: all.penetration, life_steal: all.life_steal, dodge: all.dodge, crit: all.crit, critDmg: all.critDmg, drop_item: all.drop_item }))
            } else {
                const randomMonster = Math.floor(Math.random() * monsterList.length)
                monsterTatakae = [{ id: monsterList[randomMonster].id, name: monsterList[randomMonster].name, level: monsterList[randomMonster].level, hp: monsterList[randomMonster].hp, def: monsterList[randomMonster].def, atk: monsterList[randomMonster].atk, penetration: monsterList[randomMonster].penetration, life_steal: monsterList[randomMonster].life_steal, dodge: monsterList[randomMonster].dodge, crit: monsterList[randomMonster].crit, critDmg: monsterList[randomMonster].critDmg, drop_item: monsterList[randomMonster].drop_item }]
            }

            const editText = await reply(from, `Kamu sedang farming di *Lantai ${dataRpgFarm.floor.select}* | *Zona ${dataRpgFarm.floor.select_zone}*\n\nMonster yang kamu lawan adalah:\n${monsterTatakae.map(all => `${all.name} (${all.level})`).join(', ')}\n\nKamu sedang melawan monster...`, id)
            const rpgFightFarm = calculateFightRpg(playerDataFarm, monsterTatakae)
            await setStatsRpg(sender, { hp: rpgFightFarm.dataPlayer[0].hp })
            await sleep(3000)
            
            let textWinnerRpg = 'Kamu mendapat:'
            if(rpgFightFarm.winner == 'player') {
                const economyGetFarm = []
                const grantItemFarm = []

                function farmEconomyHandler(all) {
                    const randomDrop = Math.random() * 100
                    const valueMin = all.value[0]
                    const valueMax = all.value[1]
                    const valueDrop = Math.floor(Math.random() * (valueMax - valueMin + 1)) + valueMin
                    if(randomDrop <= all.chance) {
                        economyGetFarm.push({ id: all.id, dbPushType: all.dbPushType, name: all.name, value: valueDrop })
                    }
                }
                function dropItemHandler(all) {
                    const randomDrop = Math.random() * 100
                    const valueMin = all.value[0]
                    const valueMax = all.value[1]
                    const valueDrop = Math.floor(Math.random() * (valueMax - valueMin + 1)) + valueMin
                    if(randomDrop <= all.chance) {
                        grantItemFarm.push({ id: all.id, name: all.name, type: all.type, qty: valueDrop, rarity: all.rarity, attr: all.attr })
                    }
                }
            
                if(zoneFloorDbFarm.isMonsterAttackSimultaneously) {
                    for(let i = 0; i < monsterTatakae.length; i++) {
                        if(readGlobalConfig.drop_item != undefined) {
                            monsterTatakae[i].drop_item = monsterTatakae[i].drop_item.concat(readGlobalConfig.drop_item)
                        }
                        monsterTatakae[i].drop_item.forEach(all => {
                            if(all.type == 'economy') {
                                farmEconomyHandler(all)
                            } else {
                                dropItemHandler(all)
                            }
                        })
                    }
                } else {
                    monsterTatakae[0].drop_item.forEach(all => {
                        if(readGlobalConfig.drop_item != undefined) {
                            monsterTatakae[0].drop_item = monsterTatakae[0].drop_item.concat(readGlobalConfig.drop_item)
                        }
                        if(all.type == 'economy') {
                            farmEconomyHandler(all)
                        } else {
                            dropItemHandler(all)
                        }
                    })
                }

                await addEconomyDbBatch(sender, economyGetFarm)
                await addInventoryRpg(sender, grantItemFarm)

                textWinnerRpg += `${(economyGetFarm.length > 0) ? economyGetFarm.map(all => `*${all.name}:* _${all.value}_`).join('\n') : ''}
${(grantItemFarm.length > 0) ? '\n' + grantItemFarm.map(all => `*${all.name}:* _${all.qty}_`).join('\n') : ''}`
            } else {
                const readSettingsRpgFarm = JSON.parse(fs.readFileSync('./lib/database/rpg/settings.json', 'utf-8'))
                const deathCooldown = readSettingsRpgFarm.deathCooldown || '5m'
                const timestampDeathCooldown = Date.now() + toMs(deathCooldown)
                await actionRpgDb(sender, { $set: { 'rpg.death.isDeath': true, 'rpg.death.deathCooldown': timestampDeathCooldown } })
            }

            let historyFight = ``
            rpgFightFarm.history.forEach(all => {
                historyFight += (all.message.map(inM => '```' + inM + '```').join('\n') + '\n')
            })
            const rpgFightFarmTextEdit = `Kamu sedang farming di *Lantai ${dataRpgFarm.floor.select}* | *Zona ${dataRpgFarm.floor.select_zone}*
            
Monster yang kamu lawan adalah:\n${monsterTatakae.map(all => `${all.name} (${all.level})`).join(', ')}

${historyFight}`
            await rem.sendEditMessage(from, editText.key, rpgFightFarmTextEdit)
            if(rpgFightFarm.winner == 'player') await rem.sendText(from, textWinnerRpg)
            break
        case prefix+'rpginventory':
        case prefix+'rinv':
            if(!isSideOwner) return reply(from, 'Err: 403!')

            let dataRpgInven = getRpg(_userDb)
            if(dataRpgInven == undefined) return reply(from, `Kamu belum terdaftar di RPG!\nDaftar dengan mengirim cmd _${prefix}rpg_`)

            const inventoryList = dataRpgInven.inventory
            let textInventory = `Inventory kamu:\n${JSON.stringify(inventoryList, null, 4)}`
            reply(from, textInventory, id)
            break
        case prefix+'slots':
        case prefix+'slot':
            if(from != '6281358181668-1621640771@g.us' && from != '120363159869866611@g.us') return reply(from, 'Fitur ini sedang dalam Beta Test!')
            if (!isGroupMsg) return reply(from, 'Perintah ini hanya bisa di gunakan dalam group!', id)
            // if(args[1] > 5) return reply(from, 'Kamu sudah menggunakan cmd ini sebanyak 5x! Tunggu beberapa saat hingga fitur ini dapat digunakan kembali')
            if (args.length == 1) return reply(from, 'Mohon masukkan jumlah uang\n\nContoh: '+prefix+'slot 5000', id)
            // if(inArray_includes(args[1].toLowerCase(), isHuruf)) return reply(from, 'Jumlah harus ber Nomer', id)
            if(args[1] < 5000) return reply(from, 'Minimal uang untuk judi adalah 5000', id)
            if(args[1].includes('K')) return reply(from, `Mohon ganti 'K' menjadi 000`, id)
            if(_userDb.limit.slotLimit > Date.now()) {
                 const timeConvertSlot = timeConvert(_userDb.limit.slotLimit)
                 return reply(from, `Anda sudah menggunakan fitur ini, Kamu bisa menggunakan fitur ini lagi dalam\n\n*${timeConvertSlot.day} Hari | ${timeConvertSlot.hour} Jam : ${timeConvertSlot.minute} Menit : ${timeConvertSlot.second} Detik*`, id)
                }
            if(getMoney(_userDb) == undefined) await setMoney(sender)
            
            try {
                const CheckMoneyBefore = getMoney(_userDb)
                if (args[1] > CheckMoneyBefore) return reply(from, 'Uang kamu Tidak cukup', id)
                let slots = ['üçé','üçä','üçã','üçè','ü´ê','üçá','üçé','üçä','üçã']
                const nyeh1 = `${slots[Math.floor(Math.random() * slots.length)]} | ${slots[Math.floor(Math.random() * slots.length)]} | ${slots[Math.floor(Math.random() * slots.length)]}`
                const nyeh2 = `${slots[Math.floor(Math.random() * slots.length)]} | ${slots[Math.floor(Math.random() * slots.length)]} | ${slots[Math.floor(Math.random() * slots.length)]}`
                const nyeh3 = `${slots[Math.floor(Math.random() * slots.length)]} | ${slots[Math.floor(Math.random() * slots.length)]} | ${slots[Math.floor(Math.random() * slots.length)]}`
                await reply(from, `${nyeh1}\n${nyeh2}\n${nyeh3}`, id)
                const UangHasilJudiFresh = Math.floor(args[1])
                const UangHasilJudiFreshMin = Math.floor(Math.random() * 10) - args[1]
                const UangHasilJudi = Math.floor(args[1] * 10)
                const UangHasilJudiMin = Math.floor(args[1] * -10)
                if(Number.isNaN(UangHasilJudiFreshMin)) return reply(from, 'Mohon masukkan jumlah uang\n\nContoh: '+prefix+'slot 5000', id)
                if(nyeh1 == 'üçé | üçé | üçé' || nyeh1 == 'üçä | üçä | üçä' || nyeh1 == 'üçã | üçã | üçã' ||  nyeh1 == 'üçè | üçè | üçè' || nyeh1 == 'ü´ê | ü´ê | ü´ê' || nyeh1 == 'üçá | üçá | üçá' || nyeh2 == 'üçé | üçé | üçé' || nyeh2 == 'üçä | üçä | üçä' || nyeh2 == 'üçã | üçã | üçã' ||  nyeh2 == 'üçè | üçè | üçè' || nyeh2 == 'ü´ê | ü´ê | ü´ê' || nyeh2 == 'üçá | üçá | üçá' || nyeh3 == 'üçé | üçé | üçé' || nyeh3 == 'üçä | üçä | üçä' || nyeh3 == 'üçã | üçã | üçã' ||  nyeh3 == 'üçè | üçè | üçè' || nyeh3 == 'ü´ê | ü´ê | ü´ê' || nyeh3 == 'üçá | üçá | üçá') {
                    //await addMoney('6281358181668@s.whatsapp.net', UangHasilJudiMin)
                    await addMoney(sender, UangHasilJudi, _userDb)
                    await addMoney_haram(sender, UangHasilJudi)
                    reply(from, 'Selamat, kamu mendapat hadiah sebesar $'+numberWithCommas(fixNumberE(UangHasilJudi))+' üéâüéä\n\nUang:\nBefore: $'+numberWithCommas(fixNumberE(CheckMoneyBefore))+'\nAfter: $'+numberWithCommas(fixNumberE(getMoney(_userDb) + UangHasilJudi)), id)
                } else {
                    //await addMoney('6281358181668@s.whatsapp.net', UangHasilJudiFresh)
                    await addMoney(sender, UangHasilJudiFreshMin, _userDb)
                    reply(from, 'Maaf kamu tidak mendapatkan hadiah\nJumlah Uang Hilang: $'+numberWithCommas(fixNumberE(UangHasilJudiFreshMin)), id)
                    await sleep(3000)
                    await _mongo_UserSchema.updateOne(
                        { iId: _userDb.iId },
                        {
                          $set: {
                            'limit.slotLimit': isSideOwner
                              ? (Date.now() + toMs('1s'))
                              : isPrem
                              ? (Date.now() + toMs('20s'))
                              : (Date.now() + toMs('15m') + toMs('30s')),
                          },
                        }
                      )
                      
                }
               } catch (err) {
                   console.error(err)
                   await reply(from, err, id)
                //    await rem.sendText(numberReportError, err)
               }
               break
        case prefix+'remeaster':
        case prefix+'easterevent':
        case prefix+'esinfo':
        case prefix+'easterinfo':
            // if (!isSideOwner) return reply(from, 'Err: 403!')
            if (!isGroupMsg) return reply(from, 'Perintah ini hanya bisa di gunakan dalam group!', id)
            const easterEventInfo = `üê∞ *EASTER EVENT 2025* üê∞\n
Selamat datang di event spesial Easter 2025!
‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
ü•ö *Easter Egg Hunt*
Cari telur tersembunyi dengan perintah *${prefix}easter* di dalam grup ini! atau bisa menggunakan shortcut *${prefix}es* menemukan telur
Ingin melihat berapa point yang kamu dapatkan ketika bermain event ini? Gunakan perintah *${prefix}point*
Temukan telur biasa atau Golden Egg untuk hadiah spesial!

üèÜ *Easter Leaderboard*
Lihat siapa yang menemukan telur terbanyak dengan perintah *${prefix}easterlb* atau bisa menggunakan shortcut *${prefix}eslb* untuk melihat leaderboard Easter Egg Hunt!

‚è∞ *Periode Event*
Event akan berlangsung selama 1 minggu, mulai dari hari ini!
Selamat bersenang-senang mencari semua telur yang tersembunyi dan Selamat Paskah! üê£

*Info: Owner & SideOwner tidak akan ikut mempermainkan event ini.*
‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
*¬© RemComp 2021 - 2025*`
            reply(from, easterEventInfo, id)
            break
        case prefix+'easterlb':
        case prefix+'eslb':
            // if (!isSideOwner) return reply(from, 'Err: 403!')
            if (!isGroupMsg) return reply(from, 'Perintah ini hanya bisa di gunakan dalam group!', id)

            let limitLeaderboardEaster = 10
            const topEasterPlayers = (await _mongo_UserSchema.find({}, { iId: 1, "economy.point": 1, _id: 0 })
            .sort({ "economy.point": -1 })
            .limit(10))
            // .filter(all => all.economy.point > 0)
            // if(topEasterPlayers.length == 0) return reply(from, 'Belum ada yang menemukan telur Easter!', id)
            // if(topEasterPlayers.length < limitLeaderboardEaster) return reply(from, `Perlu setidaknya *${limitLeaderboardEaster}* user yang memiliki level di database!`, id)
                
                let leaderboardText = `\n*üèÜ [ EASTER EVENT LEADERBOARD ] üèÜ*\n\n\n`
                try {
                    let nol = 0
                    if(isMention) {
                        for (let i = 0; i < limitLeaderboardEaster; i++) {
                            nol += 1
                            if(topEasterPlayers[i].iId == '62856038120076@s.whatsapp.net') {
                                limitLeaderboardEaster += 1
                                nol -= 1
                                continue;
                            }
                            var namaPoint0 = await rem.onWhatsApp(topEasterPlayers[i].iId)
                            if(!namaPoint0?.[0]?.exists) {
                                leaderboardPoint += `${nol}. +${topEasterPlayers[i].iId.replace('@s.whatsapp.net', '')}\n‚û§ POINTS EASTER EGG: *${topEasterPlayers[i].economy.point}*\n\n`
                            } else {
                                leaderboardPoint += `${nol}. @${topEasterPlayers[i].iId.replace('@s.whatsapp.net', '')}\n‚û§ POINTS EASTER EGG: *${topEasterPlayers[i].economy.point}*\n\n`
                            }
                        }
                        leaderboardText += '\nBerburu telur Easter untuk menambah point dan naik peringkat!'
                        await rem.sendTextWithMentions(from, leaderboardText)
                    } else {
                        for (let i = 0; i < limitLeaderboardEaster; i++) {
                            nol += 1
                            if(topEasterPlayers[i].iId == '62856038120076@s.whatsapp.net') {
                                limitLeaderboardEaster += 1
                                nol -= 1
                                continue;
                            }
                            var contactDb = await _mongo_ContactSchema.findOne({ iId: leaderboardText[i].iId })
                            var namaPoint0 = await rem.contacts(topEasterPlayers[i].iId, contactDb)
                            const getNamaPoint = await _mongo_UserSchema.findOne({ iId: topEasterPlayers[i].iId })
                            var namaPoint01 = getNama(getNamaPoint)
                            console.log(namaPoint01)
                            if(namaPoint01 == undefined) {
                                var namaPoint = namaPoint0
                            } else {
                                var namaPoint = namaPoint01
                            }
                            leaderboardText += `${nol}. *_${namaPoint}_*\nwa.me/${topEasterPlayers[i].iId.replace('@s.whatsapp.net', '')}\n‚û§ POINTS: *${topEasterPlayers[i].economy.point}*\n\n`
                        }
                        await rem.sendText(from, leaderboardText)
                    }
                } catch (err) {
                    console.error(err)
                    reply(from, 'Perlu setidaknya *10* user yang memiliki point di database!', id)
                } 
            break
        case prefix+'easterhunt':
        case prefix+'easter':
        case prefix+'es':
            if (!isGroupMsg) return reply(from, 'Perintah ini hanya bisa di gunakan dalam group!', id)
            return reply(from, 'Maaf! Fitur ini hanya tersedia untuk Event Easter Egg saja!', id)
            // if (!isSideOwner) return reply(from, 'Err: 403!')
            try {
                //cooldown permainan
                const easterCooldown = 300000
                const lastEasterTime = _userDb.lastAction?.easter || 0

                if (Date.now() - lastEasterTime < easterCooldown && !isOwner) {
                    const timeLeft = Math.ceil((easterCooldown - (Date.now() - lastEasterTime)) / 60000);
                    return reply(from, `üê∞ *Easter Egg Hunt* üê∞\n\nKamu harus menunggu *${timeLeft} menit* lagi untuk berburu telur Easter!`, id)
                }

                //daftar lokasi ndog
                const easterLocations = [
                    `taman`, `kebun`, `semak-semak`, `pohon`, `rumah`, 
                    `kursi`, `meja`, `lemari`, `dapur`, `kamar-tidur`,
                    `bra`, `remcomp`, `danau`, `pasir`, `pantai`, `shipwreck`, 
                    `goa`, `kolam`, `muara`, `palembang`, `isekai`, `jawa`, `medan`, 
                    `sulawesi`, `bali`, `rendang-willi`
                ]

                if (args.length === 1) {
                    let locationsText = ''
                    easterLocations.forEach(loc => {
                        locationsText += `‚ö¨ ${loc}\n`
                    })
                    
                    return reply(from, `üê∞ *Easter Egg Hunt* üê∞\n
üéØ *Misi:* Cari telur Easter yang tersembunyi di berbagai lokasi dan dapatkan hadiah!

üìú *Cara bermain:*\nKetik *${prefix}easter [lokasi]* untuk mencari telur\n
üó∫Ô∏è *Lokasi yang tersedia:*\n${locationsText}\n*Note:* _Setiap lokasi mungkin memiliki telur biasa atau telur emas yang berharga!_`, id)
                }
                const location = args[1].toLowerCase()
                if (!easterLocations.includes(location)) {
                    return reply(from, `üê∞ *Easter Egg Hunt* üê∞\n\nLokasi *${location}* tidak tersedia. Gunakan *${prefix}easter* untuk melihat daftar lokasi yang tersedia.`, id)
                }

                await _mongo_UserSchema.updateOne({ iId: sender }, { $set: { "lastAction.easter": Date.now() } })
                const foundEgg = Math.random() < 0.6
            
                if (foundEgg) {
                    // Peluang menemukan golden egg (10% & 20%)
                    const isGoldenEgg = Math.random() < 0.3
                    const isDiamondEgg = Math.random() < 0.2
                    const isRemcompEgg = Math.random() < 0.1
                    const isSeason17Egg = Math.random() < 0.05
                    
                    let reward
                    let eggType
                    let eggEmoji


                    if (isSeason17Egg) {
                        // Reward untuk season 17 egg: 1500000-3000000 point
                        reward = Math.floor(Math.random() * 1500000) + 1500000
                        eggType = "Season 17 Egg"
                        eggEmoji = "ü•ö‚ú®üåü"
                    } else if (isRemcompEgg) {
                        // Reward untuk remcomp egg: 500000-1000000 point
                        reward = Math.floor(Math.random() * 1000000) + 500000
                        eggType = "Remcomp Egg"
                        eggEmoji = "ü•öüíª"
                    } else if (isDiamondEgg) {
                        // Reward untuk diamond egg: 30000-50000 point
                        reward = Math.floor(Math.random() * 20000) + 30000
                        eggType = "Diamond Egg"
                        eggEmoji = "ü•öüíé"
                    } else if (isGoldenEgg) {
                        // Reward untuk golden egg: 15000-30000 point
                        reward = Math.floor(Math.random() * 10000) + 20000
                        eggType = "Golden Egg"
                        eggEmoji = "ü•ö‚ú®"
                    } else {
                        // Reward untuk telur biasa: 5000-15000 point
                        reward = Math.floor(Math.random() * 5000) + 10000
                        eggType = "Easter Egg"
                        eggEmoji = "ü•ö"
                    }
                    const xpJobBonus = Math.floor(reward / 2)
                    const moneyBonus = Math.floor(reward * 1000) 
                    const xpBonus = Math.floor(reward / 2)

                    await _mongo_UserSchema.updateOne({ iId: sender }, { $set: { "economy.job.xpjob": xpJobBonus } })
                    await addMoney(sender, moneyBonus)
                    await addPoint(sender, reward)
                    await addLevelingXp(sender, xpBonus)
                    //nemu ndog
                    return reply(from, `üê∞ *Easter Egg Hunt* üê∞\n
${eggEmoji} Selamat! Kamu menemukan *${eggType}* di *${location}*!

üí∞ Kamu mendapatkan *${numberWithCommas(fixNumberE(reward))}* point!
ü™ô Mendapatkan *${moneyBonus}* money!
üìà Mendapatkan *${xpJobBonus}* XP Job bonus!
‚ú® Dan *${xpBonus}* XP bonus!

Kembali lagi setelah *5 menit* untuk berburu telur lainnya!`, id)
                } else {
                    //gagal nemu ndog
                    return reply(from, `üê∞ *Easter Egg Hunt* üê∞\n\nKamu mencari dengan teliti di *${location}* tapi tidak menemukan telur Easter. üòî\n\nCoba lagi nanti dan cari lokasi lainnya!`, id)
                }
            } catch (err) {
                console.error(err);
                reply(from, 'Terjadi kesalahan saat berburu telur Easter :(', id)
            }
            break

        // EVENT CHRISTMAS
            case prefix+'christmas':
            case prefix+'xmas':
                // return reply(from, 'Maaf! Fitur ini hanya tersedia untuk Event Natal saja!', id)
                if (!isOwner) return reply(from, 'Err: 403!')
                
                // const getInfoChristmasPng = await import('./lib/database/christmasPng/infoChristmasEvent.png')
                // const infoPath = path.resolve(getInfoChristmasPng)
                // const bufferInfoChristmasPng = fs.readFileSync(infoPath)

                const christmasEventInfo = `üéÅ *CHRISTMAS EVENT 2025* üéÅ\n
Selamat datang di event spesial Christmas 2025!
‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
üéÅ *Gift Box Hunt*
Cari Gift Box tersembunyi dengan perintah *${prefix}eventchristmasgiftboxhunt2025santaclaushappychristmas* di dalam grup ini! atau bisa menggunakan shortcut *${prefix}xh* menemukan telur
Ingin melihat berapa token & frag yang kamu dapatkan ketika bermain event ini? Gunakan perintah *${prefix}token* | *${prefix}frag*
Temukan Gift Box JELEK atau RemComp Gift Box untuk hadiah super spesial!

üõí *Gift Box Gacha*
Jika kamu ingin menguji keberuntunganmu, cobalah perintah *${prefix}xgbox*

üõç *Daily Shop*
Daily Shop ini berubah setiap harinya dan diisi dengan hadiah-hadiah yang kamu bisa beli menggunakan *${prefix}xtoken*. Perintah untuk melihat Daily Shop nya *${prefix}christmasshop*

üèÜ *Gift Box Leaderboard*
Lihat siapa yang mempunyai token terbanyak dengan perintah *${prefix}christmaslb* atau bisa menggunakan shortcut *${prefix}xlb* untuk melihat leaderboard!

‚è∞ *Periode Event*
Event akan berlangsung selama 1 minggu, mulai dari hari ini!
Selamat bersenang-senang mencari semua Gift Box yang tersembunyi dan Selamat Natal! üéÑ

*Info: Owner & SideOwner tidak akan ikut mempermainkan event ini.*
‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
*¬© RemComp 2021 - 2025*`
                
                return reply(from, christmasEventInfo, id)
                break
            case prefix+'christmaslb':
            case prefix+'xmaslb':
            case prefix+'xlb':
                // return reply(from, 'Maaf! Fitur ini hanya tersedia untuk Event Natal saja!', id)
                if (!isOwner) return reply(from, 'Err: 403!')
                
                try {
                    const limit = args[1] ? Math.min(parseInt(args[1]), 10) : 10
                    const leaderboard = await getChristmasLeaderboard(limit)
                    
                    if(leaderboard.length === 0) {
                        return reply(from, 'üèÜ Belum ada pemain yang berpartisipasi di Christmas Event ini!', id)
                    }
                    
                    let lbDisplay = `üèÜ *CHRISTMAS EVENT LEADERBOARD* üèÜ\n\n`
                    lbDisplay += `üí∞ Top ${leaderboard.length} Biggest Spender\n\n`
                    
                    leaderboard.forEach((user, index) => {
                        const medal = index === 0 ? 'ü•á' : index === 1 ? 'ü•à' : index === 2 ? 'ü•â' : `${index + 1}.`
                        const userId = user.iId.replace('@s.whatsapp.net', '')
                        const spent = numberWithCommas(fixNumberE(user.economy?.evntChristmas?.spentToken || 0))
                        lbDisplay += `${medal} wa.me/${userId}\nü™ô Token Spent: ${spent}\n\n`
                    })
                    
                    lbDisplay += `*¬© RemComp 2025*`
                    return reply(from, lbDisplay, id)
                } catch (err) {
                    console.error(err)
                    return reply(from, 'Terjadi kesalahan saat mengambil leaderboard :(', id)
                }
                break
            case prefix+'christmasshop':
            case prefix+'xmashop':
            case prefix+'xshop':
                // return reply(from, 'Maaf! Fitur ini hanya tersedia untuk Event Natal saja!', id)
                if (!isOwner) return reply(from, 'Err: 403!')
                
                try {
                    const shop = await getChristmasShopInventory()
                    
                    if(args.length === 1) {
                        // menu shop
                        let shopDisplay = `üõçÔ∏è *CHRISTMAS DAILY SHOP* üõçÔ∏è\n\n`
                        let itemNum = 1
                        for (const [key, item] of Object.entries(shop.items)) {
                            shopDisplay += `${itemNum}. *${item.name}*\n   Harga: ${numberWithCommas(item.price)} Token\n   Stok: ${item.qty}\n\n`
                            itemNum++
                        }
                        shopDisplay += `\nKetik *${prefix}xshop [nomor] [jumlah]* untuk membeli\n`
                        shopDisplay += `Contoh: *${prefix}xshop 1 2* (membeli item 1 sebanyak 2)\n\n`
                        shopDisplay += `‚è±Ô∏è Shop akan tereset dalam 24 jam!\n‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ\n*¬© RemComp 2025*`
                        return reply(from, shopDisplay, id)
                    } else if(args.length >= 2) {
                        const itemIndex = parseInt(args[1]) - 1
                        const quantity = args[2] ? parseInt(args[2]) : 1
                        
                        const itemKeys = Object.keys(shop.items)
                        console.log('a')
                        if(itemIndex < 0 || itemIndex >= itemKeys.length) {
                            return reply(from, `‚ùå Nomor item tidak valid! Gunakan *${prefix}xshop* untuk melihat daftar item.`, id)
                        }
                        
                        const itemId = itemKeys[itemIndex]
                        const item = shop.items[itemId]
                        const totalPrice = item.price * quantity
                        
                        if(itemId.includes('nametag')) {
                            const currentNameTagList = getNameTagList(_userDb) || []
                            const shopNameTag = item.name.replace('‚ú® Custom NameTag: ', '')
                            console.log('a')
                            if(currentNameTagList.includes(shopNameTag)) {
                                return reply(from, `‚ùå Kamu sudah memiliki NameTag "*${shopNameTag}*"!\nTidak bisa membeli NameTag yang sama dua kali.`, id)
                            }
                        }
                        
                        const userToken = await getToken(_userDb)       
                        console.log('a')
                        if(userToken < totalPrice) {
                            const shortOf = numberWithCommas(fixNumberE(totalPrice - userToken))
                            return reply(from, `‚ùå Token kamu tidak cukup!\nButuh: ${numberWithCommas(fixNumberE(totalPrice))}\nKekurangan: ${shortOf}`, id)
                        }
                        
                        const purchaseResult = await buyChristmasShopItem(itemId, quantity)
                        console.log('a')
                        if(!purchaseResult.success) {
                            return reply(from, `‚ùå ${purchaseResult.message}`, id)
                        }
                        
                        await MinToken(sender, totalPrice)
                        
                        if(itemId.includes('token')) {
                            const tokenAmount = parseInt(itemId.split('_')[1]) * quantity
                            await addToken(sender, tokenAmount)
                        } else if(itemId.includes('frag')) {
                            const fragAmount = parseInt(itemId.split('_')[1]) * quantity
                            await addFrag(sender, fragAmount)
                        } else if(itemId.includes('limit')) {
                            const limitAmount = parseInt(itemId.split('_')[1]) * quantity
                            await limitAdd(sender, limitAmount)
                        } else if(itemId.includes('xp')) {
                            const xpAmount = parseInt(itemId.split('_')[1]) * quantity
                            await addLevelingXp(sender, xpAmount)
                        } else if(itemId.includes('nametag')) {
                            const shop = await getChristmasShopInventory()
                            const customNameTag = shop.items.nametag.name.replace('‚ú® Custom NameTag: ', '')
                            await addNameTag_tag(sender, customNameTag)
                        }
                        console.log('a')
                        
                        await addChristmasSpentToken(sender, totalPrice)
                        
                        const purchaseMsg = `‚úÖ *PEMBELIAN BERHASIL* ‚úÖ\n\nKamu membeli:\n${item.name} x${quantity}\n\nüí∞ Harga: ${numberWithCommas(fixNumberE(totalPrice))}\n\nTerimakasih telah berbelanja di Christmas Shop!\n*¬© RemComp 2025*`
                        return reply(from, purchaseMsg, id)
                    }
                } catch (err) {
                    console.error(err)
                    return reply(from, 'Terjadi kesalahan saat mengakses shop :(', id)
                }
                break
            case prefix+'christmastoken':
            case prefix+'xmastoken':
            case prefix+'xtoken':
                // return reply(from, 'Maaf! Fitur ini hanya tersedia untuk Event Natal saja!', id)
                if (!isOwner) return reply(from, 'Err: 403!')
                
                if(args.length == 1) {
                    const tokenChristmas = numberWithCommas(getToken(_userDb))
                    const isSpyToken = getUserItemSpy(_userDb)
                    const tokenText = `ü™ô Token Christmas: ${isSpyToken ? tokenChristmas : '#####'}`
                    await reply(from, tokenText)
                } else if(args[1] == 'add') {
                    if(!isSideOwner) return reply(from, 'Err: 403!')
                    if(quotedMsg) {
                        let token = quotedMsg.sender
                        const amountTokenAdd = Math.floor(args[2])
                        await addToken(token, amountTokenAdd)
                        if(isMention) {
                            rem.sendTextWithMentions(from, `Success Add Token Christmas untuk @${token.replace('@s.whatsapp.net', '')}!\n\nUpdated!\nü™ô Token Christmas: ${numberWithCommas(fixNumberE(_userDb.economy.evntChristmas.token + Number(amountTokenAdd)))} `)
                        } else {
                            rem.sendText(from, `Success Add Token Christmas wa.me/${token.replace('@s.whatsapp.net','')}!\n\nUpdated!\nü™ô Token Christmas: ${numberWithCommas(fixNumberE(_userDb.economy.evntChristmas.token + Number(amountTokenAdd)))}`)
                        }
                    } else if(args.length == 4) {
                        if(!args[3].includes('@s.whatsapp.net')) return reply(from, 'Args[3] Harus berupa @s.whatsapp.net ID', id)
                        let token = args[3]
                        const amountTokenAdd = Math.floor(args[2])
                        await addToken(token, amountTokenAdd)
                        if(isMention) {
                            rem.sendTextWithMentions(from, `Success Add Token Christmas untuk @${token.replace('@s.whatsapp.net', '')}!\n\nUpdated!\nü™ô Token Christmas: ${numberWithCommas(fixNumberE(_userDb.economy.evntChristmas.token + Number(amountTokenAdd)))} `)
                        } else {
                            rem.sendText(from, `Success Add Token Christmas wa.me/${token.replace('@s.whatsapp.net','')}!\n\nUpdated!\nü™ô Token Christmas: ${numberWithCommas(fixNumberE(_userDb.economy.evntChristmas.token + Number(amountTokenAdd)))}`)
                        }
                    } else {
                        return reply(from, 'Invalid', id)
                    }
                } else if(args[1] == 'min') {
                    if(!isOwner) return reply(from, 'Err: 403!', id)
                    if(quotedMsg) {
                            let token2 = quotedMsg.sender
                            if(getToken(_userDb) === undefined) await setToken(token2)
                            const amountTokenMin = Math.floor(args[2])
                            await MinToken(token2, amountTokenMin)
                            if(isMention) {
                            rem.sendTextWithMentions(from, `Success Add Token Christmas untuk @${token2.replace('@s.whatsapp.net', '')}!\n\nUpdated!\nü™ô Token Christmas: ${numberWithCommas(fixNumberE(_userDb.economy.evntChristmas.token - Number(amountTokenMin)))} `)
                            } else {
                                rem.sendText(from, `Success Add Token Christmas wa.me/${token2.replace('@s.whatsapp.net','')}!\n\nUpdated!\nü™ô Token Christmas: ${numberWithCommas(fixNumberE(_userDb.economy.evntChristmas.token - Number(amountTokenMin)))}`)
                            }
                    } else if(args.length == 4) {
                        if(!args[3].includes('@s.whatsapp.net')) return reply(from, 'Args[3] Harus berupa @s.whatsapp.net ID', id)
                        let token2 = args[3]
                        const amountTokenMin = Math.floor(args[2])
                        await MinToken(token2, amountTokenMin)
                        if(isMention) {
                            rem.sendTextWithMentions(from, `Success Add Token Christmas untuk @${token2.replace('@s.whatsapp.net', '')}!\n\nUpdated!\nü™ô Token Christmas: ${numberWithCommas(fixNumberE(_userDb.economy.evntChristmas.token - Number(amountTokenMin)))} `)
                        } else {
                            rem.sendText(from, `Success Add Token Christmas wa.me/${token2.replace('@s.whatsapp.net','')}!\n\nUpdated!\nü™ô Token Christmas: ${numberWithCommas(fixNumberE(_userDb.economy.evntChristmas.token - Number(amountTokenMin)))}`)
                        }
                    } else {
                        return reply(from, 'Invalid', id)
                    }
                } else if(args[1] == 'reset') {
                    if(!isOwner) return reply(from, 'Err: 403!', id)
                    if(quotedMsg) {
                        let token2 = quotedMsg.sender
                        await _mongo_UserSchema.updateOne({ iId: token2 }, { $set: { "economy.evntChristmas.token": 0 } })
                        if(isMention) {
                            rem.sendTextWithMentions(from, `Success Reset Token Christmas @${token2.replace('@s.whatsapp.net','')}!`)
                        } else {
                            rem.sendText(from, `Success Reset Token Christmas wa.me/${token2.replace('@s.whatsapp.net','')}!`)
                        }
                    } else if(args.length == 3) {
                        if(!args[2].includes('@s.whatsapp.net')) return reply(from, 'Args[2] Harus berupa @s.whatsapp.net ID', id)
                        let token2 = args[2]
                        await _mongo_UserSchema.updateOne({ iId: token2 }, { $set: { "economy.evntChristmas.token": 0 } })
                        if(isMention) {
                            rem.sendTextWithMentions(from, `Success Reset Token Christmas @${token2.replace('@s.whatsapp.net','')}!`)
                        } else {
                            rem.sendText(from, `Success Reset Token Christmas wa.me/${token2.replace('@s.whatsapp.net','')}!`)
                        }
                    } else {
                        return reply(from, 'Invalid', id)
                    }
                }
                break
            case prefix+'christmasfrag':
            case prefix+'xmasfrag':
            case prefix+'xfrag':
                // return reply(from, 'Maaf! Fitur ini hanya tersedia untuk Event Natal saja!', id)
                if (!isOwner) return reply(from, 'Err: 403!')

                if(args.length == 1) {
                    const fragmentChristmas = numberWithCommas(getFrag(_userDb))
                    const isSpyFrag = getUserItemSpy(_userDb)
                    const fragText = `ÔøΩ Fragment Christmas: ${isSpyFrag ? fragmentChristmas : '#####'}`
                    await reply(from, fragText)
                } else if(args[1] == 'add') {
                    if(!isOwner) return reply(from, 'Err: 403!')
                    if(quotedMsg) {
                        let frag = quotedMsg.sender
                        const amountFragAdd = Math.floor(args[2])
                        await addFrag(frag, amountFragAdd)
                        if(isMention) {
                            rem.sendTextWithMentions(from, `Success Add Fragment Christmas untuk @${frag.replace('@s.whatsapp.net', '')}!\n\nUpdated!\nüß© Fragment Christmas: ${numberWithCommas(fixNumberE(_userDb.economy.evntChristmas.frag + Number(amountFragAdd)))} `)
                        } else {
                            rem.sendText(from, `Success Add Fragment Christmas wa.me/${frag.replace('@s.whatsapp.net','')}!\n\nUpdated!\nüß© Fragment Christmas: ${numberWithCommas(fixNumberE(_userDb.economy.evntChristmas.frag + Number(amountFragAdd)))}`)
                        }
                    } else if(args.length == 4) {
                        if(!args[3].includes('@s.whatsapp.net')) return reply(from, 'Args[3] Harus berupa @s.whatsapp.net ID', id)
                        let frag = args[3]
                        const amountFragAdd = Math.floor(args[2])
                        await addFrag(frag, amountFragAdd)
                        if(isMention) {
                            rem.sendTextWithMentions(from, `Success Add Fragment Christmas untuk @${frag.replace('@s.whatsapp.net', '')}!\n\nUpdated!\nüß© Fragment Christmas: ${numberWithCommas(fixNumberE(_userDb.economy.evntChristmas.frag + Number(amountFragAdd)))} `)
                        } else {
                            rem.sendText(from, `Success Add Fragment Christmas wa.me/${frag.replace('@s.whatsapp.net','')}!\n\nUpdated!\nüß© Fragment Christmas: ${numberWithCommas(fixNumberE(_userDb.economy.evntChristmas.frag + Number(amountFragAdd)))}`)
                        }
                    } else {
                        return reply(from, 'Invalid', id)
                    }
                } else if(args[1] == 'min') {
                    if(!isOwner) return reply(from, 'Err: 403!', id)
                    if(quotedMsg) {
                        let frag2 = quotedMsg.sender
                        const amountFragMin = Math.floor(args[2])
                        await MinFrag(frag2, amountFragMin)
                        if(isMention) {
                            rem.sendTextWithMentions(from, `Success Reduce Fragment Christmas untuk @${frag2.replace('@s.whatsapp.net', '')}!\n\nUpdated!\nüß© Fragment Christmas: ${numberWithCommas(fixNumberE(_userDb.economy.evntChristmas.frag - Number(amountFragMin)))} `)
                        } else {
                            rem.sendText(from, `Success Reduce Fragment Christmas wa.me/${frag2.replace('@s.whatsapp.net','')}!\n\nUpdated!\nüß© Fragment Christmas: ${numberWithCommas(fixNumberE(_userDb.economy.evntChristmas.frag - Number(amountFragMin)))}`)
                        }
                    } else if(args.length == 4) {
                        if(!args[3].includes('@s.whatsapp.net')) return reply(from, 'Args[3] Harus berupa @s.whatsapp.net ID', id)
                        let frag2 = args[3]
                        const amountFragMin = Math.floor(args[2])
                        await MinFrag(frag2, amountFragMin)
                        if(isMention) {
                            rem.sendTextWithMentions(from, `Success Reduce Fragment Christmas untuk @${frag2.replace('@s.whatsapp.net', '')}!\n\nUpdated!\nüß© Fragment Christmas: ${numberWithCommas(fixNumberE(_userDb.economy.evntChristmas.frag - Number(amountFragMin)))} `)
                        } else {
                            rem.sendText(from, `Success Reduce Fragment Christmas wa.me/${frag2.replace('@s.whatsapp.net','')}!\n\nUpdated!\nüß© Fragment Christmas: ${numberWithCommas(fixNumberE(_userDb.economy.evntChristmas.frag - Number(amountFragMin)))}`)
                        }
                    } else {
                        return reply(from, 'Invalid', id)
                    }
                } else if(args[1] == 'reset') {
                    if(!isOwner) return reply(from, 'Err: 403!', id)
                    if(quotedMsg) {
                        let frag2 = quotedMsg.sender
                        await _mongo_UserSchema.updateOne({ iId: frag2 }, { $set: { "economy.evntChristmas.frag": 0 } })
                        if(isMention) {
                            rem.sendTextWithMentions(from, `Success Reset Token Christmas @${frag2.replace('@s.whatsapp.net','')}!`)
                        } else {
                            rem.sendText(from, `Success Reset Token Christmas wa.me/${frag2.replace('@s.whatsapp.net','')}!`)
                        }
                    } else if(args.length == 3) {
                        if(!args[2].includes('@s.whatsapp.net')) return reply(from, 'Args[2] Harus berupa @s.whatsapp.net ID', id)
                        let frag2 = args[2]
                        await _mongo_UserSchema.updateOne({ iId: frag2 }, { $set: { "economy.evntChristmas.frag": 0 } })
                        if(isMention) {
                            rem.sendTextWithMentions(from, `Success Reset Token Christmas @${frag2.replace('@s.whatsapp.net','')}!`)
                        } else {
                            rem.sendText(from, `Success Reset Token Christmas wa.me/${frag2.replace('@s.whatsapp.net','')}!`)
                        }
                    } else {
                        return reply(from, 'Invalid', id)
                    }
                }
                break
            case prefix+'christmasgiftbox':
            case prefix+'xmasgiftbox':
            case prefix+'xgbox':
                // return reply(from, 'Maaf! Fitur ini hanya tersedia untuk Event Natal saja!', id)
                // gacha
                if (!isOwner) return reply(from, 'Err: 403!')
                
                try {
                    if(args.length === 1) {
                        const gacha1Msg = `üéÅ *CHRISTMAS GIFT BOX GACHA* üéÅ\n
üíé *Premium Box* (Hadiah Terbaik)
üí∞ Harga: 10,000 Money ATAU 5 Fragment per Box
‚Ä¢ Ultra Rare (1%): Token, Fragment, Money, XP, Limit
‚Ä¢ Very Rare (7%): Token, Fragment, Money, XP, Limit
‚Ä¢ Rare (17%): Token, Fragment, Money, XP, Limit
‚Ä¢ Common (75%): Token, Fragment, Money, XP, Limit

‚≠ê *Standard Box* (Hadiah Normal)
üí∞ Harga: 5,000 Money ATAU 3 Fragment per Box
‚Ä¢ Very Rare (3%): Token, Fragment, Money, XP, Limit
‚Ä¢ Rare (12%): Token, Fragment, Money, XP, Limit
‚Ä¢ Uncommon (35%): Token, Fragment, Money, XP, Limit
‚Ä¢ Common (50%): Money, XP, Limit

üé™ *Lucky Box* (Hadiah Berbeda-beda)
üí∞ Harga: 1,000 Money ATAU 1 Fragment per Box
‚Ä¢ Rare (5%): Token, Fragment, Money, XP, Limit
‚Ä¢ Uncommon (20%): Token, Fragment, Money, XP, Limit
‚Ä¢ Common (75%): Money, XP, Limit

Ketik *${prefix}xgbox [tipe] [jumlah] [currency]* untuk gacha
Contoh: *${prefix}xgbox premium 2 money* (gacha pakai money)
Atau: *${prefix}xgbox premium 2 frag* (gacha pakai fragment)

Tipe: premium / standard / lucky
Currency: money / frag (default: money)

*¬© RemComp 2025*`
                        return reply(from, gacha1Msg, id)
                    }
                    
                    const boxType = args[1]?.toLowerCase()
                    const quantity = args[2] ? parseInt(args[2]) : 1
                    const currency = args[3]?.toLowerCase() || 'money'
                    
                    let totalPrice, boxName, currencyName
                    
                    if(!['money', 'frag'].includes(currency)) {
                        return reply(from, `‚ùå Currency tidak valid! Gunakan: money atau frag`, id)
                    }

                    console.log('a')
                    
                    let moneyPerBox, fragPerBox
                    
                    if(boxType === 'premium') {
                        moneyPerBox = 10000
                        fragPerBox = 5
                        boxName = 'üíé Premium Box'
                    } else if(boxType === 'standard') {
                        moneyPerBox = 5000
                        fragPerBox = 3
                        boxName = '‚≠ê Standard Box'
                    } else if(boxType === 'lucky') {
                        moneyPerBox = 1000
                        fragPerBox = 1
                        boxName = 'üé™ Lucky Box'
                    } else {
                        return reply(from, `‚ùå Tipe box tidak dikenal! Gunakan: premium, standard, atau lucky`, id)
                    }
                    
                    const userMoney = getMoney(_userDb)
                    const userFrag = getFrag(_userDb)
                    
                    if(currency === 'money') {
                        totalPrice = moneyPerBox * quantity
                        currencyName = 'Money'
                        
                        if(userMoney < totalPrice) {
                            const shortOf = numberWithCommas(fixNumberE(totalPrice - userMoney))
                            return reply(from, `‚ùå Money kamu tidak cukup!\nButuh: ${numberWithCommas(fixNumberE(totalPrice))}\nKekurangan: ${shortOf}`, id)
                        }
                        
                        await MinMoney(sender, totalPrice)
                    } else if(currency === 'frag') {
                        totalPrice = fragPerBox * quantity
                        currencyName = 'Fragment'
                        console.log('a')
                        if(userFrag < totalPrice) {
                            const shortOf = numberWithCommas(fixNumberE(totalPrice - userFrag))
                            return reply(from, `‚ùå Fragment kamu tidak cukup!\nButuh: ${numberWithCommas(fixNumberE(totalPrice))}\nKekurangan: ${shortOf}`, id)
                        }
                        
                        await MinFrag(sender, totalPrice)
                    }
                    
                    let totalRewards = { token: 0, frag: 0, money: 0, xp: 0, limit: 0 }
                    
                    for(let i = 0; i < quantity; i++) {
                        const reward = generateChristmasReward(boxType)
                        totalRewards.token += reward.token
                        totalRewards.frag += reward.frag
                        totalRewards.money += reward.money
                        totalRewards.xp += reward.xp
                        totalRewards.limit += reward.limit
                    }
                    
                    // rewards
                    if(totalRewards.token > 0) await addToken(sender, totalRewards.token)
                    if(totalRewards.frag > 0) await addFrag(sender, totalRewards.frag)
                    if(totalRewards.money > 0) await addMoney(sender, totalRewards.money)
                    if(totalRewards.xp > 0) await addLevelingXp(sender, totalRewards.xp)
                    if(totalRewards.limit > 0) for(let i = 0; i < totalRewards.limit; i++) await limitAdd(sender)
                    
                    const gachaMsg = `${boxName} üéÅ\n
‚úÖ *GACHA BERHASIL!*

üìä *Total Rewards:*
ü™ô Token: +${totalRewards.token}
üß© Fragment: +${totalRewards.frag}
üí∞ Money: +${numberWithCommas(fixNumberE(totalRewards.money))}
üìà XP Level: +${totalRewards.xp}
üìä Limit: +${totalRewards.limit}
üí∏ Total Dihabiskan: ${numberWithCommas(fixNumberE(totalPrice))} ${currencyName}

Kembali untuk gacha lagi! üéâ

*¬© RemComp 2025* `
                    
                    return reply(from, gachaMsg, id)
                } catch (err) {
                    console.error(err)
                    return reply(from, 'Terjadi kesalahan saat gacha :(', id)
                }
                break
            case prefix+'eventchristmasgiftboxhunt2025santaclaushappychristmas':
            case prefix+'xmasgiftboxhunt':
            case prefix+'xgboxhunt':
            case prefix+'xh':
                // return reply(from, 'Maaf! Fitur ini hanya tersedia untuk Event Natal saja!', id)
                if (!isOwner) return reply(from, 'Err: 403!')
                if (!isGroupMsg) return reply(from, 'Perintah ini hanya bisa di gunakan dalam group!', id)
                
                try {
                    const xhuntCooldown = 300000
                    const lastXhuntTime = _userDb.lastAction?.envtChristmas?.xhunt || 0

                    if(Date.now() - lastXhuntTime < xhuntCooldown && !isOwner) {
                        const timeLeft = Math.ceil((xhuntCooldown - (Date.now() - lastXhuntTime)) / 60000);
                        return reply(from, `üéÅ *Christmas Gift Box Hunt* üéÅ\n\nKamu harus menunggu *${timeLeft} menit* lagi untuk berburu Gift Box!`, id)
                    }

                    const giftBoxLocations = [
                        `pohon-natal`, `perapian`, `kamar-tidur`, `halaman-rumah`, `taman`, 
                        `remcomp`, `dapur`, `ruang-tamu`, `teras`, `garasi`, `sofa`, 
                        `meja-makan`, `lemari`, `atap`, `danau`, `tetangga`, `salju`, `pohon` 
                    ]

                    if(args.length === 1) {
                        let locationsText = ''
                        giftBoxLocations.forEach(loc => {
                            locationsText += `‚ö¨ ${loc}\n`
                        })

                        return reply(from, `üéÅ *Christmas Gift Box Hunt* üéÅ\n
üéØ *Misi:* Cari GiftBox yang di sembunyikan oleh Pak Santa di berbagai lokasi dan dapatkan hadiah!

üìú *Cara bermain:*\nKetik *${prefix}xgboxhunt [lokasi]* untuk mencari gift box\n
üó∫Ô∏è *Lokasi yang tersedia:*\n${locationsText}\n*Note:* _Setiap lokasi mungkin memiliki gift box biasa atau gift box langka yang berharga!_`, id)
                    }
                     
                    const location = args[1].toLowerCase()
                    if(!giftBoxLocations.includes(location)) {
                        return reply(from, `üéÅ *Christmas Gift Box Hunt* üéÅ\n\nLokasi *${giftBoxLocations}* tidak tersedia. Gunakan *${prefix}xgboxhunt* untuk melihat daftar lokasi yang tersedia.`, id)
                    }

                    await _mongo_UserSchema.updateOne({ iId: sender }, { $set: { "lastAction.envtChristmas.xhunt": Date.now() } })
                    const foundChance = Math.random() * 100
                    const found = foundChance <= 30

                    if(found) {
                        console.log('a')
                        const boxRand = Math.random() * 100
                        let giftBoxType, reward, token, frag, money, xpLevel, limit
                        const rewardNameTag = "`üéÅ WINNER REMCOMP GIFT BOX üéâ`"

                        if(boxRand < 0.1) {
                            // RemComp Box - 0.1%
                            giftBoxType = 'remcomp'
                            const rewardTier = Math.random() * 100
                            if(rewardTier < 1) {
                                reward = generateChristmasReward('remcomp')
                                reward.token = Math.floor(Math.random() * 5) + 15
                                reward.frag = Math.floor(Math.random() * 10) + 15
                                giftBoxType = "üéÅ WINNER REMCOMP GIFT BOX üéâ"
                                const checkExistingNameTag = await getNameTagList(_userDb)
                                if(checkExistingNameTag === undefined) {
                                    await addNameTag_tag(sender, rewardNameTag)
                                }
                            } else {
                                reward = generateChristmasReward('premium')
                                giftBoxType = "‚ú® Remcomp Gift Box"
                            }
                        } else if(boxRand < 1.1) {
                            // Golden Box - 1%
                            giftBoxType = "üíõ Golden Gift Box"
                            reward = generateChristmasReward('golden')
                        } else if(boxRand < 3.1) {
                            // Diamond Box - 2%
                            giftBoxType = "üíé Diamond Gift Box"
                            reward = generateChristmasReward('premium')
                        } else if(boxRand < 8.1) {
                            // Silver Box - 5%
                            giftBoxType = "üî≤ Silver Gift Box"
                            reward = generateChristmasReward('standard')
                        } else {
                            // Bronze Box (Common) - 92%
                            giftBoxType = "üü´ Bronze Gift Box"
                            reward = generateChristmasReward('lucky')
                        }
                        
                        token = reward.token
                        frag = reward.frag
                        money = reward.money
                        xpLevel = reward.xp
                        limit = reward.limit

                        
                        await addToken(sender, token)
                        await addFrag(sender, frag)
                        await addMoney(sender, money)
                        await addLevelingXp(sender, xpLevel)
                        for(let i = 0; i < limit; i++) await limitAdd(sender)

                        const textGiftBoxHunt = `üéÅ *${giftBoxType}* üéÅ\n
Selamat! Kamu menemukan Gift Box di lokasi *${location}*!

üí∞ Hadiah:
üí∞ Money: +${numberWithCommas(fixNumberE(money))}
ü™ô Token: +${token}
üß© Fragment: +${frag}
üìà XP Level: +${xpLevel}
üìä Limit: +${limit}

Kembali lagi setelah *5 menit* untuk berburu Gift Box lainnya!

*¬© RemComp 2025*`
                        
                        return reply(from, textGiftBoxHunt, id)
                    } else {
                        // not found
                        return reply(from, `üéÅ *Gift Box Hunt* üéÅ\n\nKamu mencari dengan teliti di *${giftBoxLocations}* tapi tidak menemukan satupun Gift Box. üòî\n\nCoba lagi nanti dan cari lokasi lainnya!`, id)

                        // const getNotFoundPngChristmas = await import('./lib/database/christmasPng/christmasNotFoundEvent.png')
                        // const pngPathNotFound = path.resolve(getNotFoundPngChristmas)
                        // const bufferNotFoundPngChristmas = fs.readFileSync(pngPathNotFound)

                        // const textNotFoundGiftBoxHunt = `üéÅ *Gift Box Hunt* üéÅ\n\nKamu mencari dengan teliti di *${giftBoxLocations}* tapi tidak menemukan satupun Gift Box. üòî\n\nCoba lagi nanti dan cari lokasi lainnya!`
                
                        // return sendFile(from, bufferNotFoundPngChristmas, 'christmasNotFoundEvent.png', textNotFoundGiftBoxHunt, messageRaw, image)
                    }
                } catch (err) {
                    console.error(err);
                    reply(from, 'Terjadi kesalahan saat mencari *Gift Box* :(', id)
                }
                break
            case prefix+'exchangechristmasfrag':
            case prefix+'exchangexmasfrag':
            case prefix+'exchangexfrag':
            case prefix+'exfrag':
                // return reply(from, 'Maaf! Fitur ini hanya tersedia untuk Event Natal saja!', id)
                if (!isOwner) return reply(from, 'Err: 403!')
                
                try {
                    const tokenBalance = getToken(_userDb)
                    
                    if(args.length === 1) {
                        const exchangeMsg = `üîÑ *EXCHANGE TOKEN TO FRAGMENT* üîÑ\n
üí± *Exchange Rate:*

10 Token ‚Üí 1 Fragment

üìä *Your Balance:*
ü™ô Token: ${numberWithCommas(tokenBalance)}
üß© Fragment: ${numberWithCommas(getFrag(_userDb))}

Ketik *${prefix}exchangexfrag [jumlah]* untuk menukar
Contoh: *${prefix}exchangexfrag 10* (tukar 10 token menjadi 1 fragment)
Atau *${prefix}exchangexfrag all* (tukar semua token)

*¬© RemComp 2025*`
                        return reply(from, exchangeMsg, id)
                    }
                    
                    let tokensToExchange
                    if(args[1]?.toLowerCase() === 'all') {
                        tokensToExchange = tokenBalance
                    } else {
                        tokensToExchange = parseInt(args[1])
                        if(isNaN(tokensToExchange) || tokensToExchange <= 0) {
                            return reply(from, `‚ùå Jumlah token tidak valid! Gunakan *${prefix}exchangexfrag* untuk info.`, id)
                        }
                    }
                    
                    if(tokenBalance < tokensToExchange) {
                        return reply(from, `‚ùå Token kamu tidak cukup!\nBalance: ${numberWithCommas(tokenBalance)}\nButuh: ${numberWithCommas(tokensToExchange)}`, id)
                    }
                    
                    if(tokensToExchange % 10 !== 0) {
                        return reply(from, `‚ùå Token yang ditukar harus kelipatan 10!\nContoh: 10, 20, 30, dst.`, id)
                    }
                    
                    const fragToGet = tokensToExchange / 10
                    
                    await MinToken(sender, tokensToExchange)
                    await addFrag(sender, fragToGet)
                    
                    const exchangeMsg2 = `‚úÖ *EXCHANGE BERHASIL* ‚úÖ\n
üí± Tukar:

ü™ô Token: -${numberWithCommas(tokensToExchange)}
üß© Fragment: +${numberWithCommas(fragToGet)}

üìä *Balance Baru:*
ü™ô Token: ${numberWithCommas(fixNumberE(tokenBalance - tokensToExchange))}
üß© Fragment: ${numberWithCommas(fixNumberE(getFrag(_userDb) + fragToGet))}

*¬© RemComp 2025*`
                    return reply(from, exchangeMsg2, id)
                } catch (err) {
                    console.error(err)
                    return reply(from, 'Terjadi kesalahan saat exchange :(', id)
                }
                break
        
        //
        // case prefix+'addsaudara':
        // case prefix+'addbro':
        //     if(!isSideOwner) return reply(from, 'Err: 403!')
        //     if (!isGroupMsg) return reply(from, 'Perintah ini hanya bisa digunakan dalam grup!', id)
        //     if (mentionedJidList.length === 0) return reply(from, `Format salah! Gunakan ${prefix}addbro @tag`, id)
        //     if (mentionedJidList.length > 1) return reply(from, 'Maaf, hanya bisa menambahkan 1 orang', id)
                
        //     const targetAdd = mentionedJidList[0]
        //     const checkExistingSaudara = await getSaudara(sender)
        //     if (checkExistingSaudara && checkExistingSaudara.includes(targetAdd)) {
        //         return rem.sendTextWithMentions(from, `@${targetAdd} sudah ada dalam daftar saudara kamu!`, id)
        //     }

        //     //mintak setujuan
        //     const requestId = GenerateSerialNumber("000000000000000")
        //     await rem.sendButtons(targetAdd,
        //         `*„Äå PERMINTAAN PERSAUDARAAN „Äç*\n\n@${sender.replace('@s.whatsapp.net', '')} ingin menambahkan kamu sebagai saudara.\n\nApakah kamu menyetujui permintaan ini?`,
        //         [
        //             {id: `${prefix}addbro_confirm _${requestId}_ ${sender}`, text: 'Setuju ‚úÖ'},
        //             {id: `${prefix}addbro_reject _${requestId}_ ${sender}`, text: 'Tolak ‚ùå'}
        //         ], '', '', [sender]
        //     )
        //     rem.sendTextWithMentions(from, `Permintaan untuk menambahkan @${targetAdd.replace('@s.whatsapp.net', '')} sebagai saudara telah dikirim. Menunggu persetujuan...`, id, [targetAdd])

        //     //button
        //     if (message.selectedButtonId && message.selectedButtonId.startsWith('addbro_confirm')) {
        //         const parts = message.selectedButtonId.split('_')
        //         const requestId = parts[3]
        //         const requester = parts[4]
             
        //         await addSaudara(requester, sender)
        //         await addSaudara(sender, requester)
                
        //         rem.sendTextWithMentions(from, `‚úÖ Permintaan persaudaraan telah disetujui. @${requester.replace('@s.whatsapp.net', '')} dan @${sender.replace('@s.whatsapp.net', '')} sekarang menjadi saudara.`, id, [requester, sender])
        //         //notif ke pemohon
        //         rem.sendTextWithMentions(requester, `‚úÖ @${sender.replace('@s.whatsapp.net', '')} telah menyetujui permintaan persaudaraan kamu.`, [sender])
        //     } else if (message.selectedButtonId && message.selectedButtonId.startsWith('addbro_reject')) {
        //         const parts = message.selectedButtonId.split('_')
        //         const requestId = parts[3]
        //         const requester = parts[4]
                
        //         reply(from, `‚ùå Permintaan persaudaraan telah ditolak.`, id)
                
        //         //notif ke pemohon
        //         rem.sendTextWithMentions(requester, `‚ùå @${sender.replace('@s.whatsapp.net', '')} telah menolak permintaan persaudaraan kamu.`, [sender])
        //     }
        //     break
        // case prefix+'rmsaudara':
        // case prefix+'rmbro':
        //     if(!isSideOwner) return reply(from, 'Err: 403!')
        //     if (!isGroupMsg) return reply(from, 'Perintah ini hanya bisa digunakan dalam grup!', id)
        //     if (mentionedJidList.length === 0) return reply(from, `Format salah! Gunakan ${prefix}rmsaudara @tag`, id)
        //     if (mentionedJidList.length > 1) return reply(from, 'Maaf, hanya bisa menghapus 1 orang', id)
    
        //     const targetRemove = mentionedJidList[0]
        //     const checkSaudara = await getSaudara(sender)
        //     if (!checkSaudara || !checkSaudara.includes(targetRemove)) {
        //         return rem.sendTextWithMentions(from, `@${targetRemove} tersebut tidak ada dalam daftar saudara kamu!`, id)
        //     }
    
        //     const requestRemoveId = GenerateSerialNumber("000000000000000")
        //     await rem.sendButtons(
        //         targetRemove,
        //         `*PERMINTAAN PENGHAPUSAN PERSAUDARAAN*\n\nwa.me/${sender.replace('@s.whatsapp.net', '')} ingin menghapus kamu dari daftar saudara.\n\nApakah kamu menyetujui permintaan ini?`,
        //         [
        //             {id: `confirm_saudara_remove_${requestRemoveId}_${sender}`, text: 'Setuju ‚úÖ'},
        //             {id: `reject_saudara_remove_${requestRemoveId}_${sender}`, text: 'Tolak ‚ùå'}
        //         ], '', '', [sender]
        //     )
    
        //     rem.sendTextWithMentions(from, `Permintaan untuk menghapus @${targetRemove.replace('@s.whatsapp.net', '')} dari daftar saudara telah dikirim. Menunggu persetujuan...`, id, [targetRemove])
        //     //button
        //     if (message.selectedButtonId && message.selectedButtonId.startsWith('confirm_saudara_remove_')) {
        //         const parts = message.selectedButtonId.split('_')
        //         const requestId = parts[3]
        //         const requester = parts[4]
                
        //         await removeSaudara(requester, sender)
        //         await removeSaudara(sender, requester)
                
        //         reply(from, `‚úÖ Permintaan penghapusan persaudaraan telah disetujui. @${requester.replace('@s.whatsapp.net', '')} dan @${sender.replace('@s.whatsapp.net', '')} bukan lagi saudara.`, id, [requester, sender])
        //         //notif ke pemohon
        //         rem.sendTextWithMentions(requester, `‚úÖ @${sender.replace('@s.whatsapp.net', '')} telah menyetujui permintaan penghapusan persaudaraan.`, [sender])
        //     } else if (message.selectedButtonId && message.selectedButtonId.startsWith('reject_saudara_remove_')) {
        //         const parts = message.selectedButtonId.split('_')
        //         const requestId = parts[3]
        //         const requester = parts[4]
                
        //         reply(from, `‚ùå Permintaan penghapusan persaudaraan telah ditolak.`, id)
        //         //notif ke pemohon
        //         rem.sendTextWithMentions(requester, `‚ùå @${sender.replace('@s.whatsapp.net', '')} telah menolak permintaan penghapusan persaudaraan kamu.`, [sender])
        //     }
        //     break
        case prefix+'togel':
            const getTogelCmd = await _mongo_CommandSchema.findOne({ cId: 'togel' })
            if(args[1] == undefined) {
                const isSpyTogel = getUserItemIdSpy(_userDb)
                reply(from, `*Game Togel*

Player yang mengikuti: *${getTogelCmd.content.length}* Player
Jumlah hadiah terkumpul: *$${numberWithCommas(getTogelCmd.options.money)}*
‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ
Money: $${isSpyTogel ? '#####' : numberWithCommas(_userDb.economy.money)}
‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ
Harga Tiket:
1. $10k
2. $25k
3. $50k
4. $100k
5. $500k
6. $1.000K
‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ

Untuk membeli tiket, Ketik
*_${prefix}togel <nomer urut tiket> <nomer>_*

Contoh: *_${prefix}togel 3 751_*

*Note: <nomer> silahkan memilih sendiri*

*Game ini adalah tentang, menebak nomer dengan benar*
Sistem akan memilih nomer random dari 1 - 1000
Jika nomer yang kamu pilih sama dengan sistem, maka kamu menang
Semoga beruntung!

Sistem akan mengundi setiap 1 jam

Jika ada yang menang/menebak nomer dengan benar
Maka Jumlah hadiah terkumpul akan diberikan kepada pemenang

Jika tidak ada yang menang, maka Jumlah hadiah terkumpul akan disimpan, 
untuk game selanjutnya`, id)
            } else if(args[1] != undefined) {
                if(args[2] == undefined) return reply(from, `*_<nomer> tidak boleh kosong!_*\nContoh: *_${prefix}togel 3 751_*`)

                if(getTogelCmd.content.map(all => all.iId).includes(sender)) {
                    const time12 = new Date()
                    time12.setHours(time12.getHours() + 1, 0, 0, 0)

                    const remaining = getTimeRemaining(time12)
                    return reply(from, `*Kamu sudah membeli tiket togel dengan nomer *${getTogelCmd.content.find(all => all.iId == sender).number}*\nAkan diundi setiap 1 jam\n*${remaining.hours} Jam ${remaining.minutes} Menit ${remaining.seconds} Detik*`, id)
                }

                const number = Number(args[2])
                if(isNaN(number)) return reply(from, `*_<nomer> harus berupa angka!_*\nContoh: *_${prefix}togel 3 751_*`)
                if(number < 1 || number > 1000) return reply(from, `*_<nomer> harus berada diantara 1 - 1000!_*\nContoh: *_${prefix}togel 3 751_*`)
                if(getTogelCmd.content.map(all => all.number).includes(number)) return reply(from, `*_<nomer> sudah digunakan!_*\nSilahkan memilih nomer lain!`)

                let buyTicket = 0
                if(args[1] == '1') {
                    buyTicket = 10000
                } else if(args[1] == '2') {
                    buyTicket = 25000
                } else if(args[1] == '3') {
                    buyTicket = 50000
                } else if(args[1] == '4') {
                    buyTicket = 100000
                } else if(args[1] == '5') {
                    buyTicket = 500000
                } else if(args[1] == '6') {
                    buyTicket = 1000000
                } else {
                    return reply(from, `*_<nomer urut tiket> tidak valid!_*\nContoh: *_${prefix}togel 3 751_*`)
                }

                if(_userDb.economy.money < buyTicket) return reply(from, `*Uang kamu tidak cukup untuk membeli tiket ini!*\n\nUang kamu: $${_userDb.economy.money}\nHarga Tiket: $${buyTicket}`, id)

                await MinMoney(sender, buyTicket)
                await _mongo_CommandSchema.updateOne({ cId: 'togel' }, { $push: { content: { iId: sender, number: number } }, $inc: { 'options.money': buyTicket } })
                reply(from, `*Selamat kamu berhasil membeli tiket togel dengan nomer *${number}*\nAkan diundi setiap 1 jam`, id)
            }
            break
        case prefix+'sr':
            const sr = args[1]
            try {
            const response1 = await axios.get('https://meme-api.herokuapp.com/gimme/' + sr + '/');
            const { postLink, title, subreddit, url, nsfw, spoiler } = response1.data
                if (nsfw == true) {
                    if ((isGroupMsg) && (isNsfw)) {
                        await rem.sendFile(from, `${url}`, 'Reddit.jpg', `*Title*: ${title}` + '\n\n*Postlink*:' + `${postLink}`, false, image)
                    } else if ((isGroupMsg) && (!isNsfw)) {
                        await reply(from, `Nsfw belum diaktifkan di Grup *${name}*`, id)
                    }
                } else { 
                    await rem.sendFile(from, `${url}`, 'Reddit.jpg', `*Title*: ${title}` + '\n\n*Postlink*:' + `${postLink}`, false, image)
                }
            } catch(err) {
                await reply(from, 'Maaf reddit tidak ditemukan')
            }
            break
        case prefix+'nhder':
            return reply(from, `_Fitur ini sudah tidak dilanjutkan, silahkan memakai *${prefix}nhentai*_`)
            //if (!isGroupMsg) return reply(from, 'Perintah ini hanya bisa di gunakan dalam group!', id)
            if (!isNsfw) return reply(from, 'command/Perintah NSFW belum di aktifkan di group ini!', id)
            //if (isLimit(_userDb)) return reply(from, `Maaf ${pushname}, Kuota Limit Kamu Sudah Habis, Ketik ${prefix}limit Untuk Mengecek Kuota Limit Kamu`, id)
            
            await limitAdd(serial)
            if (args.length >=2){
                const code = args[1]
                const url = 'https://nhder.herokuapp.com/download/nhentai/'+code+'/zip'
                const shortener = await urlShortener(url)
                const caption = `*DOUJIN DOWNLOADER*\n\nLink: ${shortener}\n\nNote : _Fitur ini sudah tidak dilanjutkan, silahkan memakai *${prefix}nhentai*_`
                rem.sendText(from, caption)
            } else {
                rem.sendText(from, 'Maaf tolong masukan code nuclear')
            }
            break
        /*case prefix+'wallpaper' :
            if (!isGroupMsg) return reply(from, 'Perintah ini hanya bisa di gunakan dalam group!', id)
            //reply(from, 'Disabled, Error', id)
            const walnime = await axios.get(`https://api.vhtear.com/walpaper?query=${body.slice(11)}&apikey=${vhtearkey}`)
            const bangwall = walnime.data.result
            let walnimek = bangwall[Math.floor(Math.random() * bangwall.length)]
            rem.sendFile(from, walnimek.LinkImg, '', body.slice(11), id)
            break*/
        case prefix+'zerochan':
            return reply(from, `_Fitur ini sudah tidak dilanjutkan, silahkan memakai *${prefix}waifu*_`)
            if (args.length == 1) return reply(from, `Kirim perintah *${prefix}waifu <query*\nContoh : _${prefix}waifu Ema yasuhara_`)
            var urlWaifuZeroChan = ''
            const zerochan1 = []
            await fetch('https://www.zerochan.net/'+ encodeURIComponent(body.slice(10)) , { 
                method: 'get' 
            }) 
            .then(res => res.text()) 
            .then(res => {
                const $ = cheerio.load(res)
                if($('p#fullMessage').text() == "No such tag. Back to Index") return console.log('Not Found')
                $("head").each((i, data1) => {
                    $(data1).find("link").each(function(a, b) {
                        if($(b).attr("rel") == ("canonical")) {
                            urlWaifuZeroChan = $(b).attr('href')
                        }
                    })
                })
                $("#thumbs2").each((i, data) => {
                    $(data).find("li").each(function(c, d) {
                        $(d).find("p").each(function(e, f) {
                            $(f).each(function(g, h) {
                                $(h).find("a").each(function(i, j) {
                                    if($(j).attr('href').startsWith('http')) {
                                        zerochan1.push($(j).attr('href'))
                                    }
                                })
                            })
                        })
                    })
                })
            })

            //console.log(urlWaifuZeroChan)
            if(urlWaifuZeroChan != '') {
                for(let i = 0; i < 9; i++) {
                    await fetch(urlWaifuZeroChan + `?p=${i+1}` , { 
                        method: 'get' 
                    }) 
                    .then(res => res.text()) 
                    .then(res => {
                        const $ = cheerio.load(res)
                        $("#thumbs2").each((i, data) => {
                            $(data).find("li").each(function(c, d) {
                                $(d).find("p").each(function(e, f) {
                                    $(f).each(function(g, h) {
                                        $(h).find("a").each(function(i, j) {
                                            if($(j).attr('href').startsWith('http')) {
                                                zerochan1.push($(j).attr('href'))
                                            }
                                        })
                                    })
                                })
                            })
                        })
                    })
                }
            } else {
            await fetch('https://www.zerochan.net/search?q='+ encodeURIComponent(body.slice(10)) , { 
                method: 'get' 
            }) 
            .then(res => res.text()) 
            .then(res => {
                const $ = cheerio.load(res)
                $("#content").each((i, data2) => {
                    $(data2).find("p").each(function(k, l) {
                        if($(l).attr('style') == 'text-align: center;' ) {
                            if($(l).text() == 'Some content is for members only, please ') {
                                return console.log('Not Found2')
                            }
                        }
                    })
                })
                $("head").each((i, data1) => {
                    $(data1).find("link").each(function(a, b) {
                        if($(b).attr("rel") == ("canonical")) {
                            urlWaifuZeroChan = $(b).attr('href')
                        }
                    })
                })
                $("#thumbs2").each((i, data) => {
                    $(data).find("li").each(function(c, d) {
                        $(d).find("p").each(function(e, f) {
                            $(f).each(function(g, h) {
                                $(h).find("a").each(function(i, j) {
                                    if($(j).attr('href').startsWith('http')) {
                                        zerochan1.push($(j).attr('href'))
                                    }
                                })
                            })
                        })
                    })
                })
            })

            if(urlWaifuZeroChan != '') {
            for(let i = 0; i < 9; i++) {
                await fetch(urlWaifuZeroChan + `?p=${i+1}` , { 
                    method: 'get' 
                }) 
                .then(res => res.text()) 
                .then(res => {
                    const $ = cheerio.load(res)
                    $("#thumbs2").each((i, data) => {
                        $(data).find("li").each(function(c, d) {
                            $(d).find("p").each(function(e, f) {
                                $(f).each(function(g, h) {
                                    $(h).find("a").each(function(i, j) {
                                        if($(j).attr('href').startsWith('http')) {
                                            zerochan1.push($(j).attr('href'))
                                        }
                                    })
                                })
                            })
                        })
                    })
                })
            }
            }
        }
            //await sleep(3000)
            if(zerochan1[0] == undefined || zerochan1[0] == null) return reply(from, `*${body.slice(10)}* Tidak ditemukan`, id)
            const zerochan2 = zerochan1[Math.floor(Math.random() * zerochan1.length)]
            rem.sendFile(from, zerochan2, 'zerochan.jpg', `*${body.slice(10)}*\n\n${zerochan2}`, messageRaw, image)
            break
        case prefix+'meme':
            //if (!isGroupMsg) return reply(from, 'Perintah ini hanya bisa di gunakan dalam group!', id)
            //if (isLimit(_userDb)) return reply(from, `Maaf ${pushname}, Kuota Limit Kamu Sudah Habis, Ketik ${prefix}limit Untuk Mengecek Kuota Limit Kamu`, id)
            //return reply(from, 'Maintenance...', id)
            await limitAdd(serial)
            const getMemeList = await requestWithProxy(`https://lahelu.com/api/post/get-shuffle`)
            const selectMemeList = getMemeList.data.postInfo

            const imageMeme = await requestWithProxy(`https://cache.lahelu.com/${selectMemeList.media}`, { responseType: 'arraybuffer' })
            rem.sendFileAuto(from, imageMeme.data, '', `*[ _${selectMemeList.userUsername}_ ]*\n${selectMemeList.title}\n\n*Source : lahelu.com*`, messageRaw)
            break
        case prefix+'quotesnime':
            //if (!isGroupMsg) return reply(from, 'Perintah ini hanya bisa di gunakan dalam group!', id)
            //if (isLimit(_userDb)) return reply(from, `Maaf ${pushname}, Kuota Limit Kamu Sudah Habis, Ketik ${prefix}limit Untuk Mengecek Kuota Limit Kamu`, id)
            
            await limitAdd(serial)
                        if(args[1]){
                            if(args[1] === 'anime'){
                                axios.get(`https://animechan.xyz/api/quotes/anime?title=${body.slice(18)}`).then(({ data }) => {
                                    console.log(data)
                                    const randomAnimeQoute = Math.floor(Math.random() * data.length)
                                    rem.sendText(from, `"${data[randomAnimeQoute].quote}"\n\nCharacter : ${data[randomAnimeQoute].character}\nAnime : ${data[randomAnimeQoute].anime}`)
                                }).catch(err => {
                                    console.error(err)
                                    rem.sendText(from, 'Quote Char/Anime tidak ditemukan!')
                                })
                            }else{
                                axios.get(`https://animechan.xyz/api/quotes/character?name=${body.slice(12)}`).then(({ data }) => {
                                    const randomAnimeQoute2 = Math.floor(Math.random() * data.length)
                                    rem.sendText(from, `"${data[randomAnimeQoute2].quote}"\n\nCharacter : ${data[randomAnimeQoute2].character}\nAnime : ${data[randomAnimeQoute2].anime}`)
                                }).catch(err => {
                                    console.error(err)
                                    rem.sendText(from, 'Quote Char/Anime tidak ditemukan!')
                                })
                            }
                        }else{
                            axios.get('https://animechan.xyz/api/random').then(({ data }) => {
                                rem.sendText(from, `"${data.quote}"\n\nCharacter : ${data.character}\nAnime : ${data.anime}`)                               
                            }).catch(err => {
                                console.error(err)
                            })
                        }
            break
        case prefix+'zippy':
            return reply(from, 'Maaf, Website zippy sudah tidak ada lagi\n\nhttps://zippyshare.com/', id)
            //if(isGroupMsg) return reply(from, 'Maaf, Fitur ini hanya bisa digunakan di private chat!', id)
            if (args.length == 1) return reply(from, `Mohon masukkan url\nContoh : _${prefix}zippy https://www22.zippyshare.com/v/M2vJEKyo/file.html_`, id)
            if (!args[1].includes('zippyshare.com')) return reply(from, `Mohon masukkan url\nContoh : _${prefix}zippy https://www22.zippyshare.com/v/M2vJEKyo/file.html_`, id)
            await rem.sendText(from, 'File sedang didownload, Mohon tunggu sebentar')
            const getLink_zippy_down = await GetLink(args[1])
            console.log(getLink_zippy_down)
            if(getLink_zippy_down.error) return rem.sendText(from, `Error!\n${getLink_zippy_down.message}`)
            try {
                // const fileZippyDownload = await fetch(getLink_zippy_down.url);  
                await rem.sendFileAuto(from, { url: getLink_zippy_down.url }, getLink_zippy_down.name, `*${getLink_zippy_down.name}*`, messageRaw)
                console.log('Succes')
            } catch(err) {
                console.error(err)
                return rem.sendText('Error!\nMungkin size file melebihi limit whatsapp')
            }
            //await rem.sendFile(from, getLink_zippy_down, '', `*${getLink_zippy_down}*`, id)
            //fs.unlinkSync(getLink_zippy_down)
            break
        case prefix+'komiku':
            if (args.length == 1) return reply(from, `Mohon masukkan nama manga\nContoh : _${prefix}komiku sword art online_`)
            
            const getKomikuListManga = await axios.get(`https://api.komiku.id/?post_type=manga&s=${encodeURIComponent(body.slice(8))}`)
            const $ = cheerio.load(getKomikuListManga.data)
            const komikuListManga = []
            $('*div.bge').each((i, e) => {
                // const image = $(e).find('div.bgei > a > img').attr('src')
                const title = $(e).find('div.kan > a > h3').text()
                const subtitle = $(e).find('div.kan > span').text()
                const url = 'https://komiku.id' + $(e).find('div.kan > a').attr('href')

                komikuListManga.push({ title, subtitle, url })
            })
            if(komikuListManga.length == 0) return reply(from, 'Manga tidak ditemukan!')

            const rowsKomiku = []
            for(let i = 0; i < komikuListManga.length; i++) {
                rowsKomiku.push({ title: komikuListManga[i].title.trim(), description: komikuListManga[i].subtitle.trim(), rowId: `${prefix}komikuget chapter ${komikuListManga[i].url}` })
            }

            const sectionsKomiku = [{ title: "Komiku.id", rows: rowsKomiku }]
            await rem.sendList(from, "Pilih Manga\n_komiku.id_", sectionsKomiku, 'Manga', '@dwirizqi.h')
            break
        case prefix+'komikuget':
            if(message.selectedRowId == undefined) return reply(from, 'Invalid!')

            if(allArgs[1] == 'chapter') {
                const getKomikuPage = await axios.get(allArgs[2])
                const $ = cheerio.load(getKomikuPage.data)
                const komikuChapter = []
                $('#Daftar_Chapter > tbody > *tr').each((i, e) => {
                    const url = $(e).find('td.judulseries > a').attr('href')
                    const chapter = $(e).find('td.judulseries > a > span').text()
                    const date = $(e).find('td.tanggalseries').text()

                    if(!chapter) return
                    
                    komikuChapter.push({ url, chapter, date })
                })

                const title = $('#Informasi > table > tbody > tr:nth-child(1) > td:nth-child(2)').text()
                const synopsis = $('#Judul > p.desc').text()
                const imageKomiku = $('#Informasi > div > img').attr('src')
                const genre = []
                $('#Informasi > ul > *li').each((i, e) => { genre.push($(e).text()) })

                await rem.sendFile(from, imageKomiku, 'image.png', `*${title.trim()}*\n\n*Genre :* ${genre.join(', ')}\n\n${synopsis.trim()}`, '', image)

                const rowsKomikuGet = []
                for(let i = 0; i < komikuChapter.length; i++) {
                    rowsKomikuGet.push({ title: komikuChapter[i].chapter.trim(), description: komikuChapter[i].date.trim(), rowId: `${prefix}komikuget get https://komiku.id${komikuChapter[i].url} ${encodeURIComponent(title.trim())} ${imageKomiku}` })
                }
    
                const sectionsKomikuGet = [{ title: "Komiku.id", rows: rowsKomikuGet }]
                await rem.sendList(from, "Pilih Chapter\n_komiku.id_", sectionsKomikuGet, 'Manga', '@dwirizqi.h')
            } else if(allArgs[1] == 'get') {
                reply(from, 'Sedang mengambil data, mohon tunggu sebentar...')
                const getKomikuPage = await axios.get(allArgs[2])
                const $ = cheerio.load(getKomikuPage.data)

                const randomId = GenerateSerialNumber("00000000")
                const pathRandomKomiku = path.join(__dirname, `./lib/cache/pdf/${randomId}.pdf`)

                let doc = new PDFDocument({ autoFirstPage: false });
                doc.pipe(fs.createWriteStream(pathRandomKomiku));

                const listImage = []
                const proccessImage = new Promise((resolve, reject) => {
                    $('#Baca_Komik > *img').each(async (i, e) => {
                        const url = await $(e).attr('src')
                        const image = await axios.get(url, { responseType: 'arraybuffer' })

                        let dataImage = image.data
                        let bufferStream = new stream.PassThrough();
                        if(url.endsWith('.webp')) {
                            const streamRead = stream.Readable.from(image.data, { objectMode: false })

                            new ffmpeg({ source: streamRead })
                                .toFormat('image2')
                                .writeToStream(bufferStream)
                                .on('error', (err) => {
                                    console.log(err)
                                })

                            const buffers = [];
                            bufferStream.on('data', function (buf) {
                                buffers.push(buf);
                            });
                            bufferStream.on('end', function () {
                                dataImage = Buffer.concat(buffers);
                                listImage.push({ id: i, image: dataImage })
                                if(i == $('#Baca_Komik > *img').length - 1) resolve()
                            });
                        } else {
                            listImage.push({ id: i, image: dataImage })
                            if(i == $('#Baca_Komik > *img').length - 1) resolve()
                        }
                    })
                })

                proccessImage.then(async () => {
                    await sleep(5000)
                    listImage.sort((a, b) => a.id - b.id)
                    for(let i = 0; i < listImage.length; i++) {
                        const images = doc.openImage(listImage[i].image)
                        await doc.addPage({size: [images.width, images.height]})
                        await doc.image(listImage[i].image, 0, 0);
                    }
    
                    await doc.end()
                    await rem.sendFile(from, pathRandomKomiku, `${decodeURIComponent(allArgs[3])}.pdf`, '', '', document, 'application/pdf', false, { jpegThumbnail: (await axios.get(allArgs[4], { responseType: 'arraybuffer' })).data })
                    await fs.unlinkSync(pathRandomKomiku)
                })
            }
            break
        case prefix+'downanime':
            // if(!isOwner) return reply(from, 'Maaf, Fitur ini dalam masa pengembangan', id)
            // if(!isVirtualBot) return reply(from, 'Maaf, Fitur ini dalam masa pengembangan', id)
            if(isGroupMsg) return reply(from, 'Maaf, Fitur ini hanya bisa digunakan di private chat!', id)
            if (args.length == 1 && type != 'listResponseMessage') return reply(from, `Mohon masukkan nama anime\nContoh : _${prefix}downanime sono bisque doll_`, id)
            
            // const forwardToHerokuReq = (url) => {
            //     const herokuForward = 'https://heroku-request.herokuapp.com'
            //     const herokuForwardKey = '7CA15eQ914Obkv1fanff'
            //     return `${herokuForward}/request?key=${herokuForwardKey}&url=${url}`
            // }

            // const forwardToHerokuRen = (url) => {
            //     const herokuForward = 'https://heroku-request.herokuapp.com'
            //     const herokuForwardKey = '7CA15eQ914Obkv1fanff'
            //     return `${herokuForward}/render?key=${herokuForwardKey}&url=${url}`
            // }
            
            // const proxyGetDownAnime = await axios.get(`https://gimmeproxy.com/api/getProxy?country=ID&protocol=socks4,socks5`)
            // const proxyOptions = `${proxyGetDownAnime.data.protocol}://${proxyGetDownAnime.data.ip}:${proxyGetDownAnime.data.port}`;
            // const httpsAgent = new SocksProxyAgent(proxyOptions);
            
            const baseDomainOtakudesu = 'https://otakudesu.cam'
            //const searchUrlAnime = `${forwardToHerokuReq(encodeURIComponent(`https://${baseDomainOtakudesu}/?s=${body.slice(11)}&post_type=anime`))}`
            const searchUrlAnime = `${baseDomainOtakudesu}/?s=${body.slice(11)}&post_type=anime`
            if(message.selectedRowId == undefined) {
                //Search Anime
                let result = []
                await axios.get(searchUrlAnime)
                .then(res => res.data) 
                .then(async (res) => {
                    const $ = cheerio.load(res)
                    await $('div.page > ul.chivsrc > *li').each(async (a, b) => {
                        const img = $(b).find('img').attr('src')
                        const title = $(b).find('h2').find('a').text()
                        const url = $(b).find('h2').find('a').attr('href')
                        await result.push({ title: title, url: url, img: img })
                    })

                    if(result == '') {
                        reply(from, 'Not Found!')
                    } else {
                        const rows = []
                        for(let i = 0; i < result.length; i++) {
                            rows.push({ title: result[i].title, description: result[i].url, rowId: `${prefix}downanime anime ${JSON.stringify(result[i])}` })
                        }
            
                        const sections = [{ title: "otakudesu.cam", rows: rows }]
                        await rem.sendList(from, "Pilih Anime\n_otakudesu.cam_", sections, 'Anime', '@dwirizqi.h')
                    }
                })
                
            //GetEps
            } else if(message.selectedRowId.split(' ')[1] == 'anime') {
                const searchUrlAnimeEps = JSON.parse(message.selectedRowId.replace(`${prefix}downanime anime `, ''))

                rem.sendText(from, 'Scraping...')
                let resultEps = []

                await fetch(searchUrlAnimeEps.url)
                .then(res => res.text()) 
                .then(async (res) => {
                    const $ = cheerio.load(res)
                    $('div.venser > div:nth-child(8) > ul > *li').each((c, d) => {
                        const scrapingEps = { url: $(d).find('span > a').attr('href'), title: $(d).find('span > a').text() }
                        resultEps.push(scrapingEps)
                    })
                    resultEps.reverse()

                    const IdButtonAutoDelete = GenerateSerialNumber("000000000000000")
                    // const rows = [{ title: 'ALL', description: 'Download All Episodes', rowId: `${prefix}downanime down_all false ----${JSON.stringify(resultEps)}----${JSON.stringify(searchUrlAnimeEps)}----${IdButtonAutoDelete}` }]
                    const rows = []
                    for(let i = 0; i < resultEps.length; i++) {
                        rows.push({ title: resultEps[i].title, description: resultEps[i].url, rowId: `${prefix}downanime down_eps false ----${JSON.stringify(resultEps[i])}----${JSON.stringify(searchUrlAnimeEps)}----${IdButtonAutoDelete}` })
                    }
        
                    const sections = [{ title: "otakudesu.cam", rows: rows }]

                    const buttonMessageListSend = await rem.sendList(from, "Pilih Episodes\n_otakudesu.cam_", sections, 'Anime Episodes', '@dwirizqi.h')
                    await createAutoDelete(IdButtonAutoDelete, buttonMessageListSend.key.id, buttonMessageListSend.key.remoteJid)
                })

            } else if(message.selectedRowId.split(' ')[1].startsWith('down')) {
                const isDownloadAll = message.selectedRowId.split(' ')[1]
                const qualitySelect = message.selectedRowId.split(' ')[2] == 'false' ? false : message.selectedRowId.split(' ')[2]
                const dataLinkDownload = JSON.parse(message.selectedRowId.split('----')[1])
                const clctResource = JSON.parse(message.selectedRowId.split('----')[2])
                const oldButtonListId = message.selectedRowId.split('----')[3]

                //AutoDel
                const getMsgAutoDel = getAutoDelete(_botDb, oldButtonListId)
                if(getMsgAutoDel == undefined) return reply(from, 'Invalid!. Coba lagi')
                await rem.deleteMessage(getMsgAutoDel.msgFrom, { id: getMsgAutoDel.msgId, remoteJid: getMsgAutoDel.msgFrom, fromMe: true })
                await _mongo_BotSchema.updateOne({ id: 'CORE' }, { $pull: { MsgKey: oldButtonListId } })

                if(!qualitySelect) {
                    const getResQualityOtakudesu = await axios.get(dataLinkDownload?.url || dataLinkDownload?.[0]?.url)
                    const getResOtakudesu = getQualityOtakudesu(getResQualityOtakudesu.data)


                    const IdButtonAutoDelete = GenerateSerialNumber("000000000000000")
                    const rows = []
                    for(let i = 0; i < getResOtakudesu.length; i++) {
                        rows.push({ title: getResOtakudesu[i].textQuality, description: '', rowId: `${prefix}downanime ${isDownloadAll} ${i} ----${JSON.stringify(dataLinkDownload)}----${JSON.stringify(clctResource)}----${IdButtonAutoDelete}` })
                    }

                    const sections = [{ title: "otakudesu.cam", rows: rows }]
                    const buttonMessageListSend = await rem.sendList(from, "Pilih Quality\n_otakudesu.cam_", sections, 'Anime Quality', '@dwirizqi.h')
                    return await createAutoDelete(IdButtonAutoDelete, buttonMessageListSend.key.id, buttonMessageListSend.key.remoteJid)
                }

                await rem.sendFile(from, clctResource.img, 'downanime.png', `Judul : *${clctResource.title}*\n\n_${clctResource.url}_`, '', image)
                reply(from, mess.wait)

                async function downloadAndSendDownanime (url) {
                    const getDownAnime = await axios.get(url)
                    const qualityListDownAnime = getQualityOtakudesu(getDownAnime.data)
                    const qualitySelectDownAnime = qualityListDownAnime[Number(qualitySelect)]
                    const linkQualitySelect = qualitySelectDownAnime.listLinkDownload.find(all => all.textDownload.toLowerCase().trim() == 'mega') || qualitySelectDownAnime.listLinkDownload.find(all => all.textDownload.toLowerCase().trim() == 'otakufiles') || qualitySelectDownAnime.listLinkDownload.find(all => all.textDownload.toLowerCase() == 'racaty')

                    let resultDownAnime = undefined
                    let titleDownAnime = undefined

                    if(linkQualitySelect == undefined) {
                        let listAllDownAnimeLinkText = ''
                        for(let i = 0; i < qualitySelectDownAnime.listLinkDownload.length; i++) {
                            listAllDownAnimeLinkText += `\n\n${i + 1}. ${qualitySelectDownAnime.listLinkDownload[i].textDownload}\n   ${qualitySelectDownAnime.listLinkDownload[i].linkDownload}`
                        }
                        return reply(from, `Maaf, Bot tidak mendukung link download ini${listAllDownAnimeLinkText}`)
                    } else if(linkQualitySelect.textDownload.trim().toLowerCase() == 'mega') {
                        const bufferGetMegaDownAnime = await getBufferMega(linkQualitySelect.linkDownload, true)
                        resultDownAnime = bufferGetMegaDownAnime.data
                        titleDownAnime = bufferGetMegaDownAnime.attrMega?.name
                    } else if(linkQualitySelect.textDownload.trim().toLowerCase() == 'racaty') {
                        const linkGetRacatyDownAnime = await getLinkRacaty(linkQualitySelect.linkDownload)
                        resultDownAnime = linkGetRacatyDownAnime?.link
                        titleDownAnime = linkGetRacatyDownAnime?.title
                    } else if(linkQualitySelect.textDownload.trim().toLowerCase() == 'otakufiles') {
                        const bufferGetOtakuFilesDownAnime = await getBufferOtakuFiles(linkQualitySelect.linkDownload)
                        resultDownAnime = bufferGetOtakuFilesDownAnime.data
                        titleDownAnime = bufferGetOtakuFilesDownAnime.title
                    }

                    if(resultDownAnime == undefined) {
                        let listAllDownAnimeLinkText = ''
                        for(let i = 0; i < qualitySelectDownAnime.listLinkDownload.length; i++) {
                            listAllDownAnimeLinkText += `\n\n${i + 1}. ${qualitySelectDownAnime.listLinkDownload[i].textDownload}\n   ${qualitySelectDownAnime.listLinkDownload[i].linkDownload}`
                        }
                        return reply(from, `Maaf, Bot tidak mendukung link download ini${listAllDownAnimeLinkText}`)
                    }

                    return await rem.sendFile(from, resultDownAnime, titleDownAnime, titleDownAnime, '', document, 'video/mp4')
                }

                if(isDownloadAll == 'down_all') {
                    console.log(dataLinkDownload.length)
                    if(dataLinkDownload.length >= 30) return reply(from, 'Maaf, Bot tidak bisa mendownload lebih dari 30eps Karena keterbatasan bandwith')
                    for(let i = 0; i < dataLinkDownload.length; i++) {
                        await downloadAndSendDownanime(dataLinkDownload[i].url)
                    }
                } else {
                    await downloadAndSendDownanime(dataLinkDownload.url)
                }

                // if(isDownloadAll) {
                //     console.log(dataLinkDownload.length)
                //     if(dataLinkDownload.length >= 50) return reply(from, 'Maaf, Bot tidak bisa mendownload lebih dari 50eps Karena keterbatasan bandwith')
                //     let currentEps = 0
                //     rem.sendText(from, 'Downloading...')
    
                //     let checkS = undefined
                //     let $ = undefined
                //     let Search = undefined

                //     for(let i = currentEps; i < dataLinkDownload.length; i++) {
                //         await fetch(dataLinkDownload[currentEps].url)
                //         .then(res => res.text()) 
                //         .then(async (res) => {
                //             const $ = cheerio.load(res)
    
                //             if($('#venkonten > div.venser > div.venutama > div.download > ul > li:nth-child(1)').text() === '') {
                //                 Search = await _notFoundQualityHandler(res, 2)
                //                 if(Search == undefined) Search = await _notFoundQualityHandler(res, 1) 
                //                 let splitSize = Search.size.split(' ')
                //                 let size = Number(splitSize[0].replace(',', '.'))
                //                 if(splitSize[1] == 'Gb' || splitSize[1] == 'GB') size = Number(size * 1024)
    
                //                 let loop = 1
                //                 console.log(loop)
                //                 for(let i = 0; i < loop; i++) {
                //                     if(size >= 1000) {
                //                         if(Number(2 - i) <= -1) {
                //                             console.log('Error! Big')
                //                             Search = await _notFoundQualityHandler(res, 0)
                //                         } else {
                //                             Search = await _notFoundQualityHandler(res, 2-i)
                //                             if(Search == undefined) Search = await _notFoundQualityHandler(res, 1-i)
                //                             splitSize = Search.size.split(' ')
                //                             size = Number(splitSize[0].replace(',', '.'))
                //                             if(splitSize[1] == 'Gb' || splitSize[1] == 'GB') size = Number(size * 1024)
                //                             loop += 1
                //                         }
                //                     }
                //                 }
                //                 currentEps += 1
                //                 finalResult.push({ id: currentEps, res: Search })
                //             } else {
                //                 await fetch(dataLinkDownload[currentEps].url)
                //                 .then(res => res.text()) 
                //                 .then(async (res) => {
                //                     Search = await _epsQualityFunction(res, 2)  
                //                     if(Search == undefined) Search = await _epsQualityFunction(res, 1)
                //                     let splitSize = Search.size.split(' ')
                //                     let size = Number(splitSize[0].replace(',', '.'))
                //                     if(splitSize[1] == 'Gb' || splitSize[1] == 'GB') size = Number(size * 1024)
    
                //                     let loop = 1
                //                     for(let i = 0; i < loop; i++) {
                //                         if(size >= 1000) {
                //                             if(Number(2 - i) <= -1) {
                //                                 console.log('Error! Big')
                //                                 Search = await _epsQualityFunction(res, 0)
                //                             } else {
                //                                 Search = await _epsQualityFunction(res, 2-i)
                //                                 if(Search == undefined) Search = await _epsQualityFunction(res, 1-i)
                //                                 splitSize = Search.size.split(' ')
                //                                 size = Number(splitSize[0].replace(',', '.'))
                //                                 if(splitSize[1] == 'Gb' || splitSize[1] == 'GB') size = Number(size * 1024)
                //                                 loop += 1
                //                             }
                //                         }
                //                     }
                //                     currentEps += 1
                //                     console.log(currentEps)
                //                     finalResult.push({ id: currentEps, res: Search })
                //                 })
                //             }
                //         })
                //     }
                //     rem.sendText(from, 'Sending...')
                //     let posDownloadLink = undefined
                //     for(let i = 0; i < finalResult.length; i++) {
                //         posDownloadLink = await finalResult[i].res.download_links.findIndex(id => id.host.trim().toLowerCase() == 'racaty')
                //         // if(posDownloadLink == -1) posDownloadLink = await finalResult[i].res.download_links.findIndex(id => id.host.trim().toLowerCase() == 'zippyshare')
                //         if(posDownloadLink == -1) {
                //             let linkListAnime = ``
                //             for(let a = 0; a < finalResult[i].res.download_links.length; a++) {
                //                 linkListAnime += `${a+1}. *${finalResult[i].res.download_links[a].host}*\n${finalResult[i].res.download_links[a].link}\n\n`
                //             }
                //             reply(from, `Error!. tidak dapat mengirim\n\nJudul : ${finalResult[i].res.title}\nQuality : ${finalResult[i].res.quality}\nSize : ${finalResult[i].res.size}Link : \n${linkListAnime}`)
                //         } else {
                //             const identifyHostLink = finalResult[i].res.download_links[posDownloadLink].host
                //             let linkRawDownloadAnime = finalResult[i].res.download_links[posDownloadLink].link
                //             let linkDownloadAnime = undefined
    
                //             if(identifyHostLink.trim().toLowerCase() == 'zippyshare') {
                //                 linkDownloadAnime = await GetLink(linkRawDownloadAnime)
    
                //                 if(!linkDownloadAnime.error) {
                //                     try {
                //                         await rem.sendFile(from, linkDownloadAnime.url, linkDownloadAnime.name, '', '', document, 'video/mp4', true)
                //                     } catch (err) {
                //                         console.error(err)
                //                         let linkListAnime = ``
                //                         for(let a = 0; a < finalResult[i].res.download_links.length; a++) {
                //                             linkListAnime += `${a+1}. *${finalResult[i].res.download_links[a].host}*\n${finalResult[i].res.download_links[a].link}\n\n`
                //                         }
                //                         reply(from, `Error!. tidak dapat mengirim\n\nJudul : ${finalResult[i].res.title}\nQuality : ${finalResult[i].res.quality}\nSize : ${finalResult[i].res.size}Link : \n${linkListAnime}`)
                //                     }
                //                 } else {
                //                     let loopCheckZippy = 1
                //                     for(let i = 0; i < loopCheckZippy; i++) {
                //                         linkDownloadAnime = await GetLink(linkRawDownloadAnime)
                //                         if(linkDownloadAnime.error) {
                //                             if(loopCheckZippy < 10) {
                //                                 loopCheckZippy += 1
                //                             } else {
                //                                 linkDownloadAnime = undefined
                //                             }
                //                         }
                //                     }
    
                //                     if(linkDownloadAnime == undefined) {
                //                         posDownloadLink = await finalResult[i].res.download_links.findIndex(id => id.host.trim().toLowerCase() == 'racaty')
                //                         if(posDownloadLink == -1) {
                //                             let linkListAnime = ``
                //                             for(let a = 0; a < finalResult[i].res.download_links.length; a++) {
                //                                 linkListAnime += `${a+1}. *${finalResult[i].res.download_links[a].host}*\n${finalResult[i].res.download_links[a].link}\n\n`
                //                             }
                //                             reply(from, `Error!. tidak dapat mengirim\n\nJudul : ${finalResult[i].res.title}\nQuality : ${finalResult[i].res.quality}\nSize : ${finalResult[i].res.size}Link : \n${linkListAnime}`)
                //                         } else {
                //                             linkRawDownloadAnime = finalResult[i].res.download_links[posDownloadLink].link
                //                             linkDownloadAnime = await getLinkRacaty(linkRawDownloadAnime)

                //                             if(linkDownloadAnime == undefined || linkDownloadAnime.error) {
                //                                 linkDownloadAnime == undefined ? console.log('error no file') : console.log(linkDownloadAnime.errId)
                //                                 linkDownloadAnime == undefined ? console.log('error no file') :  console.log(linkDownloadAnime.err)

                //                                 let linkListAnime = ``
                //                                 for(let a = 0; a < finalResult[i].res.download_links.length; a++) {
                //                                     linkListAnime += `${a+1}. *${finalResult[i].res.download_links[a].host}*\n${finalResult[i].res.download_links[a].link}\n\n`
                //                                 }
                //                                 reply(from, `Error!. tidak dapat mengirim, mungkin file telah dihapus\n\nJudul : ${finalResult[i].res.title}\nQuality : ${finalResult[i].res.quality}\nSize : ${finalResult[i].res.size}Link : \n${linkListAnime}`)
                //                             } else {
                //                                 await rem.sendFile(from, linkDownloadAnime.link, linkDownloadAnime.title, '', '', document, 'video/mp4', true)
                //                             }
                //                         }
                //                     } else {
                //                         try {
                //                             await rem.sendFile(from, linkDownloadAnime.url, linkDownloadAnime.name, '', '', document, 'video/mp4', true)   
                //                         } catch (err) {
                //                             let linkListAnime = ``
                //                             for(let a = 0; a < finalResult[i].res.download_links.length; a++) {
                //                                 linkListAnime += `${a+1}. *${finalResult[i].res.download_links[a].host}*\n${finalResult[i].res.download_links[a].link}\n\n`
                //                             }
                //                             reply(from, `Error!. tidak dapat mengirim\n\nJudul : ${finalResult[i].res.title}\nQuality : ${finalResult[i].res.quality}\nSize : ${finalResult[i].res.size}Link : \n${linkListAnime}`)
                //                         }
                //                     }
                //                 }
                //             } else {
                //                 linkDownloadAnime = await getLinkRacaty(linkRawDownloadAnime)

                //                 if(linkDownloadAnime == undefined || linkDownloadAnime.error) {
                //                     linkDownloadAnime == undefined ? console.log('error no file') : console.log(linkDownloadAnime.errId)
                //                     linkDownloadAnime == undefined ? console.log('error no file') :  console.log(linkDownloadAnime.err)

                //                     let linkListAnime = ``
                //                     for(let a = 0; a < finalResult[i].res.download_links.length; a++) {
                //                         linkListAnime += `${a+1}. *${finalResult[i].res.download_links[a].host}*\n${finalResult[i].res.download_links[a].link}\n\n`
                //                     }
                //                     reply(from, `Error!. tidak dapat mengirim\n\nJudul : ${finalResult[i].res.title}\nQuality : ${finalResult[i].res.quality}\nSize : ${finalResult[i].res.size}Link : \n${linkListAnime}`)
                //                 } else {
                //                     try {
                //                         await rem.sendFile(from, linkDownloadAnime.link, linkDownloadAnime.title, '', '', document, 'video/mp4', true)
                //                     } catch (err) {
                //                         console.error(err)
                //                         let linkListAnime = ``
                //                         for(let a = 0; a < finalResult[i].res.download_links.length; a++) {
                //                             linkListAnime += `${a+1}. *${finalResult[i].res.download_links[a].host}*\n${finalResult[i].res.download_links[a].link}\n\n`
                //                         }
                //                         reply(from, `Error!. tidak dapat mengirim\n\nJudul : ${finalResult[i].res.title}\nQuality : ${finalResult[i].res.quality}\nSize : ${finalResult[i].res.size}Link : \n${linkListAnime}`)
                //                     }
                //                 }
                //             }
                //         }
                //     }

                // } else {
                //     let Search = undefined
                //     rem.sendText(from, 'Downloading...')

                //     console.log(dataLinkDownload.url)
                //     await fetch(dataLinkDownload.url)
                //         .then(res => res.text()) 
                //         .then(async (res) => {
                //             const $ = cheerio.load(res)

                //             if($('#venkonten > div.venser > div.venutama > div.download > ul > li:nth-child(1)').text() === '') {
                //                 Search = await _notFoundQualityHandler(res, 2)
                //                 if(Search == undefined) Search = await _notFoundQualityHandler(res, 1) 
                //                 let splitSize = Search.size.split(' ')
                //                 let size = Number(splitSize[0].replace(',', '.'))
                //                 if(splitSize[1] == 'Gb' || splitSize[1] == 'GB') size = Number(size * 1024)
    
                //                 let loop = 1
                //                 console.log(loop)
                //                 for(let i = 0; i < loop; i++) {
                //                     if(size >= 1000) {
                //                         if(Number(2 - i) <= -1) {
                //                             console.log('Error! Big')
                //                             Search = await _notFoundQualityHandler(res, 0)
                //                         } else {
                //                             Search = await _notFoundQualityHandler(res, 2-i)
                //                             if(Search == undefined) Search = await _notFoundQualityHandler(res, 1-i)
                //                             splitSize = Search.size.split(' ')
                //                             size = Number(splitSize[0].replace(',', '.'))
                //                             if(splitSize[1] == 'Gb' || splitSize[1] == 'GB') size = Number(size * 1024)
                //                             loop += 1
                //                         }
                //                     }
                //                 }

                //             } else {
                //                 Search = await _epsQualityFunction(res, 2)  
                //                 if(Search == undefined) Search = await _epsQualityFunction(res, 1)
                //                 let splitSize = Search.size.split(' ')
                //                 let size = Number(splitSize[0].replace(',', '.'))
                //                 if(splitSize[1] == 'Gb' || splitSize[1] == 'GB') size = Number(size * 1024)

                //                 let loop = 1
                //                 for(let i = 0; i < loop; i++) {
                //                     if(size >= 1000) {
                //                         if(Number(2 - i) <= -1) {
                //                             console.log('Error! Big')
                //                             Search = await _epsQualityFunction(res, 0)
                //                         } else {
                //                             Search = await _epsQualityFunction(res, 2-i)
                //                             if(Search == undefined) Search = await _epsQualityFunction(res, 1-i)
                //                             splitSize = Search.size.split(' ')
                //                             size = Number(splitSize[0].replace(',', '.'))
                //                             if(splitSize[1] == 'Gb' || splitSize[1] == 'GB') size = Number(size * 1024)
                //                             loop += 1
                //                         }
                //                     }
                //                 }
                //             }

                //             let posDownloadLink = await Search.download_links.findIndex(id => id.host.trim().toLowerCase() == 'racaty')
                //             console.log(posDownloadLink, Search.download_links)
                //             // if(posDownloadLink == -1) posDownloadLink = await Search.download_links.findIndex(id => id.host.trim().toLowerCase() == 'zippyshare')
                //             if(posDownloadLink == -1) {
                //                 console.log('Error no url supported')
                //                 console.log(Search.download_links)
                //                 let linkListAnime = ``
                //                 for(let a = 0; a < Search.download_links.length; a++) {
                //                     linkListAnime += `${a+1}. *${Search.download_links[a].host}*\n${Search.download_links[a].link}\n\n`
                //                 }
                //                 reply(from, `Error!. tidak dapat mengirim\n\nJudul : ${Search.title}\nQuality : ${Search.quality}\nSize : ${Search.size}Link : \n${linkListAnime}`)
                //             } else {
                //                 const identifyHostLink = Search.download_links[posDownloadLink].host
                //                 let linkDownloadAnime = undefined

                //                 console.log(identifyHostLink)
                //                 if(identifyHostLink.trim().toLowerCase() == 'zippyshare') {
                //                     linkDownloadAnime = await GetLink(Search.download_links[posDownloadLink].link)
                //                     console.log(linkDownloadAnime)
        
                //                     if(!linkDownloadAnime.error) {
                //                         try {
                //                             await rem.sendFile(from, linkDownloadAnime.url, linkDownloadAnime.name, '', '', document, 'video/mp4', true)
                //                         } catch (err) {
                //                             console.error(err)
                //                             let linkListAnime = ``
                //                             for(let a = 0; a < Search.download_links.length; a++) {
                //                                 linkListAnime += `${a+1}. *${Search.download_links[a].host}*\n${Search.download_links[a].link}\n\n`
                //                             }
                //                             reply(from, `Error!. tidak dapat mengirim\n\nJudul : ${Search.title}\nQuality : ${Search.quality}\nSize : ${Search.size}Link : \n${linkListAnime}`)
                //                         }
                //                     } else {
                //                         let loopCheckZippy = 1
                //                         for(let i = 0; i < loopCheckZippy; i++) {
                //                             linkDownloadAnime = await GetLink(Search.download_links[posDownloadLink].link)
                //                             if(linkDownloadAnime.error) {
                //                                 if(loopCheckZippy < 10) {
                //                                     loopCheckZippy += 1
                //                                 } else {
                //                                     linkDownloadAnime = undefined
                //                                 }
                //                             }
                //                         }
        
                //                         if(linkDownloadAnime == undefined) {
                //                             posDownloadLink = await Search.download_links.findIndex(id => id.host.trim().toLowerCase() == 'racaty')
                //                             if(posDownloadLink == -1) {
                //                                 let linkListAnime = ``
                //                                 for(let a = 0; a < Search.download_links.length; a++) {
                //                                     linkListAnime += `${a+1}. *${Search.download_links[a].host}*\n${Search.download_links[a].link}\n\n`
                //                                 }
                //                                 reply(from, `Error!. tidak dapat mengirim\n\nJudul : ${Search.title}\nQuality : ${Search.quality}\nSize : ${Search.size}Link : \n${linkListAnime}`)
                //                             } else {
                //                                 linkDownloadAnime = await getLinkRacaty(Search.download_links[posDownloadLink].link)
    
                //                                 if(linkDownloadAnime == undefined || linkDownloadAnime.error) {
                //                                     linkDownloadAnime == undefined ? console.log('error no file') : console.log(linkDownloadAnime.errId)
                //                                     linkDownloadAnime == undefined ? console.log('error no file') :  console.log(linkDownloadAnime.err)
    
                //                                     let linkListAnime = ``
                //                                     for(let a = 0; a < Search.download_links.length; a++) {
                //                                         linkListAnime += `${a+1}. *${Search.download_links[a].host}*\n${Search.download_links[a].link}\n\n`
                //                                     }
                //                                     reply(from, `Error!. tidak dapat mengirim, mungkin file telah dihapus\n\nJudul : ${Search.title}\nQuality : ${Search.quality}\nSize : ${Search.size}Link : \n${linkListAnime}`)
                //                                 } else {
                //                                     await rem.sendFile(from, linkDownloadAnime.link, linkDownloadAnime.title, '', '', document, 'video/mp4', true)
                //                                 }
                //                             }
                //                         } else {
                //                             try {
                //                                 await rem.sendFile(from, linkDownloadAnime.url, linkDownloadAnime.name, '', '', document, 'video/mp4', true)   
                //                             } catch (err) {
                //                                 console.error(err)
                //                                 let linkListAnime = ``
                //                                 for(let a = 0; a < Search.download_links.length; a++) {
                //                                     linkListAnime += `${a+1}. *${Search.download_links[a].host}*\n${Search.download_links[a].link}\n\n`
                //                                 }
                //                                 reply(from, `Error!. tidak dapat mengirim\n\nJudul : ${Search.title}\nQuality : ${Search.quality}\nSize : ${Search.size}Link : \n${linkListAnime}`)
                //                             }
                //                         }
                //                     }
                //                 } else {
                //                     linkDownloadAnime = await getLinkRacaty(Search.download_links[posDownloadLink].link)

                //                     if(linkDownloadAnime == undefined || linkDownloadAnime.error) {
                //                         linkDownloadAnime == undefined ? console.log('error no file') : console.log(linkDownloadAnime.errId)
                //                         linkDownloadAnime == undefined ? console.log('error no file') :  console.log(linkDownloadAnime.err)
    
                //                         let linkListAnime = ``
                //                         for(let a = 0; a < Search.download_links.length; a++) {
                //                             linkListAnime += `${a+1}. *${Search.download_links[a].host}*\n${Search.download_links[a].link}\n\n`
                //                         }
                //                         reply(from, `Error!. tidak dapat mengirim\n\nJudul : ${Search.title}\nQuality : ${Search.quality}\nSize : ${Search.size}Link : \n${linkListAnime}`)

                //                     } else {
                //                         try {
                //                             await rem.sendFile(from, linkDownloadAnime.link, linkDownloadAnime.title, '', '', document, 'video/mp4', true)
                //                         } catch (err) {
                //                             console.error(err)
                //                             let linkListAnime = ``
                //                             for(let a = 0; a < Search.download_links.length; a++) {
                //                                 linkListAnime += `${a+1}. *${Search.download_links[a].host}*\n${Search.download_links[a].link}\n\n`
                //                             }
                //                             reply(from, `Error!. tidak dapat mengirim\n\nJudul : ${Search.title}\nQuality : ${Search.quality}\nSize : ${Search.size}Link : \n${linkListAnime}`)
                //                         }
                //                     }
                //                 }
                //             }
                //         })
                        
                // }
            }
           break
        case prefix+'downanime':
            if(!isOwner) return reply(from, 'Maaf, Fitur ini dalam masa pengembangan', id)
            if(isGroupMsg) return reply(from, 'Maaf, Fitur ini hanya bisa digunakan di private chat!', id)
            if (args.length == 1) return reply(from, `Mohon masukkan nama anime\nContoh : _${prefix}downanime Higehiro_`, id)
            const searchQuery = await axios.get(`https://anime.kaedenoki.net/api/search/${body.slice(11)}`)
            const searchResult = searchQuery.data.search_results
            if(searchResult == null) {
                // const searchSS_notFound = await axios.get(`https://mnazria.herokuapp.com/api/screenshotweb?url=${searchQuery.data.baseUrl}`)
                return reply(from, `Anime ${body.slice(11)} Tidak ditemukan!`, id)
            } else {
                const searchResult_result = searchResult[0]
                const searchResult_anime0 = await axios.get(`https://anime.kaedenoki.net/api/anime/${searchResult_result.id}`)
                const searchResult_anime = searchResult_anime0.data
                let searchResult_genre = ``
                for (let i = 0; i < searchResult_result.genre_list.length; i++) {
                    if(Math.floor(searchResult_result.genre_list.length) - Math.floor(i) == 0) {
                        searchResult_genre += `${searchResult_result.genre_list[i].genre_title}`
                    } else {
                        searchResult_genre += `${searchResult_result.genre_list[i].genre_title}, `
                    }
                }
                await rem.sendFile(from, searchResult_result.thumb, 'anime.jpg', `Judul : _${searchResult_anime.title}_\nStatus : _${searchResult_anime.status}_\nRilis : _${searchResult_anime.release_date}_\nGenre : _${searchResult_genre}_\nScore : _${searchResult_anime.score}_\nTotal Eps : _${searchResult_anime.total_episode}_\nDurasi : ${searchResult_anime.duration}\nType : _${searchResult_anime.type}_\nSinopsis : _${searchResult_anime.synopsis}_\n\nFile sedang didownload & proses, 5 Menit¬±`, messageRaw, image)
                    const searchResult_epslist = searchResult_anime.episode_list.reverse()
                    if(!fs.existsSync(`./lib/cache/anime/${sender}`)) await fs.mkdirSync(`./lib/cache/anime/${sender}`)
                for (let i = 0; i < searchResult_epslist.length; i++) {
                    try {
                    const searchResult_download_anime0 = await axios.get(`https://anime.kaedenoki.net/api/eps/${searchResult_epslist[i].id}`)
                    const searchResult_download_anime = searchResult_download_anime0.data
                    console.log('Size '+Math.floor(searchResult_download_anime.quality.medium_quality.size.replace(/ MB/gi, '')))
                    if(Math.floor(searchResult_download_anime.quality.medium_quality.size.replace(/ MB/gi, '')) <= 63) {
                        if(fs.existsSync(`./lib/cache/anime/${sender}/${searchResult_download_anime.title}_${searchResult_download_anime.quality.medium_quality.quality}.mp4`)) await fs.unlinkSync(`./lib/cache/anime/${sender}/${searchResult_download_anime.title}_${searchResult_download_anime.quality.medium_quality.quality}.mp4`)
                        //console.log(searchResult_download_anime.quality.medium_quality.download_links[0].link)
                        var getLink_zippy_animedown = await GetLink(searchResult_download_anime.quality.medium_quality.download_links[0].link)
                        //console.log(getLink_zippy_animedown)
                        var buffered_video_anime0 = await fetch(getLink_zippy_animedown.url);
                        var buffered_video_anime = await buffered_video_anime0.buffer();
                        await fs.writeFile(`./lib/cache/anime/${sender}/${searchResult_download_anime.title}_${searchResult_download_anime.quality.medium_quality.quality}.mp4`, buffered_video_anime)
                        //await rem.sendFile(from, `./lib/cache/anime/${sender}/${searchResult_download_anime.title}_${searchResult_download_anime.quality.medium_quality.quality}.mp4`, `${searchResult_download_anime.title}_${searchResult_download_anime.quality.medium_quality.quality}.mp4`, `*${searchResult_download_anime.title}_${searchResult_download_anime.quality.medium_quality.quality}*\nSedang mengirim Eps ${i+2}, Mohon jangan spam`, id)
                        //await sendFileFromUrl(from, getLink_zippy_animedown.url, `${searchResult_download_anime.title}_${searchResult_download_anime.quality.medium_quality.quality}.mp4`, '', id)
                        console.log('Succes download Anime(Medium) '+searchResult_download_anime.title)
                        //fs.unlinkSync(`./lib/cache/anime/${sender}/${searchResult_download_anime.title}_${searchResult_download_anime.quality.medium_quality.quality}.mp4`)
                    } else if(Math.floor(searchResult_download_anime.quality.low_quality.size.replace(/ MB/gi, '')) <= 63) {
                        if(fs.existsSync(`./lib/cache/anime/${sender}/${searchResult_download_anime.title}_${searchResult_download_anime.quality.low_quality.quality}.mp4`)) await fs.unlinkSync(`./lib/cache/anime/${sender}/${searchResult_download_anime.title}_${searchResult_download_anime.quality.low_quality.quality}.mp4`)
                        //console.log(searchResult_download_anime.quality.low_quality.download_links[0].link)
                        var getLink_zippy_animedown = await GetLink(searchResult_download_anime.quality.low_quality.download_links[0].link)
                        //console.log(getLink_zippy_animedown)
                        var buffered_video_anime0 = await fetch(getLink_zippy_animedown.url);
                        var buffered_video_anime = await buffered_video_anime0.buffer();
                        await fs.writeFile(`./lib/cache/anime/${sender}/${searchResult_download_anime.title}_${searchResult_download_anime.quality.low_quality.quality}.mp4`, buffered_video_anime)
                        //await rem.sendFile(from, `./lib/cache/anime/${sender}/${searchResult_download_anime.title}_${searchResult_download_anime.quality.low_quality.quality}.mp4`, `${searchResult_download_anime.title}_${searchResult_download_anime.quality.low_quality.quality}.mp4`, `*${searchResult_download_anime.title}_${searchResult_download_anime.quality.low_quality.quality}*`, id)
                        //await rem.sendFile(from, getLink_zippy_animedown.url, `${searchResult_download_anime.title}_${searchResult_download_anime.quality.low_quality.quality}.mp4`, '', id)
                        //await reply(from, `Maaf, Untuk Resolusi 480p _${searchResult_download_anime.title}_, Melebihi 64Mb\nSedang mengirim Eps ${i+2}, Mohon jangan spam`, id)
                        console.log('Succes download Anime(Low) '+searchResult_download_anime.title)
                        //fs.unlinkSync(`./lib/cache/anime/${sender}/${searchResult_download_anime.title}_${searchResult_download_anime.quality.low_quality.quality}.mp4`)
                    } else {
                        reply(from, `Maaf, Size file ${searchResult_download_anime.title} melebihi 64 MB\n360p : ${searchResult_download_anime.quality.low_quality.size}\n480p : ${searchResult_download_anime.quality.medium_quality.size}`, id)
                        console.log('Failed send anime\nFile(low) '+searchResult_download_anime.quality.low_quality.size+'\nFile(medium) '+searchResult_download_anime.quality.medium_quality.size)
                    }
                } catch (err) {
                    console.error(err)
                    rem.sendText('Error!')
                }
                }
                console.log('Succes Download ALL Anime')
                const fileDownloaded_anime_read = fs.readdirSync(`./lib/cache/anime/${sender}`)
                for (let i = 0; i < fileDownloaded_anime_read.length; i++) {
                    await rem.sendFile(from, `./lib/cache/anime/${sender}/${fileDownloaded_anime_read[i]}`, fileDownloaded_anime_read[i], `*${fileDownloaded_anime_read[i]}*\nEps Selanjutnya Sedang dikirim, *mohon jangan spam!*`, messageRaw, video)
                    fs.unlinkSync(`./lib/cache/anime/${sender}/${fileDownloaded_anime_read[i]}`)
                    console.log('Succes send anime '+fileDownloaded_anime_read[i])
                }
                await limitAdd(serial)
            }
            break
        case prefix+'anime':
            //if (!isGroupMsg) return reply(from, 'Perintah ini hanya bisa di gunakan dalam group!', id)
            //if (isLimit(_userDb)) return reply(from, `Maaf ${pushname}, Kuota Limit Kamu Sudah Habis, Ketik ${prefix}limit Untuk Mengecek Kuota Limit Kamu`, id)
            if (args.length === 1) return reply(from, 'Kirim perintah *'+prefix+'anime [query]*, contoh *'+prefix+'anime sword art online*', id)
            
            await limitAdd(serial)
            const keyword = message.body.replace(prefix+'anime', '')
            try {
            if(isSuperOwner) {
                const data = await fetch(`https://api.jikan.moe/v4/anime?q=${keyword}`)
                const parsed = await data.json()
                if (!parsed) return reply(from, 'Maaf, Anime tidak ditemukan', id)

                const { title, type, source, episodes, status, duration, score, year, season, genres, images, trailer, mal_id, url, rating } = parsed.data[0]

                var genreAnime = genres.map(all => all.name)
                /*var genreAnime0 = await axios.get(`https://api.jikan.moe/v3/anime/${mal_id}`)
                var genreAnime = genreAnime0.data.genres.map(a => a.name)*/

                const content = `‚ú®Ô∏è *Title:* ${title}
üéÜÔ∏è *Episodes:* ${episodes} || ${type}
üìë *Sources:* ${source}
üîÅ *Duration:* ${duration}
üéóÔ∏è *Genre:* ${genreAnime.join(', ')}
üíåÔ∏è *Rating:* ${rating}
‚ù§Ô∏è *Score:* ${score}
üåêÔ∏è *URL*: ${url}

*Released:* ${season} ${year}

${trailer?.url || ''}`

                await rem.sendFile(from, images?.jpg?.image_url, `anime.jpg`, content, false, image)
                const buttonsAnime_Owner1 = [{id: 'anime_watching', text: `${prefix}mal ${mal_id} Watching`},{id: 'anime_complete', text: `${prefix}mal ${mal_id} Completed`},{id: 'anime_onhold', text: `${prefix}mal ${mal_id} On-Hold`}]
                const buttonsAnime_Owner2 = [{id: 'anime_dropped', text: `${prefix}mal ${mal_id} Dropped`},{id: 'anime_pltw', text: `${prefix}mal ${mal_id} Plan_to_Watch`}]
                await rem.sendButtons(from, 'Link Button', buttonsAnime_Owner1, '', '')
                await rem.sendButtons(from, 'Link Button', buttonsAnime_Owner2, '', '')
            } else {
                const data = await fetch(`https://api.jikan.moe/v4/anime?q=${keyword}`)
                const parsed = await data.json()
                if (!parsed) return reply(from, 'Maaf, Anime tidak ditemukan', id)

                const { title, type, source, episodes, status, duration, score, year, season, genres, images, trailer, mal_id, url, rating } = parsed.data[0]

                var genreAnime = genres.map(all => all.name)
                /*var genreAnime0 = await axios.get(`https://api.jikan.moe/v3/anime/${mal_id}`)
                var genreAnime = genreAnime0.data.genres.map(a => a.name)*/

                const content = `‚ú®Ô∏è *Title:* ${title}
üéÜÔ∏è *Episodes:* ${episodes} || ${type}
üìë *Sources:* ${source}
üîÅ *Duration:* ${duration}
üéóÔ∏è *Genre:* ${genreAnime.join(', ')}
üíåÔ∏è *Rating:* ${rating}
‚ù§Ô∏è *Score:* ${score}
üåêÔ∏è *URL*: ${url}

*Released:* ${season} ${year}

${trailer?.url || ''}`

                await rem.sendFile(from, images?.jpg?.image_url, `anime.jpg`, content, false, image)
            }
            } catch (err) {
                console.error(err)
                await reply(from, 'Maaf, Anime tidak ditemukan', id)
            }
          break
        case prefix+'character':
        case prefix+'char':
            //if(!isOwner) return rem.sendText(from, 'Fitur ini sedang dikembangkan!')
            //if (!isGroupMsg) return reply(from, 'Perintah ini hanya bisa di gunakan dalam group!', id)
            //if (isLimit(_userDb)) return reply(from, `Maaf ${pushname}, Kuota Limit Kamu Sudah Habis, Ketik ${prefix}limit Untuk Mengecek Kuota Limit Kamu`, id)
            if (args.length === 1) return reply(from, 'Mohon masukkan nama character')
            await limitAdd(serial)
            const keywords = message.body.replace(`${allArgs[0]} `, '')
            try {

                let dataMAL = undefined
                let dataValueMAL = undefined
                if(isNaN(keywords.trim())) {
                    dataMAL = await axios.get(`https://api.jikan.moe/v4/characters?q=${keywords}&sort=desc`)
                    dataValueMAL = dataMAL?.data?.data[0]
                } else {
                    dataMAL = await axios.get(`https://api.jikan.moe/v4/characters/${keywords}`)
                    dataValueMAL = dataMAL?.data?.data
                }

                if(dataValueMAL == undefined) return rem.sendFile(from, './media/img/character_id_help.png', 'character_id_help.png', `Maaf, Character tidak ditemukan\n\n*Coba cari character di myanimelist.net*\n*Dan cari menggunakan ID nya*\nContoh : *_${prefix}character 188267_*\n\n_Untuk cara mencari ID, coba lihat gambar di atas_`, messageRaw, image)
                const { mal_id, name, url, images, about } = dataValueMAL

                // let malOrigin = 'Anime'
                // let malOriginData = undefined
                // try {
                //     malOriginData = (await axios.get(`https://api.jikan.moe/v4/characters/${mal_id}/anime`)).data
                //     if(malOriginData?.data?.length == 0) {
                //         await sleep(2000)
                //         malOrigin = 'Manga'
                //         malOriginData = (await axios.get(`https://api.jikan.moe/v4/characters/${mal_id}/manga`)).data
                //     }
                // } catch (err) {
                //     console.error(err)
                //     malOrigin = 'Unknown'
                // }

                let charaGender = await getAniListChara(name) || {}
                if(!charaGender?.gender || charaGender?.gender == '?') charaGender.gender = 'Unknown'
                const birthChara = ["Jan", "Feb", "Mar", "Apr", "May", "Jun", "Jul", "Aug", "Sep", "Oct", "Nov", "Des"]?.[charaGender?.dateOfBirth?.month - 1] || ''
                // ‚û• ${malOrigin} Origin : ${malOriginData?.data?.[0]?.[malOrigin?.toLowerCase()]?.title || 'Unknown'} (${malOriginData?.data?.[0]?.role || 'Unknown'})
                const contentt = `‚ü©‚ü© Character has found ‚ü®‚ü®
‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
‚û• Name : *${name}*
‚û• Age : ${charaGender?.age || 'Unknown'}

‚û• Gender : ${charaGender?.gender}
‚û• Date of birth : ${charaGender?.dateOfBirth?.day || ''} ${birthChara} ${charaGender?.dateOfBirth?.year || ''}
‚û• UID MAL : ${mal_id}
‚û• URL : ${url}
‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
Synopsis Character:


${about}`

                await rem.sendFile(from, images?.jpg?.image_url, 'pic.png', contentt, false, image)
                if(listCharaIdWhitelist.includes(mal_id) && !isOwner) return reply(from, 'this chara id is whitelisted')

                // if(_userDb?.rl?.gender == undefined || _userDb?.rl?.gender == '') return rem.sendButtons(from, 'Untuk melamar, kamu harus *set gender* terlebih dahulu!', [{ id: `${prefix}set_user gender cwo`, text: 'Laki-Laki' }, { id: `${prefix}set_user gender cwe`, text: 'Perempuan' }], '', '')
                
                await rem.sendButtons(from, 'Link Button', [{id: `${prefix}pdlmr pacar ${sender} {"mal_id": "${mal_id}", "url": "${url}", "image": "${images?.jpg?.image_url}", "name": "${name}", "gender": "${charaGender?.gender}"}`, text: 'Lamar ‚ù§Ô∏è'}], '', '')
            } catch (err) {
                console.error(err)
                await reply(from, 'Maaf, Character tidak ditemukan', id)
            }
          break
        case prefix+'newsanime':
        case prefix+'animenews':
        case prefix+'beritaanime':
        case prefix+'animeberita':
            if (!isGroupMsg) return reply(from, `Perintah ini hanya bisa di gunakan dalam group!`)
            if (!isGroupAdmins) return reply(from, `Perintah ini hanya bisa di gunakan oleh Admin group!`)

            if (allArgs[1] == 'enable') {
                if (_groupDb.isSubsAnimeNews) return reply(from, '*„Äå Berita Anime „Äç*\nSudah diaktifkan di grup ini')
                await _mongo_GroupSchema.updateOne({ iId: groupId }, { $set: { isSubsAnimeNews: true } })
                await reply(from, 'Fitur Berita Anime berhasil diaktifkan\n\nBerita anime akan dikirimkan secara otomatis')
            } else if (allArgs[1] == 'disable') {
                await _mongo_GroupSchema.updateOne({ iId: groupId }, { $set: { isSubsAnimeNews: false } })
                reply(from, 'Fitur Berita Anime berhasil di nonaktifkan')
            } else {
                rem.sendButtons(from, `Pilih enable atau disable!`, [{ id: `${prefix}animenews enable`, text: 'Enable' }, { id: `${prefix}animenews disable`, text: 'Disable' }], '', '')
            }
            break
        // ISLAM //
        /*case prefix+'jadwalshalat':
        case prefix+'jadwalsholat':
            if (!isGroupMsg) return reply(from, `Perintah ini hanya bisa di gunakan dalam group!`, id)
            //if (isLimit(_userDb)) return reply(from, `Maaf ${pushname}, Kuota Limit Kamu Sudah Habis, Ketik ${prefix}limit Untuk Mengecek Kuota Limit Kamu`, id)
            if (args.length === 1) return rem.sendText(from, `[‚ùó] Kirim perintah *${prefix}jadwalShalat [ Daerah ]*\ncontoh : *${prefix}jadwalShalat Tangerang*\nUntuk list daerah kirim perintah *${prefix}listDaerah*`)
            const daerah = body.slice(14)
            const jadwalShalat = await axios.get(`https://api.vhtear.com/jadwalsholat?query=${daerah}&apiKey=${vhtearkey}`)
            if (jadwalShalat.data.error) return reply(from, jadwalShalat.data.error, id)
            const { Shubuh, Zduhur, Ashr, Magrib, Isya, kota } = await jadwalShalat.data
            arrbulan = ["Januari","Februari","Maret","April","Mei","Juni","Juli","Agustus","September","Oktober","November","Desember"];
            tgl = new Date().getDate()
            bln = new Date().getMonth()
            thn = new Date().getFullYear()
            const resultJadwal = `„Äå JADWAL SHALAT „Äç\n\nJadwal shalat di ${kota}, ${tgl}-${arrbulan[bln]}-${thn}\n\nSubuh : ${Shubuh}\nDzuhur : ${Zduhur}\nAshar : ${Ashr}\nMaghrib : ${Magrib}\nIsya : ${Isya}`
            await limitAdd(serial)
            break*/
        case prefix+'surah':
            //if (!isGroupMsg) return reply(from, `Perintah ini hanya bisa di gunakan dalam group!`, id)
            //if (isLimit(_userDb)) return reply(from, `Maaf ${pushname}, Kuota Limit Kamu Sudah Habis, Ketik ${prefix}limit Untuk Mengecek Kuota Limit Kamu`, id)
            if (args.length == 1) return rem.sendButtons(from, `Kirim perintah *!infosurah [ Nama Surah ]*\nContoh : *${prefix}infosurah al-fatihah*`, [{id: '1', text: `${prefix}listsurah`}], '', '')
                var responseh = await axios.get('https://raw.githubusercontent.com/ArugaZ/scraper-results/main/islam/surah.json')
                var surahData = responseh.data
                var idx = surahData.data.findIndex(function(post, index) {
                if((post.name.transliteration.id.toLowerCase() == args[1].toLowerCase())||(post.name.transliteration.en.toLowerCase() == args[1].toLowerCase()))
                    return true;
                });
                try {
                    var pesan = "*„Äå INFORMASI SURAH „Äç*\n\n___________________________\n\n"
                    pesan = pesan + "‚û§ *Nama* : "+ surahData.data[idx].name.transliteration.id + "\n" + "‚û§ *Asma* : " +surahData.data[idx].name.short+"\n"+"‚û§ *Arti* : "+surahData.data[idx].name.translation.id+"\n"+"‚û§ *Jumlah ayat* : "+surahData.data[idx].numberOfVerses+"\n"+"‚û§ *Nomor surah* : "+surahData.data[idx].number+"\n"+"Jenis : "+surahData.data[idx].revelation.id+"\n"+"‚û§ *Keterangan* : "+surahData.data[idx].tafsir.id
                    pesan += '\n\n___________________________'
                    reply(from, pesan, message.id)
                  //  limitAdd(serial)
                }catch{
                    rem.sendButtons(from, `Surah tidak ditemukan`, [{id: '1', text: `${prefix}listsurah`}], '', '')
                }
            break
        case prefix+'listsurah':
            //if (!isGroupMsg) return reply(from, `Perintah ini hanya bisa di gunakan dalam group!`, id)
            try {
                //console.log('nyeh')
                axios.get('https://raw.githubusercontent.com/ArugaZ/scraper-results/main/islam/surah.json')
                .then((response) => {
                    let hehex = '*„Äå DAFTAR SURAH „Äç*\n\n___________________________\n'
                    let nmr = 1
                    for (let i = 0; i < response.data.data.length; i++) {
                        hehex += nmr + '. ' +  monospace(response.data.data[i].name.transliteration.id.toLowerCase()) + '\n'
                        nmr++
                            }
                        hehex += '___________________________'
                    rem.sendText(from, hehex)
                })
            } catch(err) {
                reply(from, err, id)
            }
            break
        case prefix+'infosurah':
            //if (!isGroupMsg) return reply(from, `Perintah ini hanya bisa di gunakan dalam group!`, id)
            //if (isLimit(_userDb)) return reply(from, `Maaf ${pushname}, Kuota Limit Kamu Sudah Habis, Ketik ${prefix}limit Untuk Mengecek Kuota Limit Kamu`, id)
            if (args.length == 1) return reply(from, `Kirim perintah *!infosurah [ Nama Surah ]*\nContoh : *${prefix}infosurah al-fatihah*`, message.id)
                var responseh = await axios.get('https://raw.githubusercontent.com/ArugaZ/scraper-results/main/islam/surah.json')
                var infoSurah = responseh.data
                var idx = infoSurah.data.findIndex(function(post, index) {
                if((post.name.transliteration.id.toLowerCase() == args[1].toLowerCase())||(post.name.transliteration.en.toLowerCase() == args[1].toLowerCase()))
                    return true;
                });
                try {
                    var pesan = "*„Äå INFORMASI SURAH „Äç*\n\n___________________________\n\n"
                    pesan = pesan + "‚û§ *Nama* : "+ infoSurah.data[idx].name.transliteration.id + "\n" + "‚û§ *Asma* : " +infoSurah.data[idx].name.short+"\n"+"‚û§ *Arti* : "+infoSurah.data[idx].name.translation.id+"\n"+"‚û§ *Jumlah ayat* : "+infoSurah.data[idx].numberOfVerses+"\n"+"‚û§ *Nomor surah* : "+infoSurah.data[idx].number+"\n"+"Jenis : "+infoSurah.data[idx].revelation.id+"\n"+"‚û§ *Keterangan* : "+infoSurah.data[idx].tafsir.id
                    pesan += '\n\n___________________________'
                    reply(from, pesan, message.id)
                  //  limitAdd(serial)
                }catch{
                    reply(from, 'Data tidak ditemukan, atau nama surah salah', id)
                }
            break
        case prefix+'tafsir':
            //if (!isGroupMsg) return reply(from, `Perintah ini hanya bisa di gunakan dalam group!`, id)
            //if (isLimit(_userDb)) return reply(from, `Maaf ${pushname}, Kuota Limit Kamu Sudah Habis, Ketik ${prefix}limit Untuk Mengecek Kuota Limit Kamu`, id)
            if (args.length == 1) return reply(from, `Kirim perintah *!tafsir [ Nama Surah ] [ Ayat ]*\nContoh : *${prefix}tafsir al-fatihah 2*`, message.id)
                var responsh = await axios.get('https://raw.githubusercontent.com/ArugaZ/scraper-results/main/islam/surah.json')
                var tafsirSurah = responsh.data
                var idx = tafsirSurah.data.findIndex(function(post, index) {
                if((post.name.transliteration.id.toLowerCase() == args[1].toLowerCase())||(post.name.transliteration.en.toLowerCase() == args[1].toLowerCase()))
                    return true;
                });
            try{
                const nmr = tafsirSurah.data[idx].number
                if(!isNaN(nmr)) {
                var responsih = await axios.get('https://api.quran.gading.dev/surah/'+nmr+"/"+args[2])
                    var tafsirSurah2 = responsih.data
                    pesan = ""
                    pesan = pesan + "*„Äå TAFSIR „Äç*\n\nTafsir Q.S. "+tafsirSurah2.data.surah.name.transliteration.id+":"+args[2]+"\n\n"
                    pesan = pesan + tafsirSurah2.data.text.arab + "\n\n"
                    pesan = pesan + "_" + tafsirSurah2.data.translation.id + "_" + "\n\n" +tafsirSurah2.data.tafsir.id.long
                    pesan += '\n\n___________________________'
                    reply(from, pesan, message.id)
                  //  limitAdd(serial)
                }
            }catch (err) {
                console.error(err)
                reply(from, 'Data tidak ditemukan, mungkin nama surah/ayat salah', id)
            }
            break
        // MEDIA //
        case prefix+'infogempa':
            //if (!isGroupMsg) return reply(from, 'Perintah ini hanya bisa di gunakan dalam group!', id)
            //if (isLimit(_userDb)) return reply(from, `Maaf ${pushname}, Kuota Limit Kamu Sudah Habis, Ketik ${prefix}limit Untuk Mengecek Kuota Limit Kamu`, id)
            
            await limitAdd(serial)
            try {
                const bmkg = await axios.get(`https://data.bmkg.go.id/DataMKG/TEWS/autogempa.json`)
                //console.log(bmkg.data.Infogempa.gempa.Shakemap)
                //const {Tanggal, Jam, Dirasakan, Wilayah, Kedalaman, Magnitude, Shakemap, Coordinates, Lintang, Bujur } = bmkg.data.Infogempa.gempa
                const hasil = `*${bmkg.data.Infogempa.gempa.Tanggal} ${bmkg.data.Infogempa.gempa.Jam}*\n\nüìç *Lokasi* : *${bmkg.data.Infogempa.gempa.Wilayah}*\n_${bmkg.data.Infogempa.gempa.Coordinates} ${bmkg.data.Infogempa.gempa.Lintang} ${bmkg.data.Infogempa.gempa.Bujur}_\n\n„ÄΩÔ∏è *Kedalaman* : *${bmkg.data.Infogempa.gempa.Kedalaman}*\nüí¢ *Magnitude* : *${bmkg.data.Infogempa.gempa.Magnitude}*\nüîò *Dirasakan* : *${bmkg.data.Infogempa.gempa.Dirasakan}*`
                await rem.sendFile(from, `https://data.bmkg.go.id/DataMKG/TEWS/${bmkg.data.Infogempa.gempa.Shakemap}`, 'gempa.jpg', hasil, messageRaw, image)
            } catch (err) {
                console.error(err)
                reply(from, 'Error!', id)
            }
            break
        case prefix+'ss':
            //if(!isOwner) return reply(from, 'Maaf, fitur ini sedang dalam perbaikan!')
            //if (!isGroupMsg) return reply(from, 'Perintah ini hanya bisa di gunakan dalam group!', id)
            //if (isLimit(_userDb)) return reply(from, `Maaf ${pushname}, Kuota Limit Kamu Sudah Habis, Ketik ${prefix}limit Untuk Mengecek Kuota Limit Kamu`, id)
            
            await limitAdd(serial)
            if (args.length === 1) return reply(from, 'Kirim perintah *'+prefix+'ss [linkWeb]*\nContoh : *'+prefix+'ss https://dwiqi.my.id*', id)
            if(args[1].includes('.')) {

                let searchingPupp = args[1]
                !args[1].startsWith('https://') ? !args[1].startsWith('http://') ? searchingPupp = `http://${args[1]}` : searchingPupp = `${args[1]}` : searchingPupp = `${args[1]}`
                console.log(searchingPupp)
                const idFileNameSS = GenerateSerialNumber("0000000000")
                const sendToPuppeteerSS = `new Promise(async function(resolve, reject) {
                    const page = await global.browserPup.newPage();
                
                    await page.goto('${searchingPupp}', { waitUntil: 'networkidle0' });
                    resolve(await page.screenshot({
                        encoding: 'base64',
                        fullPage: ${body.includes('--full') ? true : false},
                        width: 1920,
                        height: 1080
                    }))
                    await page.close();
                });
                `

                const ssBuffer = await requestPuppeteer(sendToPuppeteerSS, 'localhost:8067')
                // console.log(ssBuffer)
                if(ssBuffer == undefined || ssBuffer?.error) return reply(from, `Error!\nMohon laporkan ke .bugreport\n\n${ssBuffer}`, id)
                // base64 to buffer
                const imageSs = Buffer.from(ssBuffer.result, 'base64')
                await rem.sendFile(from, imageSs, 'screenshot.png', `*${args[1]}*`, messageRaw, image)
            } else {
                return reply(from, 'Bukan Url!\nHarap masukkan url dengan format http/https\n\n*Contoh : https://remcp.com*', id)
            }
            break
        case prefix+'shorturl':
            //if (!isGroupMsg) return reply(from, 'Perintah ini hanya bisa di gunakan dalam group!', id)
            //if (isLimit(_userDb)) return reply(from, `Maaf ${pushname}, Kuota Limit Kamu Sudah Habis, Ketik ${prefix}limit Untuk Mengecek Kuota Limit Kamu`, id)
            
            await limitAdd(serial)
            if (args.length === 1) return reply(from, 'Kirim perintah *'+prefix+'shorturl [linkWeb]*\nContoh : *'+prefix+'shorturl https://otakudesu.moe*', id)
            try {
                let sorturl = body.slice(10)
                !sorturl.startsWith('https://') ? !sorturl.startsWith('http://') ? sorturl = `http://${sorturl}` : sorturl = `${sorturl}` : sorturl = `${sorturl}`
                let surl = undefined
                try {
                    surl = await axios.post('https://api-ssl.bitly.com/v4/shorten', { long_url: sorturl }, { headers: { 'Authorization': 'Bearer 4a8c415ad6444e5802f3c929386e517259de2e90', 'Content-Type': 'application/json' } })
                } catch (err) {
                    surl = await axios.post('https://api-ssl.bitly.com/v4/shorten', { long_url: sorturl }, { headers: { 'Authorization': 'Bearer 2eb073d1145db2fa834de5d2f5638ba4460461e9', 'Content-Type': 'application/json' } })
                }
                if(!surl?.data?.link) return reply(from, `Error!\nMohon laporkan ke .bugreport\n\n${surl}`, id)
                reply(from, surl.data.link, id)
            } catch(err) {
                console.error(err)
                reply(from, 'Error!', id)
            }
            break
        case prefix+'covid':
            //if (!isGroupMsg) return reply(from, 'Perintah ini hanya bisa di gunakan dalam group', id)
            if (args.length === 1) return rem.sendButtons(from, `Format salah\n\nContoh : _${prefix}covid Indonesia_`, [{id: 'covid_ Indonesia', text: `${prefix}covid Indonesia`}], '', '')
            //if (isLimit(_userDb)) return rem.sendText(from, `Maaf ${pushname}, Kuota Limit Kamu Sudah Habis, Ketik ${prefix}limit Untuk Mengecek Kuota Limit Kamu`, id)
            
            await limitAdd(serial)
            
            //get covid data today
            const covidData = await axios.get("https://api.covid19api.com/summary")
            const covidDataCountryFind = covidData.data.Countries.find((country) => country.Country.toLowerCase().trim().replace(/ /g, '') === body.slice(7).toLowerCase().trim().replace(/ /g, ''))

            if(covidDataCountryFind == undefined) return reply(from, `Tidak ditemukan country dengan nama ${body.slice(7)}`, id)

            const cases = covidDataCountryFind.TotalConfirmed
            const todayCases = covidDataCountryFind.NewConfirmed
            const deaths = covidDataCountryFind.TotalDeaths
            const todayDeaths = covidDataCountryFind.NewDeaths
            const active = covidDataCountryFind.TotalConfirmed - covidDataCountryFind.TotalDeaths - covidDataCountryFind.TotalRecovered

            const recovered = covidDataCountryFind.TotalRecovered
            const todayRecovered = covidDataCountryFind.NewRecovered

            if(cases == undefined) return reply(from, `Tidak ditemukan country dengan nama ${body.slice(7)}`, id)
            const dataCovidText = `üåéÔ∏è Covid Info - *${body.slice(7)}* üåçÔ∏è\n\n‚ú®Ô∏è Total Cases: *_${numberWithCommas(cases)}_*\nüìÜÔ∏è Today's Cases: *_${numberWithCommas(todayCases)}_*\n‚ò£Ô∏è Total Deaths: *_${numberWithCommas(deaths)}_*\n‚ò¢Ô∏è Today's Deaths: *_${numberWithCommas(todayDeaths)}_*\n‚õ©Ô∏è Active Cases: *_${numberWithCommas(active)}_*\n\nSource: *https://covid19api.com/*`
            await rem.sendText(from, dataCovidText)
            break
        case prefix+'spamcall':
            if(!isOwner) return reply(from, 'Maaf, fitur ini sedang dalam perbaikan!')
            if (args.length === 1) return reply(from, `Format salah\n\nContoh : _${prefix}spamcall 62xxxxxxx_`)
            //if (!isGroupMsg) return reply(from, 'Perintah ini hanya bisa di gunakan dalam group', id)
            // if (!isPrem) return reply(from, 'Perintah ini bersifat PREMIUM', id)
            var filterSpamCall0 = args[1]
            if(filterSpamCall0.startsWith('62')) {
                var filterSpamCall = args[1].replace('62', '')
            } else if(filterSpamCall0.startsWith('0')) {
                var filterSpamCall = args[1].replace('0', '')
            } else if(filterSpamCall0.startsWith('+62')) {
                var filterSpamCall = body.replace(`${prefix}spamcall `, '').replace('+62', '').replace(/\s/g, '', '')
            }

            const urlCall = `https://www.citcall.com/demo/misscallapi.php`
            const headerCall = {
                'x-requested-with':'XMLHttpRequest'
            }
            const bodyCall = {
                'cid':no,
                'trying':'0',
                'csrf_token':token
            }

            const call2 = await fetch(urlCall, {
                method: 'post',
                headers: headerCall
            })

            console.log(filterSpamCall)
            const logs = await call2.text()
            console.log(logs)
            if(logs == undefined) return reply(from, 'Gagal! Mohon masukkan nomer yang tepat', id)
            //if(logs) return reply(from, 'Gagal! Mohon coba lagi\n\nMungkin lagi dipanggilan lain', id)
            await rem.sendText(from, `${logs}`)
            break
        case prefix+'mod':
            //if (!isGroupMsg) return reply(from, `Perintah ini hanya bisa di gunakan dalam group!`, id)
            if (args.length === 1) return rem.sendText(from, `Kirim perintah *${prefix}mod <judul>*`)
            //if (isLimit(_userDb)) return reply(from, `Maaf ${pushname}, Kuota Limit Kamu Sudah Habis, Ketik ${prefix}limit Untuk Mengecek Kuota Limit Kamu`, id)
            await limitAdd(serial)
            
            const happymodget = await axios.get(`https://happymod.com/search.html?q=${body.slice(5)}`)
            const $h = cheerio.load(happymodget.data)

            const listUrl = []
            $h('div.container-left > *section').each(function(a, b) {
                const getDataHpMod = $h(b).find('div > div > h3 > a')
                listUrl.push({ title: getDataHpMod.text(), url: getDataHpMod.attr('href'), rating: $h(b).find('div > div > div > span').text() })
            })

            var listHappyModGet = 'Source : HappyMod'
            for(let i = 0; i <  listUrl.length; i++) {
                listHappyModGet += `\n\n${i+1}. *${listUrl[i].title.trim()}*\n*Url :* https://happymod.com${listUrl[i].url}\n*Rating :* _‚ãÜ ${listUrl[i].rating}_`
            }
            reply(from, listHappyModGet, id)
            break
        case prefix+'yttest':
            try {
                const splitSButtonYtMp4 = message?.selectedButtonId?.split(' ') || undefined
                const urlYtMp4 = splitSButtonYtMp4 ? splitSButtonYtMp4[1] : args[1] || ''
                const isSkipImageYtMp4 = splitSButtonYtMp4 ? splitSButtonYtMp4[2] : args[2] || ''
    
                if (splitSButtonYtMp4 ? splitSButtonYtMp4.length === 1 : args.length === 1) return rem.sendText(from, `Kirim perintah *${prefix}ytmp4 [ Link Yt ]*, untuk contoh silahkan kirim perintah *${prefix}readme*`)
                
                let metadata = {}
                let isSuccessNoProxy = false
                const generateIdYtMp4 = GenerateSerialNumber('000000000000')
    
                try {
                    if(!fs.existsSync(`./lib/cache/yt/${sender}`)) await fs.mkdirSync(`./lib/cache/yt/${sender}`)
                    if(fs.existsSync(`./lib/cache/yt/${sender}/${generateIdYtMp4}`)) await fs.rmSync(`./lib/cache/yt/${sender}/${generateIdYtMp4}`, { recursive: true })
                    if(!fs.existsSync(`./lib/cache/yt/${sender}/${generateIdYtMp4}`)) await fs.mkdirSync(`./lib/cache/yt/${sender}/${generateIdYtMp4}`)
    
                    metadata = await ytDlpWrap.getVideoInfo(urlYtMp4)
    
                    const { thumbnail, title, filesize_approx, duration_string, format_note } = metadata
                    if(isSkipImageYtMp4 != 'skipImage') await rem.sendFile(from, thumbnail, 'thumb.jpg', `*„Äå YOUTUBE MP4 „Äç*\n\n‚Ä¢ *Judul* : ${title}\n‚Ä¢ *Filesize* : ${clacSize_kb(Number(filesize_approx))}\n‚Ä¢ *Resolusi* : ${format_note} (Auto)\n‚Ä¢ *Durasi* : ${duration_string}\n\n_Silahkan tunggu file media sedang dikirim mungkin butuh beberapa menit_`, messageRaw, image)
                    if(filesize_approx > 500000000) return reply(from, `Maaf, Filesize terlalu besar, maksimal 500MB`, id)
    
                    const readableStream = await ytDlpWrap.execPromise([
                        urlYtMp4,
                        '-N 1',
                        '-f',
                        'b', // Quality
                        '-o',
                    ]);

                    // readableStream.pipe(fs.createWriteStream('test.mp4'));
                    // pipe to buffer
                    const chunks = [];
                    for await (const chunk of readableStream) {
                        chunks.push(chunk);
                    }
                    const buffer = Buffer.concat(chunks);
    
                    isSuccessNoProxy = true
                } catch (err) {
                    isSuccessNoProxy = false
                    console.error(err)
                    return reply(from, 'Error getting video')
                }
    
                if(isSuccessNoProxy) {
                    const readDirYtFolder = await fs.readdirSync(`./lib/cache/yt/${sender}/${generateIdYtMp4}`)
                    console.log(readDirYtFolder)
                    if(readDirYtFolder == '') return reply(from, 'Video tidak ditemukan', id)
    
                    const { thumbnail, title, filesize_approx, duration_string, format_note } = JSON.parse(metadata.split('"_type":')[0].trim() + `"_type":""}`)
        
                    for(let i = 0; i < readDirYtFolder.length; i++) {
                        const fileSize = fs.statSync(`./lib/cache/yt/${sender}/${generateIdYtMp4}/${readDirYtFolder[i]}`)
                        const fileSizeInMegabytes = fileSize.size / (1024*1024);
                        
                        if(fileSizeInMegabytes < 40) {
                            await rem.sendFile(from, `./lib/cache/yt/${sender}/${generateIdYtMp4}/${readDirYtFolder[i]}`, `${title}.mp4`, title, messageRaw, video)
                        } else {
                            await rem.sendFile(from, `./lib/cache/yt/${sender}/${generateIdYtMp4}/${readDirYtFolder[i]}`, `${title}.mp4`, title, messageRaw, document, 'video/mp4')
                        }
                        
                        if (i === readDirYtFolder.length - 1) {
                            console.log(`./lib/cache/yt/${sender}/${generateIdYtMp4}`)
                            fs.rmSync(`./lib/cache/yt/${sender}/${generateIdYtMp4}`, { recursive: true, force: true })
                        }
                    }
                }
            } catch (err) {
                console.error(err)
            }
            break
        // case prefix+'ytmp4':
        // case prefix+'ytv':
        //     const splitSButtonYtMp4 = message?.selectedButtonId?.split(' ') || undefined
        //     const urlYtMp4 = splitSButtonYtMp4 ? splitSButtonYtMp4[1] : args[1] || ''
        //     const isSkipImageYtMp4 = splitSButtonYtMp4 ? splitSButtonYtMp4[2] : args[2] || ''

        //     if (splitSButtonYtMp4 ? splitSButtonYtMp4.length === 1 : args.length === 1) return rem.sendText(from, `Kirim perintah *${prefix}ytmp4 [ Link Yt ]*, untuk contoh silahkan kirim perintah *${prefix}readme*`)
            
        //     let metadata = {}
        //     let isSuccessNoProxy = false
        //     const generateIdYtMp4 = GenerateSerialNumber('000000000000')

        //     try {
        //         if(!fs.existsSync(`./lib/cache/yt/${sender}`)) await fs.mkdirSync(`./lib/cache/yt/${sender}`)
        //         if(fs.existsSync(`./lib/cache/yt/${sender}/${generateIdYtMp4}`)) await fs.rmSync(`./lib/cache/yt/${sender}/${generateIdYtMp4}`, { recursive: true })
        //         if(!fs.existsSync(`./lib/cache/yt/${sender}/${generateIdYtMp4}`)) await fs.mkdirSync(`./lib/cache/yt/${sender}/${generateIdYtMp4}`)

        //         metadata = await ytDlpWrap.execPromise([
        //             urlYtMp4,
        //             '-N 1',
        //             '-f',
        //             'b',
        //             '--print-json',
        //             '--skip-download',
        //         ])

        //         const { thumbnail, title, filesize_approx, duration_string, format_note } = JSON.parse(metadata.split('"_type":')[0].trim() + `"_type":""}`)
        //         if(isSkipImageYtMp4 != 'skipImage') await rem.sendFile(from, thumbnail, 'thumb.jpg', `*„Äå YOUTUBE MP4 „Äç*\n\n‚Ä¢ *Judul* : ${title}\n‚Ä¢ *Filesize* : ${clacSize_kb(Number(filesize_approx))}\n‚Ä¢ *Resolusi* : ${format_note} (Auto)\n‚Ä¢ *Durasi* : ${duration_string}\n\n_Silahkan tunggu file media sedang dikirim mungkin butuh beberapa menit_`, messageRaw, image)
        //         if(filesize_approx > 500000000) return reply(from, `Maaf, Filesize terlalu besar, maksimal 500MB`, id)

        //         await ytDlpWrap.execPromise([
        //             urlYtMp4,
        //             '-N 1',
        //             '-f',
        //             'b', // Quality
        //             '-o',
        //             `./lib/cache/yt/${sender}/${generateIdYtMp4}/%(id)s.%(ext)s`, // output
        //             '--print-json'
        //         ]);

        //         isSuccessNoProxy = true
        //     } catch (err) {
        //         isSuccessNoProxy = false
        //         console.error(err)
        //         return reply(from, 'Error getting video')
        //     }

        //     if(isSuccessNoProxy) {
        //         const readDirYtFolder = await fs.readdirSync(`./lib/cache/yt/${sender}/${generateIdYtMp4}`)
        //         console.log(readDirYtFolder)
        //         if(readDirYtFolder == '') return reply(from, 'Video tidak ditemukan', id)

        //         const { thumbnail, title, filesize_approx, duration_string, format_note } = JSON.parse(metadata.split('"_type":')[0].trim() + `"_type":""}`)
    
        //         for(let i = 0; i < readDirYtFolder.length; i++) {
        //             const fileSize = fs.statSync(`./lib/cache/yt/${sender}/${generateIdYtMp4}/${readDirYtFolder[i]}`)
        //             const fileSizeInMegabytes = fileSize.size / (1024*1024);
                    
        //             if(fileSizeInMegabytes < 40) {
        //                 await rem.sendFile(from, `./lib/cache/yt/${sender}/${generateIdYtMp4}/${readDirYtFolder[i]}`, `${title}.mp4`, title, messageRaw, video)
        //             } else {
        //                 await rem.sendFile(from, `./lib/cache/yt/${sender}/${generateIdYtMp4}/${readDirYtFolder[i]}`, `${title}.mp4`, title, messageRaw, document, 'video/mp4')
        //             }
                    
        //             if (i === readDirYtFolder.length - 1) {
        //                 console.log(`./lib/cache/yt/${sender}/${generateIdYtMp4}`)
        //                 fs.rmSync(`./lib/cache/yt/${sender}/${generateIdYtMp4}`, { recursive: true, force: true })
        //             }
        //         }
        //     }
        //     break
        // case prefix+'ytmp3':
        // case prefix+'yta':
        //     const splitSButtonYtMp3 = message?.selectedButtonId?.split(' ') || undefined
        //     const urlYtMp3 = splitSButtonYtMp3 ? splitSButtonYtMp3[1] : args[1] || ''
        //     const isSkipImageYtMp3 = splitSButtonYtMp3 ? splitSButtonYtMp3[2] : args[2] || ''

        //     if (splitSButtonYtMp3 ? splitSButtonYtMp3.length === 1 : args.length === 1) return rem.sendText(from, `Kirim perintah *${prefix}ytmp3 [ Link Yt ]*, untuk contoh silahkan kirim perintah *${prefix}readme*`)
            
        //     let metadataYtMp3 = {}
        //     const generateIdYtMp3 = GenerateSerialNumber('000000000000')

        //     try {
        //         if(!fs.existsSync(`./lib/cache/yt/${sender}`)) await fs.mkdirSync(`./lib/cache/yt/${sender}`)
        //         if(fs.existsSync(`./lib/cache/yt/${sender}/${generateIdYtMp3}`)) await fs.rmSync(`./lib/cache/yt/${sender}/${generateIdYtMp3}`, { recursive: true, force: true })
        //         if(!fs.existsSync(`./lib/cache/yt/${sender}/${generateIdYtMp3}`)) await fs.mkdirSync(`./lib/cache/yt/${sender}/${generateIdYtMp3}`)
                
        //         metadataYtMp3 = await ytDlpWrap.execPromise([
        //             urlYtMp3,
        //             '-N 1',
        //             '-f',
        //             'ba[vcodec=none]',
        //             '--audio-quality',
        //             '0', // audio quality
        //             '--audio-format',
        //             'mp3', //audio format
        //             '--print-json',
        //             '--skip-download',
        //         ])

        //         const dataYtMp3 = JSON.parse(metadataYtMp3.split('"_type":')[0].trim() + `"_type":""}`)
        //         if(isSkipImageYtMp3 != 'skipImage') await rem.sendFile(from, dataYtMp3.thumbnail, 'thumb.jpg', `*„Äå YOUTUBE MP3 „Äç*\n\n‚Ä¢ *Judul* : ${dataYtMp3.title}\n‚Ä¢ *Filesize* : ${clacSize_kb(Number(dataYtMp3.filesize))}\n‚Ä¢ *Durasi* : ${dataYtMp3.duration_string}\n\n_Silahkan tunggu file media sedang dikirim mungkin butuh beberapa menit_`, messageRaw, image)
        //         if(dataYtMp3.filesize > 500000000) return reply(from, `Maaf, Filesize terlalu besar, maksimal 500MB`, id)

        //         metadataYtMp3 = await ytDlpWrap.execPromise([
        //             urlYtMp3,
        //             '-N 1',
        //             '-f',
        //             'ba[vcodec=none]', // Quality
        //             '-o',
        //             `./lib/cache/yt/${sender}/${generateIdYtMp3}/%(id)s.%(ext)s`, // output
        //             '--audio-quality',
        //             '0', // audio quality
        //             '--audio-format',
        //             'mp3', //audio format
        //             '--print-json'
        //         ]);
        //     } catch (err) {
        //         console.error(err)
        //         return reply(from, 'Music tidak ditemukan', id)
        //     }

        //     const readDirYt3Folder = await fs.readdirSync(`./lib/cache/yt/${sender}/${generateIdYtMp3}`)
        //     if(readDirYt3Folder == '') return reply(from, 'Music tidak ditemukan', id)
        //     console.log(readDirYt3Folder)

        //     const dataYtMp3 = JSON.parse(metadataYtMp3.split('"_type":')[0].trim() + `"_type":""}`)

        //     for(let i = 0; i < readDirYt3Folder.length; i++) {
        //         const fileSize = fs.statSync(`./lib/cache/yt/${sender}/${generateIdYtMp3}/${readDirYt3Folder[i]}`)
        //         const fileSizeInMegabytes = fileSize.size / (1024*1024);
        //         console.log(fileSizeInMegabytes)
        //         if(fileSizeInMegabytes < 20) {
        //             await rem.sendFile(from, `./lib/cache/yt/${sender}/${generateIdYtMp3}/${readDirYt3Folder[i]}`, `${dataYtMp3.title}.mp3`, '', messageRaw, document, 'audio/mpeg')
        //             await rem.sendFile(from, `./lib/cache/yt/${sender}/${generateIdYtMp3}/${readDirYt3Folder[i]}`, `${dataYtMp3.title}.mp3`, '', messageRaw, audio, 'audio/mpeg')
        //         } else {
        //             await rem.sendFile(from, `./lib/cache/yt/${sender}/${generateIdYtMp3}/${readDirYt3Folder[i]}`, `${dataYtMp3.title}.mp3`, '', messageRaw, document, 'audio/mpeg')
        //         }

        //         if (i === readDirYt3Folder.length - 1) {
        //             fs.rmSync(`./lib/cache/yt/${sender}/${generateIdYtMp3}`, { recursive: true, force: true })
        //         }
        //     }
        //     break
        // y2mate.com
        // case prefix+'ytmp3':
        // case prefix+'yta':
        // case prefix+'play':
        //     const splitSButtonYtMp3 = message?.selectedButtonId?.split(' ') || undefined
        //     let urlYtMp3 = splitSButtonYtMp3 ? splitSButtonYtMp3[1] : args[1] || ''
        //     const isSkipImageYtMp3 = splitSButtonYtMp3 ? splitSButtonYtMp3[2] : args[2] || ''

        //     if(allArgs[0] === `${prefix}play`) {
        //         if(!allArgs[1]) return reply(from, 'Kirim perintah *'+prefix+'play [ Judul Lagu ]*', id)
        //         let results = await yts(body.replace(`${allArgs[0]} `, ''))
        //         let vid = results.all.find(video => video.seconds < 4600)
        //         if (!vid) return reply(from, 'Musik tidak ditemukan', id)
        //         urlYtMp3 = vid.url
        //     } 

        //     if (splitSButtonYtMp3 ? splitSButtonYtMp3.length === 1 : args.length === 1) return rem.sendText(from, `Kirim perintah *${prefix}ytmp3 [ Link Yt ]*`)
        //     try {
        //         // const getReqYtmp3 = await axios.post('https://www.y2mate.com/mates/analyzeV2/ajax', { k_query: urlYtMp3, k_page: 'home', hl: 'id', q_auto: 0 }, { headers: { 'Content-Type': "application/x-www-form-urlencoded" } })
                
        //         const dataSendPuppeteerYtMp3 = `(async () => {
        //             const page = await browser.newPage();
        //             await page.goto('https://www.y2mate.com/')
        //             await page.setExtraHTTPHeaders({ 'Content-Type': 'application/x-www-form-urlencoded' });
        //             await page.route('**/*', async route => {
        //                 await route.continue({ method: 'POST', postData: 'k_query=${encodeURIComponent(urlYtMp3)}&k_page=home&hl=en&q_auto=0' });
        //             });
        //             const responsePup = await page.goto('https://www.y2mate.com/mates/analyzeV2/ajax');
        //             const responseBody = await responsePup.text();
        //             await page.close();
        //             return responseBody
        //         })();`
        //         const getReqYtmp3 = JSON.parse((await requestPuppeteer(dataSendPuppeteerYtMp3)).result)

        //         const dataLinksYtmp3 = Object.keys(getReqYtmp3.links.mp3).map(all => ({ text: `${getReqYtmp3.links.mp3[all].q_text} (${getReqYtmp3.links.mp3[all].size})`, id: `${prefix}ytget ${getReqYtmp3.vid} ${getReqYtmp3.links.mp3[all].k}` }))
        //         if(isSkipImageYtMp3 != 'skipImage') await rem.sendFile(from, `https://i.ytimg.com/vi/${getReqYtmp3.vid}/0.jpg`, '', `*„Äå YOUTUBE MP3 „Äç*\n\n‚Ä¢ *Judul* : ${getReqYtmp3.title}\n\n_Silahkan pilih kualitas audio yang diinginkan_`, '', image)
        //         rem.sendButtons(from, '_Silahkan pilih kualitas audio yang diinginkan_', dataLinksYtmp3)
        //     } catch (err) {
        //         console.error(err)
        //     }
        //     break
        // y2mate.is
        // case prefix+'ytmp3':
        //     if(!isOwner) return reply(from, `Maaf, fitur ini sedang dalam perbaikan!\n*Alternatif coba pakai cmd _${prefix}ig_ atau _${prefix}fb_*\nLalu _${prefix}tomp3_`)
        //     const splitSButtonYtMp3 = message?.selectedButtonId?.split(' ') || undefined
        //     const urlYtMp3 = splitSButtonYtMp3 ? splitSButtonYtMp3[1] : args[1] || ''
        //     const isSkipImageYtMp3 = splitSButtonYtMp3 ? splitSButtonYtMp3[2] : args[2] || ''

        //     // check urlYtMp3 is valid youtube or youtube music url
        //     if(!urlYtMp3.includes('youtube.com') && !urlYtMp3.includes('youtu.be')) return reply(from, 'Url tidak valid', id)
        //     if (splitSButtonYtMp3 ? splitSButtonYtMp3.length === 1 : args.length === 1) return rem.sendText(from, `Kirim perintah *${prefix}ytmp3 [ Link Yt ]*`)
        //     try {
        //         const dataSendPuppeteerPlayCookiesYtmp3 = `(async () => {
        //             const page = await browser.newPage();
        //             const responsePup = await page.goto('${urlYtMp3.replace('youtube.com', 'youtubepi.com').replace('youtu.be', 'youtubepi.com')}', { waitUntil: 'networkidle' });
        //             await page.waitForLoadState('networkidle')  
        //             const getCookies = await page.context().cookies();
        //             const htmlGet = await responsePup.text();
        //             await page.close();
        //             return { cookies: getCookies, html: htmlGet }
        //         })();`
        //         const getCookiesTokenY2mateisYtmp3 = (await requestPuppeteer(dataSendPuppeteerPlayCookiesYtmp3)).result

        //         const cookiesGetYtmp3 = getCookiesTokenY2mateisYtmp3.cookies.map(all => `${all.name}=${all.value}`).join('; ')
        //         const getMetaXcsrfYtmp3 = getCookiesTokenY2mateisYtmp3.html.match(/<meta name="csrf-token" content="(.*)">/)[1]
        //         const mergeCookiesAndCsrfYtmp3 = cookiesGetYtmp3.replace(/ /g, '<IA>')

        //         const getReqYtmp3 = (await axios.post('https://y2mate.is/analyze', { url: urlYtMp3.replace('//youtube.com', '//www.youtube.com')¬†}, { headers: { 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/127.0.0.0 Safari/537.36', Referer: 'https://en.y2mate.is/', Origin: 'https://en.y2mate.is', 'Content-Type': "application/json", Cookie: getCookiesTokenY2mateisYtmp3.cookies.map(all => `${all.name}=${all.value}`).join('; '), 'X-CSRF-TOKEN': getMetaXcsrfYtmp3¬†}, httpsAgent¬†})).data
        //         if(getReqYtmp3.error) {
        //             if(getReqYtmp3.errorMessage == 'This video is unavailable') return reply(from, 'Audio tidak ditemukan/tidak tersedia', id)
        //             return console.error(getReqYtmp3)
        //         }
        //         if(getReqYtmp3.formats.audio[0] == undefined) return rem.sendButtons(from, 'Tidak ada audio!', [{ text: 'Video', id: `${prefix}ytmp4 ${urlYtMp3}` }])
                
        //         const dataLinksYtmp3 = getReqYtmp3.formats.audio.map(all => ({ text: `${all.quality} (${all.filesize})`, id: `${prefix}ytgetis ${all.hash ? all.hash : (!all.url.startsWith('http') ? all.url : all.url.split('&title=')[0])}${' ' + all.fileType + ' ' + all.quality + ' ' + all.filesize.replace(/ /g, '<IA>') + ' ' + (all?.needConvert ? '1' : '0') + ' ' + mergeCookiesAndCsrfYtmp3 + ' ' + getMetaXcsrfYtmp3  + ' ' + getReqYtmp3.formats.title}` }))
        //         if(isSkipImageYtMp3 != 'skipImage') {
        //             const valuesTimeYtmp3 = Object.values(timeConvert(Number(getReqYtmp3.formats.lengthSeconds) * 1000, 0))
        //             const getTimeYtmp3 = (valuesTimeYtmp3[0] ? valuesTimeYtmp3[0].toString().padStart(2, '0') + ':' : '') + (valuesTimeYtmp3[1] ? valuesTimeYtmp3[1].toString().padStart(2, '0') + ':' : '') + (valuesTimeYtmp3[2] ? valuesTimeYtmp3[2].toString().padStart(2, '0') + ':' : '') + (valuesTimeYtmp3[3] ? valuesTimeYtmp3[3].toString().padStart(2, '0') : '')
        //             await rem.sendFile(from, getReqYtmp3.formats.thumbnail, '', `*„Äå YOUTUBE MP3 „Äç*\n\n‚Ä¢ *Judul* : ${getReqYtmp3.formats.title}${getTimeYtmp3 ? `\n‚Ä¢ *Durasi* : ${getTimeYtmp3}` : ''}\n\n_Silahkan pilih kualitas audio yang diinginkan_`, '', image)
        //         }
        //         rem.sendButtons(from, '_Silahkan pilih kualitas audio yang diinginkan_', dataLinksYtmp3)
        //     } catch (err) {
        //         console.error(err)
        //     }
        //     break
        // case prefix+'ytmp3':
        // case prefix+'play':
        //     const splitSButtonYtMp3 = message?.selectedButtonId?.split(' ') || undefined
        //     let urlYtMp3 = splitSButtonYtMp3 ? splitSButtonYtMp3[1] : args[1] || ''
        //     const isSkipImageYtMp3 = splitSButtonYtMp3 ? splitSButtonYtMp3[2] : args[2] || ''

        //     if(allArgs[0] === `${prefix}play`) {
        //         if(!allArgs[1]) return reply(from, 'Kirim perintah *'+prefix+'play [ Judul Lagu ]*', id)
        //         let results = await yts(body.replace(`${allArgs[0]} `, ''))
        //         let vid = results.all.find(video => video.seconds < 4600)
        //         if (!vid) return reply(from, 'Musik tidak ditemukan', id)
        //         urlYtMp3 = vid.url
        //     } 

        //     // check urlYtMp3 is valid youtube or youtube music url
        //     if(!urlYtMp3.includes('youtube.com') && !urlYtMp3.includes('youtu.be')) return reply(from, 'Url tidak valid', id)
        //     if (splitSButtonYtMp3 ? splitSButtonYtMp3.length === 1 : args.length === 1) return rem.sendText(from, `Kirim perintah *${prefix}ytmp3 [ Link Yt ]*`)
        //     try {
        //         const getReqYtmp3 = (await axios.post('https://www.y2mate.com/mates/analyzeV2/ajax', { k_query: urlYtMp3¬†}, { headers: { 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/127.0.0.0 Safari/537.36', Referer: 'https://y2mate.com/', Origin: 'https://y2mate.com', 'Content-Type': "application/x-www-form-urlencoded" }¬†})).data
        //         console.log('ytmp3', getReqYtmp3)
        //         if(getReqYtmp3.error) {
        //             if(getReqYtmp3.errorMessage == 'This video is unavailable') return reply(from, 'Audio tidak ditemukan/tidak tersedia', id)
        //             return console.error(getReqYtmp3)
        //         }
        //         if(Object.keys(getReqYtmp3.links.mp3)[0] == undefined) return rem.sendButtons(from, 'Tidak ada audio!', [{ text: 'Video', id: `${prefix}ytmp4 ${urlYtMp3}` }])
                
        //         const dataLinksYtmp3 = Object.keys(getReqYtmp3.links.mp3).map(all => ({ text: `${getReqYtmp3.links.mp3[all].q_text} (${getReqYtmp3.links.mp3[all].size})`, id: `${prefix}ytget ${getReqYtmp3.vid} ${getReqYtmp3.links.mp3[all].k}` }))
        //         if(isSkipImageYtMp3 != 'skipImage') await rem.sendFile(from, `https://i.ytimg.com/vi/${getReqYtmp3.vid}/0.jpg`, '', `*„Äå YOUTUBE MP3 „Äç*\n\n‚Ä¢ *Judul* : ${getReqYtmp3.title}\n\n_Silahkan pilih kualitas audio yang diinginkan_`, '', image)
        //         rem.sendButtons(from, '_Silahkan pilih kualitas audio yang diinginkan_', dataLinksYtmp3)
        //     } catch (err) {
        //         console.error(err)
        //     }
        //     break
            // y2mate.com
        // case prefix+'ytmp4':
        // case prefix+'ytv':
        //     const splitSButtonYtMp4 = message?.selectedButtonId?.split(' ') || undefined
        //     const urlYtMp4 = splitSButtonYtMp4 ? splitSButtonYtMp4[1] : args[1] || ''
        //     const isSkipImageYtMp4 = splitSButtonYtMp4 ? splitSButtonYtMp4[2] : args[2] || ''

        //     if (splitSButtonYtMp4 ? splitSButtonYtMp4.length === 1 : args.length === 1) return rem.sendText(from, `Kirim perintah *${prefix}ytmp4 [ Link Yt ]*`)
        //     try {
        //         // const getReqYtmp4 = await axios.post('https://www.y2mate.com/mates/analyzeV2/ajax', { k_query: urlYtMp4, k_page: 'home', hl: 'id', q_auto: 0 }, { headers: { 'Content-Type': "application/x-www-form-urlencoded" } })

        //         const dataSendPuppeteerYtMp4 = `(async () => {
        //             const page = await browser.newPage();
        //             await page.goto('https://www.y2mate.com/')
        //             await page.setExtraHTTPHeaders({ 'Content-Type': 'application/x-www-form-urlencoded' });
        //             await page.route('**/*', async route => {
        //                 await route.continue({ method: 'POST', postData: 'k_query=${encodeURIComponent(urlYtMp4)}&k_page=home&hl=en&q_auto=0' });
        //             });
        //             const responsePup = await page.goto('https://www.y2mate.com/mates/analyzeV2/ajax');
        //             const responseBody = await responsePup.text();
        //             await page.close();
        //             return responseBody
        //         })();`
        //         const getReqYtmp4 = JSON.parse((await requestPuppeteer(dataSendPuppeteerYtMp4)).result)
                
        //         const dataLinksYtmp4 = Object.keys(getReqYtmp4.links.mp4).map(all => ({ text: `${getReqYtmp4.links.mp4[all].q_text?.split(' ')?.[0]} (${getReqYtmp4.links.mp4[all].size})`, id: `${prefix}ytget ${getReqYtmp4.vid} ${getReqYtmp4.links.mp4[all].k}` }))
        //         if(isSkipImageYtMp4 != 'skipImage') await rem.sendFile(from, `https://i.ytimg.com/vi/${getReqYtmp4.vid}/0.jpg`, '', `*„Äå YOUTUBE MP4 „Äç*\n\n‚Ä¢ *Judul* : ${getReqYtmp4.title}\n\n_Silahkan pilih kualitas video yang diinginkan_`, '', image)
        //         rem.sendButtons(from, '_Silahkan pilih kualitas video yang diinginkan_', dataLinksYtmp4)
        //     } catch (err) {
        //         console.error(err)
        //     }
        //     break
        // y2mate.is
        // case prefix+'ytmp4':
        // case prefix+'ytv':
        //     // if(!isOwner) return reply(from, `Maaf, fitur ini sedang dalam perbaikan!\n*Alternatif coba pakai cmd _${prefix}ig_ atau _${prefix}fb_*`)
        //     const splitSButtonYtMp4 = message?.selectedButtonId?.split(' ') || undefined
        //     const urlYtMp4 = splitSButtonYtMp4 ? splitSButtonYtMp4[1] : args[1] || ''
        //     const isSkipImageYtMp4 = splitSButtonYtMp4 ? splitSButtonYtMp4[2] : args[2] || ''

        //     if(!urlYtMp4.includes('youtube.com') && !urlYtMp4.includes('youtu.be')) return reply(from, 'Url tidak valid', id)
        //     if (splitSButtonYtMp4 ? splitSButtonYtMp4.length === 1 : args.length === 1) return rem.sendText(from, `Kirim perintah *${prefix}ytmp4 [ Link Yt ]*`)
        //     try {
        //         const dataSendPuppeteerPlayCookiesYtmp4 = `(async () => {
        //             const page = await browser.newPage();
        //             const responsePup = await page.goto('${urlYtMp4.replace('youtube.com', 'youtubepi.com').replace('youtu.be', 'youtubepi.com')}', { waitUntil: 'networkidle' });
        //             await page.waitForLoadState('networkidle')
        //             const getCookies = await page.context().cookies();
        //             const htmlGet = await responsePup.text();
        //             await page.close();
        //             return { cookies: getCookies, html: htmlGet }
        //         })();`
        //         const getCookiesTokenY2mateisYtmp4 = (await requestPuppeteer(dataSendPuppeteerPlayCookiesYtmp4)).result

        //         const cookiesGetYtmp4 = getCookiesTokenY2mateisYtmp4.cookies.map(all => `${all.name}=${all.value}`).join('; ')
        //         const getMetaXcsrfYtmp4 = getCookiesTokenY2mateisYtmp4.html.match(/<meta name="csrf-token" content="(.*)">/)[1]
        //         const mergeCookiesAndCsrfYtmp4 = cookiesGetYtmp4.replace(/ /g, '<IA>')

        //         const getReqYtmp4 = (await axios.post('https://y2mate.is/analyze', { url: urlYtMp4.replace('//youtube.com', '//www.youtube.com')¬†}, { headers: { 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/127.0.0.0 Safari/537.36', Referer: 'https://en.y2mate.is/', Origin: 'https://en.y2mate.is', 'Content-Type': "application/json", Cookie: getCookiesTokenY2mateisYtmp4.cookies.map(all => `${all.name}=${all.value}`).join('; '), 'X-CSRF-TOKEN': getMetaXcsrfYtmp4¬†}, httpsAgent¬†})).data
        //         console.log(getMetaXcsrfYtmp4, getReqYtmp4)
        //         if(getReqYtmp4.error) {
        //             if(getReqYtmp4.errorMessage == 'This video is unavailable') return reply(from, 'Video tidak ditemukan/tidak tersedia', id)
        //             return reply(from, `Error! ${getReqYtmp4.errorMessage}`, id)
        //         }
        //         if(getReqYtmp4.formats.video[0] == undefined) return rem.sendButtons(from, 'Tidak ada video!', [{ text: 'Audio', id: `${prefix}ytmp3 ${urlYtMp4}` }])
                
        //         // filter fileSize > 500mb
        //         // getReqYtmp4.formats.video = getReqYtmp4.formats.video.filter(all => (isNaN(all.filesize) || all.filesize < 500000000))
        //         // the filesize is formatted "47.04 MB" or "47.04 GB" etc, convert it to number and filter like above
        //         const convertToNumberFileSizeYtmp4 = getReqYtmp4.formats.video.map(all => ({ ...all, filesizeText: all.filesize, filesize: Number(all.filesize.split(' ')[0]) * (all.filesize.split(' ')[1] === 'MB' ? 1024 * 1024 : all.filesize.split(' ')[1] === 'GB' ? 1024 * 1024 * 1024 : 1) }))
        //         getReqYtmp4.formats.video = convertToNumberFileSizeYtmp4.filter(all => (isNaN(all.filesize) || all.filesize < 500000000))
        //         const dataLinksYtmp4 = getReqYtmp4.formats.video.map(all => ({
        //             text: `${all.quality} (${all.filesizeText})`,
        //             id: `${prefix}ytgetis ${all.hash ? all.hash : (!all.url.startsWith('http') ? all.url : all.url.split('&title=')[0])}${' ' + all.fileType + ' ' + all.quality + ' ' + all.filesize + ' ' + (all?.needConvert ? '1' : '0') + ' ' + mergeCookiesAndCsrfYtmp4 + ' ' + getMetaXcsrfYtmp4  + ' ' + getReqYtmp4.formats.title}`
        //         }))
        //         if(isSkipImageYtMp4 != 'skipImage') {
        //             const valuesTimeYtmp4 = Object.values(timeConvert(Number(getReqYtmp4.formats.lengthSeconds) * 1000, 0))
        //             const getTimeYtmp4 = (valuesTimeYtmp4[0] ? valuesTimeYtmp4[0].toString().padStart(2, '0') + ':' : '') + (valuesTimeYtmp4[1] ? valuesTimeYtmp4[1].toString().padStart(2, '0') + ':' : '') + (valuesTimeYtmp4[2] ? valuesTimeYtmp4[2].toString().padStart(2, '0') + ':' : '') + (valuesTimeYtmp4[3] ? valuesTimeYtmp4[3].toString().padStart(2, '0') : '')
        //             await rem.sendFile(from, getReqYtmp4.formats.thumbnail, '', `*„Äå YOUTUBE MP4 „Äç*\n\n‚Ä¢ *Judul* : ${getReqYtmp4.formats.title}${getTimeYtmp4 ? `\n‚Ä¢ *Durasi* : ${getTimeYtmp4}` : ''}\n\n_Silahkan pilih kualitas video yang diinginkan_`, '', image)
        //         }
        //         rem.sendButtons(from, '_Silahkan pilih kualitas video yang diinginkan_\n*Note:* *Max ukuran adalah 500mb!, jika button kosong, berarti semua kualitas videonya diatas 500mb*', dataLinksYtmp4)
        //     } catch (err) {
        //         console.error(err)
        //     }
        //     break
        // case prefix+'ytmp4':
        // case prefix+'ytv':
        //     // if(!isOwner) return reply(from, `Maaf, fitur ini sedang dalam perbaikan!\n*Alternatif coba pakai cmd _${prefix}ig_ atau _${prefix}fb_*`)
        //     const splitSButtonYtMp4 = message?.selectedButtonId?.split(' ') || undefined
        //     const urlYtMp4 = splitSButtonYtMp4 ? splitSButtonYtMp4[1] : args[1] || ''
        //     const isSkipImageYtMp4 = splitSButtonYtMp4 ? splitSButtonYtMp4[2] : args[2] || ''

        //     if(!urlYtMp4.includes('youtube.com') && !urlYtMp4.includes('youtu.be')) return reply(from, 'Url tidak valid', id)
        //     if (splitSButtonYtMp4 ? splitSButtonYtMp4.length === 1 : args.length === 1) return rem.sendText(from, `Kirim perintah *${prefix}ytmp4 [ Link Yt ]*`)
        //     try {
        //         reply(from, mess.wait, id)
        //         const getReqYtmp4 = (await axios.post('https://ummy.net/api/convert', { url: urlYtMp4, ts: Date.now(), _ts: Date.now(), _s: crypto.randomBytes(32).toString('hex') })).data
        //         if(Object.keys(getReqYtmp4.links.mp4)[0] == undefined) return rem.sendButtons(from, 'Tidak ada video!', [{ text: 'Audio', id: `${prefix}ytmp3 ${urlYtMp4}` }])
                
        //         if(getReqYtmp4?.url != undefined) {
        //             const dataLinksYtmp4 = getReqYtmp4.url.map(all => ({ text: `${all.name} (${(all.filesize || all.contentLength) ? all.clacSize_kb(all.filesize || all.contentLength) : '?'}`, id: `${prefix}ytget ${all.url} ${all.isConverterUI || false}` }))
        //             if(isSkipImageYtMp4 != 'skipImage') await rem.sendFile(from, getReqYtmp4.thumb, '', `*„Äå YOUTUBE MP4 „Äç*\n\n‚Ä¢ *Judul* : ${getReqYtmp4.meta.title}\n‚Ä¢ *Durasi* : ${getReqYtmp4.meta.duration}\n\n_Silahkan pilih kualitas video yang diinginkan_`, '', image)
        //             rem.sendButtons(from, '_Silahkan pilih kualitas video yang diinginkan_', dataLinksYtmp4)
        //         } else {
        //             reply(from, 'Not Found!', id)
        //         }
        //     } catch (err) {
        //         console.error(err)
        //     }
        //     break
        // cobalt api
        case prefix+'ytmp4':
        case prefix+'ytv':
            const splitSButtonYtMp4 = message?.selectedButtonId?.split(' ') || undefined
            const urlYtMp4 = splitSButtonYtMp4 ? splitSButtonYtMp4[1] : args[1] || ''

            if(!urlYtMp4.includes('youtube.com') && !urlYtMp4.includes('youtu.be')) return reply(from, 'Url tidak valid', id)
            if (splitSButtonYtMp4 ? splitSButtonYtMp4.length === 1 : args.length === 1) return rem.sendText(from, `Kirim perintah *${prefix}ytmp4 [ Link Yt ]*`)
            const qualityList = ['144p', '240p', '360p', '480p', '720p', '1080p', '1440p']
            rem.sendButtons(from, '_Silahkan pilih kualitas video yang diinginkan_', qualityList.map(all => ({ text: all, id: `${prefix}down ${urlYtMp4} auto ${all}` })))
            break
        case prefix+'ytmp3':
        case prefix+'yta':
            const splitSButtonYtMp3 = message?.selectedButtonId?.split(' ') || undefined
            const urlYtMp3 = splitSButtonYtMp3 ? splitSButtonYtMp3[1] : args[1] || ''

            if(!urlYtMp3.includes('youtube.com') && !urlYtMp3.includes('youtu.be')) return reply(from, 'Url tidak valid', id)
            if (splitSButtonYtMp3 ? splitSButtonYtMp3.length === 1 : args.length === 1) return rem.sendText(from, `Kirim perintah *${prefix}ytmp3 [ Link Yt ]*`)
            const qualityListYtMp3 = ['8kb/s', '64kb/s', '96kb/s', '128kb/s', '256kb/s', '320kb/s']
            rem.sendButtons(from, '_Silahkan pilih kualitas audio yang diinginkan_', qualityListYtMp3.map(all => ({ text: all, id: `${prefix}down ${urlYtMp3} audio ${all}` })))
            break
        case prefix+'play':
            if(!allArgs[1]) return reply(from, 'Kirim perintah *'+prefix+'play [ Judul Lagu ]*', id)
            let results = await yts(body.replace(`${allArgs[0]} `, ''))
            let vid = results.all.filter(video => video.seconds < 4600)
            if (vid?.length === 0) return reply(from, 'Musik tidak ditemukan', id)

            // limit to 20 song
            vid = vid.slice(0, 20)

            const dataLinksPlay = vid.map(all => ({ text: all.title, id: `${prefix}down ${all.url} audio` }))
            rem.sendButtons(from, '_Silahkan pilih lagu yang diinginkan_', dataLinksPlay)
            break
        case prefix+'down':
        case prefix+'video':
        case prefix+'audio':
        case prefix+'tiktok':
        case prefix+'tt':
        case prefix+'pinterest':
        case prefix+'pin':
        case prefix+'fb':
        case prefix+'facebook':
        case prefix+'twitter':
        case prefix+'twt':
        case prefix+'ig':
        case prefix+'mp3':
        case prefix+'mp4':
            if(allArgs[1] == undefined) return reply(from, 'Masukkan url video/audio!\n\n*Supported Link:* _youtube, instagram, facebook, pinterest, tiktok, twitter, soundcloud, bilibili, bluesky, dailymotion, loom, ok, rutube, snapchat, streamable, tumblr, twitch, vimeo, vk_', id)
            if(allArgs[2] == undefined) {
                return rem.sendButtons(from, '_Silahkan pilih tipe video/audio yang diinginkan_', [{ text: 'Auto', id: `${prefix}down ${allArgs[1]} auto` }, { text: 'Audio Only', id: `${prefix}down ${allArgs[1]} audio` }])
            }
            let isTTSlidesDown = false
            if(allArgs[1]?.includes('vm.tiktok.com') || allArgs[1]?.includes('vt.tiktok.com')) {
                try {
                    const getLinkRedirectTiktok = await axios.get(allArgs[1])
                    allArgs[1] = getLinkRedirectTiktok.request.res.responseUrl
                    if(getLinkRedirectTiktok.request.res.responseUrl.includes('tiktok.com') && getLinkRedirectTiktok.request.res.responseUrl.includes('photo')) {
                        isTTSlidesDown = true
                        if(allArgs[2] != 'audio') allArgs[3] = '1080p'
                    }
                } catch (err) {
                    console.error(err)
                    reply(from, 'Failed get redirect link from tiktok!')
                }
            }
            if(allArgs[1]?.includes('tiktok') || allArgs[1].includes('instagram')) {
                if(allArgs[2] === `audio`) {
                    allArgs[3] = '320kb/s';
                } else {
                    allArgs[3] = '1080p';
                }
            }
            if(allArgs[3] == undefined) {
                const qualityListDown = allArgs[2] === `audio` ? ['8kb/s', '64kb/s', '96kb/s', '128kb/s', '256kb/s', '320kb/s'] : ['144p', '240p', '360p', '480p', '720p', '1080p', '1440p']
                return rem.sendButtons(from, '_Silahkan pilih kualitas video/audio yang diinginkan_', qualityListDown.map(all => ({ text: all, id: `${prefix}down ${allArgs[1]} ${allArgs[2]} ${all}` })))
            }
            if(allArgs[1]?.includes('tiktok') && allArgs[2] == 'audio' && allArgs[4] == undefined) {
                return rem.sendButtons(from, '_Apakah kamu ingin mendownload Full Lagu?_', [{ text: 'Ya', id: `${prefix}down ${allArgs[1]} audio ${allArgs[3]} full` }, { text: 'Tidak', id: `${prefix}down ${allArgs[1]} audio ${allArgs[3]} no` }])
            }
            if(allArgs[1]?.includes('tiktok') && allArgs[2] == 'auto' && allArgs[4] == undefined && !isTTSlidesDown) {
                return rem.sendButtons(from, '_Apakah kamu ingin mendownload versi size yang lebih kecil?_', [{ text: 'Ya (Tidak support status whatsapp)', id: `${prefix}down ${allArgs[1]} auto ${allArgs[3]} h265` }, { text: 'Tidak (Versi HD)', id: `${prefix}down ${allArgs[1]} auto ${allArgs[3]} no` }])
            }

            const urlDown = allArgs[1]
            const typeDown = allArgs[2]
            const qualityDown = parseInt(allArgs[3])
            const videoQualityDown = (typeDown === 'audio' ? undefined : qualityDown)
            const audioQualityDown = (typeDown === 'audio' ? qualityDown : undefined)
            const isFullSong = allArgs[4] === 'full' ? true : false
            const isH265Tiktok = allArgs[4] === 'h265' ? true : false

            const sendEditMessageDown = await rem.sendText(from, mess.wait)

            let responseCobalt = undefined
            try {
                responseCobalt = await downloadWithCobalt(urlDown, typeDown, videoQualityDown, audioQualityDown, isFullSong, isH265Tiktok, sendEditMessageDown, rem, from)
            } catch (err) {
                console.error(err)
                reply(from, `Error!\n${err}`)
            }

            if(!responseCobalt.success) return reply(from, `Error: ${responseCobalt.message}`, id)

            if(responseCobalt.filePath) {
                rem.sendEditMessage(from, sendEditMessageDown.key, "Status: Sending file...")
                for(let i = 0; i < responseCobalt.filePath.length; i++) {
                    const fileNameCobalt = path.basename(responseCobalt.filePath[i])
                    const fileSizeCobalt = fs.statSync(responseCobalt.filePath[i]).size
                    if(fileSizeCobalt < 80_000_000) await rem.sendFileAuto(from, responseCobalt.filePath[i], fileNameCobalt, '', messageRaw)
                    if(!['jpg', 'jpeg', 'png', 'webp', 'gif'].includes(fileNameCobalt.split('.').pop())) await rem.sendFile(from, responseCobalt.filePath[i], fileNameCobalt, '', messageRaw, document, mime.lookup(fileNameCobalt))
                    if(fs.existsSync(responseCobalt.filePath[i])) fs.unlinkSync(responseCobalt.filePath[i])
                    
                    // in last loop delete folder and the inside
                    if(i === responseCobalt.filePath.length - 1) {
                        // const folderPath = responseCobalt.filePath[i].split('/').slice(0, -1).join('/')
                        // if(fs.existsSync(folderPath)) fs.rmSync(folderPath, { recursive: true })
                        rem.sendEditMessage(from, sendEditMessageDown.key, "Status: Success\n\nDownloaded with _cobalt_\nAlternative use https://down.remcp.com")
                    }
                }
            }
            break
        // case prefix+'pdftoword':
        //     if (!isQuotedMsg && type !== document) return reply(from, 'Reply pesan PDF atau kirim PDF dengan caption!', id)
            
        //     const isPdf = quotedMsg
        //         ? quotedMsg.mimetype === 'application/pdf'
        //         : mimetype === 'application/pdf'

        //     if(!isPdf) return reply(from, 'Bukan file PDF! Kirim file yang berformat .pdf', id)
        //     reply(from, 'Converting PDF to Word. Tunggu sebentar...', id)

        //     try {
        //         //get file pdf
        //         const pdfData = quotedMsg
        //             ? await quotedMsg.getMedia()
        //             : await message.getMedia()

        //             const uniqueFilename = GenerateSerialNumber("00000000000000000000000")
        //             const pdfPath = `./lib/cache/pdf/${uniqueFilename}.pdf`
        //             const docxPath = `./lib/cache/pdf/${uniqueFilename}.docx`

        //             //save pdf file
        //             const pdf = require('pdf-parse')
        //             await fs.writeFileSync(pdfPath, pdfData)

        //             const pdfBuffer = fs.readFileSync(pdfPath)
        //             const data = await pdf(pdfBuffer)

        //             const docx = require('docx')
        //             const { Document, Packer, Paragraph, TextRun } = docx

        //             //create new doc with extracted text
        //             const doc = new Document({
        //                 section: [{
        //                     properties: {},
        //                     children: [
        //                         new Paragraph({
        //                             children: [
        //                                 new TextRun(data.text)
        //                             ]
        //                         })
        //                     ]
        //                 }]
        //             })

        //             //save doc to file
        //             const buffer = await Packer.toBuffer(doc)
        //             fs.writeFileSync(docxPath, buffer)

        //             //send docx file
        //             await rem.sendFile(from, docxPath, `converted_${uniqueFilename}.docx`, 'PDF converted to Word document', messageRaw, document)

        //             //clean after send file
        //             setTimeout(() => {
        //                 fs.unlinkSync(pdfPath)
        //                 fs.unlinkSync(docxPath)
        //             }, 30000)
        //         } catch (error) {
        //             console.error('PDF to Word conversion error:', error)
        //             reply(from, 'Failed to convert PDF to Word. Error: ' + error.message, id)
        //         }
        //         break
        case prefix+'ytgetis':
            // if(!isOwner) return reply(from, 'Maaf, fitur ini sedang dalam perbaikan!')
            if(!message.selectedButtonId || allArgs[1] == undefined) return reply(from, 'Invalid!')
            const waitMsgYtGetIs = await reply(from, mess.wait)

            const isNeedConvert = Number(allArgs[5])
            if(isNeedConvert === 0) {
                const getBufferYtGetIs = await axios.get(allArgs[1], { responseType: 'arraybuffer', headers: { Referer: 'https://en.y2mate.is/' }¬†})
                if(Number(!isNaN(allArgs[4]) ? allArgs[4] : Buffer.byteLength(getBufferYtGetIs.data)) < 100_000_000) {
                    if(allArgs[2] === 'm4a') await rem.sendFile(from, getBufferYtGetIs.data, `audio.${allArgs[2]}`, `*${allArgs.join(' ').replace(`${allArgs[0]} ${allArgs[1]} ${allArgs[2]} ${allArgs[3]} ${allArgs[4]} ${allArgs[5]} ${allArgs[6]} ${allArgs[7]} `, '')}* _(${allArgs[3]})_`, messageRaw, audio)
                    if(allArgs[2] != 'm4a') await rem.sendFileAuto(from, getBufferYtGetIs.data, `video.${allArgs[2]}`, `*${allArgs.join(' ').replace(`${allArgs[0]} ${allArgs[1]} ${allArgs[2]} ${allArgs[3]} ${allArgs[4]} ${allArgs[5]} ${allArgs[6]} ${allArgs[7]} `, '')}* _(${allArgs[3]})_`, messageRaw)
                }
                const mimetypeYtGetIs = mime.lookup(allArgs[2])
                return await rem.sendFile(from, getBufferYtGetIs.data, `${allArgs.join(' ').replace(`${allArgs[0]} ${allArgs[1]} ${allArgs[2]} ${allArgs[3]} ${allArgs[4]} ${allArgs[5]} ${allArgs[6]} ${allArgs[7]} `, '')}.${allArgs[2]}`, ``, messageRaw, document, mimetypeYtGetIs)
            }

            const cookieYtgetis = allArgs[6].replace(/<IA>/g, ' ')
            const getTaskIdYtGetIs = !allArgs[1].startsWith('http') ? await axios.post('https://en.y2mate.is/convert', { hash: allArgs[1] }, { headers: { 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/127.0.0.0 Safari/537.36', Referer: 'https://en.y2mate.is/', Origin: 'https://en.y2mate.is', 'Content-Type': "application/json", Cookie: cookieYtgetis, 'X-CSRF-TOKEN': allArgs[7]¬†}, httpsAgent¬†}) : allArgs[1]
            
            await sleep(1000)

            const taskIdYtGetIs = !allArgs[1].startsWith('http') ? getTaskIdYtGetIs.data.taskId : undefined
            let loopCountYtGetIs = 1
            for(let i = 0; i < loopCountYtGetIs; i++) {
                const getTaskStatusYtGetIs = !allArgs[1].startsWith('http') ? await axios.post('https://en.y2mate.is/task', { taskId: taskIdYtGetIs }, { headers: { 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/127.0.0.0 Safari/537.36', Referer: 'https://en.y2mate.is/', Origin: 'https://en.y2mate.is', 'Content-Type': "application/json", Cookie: cookieYtgetis, 'X-CSRF-TOKEN': allArgs[7]¬†}, httpsAgent¬†}) : undefined
                if(getTaskStatusYtGetIs?.data?.status == 'finished' || allArgs[1].startsWith('http')) {
                    await rem.sendEditMessage(from, waitMsgYtGetIs.key, `${mess.wait}\nDownload Progress: 100%\nConvert Progress: 100%`)

                    allArgs[4] = allArgs[4].replace(/<IA>/g, ' ')
                    const fileSizeConvertYtgetis = isNaN(allArgs[4]) ? Number(allArgs[4].split(' ')[0]) * (allArgs[4].split(' ')[1] === 'MB' ? 1024 * 1024 : allArgs[4].split(' ')[1] === 'GB' ? 1024 * 1024 * 1024 : 1) : Number(allArgs[4])
                    if(Number(fileSizeConvertYtgetis) < 100_000_000) {
                        if((getTaskStatusYtGetIs?.data?.ext || allArgs[2]) === 'm4a') await rem.sendFile(from, getTaskStatusYtGetIs?.data?.download || allArgs[1], `audio.${allArgs[2]}`, `*${getTaskStatusYtGetIs?.data?.title || allArgs.join(' ').replace(`${allArgs[0]} ${allArgs[1]} ${allArgs[2]} ${allArgs[3]} ${allArgs[4]} ${allArgs[5]} ${allArgs[6]} ${allArgs[7]} `, '')}* _(${getTaskStatusYtGetIs?.data?.quality || allArgs[3]})_`, messageRaw, audio)
                        if((getTaskStatusYtGetIs?.data?.ext || allArgs[2]) != 'm4a') await rem.sendFileAuto(from, getTaskStatusYtGetIs?.data?.download || allArgs[1], `video.${getTaskStatusYtGetIs?.data?.ext || allArgs[2]}`, `*${getTaskStatusYtGetIs?.data?.title || allArgs.join(' ').replace(`${allArgs[0]} ${allArgs[1]} ${allArgs[2]} ${allArgs[3]} ${allArgs[4]} ${allArgs[5]} ${allArgs[6]} ${allArgs[7]} `, '')}* _(${getTaskStatusYtGetIs?.data?.quality || allArgs[3]})_`, messageRaw)
                    }
                    const mimetypeYtGetIs = mime.lookup(getTaskStatusYtGetIs?.data?.ext || allArgs[2])
                    await rem.sendFile(from, getTaskStatusYtGetIs?.data?.download || allArgs[1], `${getTaskStatusYtGetIs?.data?.title || allArgs.join(' ').replace(`${allArgs[0]} ${allArgs[1]} ${allArgs[2]} ${allArgs[3]} ${allArgs[4]} ${allArgs[5]} ${allArgs[6]} ${allArgs[7]} `, '')}.${getTaskStatusYtGetIs?.data?.ext || allArgs[2]}`, ``, messageRaw, document, mimetypeYtGetIs)
                    break
                } else if(getTaskStatusYtGetIs?.data?.status == 'pending' || getTaskStatusYtGetIs?.data?.status?.toLowerCase()?.startsWith('converting') || getTaskStatusYtGetIs?.data?.status?.toLowerCase()?.startsWith('preparing') || getTaskStatusYtGetIs?.data?.status?.toLowerCase()?.startsWith('merging') || getTaskStatusYtGetIs?.data?.status?.toLowerCase()?.includes('waiting') || getTaskStatusYtGetIs?.data?.status?.toLowerCase()?.includes('downloading') || getTaskStatusYtGetIs?.data?.status?.toLowerCase()?.includes('checking')) {
                    await rem.sendEditMessage(from, waitMsgYtGetIs.key, `${mess.wait}\nDownload Progress: ${getTaskStatusYtGetIs?.data?.download_progress || 0}%\nConvert Progress: ${getTaskStatusYtGetIs?.data?.convert_progress || 0}%`)
                    await sleep(1000)
                    loopCountYtGetIs++
                } else if(getTaskStatusYtGetIs?.data?.status == 'failed') {
                    console.log(getTaskStatusYtGetIs)
                    reply(from, '*Gagal mendapatkan konten!*\n_Silahkan coba lagi atau gunakan resolusi lain_')
                } else {
                    console.log(getTaskStatusYtGetIs)
                    reply(from, 'Error!\nPlease report to owner\n\nstack: ' + util.format(getTaskStatusYtGetIs))
                    break
                }
            }
            break
        // case prefix+'ytget':
        //     if(!message.selectedButtonId || allArgs[1] == undefined || allArgs[2] == undefined) return reply(from, 'Invalid!')
        //     reply(from, mess.wait)

        //     // const convertYtGet = await axios.post('https://www.y2mate.com/mates/convertV2/index', { vid: allArgs[1], k: allArgs[2] }, { headers: { 'Content-Type': "application/x-www-form-urlencoded" } })
            
        //     const dataSendPuppeteerYtGet = `(async () => {
        //         const page = await browser.newPage();
        //         await page.goto('https://www.y2mate.com/')
        //         await page.setExtraHTTPHeaders({ 'Content-Type': 'application/x-www-form-urlencoded' });
        //         await page.route('**/*', async route => {
        //             await route.continue({ method: 'POST', postData: 'vid=${encodeURIComponent(allArgs[1])}&k=${encodeURIComponent(allArgs[2])}' });
        //         });
        //         const responsePup = await page.goto('https://www.y2mate.com/mates/convertV2/index');
        //         const responseBody = await responsePup.text();
        //         await page.close();
        //         return responseBody
        //     })();`
        //     const convertYtGet = JSON.parse((await requestPuppeteer(dataSendPuppeteerYtGet, 'localhost:8067')).result)

        //     let fileSizeUrl = false
        //     try {
        //         fileSizeUrl = await file_size_url(convertYtGet.dlink)
        //     } catch (err) {
        //         console.error('ytget fileSizeUrl', err)
        //     }
        //     const getBufferLinkYtGet = await axios.get(convertYtGet.dlink, { responseType: 'arraybuffer' })
        //     const typeFileRaw = await FileType.fromBuffer(getBufferLinkYtGet.data)
        //     try {
        //         if(fileSizeUrl < 100_000_000) await rem.sendFileAuto(from, getBufferLinkYtGet.data, `${convertYtGet.title}.${convertYtGet.ftype}`, `${convertYtGet.title} _(${convertYtGet.fquality})_`, messageRaw)
        //     } catch (err) {
        //         console.error('ytget sendFileAuto', err)
        //     }
        //     await fs.writeFileSync(`./lib/cache/yt/${convertYtGet.title}.${convertYtGet.ftype}`, getBufferLinkYtGet.data)
        //     await addDelTime(`./lib/cache/yt/${convertYtGet.title}.${convertYtGet.ftype}`, '1h')
        //     await rem.sendFile(from, getBufferLinkYtGet.data, `${convertYtGet.title}.${convertYtGet.ftype}`, `${convertYtGet.title} _(${convertYtGet.fquality})_\n${`https://db1.remcp.com/yt/${encodeURIComponent(`${convertYtGet.title}.${convertYtGet.ftype}`)}`}\n\n*Link Media akan hilang setelah 1jam!*`, messageRaw, document, typeFileRaw.mime)
        //     break
        case prefix+'ytget':
            if(!message.selectedButtonId || allArgs[1] == undefined || allArgs[2] == undefined) return reply(from, 'Invalid!')
            reply(from, mess.wait)

            // const convertYtGet = await axios.post('https://www.y2mate.com/mates/convertV2/index', { vid: allArgs[1], k: allArgs[2] }, { headers: { 'Content-Type': "application/x-www-form-urlencoded" } })
            
            const dataSendPuppeteerYtGet = `(async () => {
                const page = await browser.newPage();
                await page.goto('https://www.y2mate.com/')
                await page.setExtraHTTPHeaders({ 'Content-Type': 'application/x-www-form-urlencoded' });
                await page.route('**/*', async route => {
                    await route.continue({ method: 'POST', postData: 'vid=${encodeURIComponent(allArgs[1])}&k=${encodeURIComponent(allArgs[2])}' });
                });
                const responsePup = await page.goto('https://www.y2mate.com/mates/convertV2/index');
                const responseBody = await responsePup.text();
                await page.close();
                return responseBody
            })();`
            const convertYtGet = JSON.parse((await requestPuppeteer(dataSendPuppeteerYtGet, 'localhost:8067')).result)

            let fileSizeUrl = false
            try {
                fileSizeUrl = await file_size_url(convertYtGet.dlink)
            } catch (err) {
                console.error('ytget fileSizeUrl', err)
            }
            const getBufferLinkYtGet = await axios.get(convertYtGet.dlink, { responseType: 'arraybuffer' })
            const typeFileRaw = await FileType.fromBuffer(getBufferLinkYtGet.data)
            try {
                if(fileSizeUrl < 100_000_000) await rem.sendFileAuto(from, getBufferLinkYtGet.data, `${convertYtGet.title}.${convertYtGet.ftype}`, `${convertYtGet.title} _(${convertYtGet.fquality})_`, messageRaw)
            } catch (err) {
                console.error('ytget sendFileAuto', err)
            }
            await fs.writeFileSync(`./lib/cache/yt/${convertYtGet.title}.${convertYtGet.ftype}`, getBufferLinkYtGet.data)
            await addDelTime(`./lib/cache/yt/${convertYtGet.title}.${convertYtGet.ftype}`, '1h')
            await rem.sendFile(from, getBufferLinkYtGet.data, `${convertYtGet.title}.${convertYtGet.ftype}`, `${convertYtGet.title} _(${convertYtGet.fquality})_\n${`https://db1.remcp.com/yt/${encodeURIComponent(`${convertYtGet.title}.${convertYtGet.ftype}`)}`}\n\n*Link Media akan hilang setelah 1jam!*`, messageRaw, document, typeFileRaw.mime)
            break
        // case prefix+'play':
        //     try {
        //         if(!args[1]) return rem.sendText(from, `Kirim perintah *${prefix}play [ Judul Lagu ]*\nContoh: *${prefix}play First Step nagase mana*`)
        //         let results = await yts(body.slice(6))
        //         let vid = results.all.find(video => video.seconds < 4600)
        //         if (!vid) return reply(from, 'Musik tidak ditemukan', id)

        // //         // const getReqPlay = await axios.post('https://www.y2mate.com/mates/analyzeV2/ajax', { k_query: vid.url, k_page: 'home', hl: 'id', q_auto: 0 }, { headers: { 'Content-Type': "application/x-www-form-urlencoded" } })
        // //         // const dataSendPuppeteerPlay = `(async () => {
        // //         //     const page = await browser.newPage();
        // //         //     await page.setRequestInterception(true);
        // //         //     page.on('request', request => {
        // //         //         request.continue({ method: 'POST', postData: 'k_query=${encodeURIComponent(vid.url)}&k_page=home&hl=id&q_auto=0', headers: { ...request.headers(), 'Content-Type': 'application/x-www-form-urlencoded' } });
        // //         //     });
        // //         //     const responsePup = await page.goto('https://www.y2mate.com/mates/analyzeV2/ajax');
        // //         //     const responseBody = await responsePup.text();
        // //         //     await page.close();
        // //         //     return responseBody
        // //         // })();`
        // //         // const getReqPlay = JSON.parse((await requestPuppeteer(dataSendPuppeteerPlay)).result)

        //         const dataSendPuppeteerPlayCookies = `(async () => {
        //             const page = await browser.newPage();
        //             const responsePup = await page.goto('${vid.url.replace('youtube.com', 'youtubepi.com')}');
        //             await page.waitForLoadState('networkidle')
        //             const getCookies = await page.context().cookies();
        //             const htmlGet = await responsePup.text();
        //             await page.close();
        //             return { cookies: getCookies, html: htmlGet }
        //         })();`
        //         const getCookiesTokenY2mateis = (await requestPuppeteer(dataSendPuppeteerPlayCookies)).result

        //         const getMetaXcsrf = getCookiesTokenY2mateis.html.match(/<meta name="csrf-token" content="(.*)">/)[1]

        //         const cookiesGetPlay = getCookiesTokenY2mateis.cookies.map(all => `${all.name}=${all.value}`).join('; ')
        //         const mergeCookiesAndCsrf = cookiesGetPlay.replace(/ /g, '<IA>')

        //         // const getReqPlay = (await axios.post('https://y2mate.is/analyze', { url: vid.url¬†}, { headers: { Referer: 'https://en.y2mate.is/', 'Content-Type': "application/x-www-form-urlencoded"¬†}, httpsAgent¬†})).0
        //         // send cookies get from getCookiesTokenY2mateis array
        //         // const getReqPlay = (await axios.post('https://y2mate.is/analyze', { url: vid.url¬†}, { headers: { Referer: 'https://en.y2mate.is/', 'Content-Type': "application/x-www-form-urlencoded", Cookie: getCookiesTokenY2mateis.map(all => `${all.name}=${all.value}`).join('; ')¬†}, httpsAgent¬†})).data
        //         // send cookies and set xcsrf token
        //         const getReqPlay = (await axios.post('https://y2mate.is/analyze', { url: vid.url.replace('//youtube.com', '//www.youtube.com')¬†}, { headers: { 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/127.0.0.0 Safari/537.36', Referer: 'https://en.y2mate.is/', Origin: 'https://en.y2mate.is', 'Content-Type': "application/json", Cookie: cookiesGetPlay /*Cookie: `XSRF-TOKEN=${getCookiesTokenY2mateis.cookies.find(all => all.name === 'XSRF-TOKEN').value}`*/, 'X-CSRF-TOKEN': getMetaXcsrf¬†}, httpsAgent¬†})).data
        //         // only set XSRF-TOKEN cookie and xcsrf token header
        //         // const getReqPlay = (await axios.post('https://y2mate.is/analyze', { url: vid.url¬†}, { headers: { 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/127.0.0.0 Safari/537.36', Referer: 'https://en.y2mate.is/', Origin: 'https://en.y2mate.is', 'Content-Type': "application/json", Cookie: `XSRF-TOKEN=${getCookiesTokenY2mateis.cookies.find(all => all.name === 'XSRF-TOKEN').value}`, 'x-csrf-token': getMetaXcsrf¬†}, httpsAgent¬†})).data
        //         // const getReqPlay = (await axios.post('https://   y2mate.is/analyze', { url: vid.url¬†}, { headers: { 'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/127.0.0.0 Safari/537.36', Referer: 'https://en.y2mate.is/', Origin: 'https://en.y2mate.is', 'Content-Type': "application/json", 'x-csrf-token': getMetaXcsrf¬†}, httpsAgent¬†})).data
        //         // console.log(getReqPlay, vid.url, getCookiesTokenY2mateis.cookies.map(all => `${all.name}=${all.value}`).join('; '))
        //         if(getReqPlay.error) {
        //             if(getReqPlay.errorMessage == 'This video is unavailable') return reply(from, 'Audio tidak ditemukan/tidak tersedia', id)
        //             return reply(from, `Error! ${getReqPlay.errorMessage}`, id)
        //         }
        //         if(getReqPlay.formats.audio[0] == undefined) return rem.sendButtons(from, 'Tidak ada audio!', [{ text: 'Video', id: `${prefix}ytmp4 ${vid.url}` }])

        //         const dataLinksPlay = getReqPlay.formats.audio.map(all => ({ text: `${all.quality} (${all.filesize})`, id: `${prefix}ytgetis ${all.hash ? all.hash : (!all.url.startsWith('http') ? all.url : all.url.split('&title=')[0])}${' ' + all.fileType + ' ' + all.quality + ' ' + all.filesize.replace(/ /g, '<IA>') + ' ' + (all?.needConvert ? '1' : '0') + ' ' + mergeCookiesAndCsrf + ' ' + getMetaXcsrf  + ' ' + getReqPlay.formats.title}` }))
        //         const valuesTimePlay = Object.values(timeConvert(Number(getReqPlay.formats.lengthSeconds) * 1000, 0))
        //         const getTimePlay = (valuesTimePlay[0] ? valuesTimePlay[0].toString().padStart(2, '0') + ':' : '') + (valuesTimePlay[1] ? valuesTimePlay[1].toString().padStart(2, '0') + ':' : '') + (valuesTimePlay[2] ? valuesTimePlay[2].toString().padStart(2, '0') + ':' : '') + (valuesTimePlay[3] ? valuesTimePlay[3].toString().padStart(2, '0') : '')
        //         await rem.sendAdReply(from, `*„Äå PLAY „Äç*\n\n‚Ä¢ *Judul* : ${getReqPlay.formats.title}${getTimePlay ? `\n‚Ä¢ *Durasi* : ${getTimePlay}` : ''}\n\n_Silahkan pilih kualitas audio yang diinginkan_`, getReqPlay.formats.thumbnail, getReqPlay.formats.title, config.botWM, `https://youtu.be/${getReqPlay.formats.videoId}`, `https://youtu.be/${getReqPlay.formats.videoId}`, false, true)
        //         rem.sendButtons(from, '_Silahkan pilih kualitas audio yang diinginkan_', dataLinksPlay)
        //     } catch (err) {
        //         console.error(err)
        //     }
        //     break
        // case prefix+'play':
        //     if(!isSideOwner) return reply(from, 'Maaf, fitur ini sedang diperbaiki')
        //     if (args.length == 1) return reply(from, `Untuk mencari lagu dari youtube\n\nPenggunaan: ${prefix}play judul lagu`, id)
        //     try {
        //         reply(from, mess.wait)
        //         let results = await yts(body.slice(6))
        //         let vid = results.all.find(video => video.seconds < 3600)
        //         if (!vid) return reply(from, 'Musik tidak ditemukan', id)

        //         let metadata = {}
        //         const generateIdYtPlay = GenerateSerialNumber('000000000000')

        //         try {
        //             if(!fs.existsSync(`./lib/cache/play/${sender}`)) await fs.mkdirSync(`./lib/cache/play/${sender}`)
        //             if(fs.existsSync(`./lib/cache/play/${sender}/${generateIdYtPlay}`)) await fs.unlinkSync(`./lib/cache/play/${sender}/${generateIdYtPlay}`, { recursive: true })
        //             if(!fs.existsSync(`./lib/cache/play/${sender}/${generateIdYtPlay}`)) await fs.mkdirSync(`./lib/cache/play/${sender}/${generateIdYtPlay}`)
                    
        //             metadata = await ytDlpWrap.execPromise([
        //                 vid.url,
        //                 '-N 1',
        //                 '-f',
        //                 'ba', // Quality
        //                 '-o',
        //                 `./lib/cache/play/${sender}/${generateIdYtPlay}/%(id)s.%(ext)s`, // output
        //                 '--max-filesize',
        //                 '20m', //max size
        //                 '-x', // only audio
        //                 '--audio-quality',
        //                 '0', // audio quality
        //                 '--audio-format',
        //                 'mp3', //audio format
        //                 '--print-json'
        //             ]);
        //         } catch (err) {
        //             console.error(err)
        //             return reply(from, 'Musik tidak ditemukan', id)
        //         }

        //         const readDirPlayFolder = await fs.readdirSync(`./lib/cache/play/${sender}/${generateIdYtPlay}`)
        //         if(readDirPlayFolder == '') return reply(from, 'Musik tidak ditemukan', id)

        //         // console.log(JSON.parse(metadata.split('"_type":')[0].trim() + `"_type":""}`))
        //         const { thumbnail, title, duration_string, original_url } = JSON.parse(metadata.split('"_type":')[0].trim() + `"_type":""}`)
        //         const captplay = `*„Äå PLAY „Äç*\n\n‚û§ *Judul* : ${title}\n‚û§ *Durasi* : ${duration_string}\n\n_*Music Sedang Dikirim*_`
        //         await rem.sendAdReply(from, captplay, thumbnail, title, config.botWM, original_url, original_url, false, true)
        //         // await rem.sendFile(from, thumbnail, `thumb.jpg`, captplay, messageRaw, image)

        //         for(let i = 0; i < readDirPlayFolder.length; i++) {
        //             await rem.sendFile(from, `./lib/cache/play/${sender}/${generateIdYtPlay}/${readDirPlayFolder[i]}`, `${title}.mp3`, '', messageRaw, document, 'audio/mpeg')
        //             await rem.sendFile(from, `./lib/cache/play/${sender}/${generateIdYtPlay}/${readDirPlayFolder[i]}`, `${title}.mp3`, '', messageRaw, audio, 'audio/mpeg').catch(() => reply(from, mess.error.Yt4, id))
                    
        //             if (i === readDirPlayFolder.length - 1) {
        //                 await fs.rmSync(`./lib/cache/play/${sender}/${generateIdYtPlay}`, { recursive: true })
        //             }
        //         }

        //         // if(filesize >= 15000) return reply(from, `Maaf, durasi music melebihi 15 MB\n\nLink : ${dl_link}`, id)
        //         // const filenamePlay = GenerateSerialNumber("00000000000000000000000")
        //         // if (fs.existsSync(`./lib/cache/play/${filenamePlay}.mp3`)) await fs.unlinkSync(`./lib/cache/play/${filenamePlay}.mp3`)
        //         // console.log(dl_link)
        //         // const responses = await fetch(dl_link, { agent });
        //         // const buffer = await responses.buffer();
        //         // console.log(buffer)
        //         // await fs.writeFile(`./lib/cache/play/${filenamePlay}.mp3`, buffer)
        //         // await rem.sendFile(from, buffer, `${title}.mp3`, '', messageRaw, document, 'audio/mpeg')
        //         // await rem.sendFile(from, `./lib/cache/play/${filenamePlay}.mp3`, `${title}.mp3`, '', messageRaw, audio, 'audio/mpeg').catch(() => reply(from, mess.error.Yt4, id))
        //         // console.log('Success sending Play MP3!')
        //         // fs.unlinkSync(`./lib/cache/play/${filenamePlay}.mp3`)
        //         /*const playSementaraLinkDownload = await axios.get(`https://api.zeks.me/api/ytmp3?apikey=n1Grf6Dn6F4Xyv1021d6tGSwYhD&url=${vid.url}`)
        //         await rem.sendFile(from, playSementaraLinkDownload.data.result.thumbnail, `thumb.jpg`, captplay, id)
        //         const responses = await fetch(playSementaraLinkDownload.data.result.url_audio);
        //         const buffer = await responses.buffer();
        //         await fs.writeFile(`./lib/cache/play/${sender}.mp3`, buffer)
        //         await rem.sendFile(from, `./lib/cache/play/${sender}.mp3`, `${vid.title}.mp3`, '', id)
        //         fs.unlinkSync(`./lib/cache/play/${sender}.mp3`)*/
        //         await limitAdd(serial)
        //     } catch (err) {
        //         rem.sendText(numberReportError, 'Error Play : '+ err)
        //         console.error(err)
        //         reply(from,'Gagal!\nMungkin size file melebihi limit Whatsapp', id)
        //     }
        // break
        case prefix+'yts':
        case prefix+'ytcari':
        case prefix+'ytsearch':
        case prefix+'ytsearchs':
            //if (!isPrem) return reply(from, 'Perintah ini bersifat PREMIUM')
            //if (!isGroupMsg) return reply(from, `Perintah ini hanya bisa di gunakan dalam group!`, id)
            //if (isLimit(_userDb)) return reply(from, `Maaf ${pushname}, Kuota Limit Kamu Sudah Habis, Ketik ${prefix}limit Untuk Mengecek Kuota Limit Kamu`, id)
            if (args.length === 1) return reply(from, `Kirim perintah *${prefix}ytcari judul*`, id)
            try {
                let results1 = await yts(body.replace(`${allArgs[0]} `, ''))

                const rows = []
                for(let i = 0; i < results1.videos.length; i++) {
                    rows.push({ title: `${results1.videos[i].title} | ${results1.videos[i].timestamp}`, description: results1.videos[i].url, rowId: `${prefix}ytcariget ${results1.videos[i].videoId}` })
                }
    
                const sections = [{ title: "Ytcari", rows: rows }]
                await rem.sendList(from, "Pilih Video", sections, 'Ytcari', '@dwirizqi.h')
            } catch (err) {
                // rem.sendText(numberReportError, 'Error ytcari : '+ err)
                reply(from, mess.error.Yt3, id)
            }
            break  
        case prefix+'ytcariget':
            if(message.selectedRowId == undefined) return reply(from, 'Invalid!')
            let results2 = await yts({ videoId: allArgs[1] })

            let vid2 = results2
            if (!vid2) return reply(from, 'Video tidak ditemukan', id)
            await rem.sendFile(from, vid2.image, 'thumb.jpg', `‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ\n‚û§ *Judul:* ${vid2.title}\n‚û§ *Channel:* ${vid2.author.name}\n‚û§ *Dilihat:* ${vid2.views}x\n‚û§ *Durasi:* ${vid2.timestamp}\n‚û§ *Url:* ${vid2.url}\n‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ`, messageRaw, image).catch(() => reply(from, mess.error.Yt4, id))
            await rem.sendButtons(from, `Link Button`, [{id: `${prefix}ytmp3 ${vid2.url} skipImage`, text: `Audio`},{id: `${prefix}ytmp4 ${vid2.url} skipImage`, text: `Video`}], '', '')
            await limitAdd(serial)
            break
        case prefix+'film':
            // if (!isPrem) return reply(from, 'Perintah ini bersifat PREMIUM', id)
            //if (isLimit(_userDb)) return reply(from, `Maaf ${pushname}, Kuota Limit Kamu Sudah Habis, Ketik ${prefix}limit Untuk Mengecek Kuota Limit Kamu`, id)
            if (args.length === 1) return reply(from, `Kirim perintah *${prefix}film <judul>*\nContoh : _${prefix}film yowis ben_`, id)

            await limitAdd(serial)
            const jufilm = body.slice(6)
            const lk210 = await axios.get(`https://lk21official.biz/?s=${encodeURIComponent(jufilm)}`)
            const lk21 = lk210.data

            const listMovies = []

            // console.log(lk21)
            const $Movies = cheerio.load(lk21)
            $Movies('div.search-wrapper > *div.search-item').each((i, data) => {
                const getMovies = $Movies(data).find('div > div.col-xs-9.col-sm-10.search-content')

                let listGenre = []
                $Movies(data).find('div > div.col-xs-9.col-sm-10.search-content > p.cat-links > *a').each((a, b) => {
                    listGenre.push(`https://lk21official.biz/${$Movies(b).text()}`)
                })

                listMovies.push({ title: getMovies.find('h2 > a').text(), url: getMovies.find('h2 > a').attr('href'), genre: listGenre.join(', '), sutradara: getMovies.find('p:nth-child(3)').text() })
            })

            var listFilmGet = 'Source : https://lk21official.biz/'
            for(let i = 0; i < listMovies.length; i++) {
                listFilmGet += `\n\n${i+1}. *${listMovies[i].title}*\n*Genre :* ${listMovies[i].genre}\n*Sutradara :* ${listMovies[i].sutradara}\n*Url :* ${listMovies[i].url}`
            }
            reply(from, listFilmGet, id)
            break
        /*case prefix+'nhcari':
            // if (!isPrem) return reply(from, 'Perintah ini bersifat PREMIUM', id)
            if (isGroupMsg) {
                if (!isNsfw) return reply(from, 'command/Perintah NSFW belum di aktifkan di group ini!', id)
            }
            //if (isLimit(_userDb)) return reply(from, `Maaf ${pushname}, Kuota Limit Kamu Sudah Habis, Ketik ${prefix}limit Untuk Mengecek Kuota Limit Kamu`, id)
            if (args.length == 1) return reply(from, `Untuk mencari doujin dari nhentai.net\n\nPenggunaan: _${prefix}nhcari misha necron_`, id)
            try {
                reply(from, mess.wait, id)
                const doujinn = body.slice(8)
                const api1 = new nhentai.API();
                let doujinResult1Pages = []
                let doujinResult2Pages = []
                await api1.search(doujinn, 1, 'popular').then(doujin => {
                    doujinResult1Pages.push(doujin.doujins)
                });
                await api1.search(doujinn, 2, 'popular').then(doujin => {
                    doujinResult2Pages.push(doujin.doujins)
                });
                const doujinResult = [...doujinResult1Pages, ...doujinResult2Pages]
                if(doujinResult == []) return reply(from, 'Not found!', id)
                const randomPages_doujin = doujinResult[Math.floor(Math.random() * doujinResult.length)]
                console.log(randomPages_doujin)
                const doucot = `*„Äå NHCARI „Äç*\n\n‚û§ *Judul* : ${randomPages_doujin.titles.pretty}\n‚û§ *Date* : ${randomPages_doujin.uploadDate}\n‚û§ *Sort* : Popular All Time\n‚û§ *Link* : nhentai.net/g/${randomPages_doujin.id}\n\nDownload menggunakan _${prefix}nhentai ${randomPages_doujin.id}_`
                await rem.sendFile(from, randomPages_doujin.cover, 'doujin.jpg', doucot)
                await limitAdd(serial)
            } catch (err) {
                console.error(err)
                rem.sendText('6281358181668@s.whatsapp.net', 'Error Nhcari : '+ err)
                reply(from, '*Maaf Terdapat kesalahan saat mengambil data*', id)
            }
            break*/
        case prefix+'genshin':
            
            pythonProcess.stdout.on('data', (data) => {
                const dataString = data.toString();
                const dataJson = JSON.parse(eval(`(${dataString})`))
                
                const nickGenshin = dataJson?.info?.nickname
                const serverGenshin = dataJson?.info?.server
                const userLevelGenshin = dataJson?.info?.level

                const statsAchievement = dataJson?.stats?.achievements
                const statsDaysActive = dataJson?.stats?.days_active
                const charactersListCountGenshin = dataJson?.stats?.characters
                const spiralAbyssGenshin = dataJson?.stats?.spiral_abyss

                const charactersListGenshin = dataJson?.characters
                const teapotUserGenshin = dataJson?.teapot
                
            });
            break

        case prefix+'github':
        case prefix+'gh':
            await limitAdd(serial)
            if (args.length === 1) return reply(from, `Kirim perintah *${prefix}github [username]*\nContoh : *${prefix}github octocat*`, id)
                
            try {
                const username = args[1]
                reply(from, mess.wait, id)
                const response = await axios.get(`https://api.github.com/users/${username}`)
                const user = response.data
                    
                const joinDate = new Date(user.created_at).toLocaleDateString('en-US', {
                    year: 'numeric',
                    month: 'long',
                    day: 'numeric'
                })
                        
                const reposResponse = await axios.get(`https://api.github.com/users/${username}/repos?per_page=100&type=all`)
                const repos = reposResponse.data
                const ownRepos = repos.filter(repo => !repo.fork).length
                const forkedRepos = repos.filter(repo => repo.fork).length
                        
                // Get user achievements by scraping profile page
                const profilePageResponse = await axios.get(`https://github.com/${username}`)
                const $ = cheerio.load(profilePageResponse.data)
                        
                let achievements = []
                // achievement badges
                $('div.achievement-badge-sidebar').each((i, el) => {
                    const title = $(el).find('img.achievement-badge-sidebar-progress-circular-img').attr('alt')
                    if (title) {
                        achievements.push(title.replace(' badge', ''))
                    }
                })
                        
                //achievement stats
                $('div.js-highlight-blob-container').each((i, el) => {
                    const highlightText = $(el).find('a.color-fg-default > div > span').text().trim()
                    if (highlightText && !achievements.includes(highlightText)) {
                        achievements.push(highlightText)
                    }
                })
                
                //format achievements
            const achievementsSection = achievements.length > 0 
                ? `\n‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ\n*Achievements:*\n${achievements.map(a => `‚û§ ${a}`).join('\n')}`
                : '';
                            
            const githubProfile = `*|| „Äå GITHUB PROFILE „Äç ||*\n
‚û§ *Username:* ${user.login}
‚û§ *Name:* ${user.name || 'No name'}
‚û§ *Bio:* ${user.bio || 'No bio'}
‚û§ *Followers:* ${user.followers}
‚û§ *Following:* ${user.following}
‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
‚û§ *Repositories:* ${user.public_repos} (${ownRepos} own, ${forkedRepos} forked)
‚û§ *Gists:* ${user.public_gists}
‚û§ *Location:* ${user.location || 'No location'}
‚û§ *Company:* ${user.company || 'No company'}
‚û§ *Website:* ${user.blog || 'No website'}
‚û§ *Twitter:* ${user.twitter_username ? '@'+user.twitter_username : 'No twitter account'}${achievementsSection}
‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
‚û§ *Joined:* ${joinDate}
‚û§ *Profile URL:* ${user.html_url}`
                        
                await rem.sendFile(from, user.avatar_url, 'github.jpg', githubProfile, messageRaw, image)
            } catch (err) {
                if (err.response && err.response.status === 404) {
                    reply(from, 'User GitHub tidak ditemukan', id)
                } else {
                    console.error(err)
                    reply(from, 'Error mengambil data GitHub', id)
                }
            }
            break        
        case prefix+'osu':
            //if (!isGroupMsg) return reply(from, 'Perintah ini hanya bisa di gunakan dalam group!', id)
            if (args.length == 1) return reply(from, `Untuk melihat osu Profile\n\Contoh: ${prefix}osu InfiniteLight`, id)
            //if (isLimit(_userDb)) return reply(from, `Maaf ${pushname}, Kuota Limit Kamu Sudah Habis, Ketik ${prefix}limit Untuk Mengecek Kuota Limit Kamu`, id)
            
            await limitAdd(serial)
            const fetchOsuApi = await fetch(`https://osu.ppy.sh/api/get_user?k=9ba963940e4f648b5dcaec84e4ecd35cfa94635c&u=${args[1]}`)
            const fetchOsuApi1 = await fetchOsuApi.json()
            const fetchOsuApi2 = fetchOsuApi1[Math.floor(Math.random() * fetchOsuApi1.length)]
            if(fetchOsuApi2?.user_id == undefined) return reply(from, 'User Tidak Ditemukan', id)
            console.log(fetchOsuApi2.user_id)
                //General
                const userOsuId = fetchOsuApi2.user_id
                const usernameOsu = fetchOsuApi2.username
                const joindateOsu = fetchOsuApi2.join_date
                const countryOsu = fetchOsuApi2.country
                const PlayCountOsu = fetchOsuApi2.playcount
                //Score
                const RankedScoreOsu = fetchOsuApi2.ranked_score
                const TotalScoreOsu = fetchOsuApi2.total_score
                const Score300Osu = fetchOsuApi2.count300
                const Score100Osu = fetchOsuApi2.count100
                const Score50Osu = fetchOsuApi2.count50
                //Perfomance
                const levelOsu = fetchOsuApi2.level
                const leaderboardOsu = fetchOsuApi2.pp_rank
                const PPOsu = fetchOsuApi2.pp_raw
                const akurasiOsu = Math.abs(fetchOsuApi2.accuracy).toFixed(2)
                const AOsu = fetchOsuApi2.count_rank_a
                const SOsu = fetchOsuApi2.count_rank_s
                const SHOsu = fetchOsuApi2.count_rank_sh
                const SSOsu = fetchOsuApi2.count_rank_ss
                const SSHOsu = fetchOsuApi2.count_rank_ssh 
                rem.sendFile(from, `https://a.ppy.sh/${userOsuId}`, '', `<------------------------------------------>

*OsuId* : ${userOsuId}
*Username* : _${usernameOsu}_
*Negara* : ${countryOsu}
*Level* : ${levelOsu}
*Akurasi* : ${akurasiOsu}%
*PP* : ${PPOsu}
*Leaderboard* : ${numberWithCommas(leaderboardOsu)}
*JoinDate* : ${joindateOsu}

<Score> ‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã‚Äã


*PlayCount* : ${numberWithCommas(PlayCountOsu)}
*Ranked Score* : ${numberWithCommas(RankedScoreOsu)}
*Total Score* : ${numberWithCommas(TotalScoreOsu)}
*SSH Score* : ${SSHOsu}
*SS Score* : ${SSOsu}
*SH Score* : ${SHOsu}
*S Score* : ${SOsu}
*A Score* : ${AOsu}

*300* : ${numberWithCommas(Score300Osu)}
*100* : ${numberWithCommas(Score100Osu)}
*50* : ${numberWithCommas(Score50Osu)}
`, messageRaw, image)
            break
        case prefix+'google':
            //if (!isGroupMsg) return reply(from, 'Perintah ini hanya bisa di gunakan dalam group!', id)
            //if (isLimit(_userDb)) return reply(from, `Maaf ${pushname}, Kuota Limit Kamu Sudah Habis, Ketik ${prefix}limit Untuk Mengecek Kuota Limit Kamu`, id)
            
            await limitAdd(serial)
            const googleQuery = body.slice(8)
            if(googleQuery == undefined || googleQuery == ' ') return reply(from, `*Hasil Pencarian : ${googleQuery}* tidak ditemukan`, id)
            const responseGoogle = await googleSr.search({ query: googleQuery, filterResults: [googleSr.ResultTypes.SearchResult], safeMode: true });
            let vars = `_*Hasil Pencarian : ${googleQuery}*_\n`
            for (let i = 0; i < responseGoogle.length; i++) {
                vars +=  `\n‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ\n\n*Judul* : ${responseGoogle[i].title}\n\n*Deskripsi* : ${responseGoogle[i].description}\n\n*Link* : ${responseGoogle[i].link}\n\n`
            }
            reply(from, vars, id);
            break
        case prefix+'translate':
        case prefix+'tl':
            //if (!isGroupMsg) return reply(from, 'Perintah ini hanya bisa di gunakan dalam group!', id)
            //if (isLimit(_userDb)) return reply(from, `Maaf ${pushname}, Kuota Limit Kamu Sudah Habis, Ketik ${prefix}limit Untuk Mengecek Kuota Limit Kamu`, id)
            
            await limitAdd(serial)
            if(args[1] == undefined || args[2] == undefined) return
            if(args.length >= 2){
                var codelang = args[1]
                var textx = body.replace(`${args[0]} ${args[1]} `, '')
                const esmTranslate = await import('./lib/esm/exports.mjs')
                const counterMetadata = 'metadata:'

                if(textx.startsWith(prefix)) {
                    return reply(from, `Tidak dapat menggunakan *(${prefix})* di awal pesan! Mohon gunakan pesan tanpa awalan *(${prefix})*`, id)
                }
                if(textx.startsWith(counterMetadata)) {
                    return reply(from, `Tidak dapat menggunakan *metadata:* di awal pesan! Mohon gunakan pesan tanpa awalan *metadata:*`, id)
                }
                esmTranslate.translateText(textx, codelang).then(res => {
                    console.log(res)
                    rem.sendText(from, res);
                  //  limitAdd(serial)
                }).catch(err => {
                    console.log(err)
                     rem.sendText(from,`[ERROR] Teks tidak ada, atau kode bahasa ${codelang} tidak support\n~> *${prefix}bahasa* untuk melihat list kode bahasa`);
                });
            }
            break
        // case prefix+'shopee':
        //     // if (!isPrem) return reply(from, 'Perintah ini bersifat PREMIUM', id)
        //     //if (!isGroupMsg) return reply(from, 'Perintah ini hanya bisa di gunakan dalam group!', id)
        //     //if (isLimit(_userDb)) return reply(from, `Maaf ${pushname}, Kuota Limit Kamu Sudah Habis, Ketik ${prefix}limit Untuk Mengecek Kuota Limit Kamu`, id)
            
        //     await limitAdd(serial)
        //     if (args.length === 1) return rem.sendText(from, 'Kirim perintah *'+prefix+'shopee [optional]*\nContoh: '+prefix+'shopee xiaomi')
        //     try {
        //         //reply(from, mess.wait, id)
        //         const produk = body.slice(8)
        //         const jualan = await axios.get(`https://api.zeks.me/api/shopee?apikey=n1Grf6Dn6F4Xyv1021d6tGSwYhD&q=${produk}`)
        //         var listShopeeGet = 'Source : https://shopee.co.id/'
        //         for(let i = 0; i < jualan.data.data.length; i++) {
        //             listShopeeGet += `\n\n${i+1}. ${jualan.data.data[i].name}\n ‚û§ *Harga* : ${jualan.data.data[i].harga}\n ‚û§ *Terjual* : ${jualan.data.data[i].terjual}\n ‚û§ *Lokasi Toko* : ${jualan.data.data[i].location}\n ‚û§ *Link* : ${jualan.data.data[i].url}`
        //         }
        //         await reply(from, listShopeeGet, id)
        //     } catch (err) {
        //         console.error(err)
        //         await reply(from, 'Maaf, Produk tidak ditemukan', id)
        //         rem.sendText(ownerNumber, 'Shopee Error : ' + err)
        //     }
        //     break
        // case prefix+'playstore':
        //     // if (!isPrem) return reply(from, 'Perintah ini bersifat PREMIUM', id)
        //     //if (!isGroupMsg) return reply(from, 'Perintah ini hanya bisa di gunakan dalam group!', id)
        //     //if (isLimit(_userDb)) return reply(from, `Maaf ${pushname}, Kuota Limit Kamu Sudah Habis, Ketik ${prefix}limit Untuk Mengecek Kuota Limit Kamu`, id)
            
        //     await limitAdd(serial)
        //     if (args.length === 1) return rem.sendText(from, 'Kirim perintah *'+prefix+'playstore [optional]*\nContoh: '+prefix+'playstore genshin impact')
        //     try {
        //         //reply(from, mess.wait, id)
        //         const app = body.slice(11)
        //         const appk = await axios.get(`https://api.zeks.me/api/sgplay?apikey=n1Grf6Dn6F4Xyv1021d6tGSwYhD&q=${app}`)
        //         const apkk = appk.data.result
        //          if (apkk.error) {
        //             reply(from, ytvv.error, id)
        //         } else {
        //             const apk = apkk[Math.floor(0)]
        //             await rem.sendFile(from, apk.thumb, `${apk.title}.jpg`, `‚û§ *APP* : ${apk.title}\n‚û§ *Developer* : ${apk.developer}\n‚û§ *Harga* : ${apk.price}\n‚û§ *Rating* : _‚ãÜ ${apk.rating}_\n‚û§ *Link* : ${apk.url}`, false, image)}
        //     } catch (err) {
        //         console.error(err)
        //         await reply(from, 'Maaf, Aplikasi tidak ditemukan', id)
        //         rem.sendText(ownerNumber, 'playstore Error : ' + err)
        //     }
        //     break
        case prefix+'ramalpasangan':
            //if (!isGroupMsg) return reply(from, 'Perintah ini hanya bisa di gunakan dalam group!', id)
            //if (isLimit(_userDb)) return reply(from, `Maaf ${pushname}, Kuota Limit Kamu Sudah Habis, Ketik ${prefix}limit Untuk Mengecek Kuota Limit Kamu`, id)
            
            await limitAdd(serial)
            if (args.length === 1) return reply(from, 'Kirim perintah *'+prefix+'ramalpasangan [kamu|pasangan]*\nContoh : *'+prefix+'ramalpasangan Gw|Dia*', id)
            const arg = body.trim().split('|')
            if (arg.length >= 2) {
            //reply(from, mess.wait, id)
            const randomnomer = Math.floor(Math.random() * 100)
            const randomnomer2 = Math.floor(Math.random() * 100) 
            const randomnomer3 = Math.floor(Math.random() * 100) 
            const randomnomer4 = Math.floor(Math.random() * 100) 
            const randomnomer5 = Math.floor(Math.random() * 100) 
            const randomnomer6 = Math.floor(Math.random() * 100) 
            const kamu = arg[0]
            const pacar = arg[1]
            const rpmn = randomnomer
            const rpmn2 = randomnomer2
            const rpmn3 = randomnomer3
            const rpmn4 = randomnomer4
            const rpmn5 = randomnomer5
            const rpmn6 = randomnomer6
            const rjh2 = `*Hasil Pengamatan!*\nPasangan dengan nama ${kamu} dan ${pacar}\n\n‚û§ Cinta : ${rpmn}\n‚û§ Jodoh : ${rpmn2}\n‚û§ Kemiripan : ${rpmn3}\n‚û§ Kesukaan : ${rpmn4}\n‚û§ Kesamaan : ${rpmn5}\n‚û§ Kebucinan ${rpmn6}`
            reply(from, rjh2, id)
            } else {
            await reply(from, 'Wrong Format!\nContoh : *'+prefix+'ramalpasangan Gw|Dia*', id)
            }
            break
        case prefix+'artinama':
            //if (!isGroupMsg) return reply(from, 'Perintah ini hanya bisa di gunakan dalam group!', id)
            //if (isLimit(_userDb)) return reply(from, `Maaf ${pushname}, Kuota Limit Kamu Sudah Habis, Ketik ${prefix}limit Untuk Mengecek Kuota Limit Kamu`, id)
            
            await limitAdd(serial)
            if (args.length === 1) return reply(from, 'Kirim perintah *'+prefix+'artinama [query]*\nContoh : *'+prefix+'artinama Rizqi*', id)
            
            let artiNamaQuery = body.replace(`${prefix}artinama `, '').replace(/ /g, '-')
            console.log(artiNamaQuery)
            const getArtiNama = await axios.get(`http://cekartinama.com/cari-arti-nama/${artiNamaQuery}.html`)

            const $anm = cheerio.load(getArtiNama.data)

            let resultArtiNama = []
            $anm('#content > article.grid_6 > div.table_wrap.table_ind > table > tbody > *tr').each(function (a, b) {
                if($anm(b).find('th.first').length || $anm(b).find('td:nth-child(2) > a').text() == '') return
                resultArtiNama.push({ number: $anm(b).find('td:nth-child(1)').text(), name: $anm(b).find('td:nth-child(2) > a').text(), gender: $anm(b).find('td:nth-child(3) > a').text(), country: $anm(b).find('td:nth-child(4) > a').text(), arti: $anm(b).find('td:nth-child(5)').text() })
            })

            // console.log(resultArtiNama)
            let resultTextArtiNama = `*[ ArtiNama ]*`
            for(let i = 0; i < resultArtiNama.length; i++) {
                resultTextArtiNama += `\n\n‚û§ *Nama* : ${resultArtiNama[i].name}\n     *Jenis Kelamin* : ${resultArtiNama[i].gender}\n     *Asal Negara* : ${resultArtiNama[i].country}\n     *Arti* : ${resultArtiNama[i].arti}`
            }

            // console.log(resultTextArtiNama)
            reply(from, resultTextArtiNama)
            break
        case prefix+'caklontong':
            // if (!isPrem) return reply(from, 'Perintah ini bersifat PREMIUM', id)
            if (!isGroupMsg) return reply(from, 'Perintah ini hanya bisa di gunakan dalam group!', id)
            //if (isLimit(_userDb)) return reply(from, `Maaf ${pushname}, Kuota Limit Kamu Sudah Habis, Ketik ${prefix}limit Untuk Mengecek Kuota Limit Kamu`, id)
            
            await limitAdd(serial)

            const getCakLontong = await _mongo_CommandSchema.findOne({ cId: 'caklontong' })
            const randomCakLontong = Math.floor(Math.random() * getCakLontong.content.length)
            const caklontong = getCakLontong.content[randomCakLontong]

            const anm21 = `‚û§ Soal : *${caklontong.soal}*\n\nReply pesan ini, Dan JAWAB!\nWaktu 40Detik!`
            const jwban = `‚û§ Jawaban : ${caklontong.jawaban}\n‚û§ Deskripsi : ${caklontong.reason}`
            console.log(anm21, '\n', jwban)
            const sendMessageCakLontong = await rem.sendText(from, anm21)
            await setQuizGame(sendMessageCakLontong.key.id, caklontong.soal, caklontong.jawaban.toLowerCase(), 'caklontong', caklontong.reason)

            await sleep(40000)

            if((_groupDb.game?.quizgame?.find(all => all?.mid == sendMessageCakLontong.key.id))?.isDone) {
                await _mongo_GroupSchema.updateOne({ iId: from, "game.quizgame.mid": sendMessageCakLontong.key.id }, { $unset: { "game.quizgame.$": 1 } })
                return await _mongo_GroupSchema.updateOne({ iId: from }, { $pull: { "game.quizgame": null } })
            }

            reply(from, `Waktu Habis\n\n${jwban}`)
            await _mongo_GroupSchema.updateOne({ iId: from, "game.quizgame.mid": sendMessageCakLontong.key.id }, { $unset: { "game.quizgame.$": 1 } })
            return await _mongo_GroupSchema.updateOne({ iId: from }, { $pull: { "game.quizgame": null } })
           break
          case prefix+'updatebendera':
            if(!isSideOwner) return reply(from, 'Perintah ini hanya bisa di gunakan oleh owner bot!', id)
              
              const getBendera = await _mongo_CommandSchema.findOne({ cId: 'tebakbendera' })
              const fileBendera = fs.readFileSync('./lib/database/benderacode/bendera.json', 'utf8')
              const updateBendera = await _mongo_CommandSchema.updateOne({ cId: 'tebakbendera' }, { $set: { content: JSON.parse(fileBendera) } })

              reply(from, `Berhasil update data bendera`, id)
              break
          case prefix+'tebakbendera':
          case prefix+'tb':
            //if (!isGroupMsg) return reply(from, 'Perintah ini hanya bisa di gunakan dalam group!', id)
            if (!isGroupMsg) return reply(from, 'Perintah ini hanya bisa di gunakan dalam group!', id)

            const getTebakBendera = await _mongo_CommandSchema.findOne({ cId: 'tebakbendera' })
            const randomTebakBendera = Math.floor(Math.random() * getTebakBendera.content.length)
            const tebakBendera = getTebakBendera.content[randomTebakBendera]

            const imagePath = path.resolve(tebakBendera.image)
            const bufferSoalTebakBendera = fs.readFileSync(imagePath)
            
            const soalTB = `*[ Soal ]*\n\nBendera dari negara manakah ini?\nClue : ${tebakBendera.clue}\n\nReply pesan ini, Dan JAWAB!\nWaktu 30Detik!`
            const jawabanTB = `‚û§ Jawaban : *${tebakBendera.title}*`
            
            // const bufferSoalTebakBendera = await axios.get(tebakBendera.image, { responseType: 'arraybuffer' }, {})
            // const soalTB = `*[ Soal ]*\nBendera dari negara manakah ini?\n\nReply pesan ini, Dan JAWAB!\nWaktu 20Detik!`
            // const jawabanTB = `‚û§ Jawaban : *${tebakBendera.title}*`

            const sendMsgTB = await rem.sendFile(from, bufferSoalTebakBendera, 'tb.png', soalTB, messageRaw, image)
            await setQuizGame(sendMsgTB.key.id, tebakBendera.image, tebakBendera.title.toLowerCase(), 'tebakbendera')

            await sleep(30000)

            _groupDb = await _mongo_GroupSchema.findOne({ iId: from })
            if((_groupDb.game?.quizgame?.find(all => all?.mid == sendMsgTB.key.id))?.isDone) {
                await _mongo_GroupSchema.updateOne({ iId: from, "game.quizgame.mid": sendMsgTB.key.id }, { $unset: { "game.quizgame.$": 1 } })
                return await _mongo_GroupSchema.updateOne({ iId: from }, { $pull: { "game.quizgame": null } })
            }

            reply(from, `Waktu Habis\n\n${jawabanTB}`)
            await _mongo_GroupSchema.updateOne({ iId: from, "game.quizgame.mid": sendMsgTB.key.id }, { $unset: { "game.quizgame.$": 1 } })
            return await _mongo_GroupSchema.updateOne({ iId: from }, { $pull: { "game.quizgame": null } })
            
            break
          case prefix+'tbwilayah':
          case prefix+'tbw':
            if(!isSideOwner) return reply(from, '', id)
            if(!isGroupMsg) return reply(from, 'Perintah ini hanya bisa di gunakan dalam group!', id)
            
            limitAdd(serial)
            const getWilayah = await _mongo_CommandSchema.findOne({ cId: 'tebakwilayah' })
            if(!getWilayah) return reply(from, 'Data tebakwilayah tidak ditemukan', id)
            const randomWilayah = Math.floor(Math.random() * getWilayah.content.length)
            const tebakWilayah = getWilayah.content[randomWilayah]

            const imagePathWilayah = path.join('./media/img/tbwilayah', tebakWilayah.images)
            const bufferSoalTebakWilayah = fs.readFileSync(imagePathWilayah)

            const soalTBW = `*[ Soal ]*\n\nWilayah manakah ini?\n\nReply pesan ini, Dan JAWAB!\nWaktu 40Detik!`
            const jawabanTBW = `‚û§ Jawaban : *${tebakWilayah.country}*`

            const sendMsgTBW = await rem.sendFile(from, bufferSoalTebakWilayah, 'tbw.png', soalTBW, messageRaw, image)
            await setQuizGame(sendMsgTBW.key.id, tebakWilayah.images, tebakWilayah.country.toLowerCase(), 'tebakwilayah')

            await sleep(40000)

            _groupDb = await _mongo_GroupSchema.findOne({ iId: from })
            if((_groupDb.game?.quizgame?.find(all => all?.mid == sendMsgTBW.key.id))?.isDone) {
                await _mongo_GroupSchema.updateOne({ iId: from, "game.quizgame.mid": sendMsgTBW.key.id }, { $unset: { "game.quizgame.$": 1 } })
                return await _mongo_GroupSchema.updateOne({ iId: from }, { $pull: { "game.quizgame": null } })
            }

            reply(from, `Waktu Habis\n\n${jawabanTBW}`)
            await _mongo_GroupSchema.updateOne({ iId: from, "game.quizgame.mid": sendMsgTBW.key.id }, { $unset: { "game.quizgame.$": 1 } })
            return await _mongo_GroupSchema.updateOne({ iId: from }, { $pull: { "game.quizgame": null } })
            break

        //tbjapan
          case prefix+'tbjapan':
            if(!isSideOwner) return reply(from, '', id)
            if(!isGroupMsg) return reply(from, 'Perintah ini hanya bisa di gunakan dalam group!', id)
            // if(!isGroupMsg) return reply(from, 'Perintah ini hanya bisa di gunakan dalam group!', id)

            let textReturnJepang = `*Pilih salah satu!*\n`
            const buttonHurufJepang = [
                { id: `${prefix}hiragana`, text: 'Hiragana' },
                { id: `${prefix}katakana`, text: 'Katakana' },
                { id: `${prefix}hiraganakatakana`, text: 'Hiragana & Katakana' }
            ]
            rem.sendButtons(from, textReturnJepang, buttonHurufJepang, '', '', { quoted: message })
            break
          case prefix+'hiragana':
            if(!isSideOwner) return reply(from, '', id)
            if(!isGroupMsg) return reply(from, 'Perintah ini hanya bisa di gunakan dalam group!', id)
            if(!message.selectedButtonId) return reply(from, `Tidak dapat di akses. Silahkan memilih melalui *${prefix}tbjapan*`, id)

            var sendCharJapan = 'Jawab 1 untuk mengganti karakter romanji menjadi pertanyaan, jawab 2 untuk menggunakan karakter hiragana menjadi pertanyaan.'
            var isCharJapan = [
                { id: `${prefix}charromanjihi`, text: 'Pertanyaan Romanji' },
                { id: `${prefix}charjapanhi`, text: 'Pertanyaan Hiragana' }
            ]

            await rem.sendButtons(from, sendCharJapan, isCharJapan, '', '', { quoted: message })
            break
          case prefix+'charromanjihi':
            if(!isSideOwner) return reply(from, '', id)
            if(!isGroupMsg) return reply(from, 'Perintah ini hanya bisa di gunakan dalam group!', id)
            if(!message.selectedButtonId) return reply(from, `Tidak dapat di akses. Silahkan memilih melalui *${prefix}tbjapan*`, id)
            
            var getHiragana = await _mongo_CommandSchema.findOne({ cId: 'tebakhurufjepang' })
            if(!getHiragana) return reply(from, 'Data tebakhiragana tidak ditemukan', id)
            var randomHiragana = Math.floor(Math.random() * getHiragana.options?.hiragana.length)
            var tebakHiragana = getHiragana.options?.hiragana[randomHiragana]

            const soalRoJapanH = `*[ Soal ]*\n\nHiragana dari huruf *${tebakHiragana.romanji}* adalah?\n\nReply pesan ini, Dan JAWAB!\nWaktu 15Detik!`
            const jawabanRoJapanH = `‚û§ Jawaban : *${tebakHiragana.char}*`

            const sendMsgRoJapanH = await rem.sendText(from, soalRoJapanH)
            await setQuizGame(sendMsgRoJapanH.key.id, tebakHiragana.romanji, tebakHiragana.char.toLowerCase(), 'tbjapan')

            await sleep(15000)

            _groupDb = await _mongo_GroupSchema.findOne({ iId: from })
            if((_groupDb.game?.quizgame?.find(all => all?.mid == sendMsgRoJapanH.key.id))?.isDone) {
                await _mongo_GroupSchema.updateOne({ iId: from, "game.quizgame.mid": sendMsgRoJapanH.key.id }, { $unset: { "game.quizgame.$": 1 } })
                return await _mongo_GroupSchema.updateOne({ iId: from }, { $pull: { "game.quizgame": null } })
            }
            reply(from, `Waktu Habis\n\n${jawabanRoJapanH}`)
            await _mongo_GroupSchema.updateOne({ iId: from, "game.quizgame.mid": sendMsgRoJapanH.key.id }, { $unset: { "game.quizgame.$": 1 } })
            return await _mongo_GroupSchema.updateOne({ iId: from }, { $pull: { "game.quizgame": null } })
            break
          case prefix+'charjapanhi':
            if(!isSideOwner) return reply(from, '', id)
            if(!isGroupMsg) return reply(from, 'Perintah ini hanya bisa di gunakan dalam group!', id)
            if(!message.selectedButtonId) return reply(from, `Tidak dapat di akses. Silahkan memilih melalui *${prefix}tbjapan*`, id)
            
            var getHiragana = await _mongo_CommandSchema.findOne({ cId: 'tebakhurufjepang' })
            if(!getHiragana) return reply(from, 'Data tebakhiragana tidak ditemukan', id)
            var randomHiragana = Math.floor(Math.random() * getHiragana.options?.hiragana.length)
            var tebakHiragana = getHiragana.options?.hiragana[randomHiragana]

            const soalTbJapanH = `*[ Soal ]*\n\nHiragana dari huruf *${tebakHiragana.char}* adalah?\n\nReply pesan ini, Dan JAWAB!\nWaktu 15Detik!`
            const jawabanTbJapanH = `‚û§ Jawaban : *${tebakHiragana.romanji}*`
            
            const sendMsgTBJapanH = await rem.sendText(from, soalTbJapanH)
            await setQuizGame(sendMsgTBJapanH.key.id, tebakHiragana.char, tebakHiragana.romanji.toLowerCase(), 'tbjapan')

            await sleep(15000)

            _groupDb = await _mongo_GroupSchema.findOne({ iId: from })
            if((_groupDb.game?.quizgame?.find(all => all?.mid == sendMsgTBJapanH.key.id))?.isDone) {
                await _mongo_GroupSchema.updateOne({ iId: from, "game.quizgame.mid": sendMsgTBJapanH.key.id }, { $unset: { "game.quizgame.$": 1 } })
                return await _mongo_GroupSchema.updateOne({ iId: from }, { $pull: { "game.quizgame": null } })
            }
            reply(from, `Waktu Habis\n\n${jawabanTbJapanH}`)
            await _mongo_GroupSchema.updateOne({ iId: from, "game.quizgame.mid": sendMsgTBJapanH.key.id }, { $unset: { "game.quizgame.$": 1 } })
            return await _mongo_GroupSchema.updateOne({ iId: from }, { $pull: { "game.quizgame": null } })
            break
          case prefix+'katakana':
            if(!isSideOwner) return reply(from, '', id)
            if(!isGroupMsg) return reply(from, 'Perintah ini hanya bisa di gunakan dalam group!', id)
            if(!message.selectedButtonId) return reply(from, `Tidak dapat di akses. Silahkan memilih melalui *${prefix}tbjapan*`, id)

            var sendCharJapan = 'Jawab 1 untuk mengganti karakter romanji menjadi pertanyaan, jawab 2 untuk menggunakan karakter katakana menjadi pertanyaan.'
            var isCharJapan = [
                { id: `${prefix}charromanjika`, text: 'Pertanyaan Romanji' },
                { id: `${prefix}charjapanka`, text: 'Pertanyaan Katakana' }
            ]

            await rem.sendButtons(from, sendCharJapan, isCharJapan, '', '', { quoted: message })
            break
          case prefix+'charromanjika':
            if(!isSideOwner) return reply(from, '', id)
            if(!isGroupMsg) return reply(from, 'Perintah ini hanya bisa di gunakan dalam group!', id)
            if(!message.selectedButtonId) return reply(from, `Tidak dapat di akses. Silahkan memilih melalui *${prefix}tbjapan*`, id)

            var getKatakana = await _mongo_CommandSchema.findOne({ cId: 'tebakhurufjepang' })
            if(!getKatakana) return reply(from, 'Data tebakkatakana tidak ditemukan', id)
            var randomKatakana = Math.floor(Math.random() * getKatakana.options?.katakana.length)
            var tebakKatakana = getKatakana.options?.katakana[randomKatakana]

            const soalRoJapanK = `*[ Soal ]*\n\nKatakana dari huruf ${tebakKatakana.romanji} adalah?\n\nReply pesan ini, Dan JAWAB!\nWaktu 15Detik!`
            const jawabanRoJapanK = `‚û§ Jawaban : *${tebakKatakana.char}*`

            const sendMsgRoJapanK = await rem.sendText(from, soalRoJapanK)
            await setQuizGame(sendMsgRoJapanK.key.id, tebakKatakana.romanji, tebakKatakana.char.toLowerCase(), 'tbjapan')

            await sleep(15000)

            _groupDb = await _mongo_GroupSchema.findOne({ iId: from })
            if((_groupDb.game?.quizgame?.find(all => all?.mid == sendMsgRoJapanK.key.id))?.isDone) {
                await _mongo_GroupSchema.updateOne({ iId: from, "game.quizgame.mid": sendMsgRoJapanK.key.id }, { $unset: { "game.quizgame.$": 1 } })
                return await _mongo_GroupSchema.updateOne({ iId: from }, { $pull: { "game.quizgame": null } })
            }
            reply(from, `Waktu Habis\n\n${jawabanRoJapanK}`)
            await _mongo_GroupSchema.updateOne({ iId: from, "game.quizgame.mid": sendMsgRoJapanK.key.id }, { $unset: { "game.quizgame.$": 1 } })
            return await _mongo_GroupSchema.updateOne({ iId: from }, { $pull: { "game.quizgame": null } })
            break
          case prefix+'charjapanka':
            if(!isSideOwner) return reply(from, '', id)
            if(!isGroupMsg) return reply(from, 'Perintah ini hanya bisa di gunakan dalam group!', id)
            if(!message.selectedButtonId) return reply(from, `Tidak dapat di akses. Silahkan memilih melalui *${prefix}tbjapan*`, id)
                
            var getKatakana = await _mongo_CommandSchema.findOne({ cId: 'tebakhurufjepang' })
            if(!getKatakana) return reply(from, 'Data tebakkatakana tidak ditemukan', id)
            var randomKatakana = Math.floor(Math.random() * getKatakana.options?.katakana.length)
            var tebakKatakana = getKatakana.options?.katakana[randomKatakana]
                
            const soalTbJapanK = `*[ Soal ]*\n\nKatakana dari huruf ${tebakKatakana.char} adalah?\n\nReply pesan ini, Dan JAWAB!\nWaktu 15Detik!`
            const jawabanTbJapanK = `‚û§ Jawaban : *${tebakKatakana.romanji}*`

            const sendMsgTBJapanK = await rem.sendText(from, soalTbJapanK)
            await setQuizGame(sendMsgTBJapanK.key.id, tebakKatakana.char, tebakKatakana.romanji.toLowerCase(), 'tbjapan')

            await sleep(15000)

            _groupDb = await _mongo_GroupSchema.findOne({ iId: from })
            if((_groupDb.game?.quizgame?.find(all => all?.mid == sendMsgTBJapanK.key.id))?.isDone) {
                await _mongo_GroupSchema.updateOne({ iId: from, "game.quizgame.mid": sendMsgTBJapanK.key.id }, { $unset: { "game.quizgame.$": 1 } })
                return await _mongo_GroupSchema.updateOne({ iId: from }, { $pull: { "game.quizgame": null } })
            }
            reply(from, `Waktu Habis\n\n${jawabanTbJapanK}`)
            await _mongo_GroupSchema.updateOne({ iId: from, "game.quizgame.mid": sendMsgTBJapanK.key.id }, { $unset: { "game.quizgame.$": 1 } })
            return await _mongo_GroupSchema.updateOne({ iId: from }, { $pull: { "game.quizgame": null } })
            break
          case prefix+'hiraganakatakana':
            if(!isSideOwner) return reply(from, '', id)
            if(!isGroupMsg) return reply(from, 'Perintah ini hanya bisa di gunakan dalam group!', id)
            if(!message.selectedButtonId) return reply(from, `Tidak dapat di akses. Silahkan memilih melalui *${prefix}tbjapan*`, id)

            var sendCharJapan = 'Jawab untuk mengganti karakter romanji menjadi pertanyaan, abaikan untuk menggunakan karakter hiragana & katakana menjadi pertanyaan.'
            var isCharJapan = [
                { id: `${prefix}charromanjihika`, text: 'Pertanyaan Romanji Hiragana & Katakana' },
                { id: `${prefix}charjapanhika`, text: 'Pertanyaan Hiragana & Katakana' }
            ]
            await rem.sendButtons(from, sendCharJapan, isCharJapan, '', '', { quoted: message })
            break
          case prefix+'charromanjihika':
            if(!isSideOwner) return reply(from, '', id)
            if(!isGroupMsg) return reply(from, 'Perintah ini hanya bisa di gunakan dalam group!', id)
            if(!message.selectedButtonId) return reply(from, `Tidak dapat di akses. Silahkan memilih melalui *${prefix}tbjapan*`, id)
            
            var getHiraganaKatakana = await _mongo_CommandSchema.findOne({ cId: 'tebakhurufjepang' })
            if(!getHiraganaKatakana) return reply(from, 'Data tebakhurufjepang tidak ditemukan', id)
            var randomHiragana = Math.floor(Math.random() * getHiraganaKatakana.options?.hiragana.length)
            var randomKatakana = Math.floor(Math.random() * getHiraganaKatakana.options?.katakana.length)
            var tebakHiraganaKatakana = getHiraganaKatakana.options?.hiragana[randomHiragana] && getHiraganaKatakana.options?.katakana[randomKatakana]

            const soalRoJapanHK = `*[ Soal ]*\n\nHiragana & Katakana dari huruf *${tebakHiraganaKatakana.romanji}* adalah?\n\nReply pesan ini, Dan JAWAB!\nWaktu 15Detik!`
            const jawabanRoJapanHK = `‚û§ Jawaban : *${tebakHiraganaKatakana.char}*`

            const sendMsgRoJapanHK = await rem.sendText(from, soalRoJapanHK)
            await setQuizGame(sendMsgRoJapanHK.key.id, tebakHiraganaKatakana.romanji, tebakHiraganaKatakana.char.toLowerCase(), 'tbjapan')
            await sleep(15000)

            _groupDb = await _mongo_GroupSchema.findOne({ iId: from })
            if((_groupDb.game?.quizgame?.find(all => all?.mid == sendMsgRoJapanHK.key.id))?.isDone) {
                await _mongo_GroupSchema.updateOne({ iId: from, "game.quizgame.mid": sendMsgRoJapanHK.key.id }, { $unset: { "game.quizgame.$": 1 } })
                return await _mongo_GroupSchema.updateOne({ iId: from }, { $pull: { "game.quizgame": null } })
            }
            reply(from, `Waktu Habis\n\n${jawabanRoJapanHK}`)
            await _mongo_GroupSchema.updateOne({ iId: from, "game.quizgame.mid": sendMsgRoJapanHK.key.id }, { $unset: { "game.quizgame.$": 1 } })
            return await _mongo_GroupSchema.updateOne({ iId: from }, { $pull: { "game.quizgame": null } })
            break
          case prefix+'charjapanhika':
            if(!isSideOwner) return reply(from, '', id)
            if(!isGroupMsg) return reply(from, 'Perintah ini hanya bisa di gunakan dalam group!', id)
            if(!message.selectedButtonId) return reply(from, `Tidak dapat di akses. Silahkan memilih melalui *${prefix}tbjapan*`, id)
            
            var getHiraganaKatakana = await _mongo_CommandSchema.findOne({ cId: 'tebakhurufjepang' })
            if(!getHiraganaKatakana) return reply(from, 'Data tebakhurufjepang tidak ditemukan', id)
            var randomHiragana = Math.floor(Math.random() * getHiraganaKatakana.options?.hiragana.length)
            var randomKatakana = Math.floor(Math.random() * getHiraganaKatakana.options?.katakana.length)
            var tebakHiraganaKatakana = getHiraganaKatakana.options?.hiragana[randomHiragana] && getHiraganaKatakana.options?.katakana[randomKatakana]

            const soalTbJapanHK = `*[ Soal ]*\n\nHiragana & Katakana dari huruf *${tebakHiraganaKatakana.char}* adalah?\n\nReply pesan ini, Dan JAWAB!\nWaktu 15Detik!`
            const jawabanTbJapanHK = `‚û§ Jawaban : *${tebakHiraganaKatakana.romanji}*`

            const sendMsgTBJapanHK = await rem.sendText(from, soalTbJapanHK)
            await setQuizGame(sendMsgTBJapanHK.key.id, tebakHiraganaKatakana.char, tebakHiraganaKatakana.romanji.toLowerCase(), 'tbjapan')
            await sleep(15000)

            _groupDb = await _mongo_GroupSchema.findOne({ iId: from })
            if((_groupDb.game?.quizgame?.find(all => all?.mid == sendMsgTBJapanHK.key.id))?.isDone) {
                await _mongo_GroupSchema.updateOne({ iId: from, "game.quizgame.mid": sendMsgTBJapanHK.key.id }, { $unset: { "game.quizgame.$": 1 } })
                return await _mongo_GroupSchema.updateOne({ iId: from }, { $pull: { "game.quizgame": null } })
            }
            reply(from, `Waktu Habis\n\n${jawabanTbJapanHK}`)
            await _mongo_GroupSchema.updateOne({ iId: from, "game.quizgame.mid": sendMsgTBJapanHK.key.id }, { $unset: { "game.quizgame.$": 1 } })
            return await _mongo_GroupSchema.updateOne({ iId: from }, { $pull: { "game.quizgame": null } })
            break
        //tbjapan

          case prefix+'tebakgambar':
            // if (!isPrem) return reply(from, 'Perintah ini bersifat PREMIUM', id)
            if (!isGroupMsg) return reply(from, 'Perintah ini hanya bisa di gunakan dalam group!', id)
            //if (isLimit(_userDb)) return reply(from, `Maaf ${pushname}, Kuota Limit Kamu Sudah Habis, Ketik ${prefix}limit Untuk Mengecek Kuota Limit Kamu`, id)
            
            await limitAdd(serial)
            const getTebakGambar = await _mongo_CommandSchema.findOne({ cId: 'tebakgambar' })
            const randomTebakGambar = Math.floor(Math.random() * getTebakGambar.content.length)
            const tebakGambar = getTebakGambar.content[randomTebakGambar]

            const bufferSoalTebakGambar = await axios.get(tebakGambar.soal, { responseType: 'arraybuffer' })

            const soalTG = `*[ Soal ]*\n\nReply pesan ini, Dan JAWAB!\nWaktu 40Detik!`
            const jawabanTG = `‚û§ Jawaban : *${tebakGambar.jawaban}*`
            // console.log(await imageTerminal.buffer(bufferSoalTebakGambar.data), '\n', jawabanTG)
            const sendMessageTG = await rem.sendFile(from, bufferSoalTebakGambar.data, 'tg.png', soalTG, messageRaw, image)
            await setQuizGame(sendMessageTG.key.id, tebakGambar.soal, tebakGambar.jawaban.toLowerCase(), 'tebakgambar')

            await sleep(40000)

            _groupDb = await _mongo_GroupSchema.findOne({ iId: from })
            if((_groupDb.game?.quizgame?.find(all => all?.mid == sendMessageTG.key.id))?.isDone) {
                await _mongo_GroupSchema.updateOne({ iId: from, "game.quizgame.mid": sendMessageTG.key.id }, { $unset: { "game.quizgame.$": 1 } })
                return await _mongo_GroupSchema.updateOne({ iId: from }, { $pull: { "game.quizgame": null } })
            }

            reply(from, `Waktu Habis\n\n${jawabanTG}`)
            await _mongo_GroupSchema.updateOne({ iId: from, "game.quizgame.mid": sendMessageTG.key.id }, { $unset: { "game.quizgame.$": 1 } })
            return await _mongo_GroupSchema.updateOne({ iId: from }, { $pull: { "game.quizgame": null } })
            break
        case prefix+'tebak':
            //if (!isPrem) return reply(from, 'Perintah ini bersifat PREMIUM')
            if (!isGroupMsg) return reply(from, 'Perintah ini hanya bisa di gunakan dalam group!', id)
            //if (isLimit(_userDb)) return reply(from, `Maaf ${pushname}, Kuota Limit Kamu Sudah Habis, Ketik ${prefix}limit Untuk Mengecek Kuota Limit Kamu`, id)
            
            await limitAdd(serial)
            const getAsahOtak = await _mongo_CommandSchema.findOne({ cId: 'asahotak' })
            const randomAsahOtak = Math.floor(Math.random() * getAsahOtak.content.length)
            const asahOtak = getAsahOtak.content[randomAsahOtak]

            const soalAsahOtak = `*‚û§ Soal : ${asahOtak.soal}*\n\nReply pesan ini, Dan JAWAB!\nWaktu 40Detik!`
            const jawabanAsahOtak = `‚û§ Jawaban : *${asahOtak.jawaban}*`
            console.log(soalAsahOtak, '\n', jawabanAsahOtak)
            const sendMessageAsahOtak = await reply(from, soalAsahOtak)
            await setQuizGame(sendMessageAsahOtak.key.id, asahOtak.soal, asahOtak.jawaban, 'asahotak')

            await sleep(40000)

            _groupDb = await _mongo_GroupSchema.findOne({ iId: from })
            if((_groupDb.game?.quizgame?.find(all => all?.mid == sendMessageAsahOtak.key.id))?.isDone) {
                await _mongo_GroupSchema.updateOne({ iId: from, "game.quizgame.mid": sendMessageAsahOtak.key.id }, { $unset: { "game.quizgame.$": 1 } })
                return await _mongo_GroupSchema.updateOne({ iId: from }, { $pull: { "game.quizgame": null } })
            }

            reply(from, `Waktu Habis\n\n${jawabanAsahOtak}`)
            await _mongo_GroupSchema.updateOne({ iId: from, "game.quizgame.mid": sendMessageAsahOtak.key.id }, { $unset: { "game.quizgame.$": 1 } })
            return await _mongo_GroupSchema.updateOne({ iId: from }, { $pull: { "game.quizgame": null } })
            break
        case prefix+'siapakahaku':
        case prefix+'siapaaku':
        case prefix+'siapaku':
            //if (!isPrem) return reply(from, 'Perintah ini bersifat PREMIUM')
            if (!isGroupMsg) return reply(from, 'Perintah ini hanya bisa di gunakan dalam group!', id)
            //if (isLimit(_userDb)) return reply(from, `Maaf ${pushname}, Kuota Limit Kamu Sudah Habis, Ketik ${prefix}limit Untuk Mengecek Kuota Limit Kamu`, id)
            
            await limitAdd(serial)
            async function siapaAkuRun() {
                const getQuizGame = await _mongo_CommandSchema.findOne({ cId: 'siapakahaku' })
                const randomQuizGame = Math.floor(Math.random() * getQuizGame.content.length)
                const quizGame = getQuizGame.content[randomQuizGame]
    
                const soalQuizGame = `*‚û§ Soal : ${quizGame.soal}*\n\nReply pesan ini, Dan JAWAB!\nWaktu 40Detik!`
                const jawabanQuizGame = `‚û§ Jawaban : *${quizGame.jawaban}*`
                console.log(soalQuizGame, '\n', jawabanQuizGame)
                const sendMessageQuizGame = await reply(from, soalQuizGame)
                await setQuizGame(sendMessageQuizGame.key.id, quizGame.soal, quizGame.jawaban, 'fm100')
    
                await sleep(40000)
    
                _groupDb = await _mongo_GroupSchema.findOne({ iId: from })
                if((_groupDb.game?.quizgame?.find(all => all?.mid == sendMessageQuizGame.key.id))?.isDone) {
                    await _mongo_GroupSchema.updateOne({ iId: from, "game.quizgame.mid": sendMessageQuizGame.key.id }, { $unset: { "game.quizgame.$": 1 } })
                    return await _mongo_GroupSchema.updateOne({ iId: from }, { $pull: { "game.quizgame": null } })
                }
    
                reply(from, `Waktu Habis\n\n${jawabanQuizGame}`)
                await _mongo_GroupSchema.updateOne({ iId: from, "game.quizgame.mid": sendMessageQuizGame.key.id }, { $unset: { "game.quizgame.$": 1 } })
                return await _mongo_GroupSchema.updateOne({ iId: from }, { $pull: { "game.quizgame": null } })
            }
            siapaAkuRun()
            break
        case prefix+'susunkata':
        case prefix+'susun':
            //if (!isPrem) return reply(from, 'Perintah ini bersifat PREMIUM')
            if (!isGroupMsg) return reply(from, 'Perintah ini hanya bisa di gunakan dalam group!', id)
            //if (isLimit(_userDb)) return reply(from, `Maaf ${pushname}, Kuota Limit Kamu Sudah Habis, Ketik ${prefix}limit Untuk Mengecek Kuota Limit Kamu`, id)
            
            await limitAdd(serial)
            async function susunKataRun() {
                const getQuizGame = await _mongo_CommandSchema.findOne({ cId: 'susunkata' })
                const randomQuizGame = Math.floor(Math.random() * getQuizGame.content.length)
                const quizGame = getQuizGame.content[randomQuizGame]
    
                const soalQuizGame = `Susunlah kata-kata ini\n*‚û§ Soal : ${quizGame.soal}*\n*‚û§ Tipe : ${quizGame.tipe}*\n\nReply pesan ini, Dan JAWAB!\nWaktu 40Detik!`
                const jawabanQuizGame = `‚û§ Jawaban : *${quizGame.jawaban}*`
                console.log(soalQuizGame, '\n', jawabanQuizGame)
                const sendMessageQuizGame = await reply(from, soalQuizGame)
                await setQuizGame(sendMessageQuizGame.key.id, quizGame.soal, quizGame.jawaban, 'fm100')
    
                await sleep(40000)
    
                _groupDb = await _mongo_GroupSchema.findOne({ iId: from })
                if((_groupDb.game?.quizgame?.find(all => all?.mid == sendMessageQuizGame.key.id))?.isDone) {
                    await _mongo_GroupSchema.updateOne({ iId: from, "game.quizgame.mid": sendMessageQuizGame.key.id }, { $unset: { "game.quizgame.$": 1 } })
                    return await _mongo_GroupSchema.updateOne({ iId: from }, { $pull: { "game.quizgame": null } })
                }
    
                reply(from, `Waktu Habis\n\n${jawabanQuizGame}`)
                await _mongo_GroupSchema.updateOne({ iId: from, "game.quizgame.mid": sendMessageQuizGame.key.id }, { $unset: { "game.quizgame.$": 1 } })
                return await _mongo_GroupSchema.updateOne({ iId: from }, { $pull: { "game.quizgame": null } })
            }
            susunKataRun()
            break
        case prefix+'family100':
        case prefix+'fm100':
            //if (!isPrem) return reply(from, 'Perintah ini bersifat PREMIUM')
            if (!isGroupMsg) return reply(from, 'Perintah ini hanya bisa di gunakan dalam group!', id)
            //if (isLimit(_userDb)) return reply(from, `Maaf ${pushname}, Kuota Limit Kamu Sudah Habis, Ketik ${prefix}limit Untuk Mengecek Kuota Limit Kamu`, id)
            
            await limitAdd(serial)
            const getFm100 = await _mongo_CommandSchema.findOne({ cId: 'family100' })
            const randomFm100 = Math.floor(Math.random() * getFm100.content.length)
            const Fm100 = getFm100.content[randomFm100]

            const soalFm100 = `*‚û§ Soal : ${Fm100.soal}*\n\nReply pesan ini, Dan JAWAB!\nWaktu 40Detik!`
            const jawabanFm100 = `‚û§ Jawaban : *${Fm100.jawaban.join(', ')}*`
            console.log(soalFm100, '\n', jawabanFm100)
            const sendMessageFm100 = await reply(from, soalFm100)
            await setQuizGame(sendMessageFm100.key.id, Fm100.soal, Fm100.jawaban, 'fm100')

            await sleep(40000)

            _groupDb = await _mongo_GroupSchema.findOne({ iId: from })
            if((_groupDb.game?.quizgame?.find(all => all?.mid == sendMessageFm100.key.id))?.isDone) {
                await _mongo_GroupSchema.updateOne({ iId: from, "game.quizgame.mid": sendMessageFm100.key.id }, { $unset: { "game.quizgame.$": 1 } })
                return await _mongo_GroupSchema.updateOne({ iId: from }, { $pull: { "game.quizgame": null } })
            }

            reply(from, `Waktu Habis\n\n${jawabanFm100}`)
            await _mongo_GroupSchema.updateOne({ iId: from, "game.quizgame.mid": sendMessageFm100.key.id }, { $unset: { "game.quizgame.$": 1 } })
            return await _mongo_GroupSchema.updateOne({ iId: from }, { $pull: { "game.quizgame": null } })
           break
        case prefix+'wr':
        case prefix+'hitungwr':
            if(args.length <= 2 || !args) return reply(from, `Format salah!\nSilahkan masukkan Jumlah Match, Winrate, Target\n_${prefix}wr <Match> <WinRate> <Target>_\n\nContoh: *_${prefix}wr 1692 57 80_*`)
            let jumlahMatchWr = Number(args[1].trim().replace('%', '').replace(',', '.'))
            let winRateWr = Number(args[2].trim().replace('%', '').replace(',', '.'))
            let targetWr = Number(args[3].trim().replace('%', '').replace(',', '.'))

            if(isNaN(jumlahMatchWr) || isNaN(winRateWr) || isNaN(targetWr)) return reply(from, `Format salah/nSilahkan masukkan Jumlah Match, Winrate, Target\n_${prefix}wr <Match> <WinRate> <Target>_\n\nContoh: *_${prefix}wr 1692 57 80_*`)
            if(winRateWr >= 101) winRateWr = 0
            if(targetWr >= 101) targetWr = 100
            const resultWrCalculate = mobileLegendsWinRate(jumlahMatchWr, winRateWr, targetWr)

            reply(from, `‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ\nJumlah Match : _${jumlahMatchWr}_\nWinrate : _${winRateWr}%_\nTargetWr : _${targetWr}%_\n‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ\n\nUntuk mencapai WinRate *_${targetWr}%_*, Kamu memerlukan *_${resultWrCalculate} Win_* tanpa Lose`)
            break
        case prefix+'heroml':
            // if (!isPrem) return reply(from, 'Perintah ini bersifat PREMIUM', id)
            //if (!isGroupMsg) return reply(from, 'Perintah ini hanya bisa di gunakan dalam group!', id)
            //if (isLimit(_userDb)) return reply(from, `Maaf ${pushname}, Kuota Limit Kamu Sudah Habis, Ketik ${prefix}limit Untuk Mengecek Kuota Limit Kamu`, id)
            
            await limitAdd(serial)
            if (args.length === 1) return reply(from, 'Kirim perintah *'+prefix+'heroml [nama hero]*\nContoh : *'+prefix+'heroml angela*', id)
            try {
                const resp2 = await axios.get('https://mapi.mobilelegends.com/hero/list')
                const findHeroMl = resp2.data.data.find( ({ name }) => name.toLowerCase() === body.slice(8).toLowerCase() )
                //console.log(findHeroMl)
                if(findHeroMl == undefined) return reply(from, 'Maaf, Hero tidak ditemukan')
            const resp = await axios.get(`https://mapi.mobilelegends.com/hero/detail?id=${findHeroMl.heroid}`)
            const anm2 = `‚û§ *Title :* ${resp.data.data.name}\n‚û§ *Type* : ${resp.data.data.type}\n‚û§ *Best Counters* : ${resp.data.data.counters.best.best_mate_tips}\n‚û§ *Counters* : ${resp.data.data.counters.counters.restrain_hero_tips}\n\nImg : ${resp.data.data.cover_picture}\nGallery : ${resp.data.data.gallery_picture}`
            rem.sendFile(from, resp.data.data.cover_picture, 'hero.jpg', anm2, messageRaw, image)
            } catch (err) {
                console.error(err.message)
                await reply(from, 'Maaf, Hero tidak ditemukan', id)
                // rem.sendText(numberReportError, 'Heroml Error : ' + err)
           }
            break
        // case prefix+'artimimpi':
        //     //if (!isGroupMsg) return reply(from, 'Perintah ini hanya bisa di gunakan dalam group!', id)
        //     //if (isLimit(_userDb)) return reply(from, `Maaf ${pushname}, Kuota Limit Kamu Sudah Habis, Ketik ${prefix}limit Untuk Mengecek Kuota Limit Kamu`, id)
            
        //     await limitAdd(serial)
        //     if (args.length === 1) return reply(from, 'Kirim perintah *'+prefix+'artimimpi [mimpi]*\nContoh : *'+prefix+'artimimpi ular*', id)
        // //     try {
        // //     const resp = await axios.get('https://api.zeks.me/api/artimimpi?apikey=n1Grf6Dn6F4Xyv1021d6tGSwYhD&q=' + body.slice(11))
        // //     var anm2 = ''
        // //     for(let i = 0; i < resp.data.result.array.length; i++) {
        // //         anm2 += `*${resp.data.result.array[i]}*\n\n`
        // //     }
        // //     reply(from, anm2, id)
        // //     } catch (err) {
        // //         console.error(err.message)
        // //         await reply(from, 'Maaf, Mimpi tidak ditemukan', id)
        // //         rem.sendText(ownerNumber, 'Artimimpi Error : ' + err)
        // //    }
        //     const bodyArtiMimpi = body.replace(`${prefix}artimimpi `, '').trim()
        //     const getPrimbonArtiMimpi = await axios.get(`https://www.primbon.com/tafsir_mimpi.php?mimpi=${bodyArtiMimpi}&submit=+Submit+`)
        //     console.log(getPrimbonArtiMimpi.data)
        //     const $art = cheerio.load(getPrimbonArtiMimpi.data)

        //     let hasilArtiMimpi = undefined
        //     $art('*font[color="#ff0000"]').each(function (a, b) {
        //         console.log('1', $art(b).prev().text())
        //         if($art(b).prev().text() != 'Mimpi ') return
        //         console.log('2')

        //         console.log($art(b).prev().text(), $art(b).next().text())
        //     })
        //     break
        case prefix+'wiki':
        case prefix+'wikipedia':
            //if (!isGroupMsg) return reply(from, 'Perintah ini hanya bisa di gunakan dalam group!', id)
            //if (isLimit(_userDb)) return reply(from, `Maaf ${pushname}, Kuota Limit Kamu Sudah Habis, Ketik ${prefix}limit Untuk Mengecek Kuota Limit Kamu`, id)
            if (args.length === 1) return reply(from, `Kirim perintah *${prefix}wiki [ Query ]*\nContoh : *${prefix}wiki lagu*`, id)
            const queryz_ = body.replace(`${args[0] }`, '')
            console.log(queryz_)
            const wiki = await axios.get(`https://id.wikipedia.org/w/api.php?action=opensearch&search=${queryz_}&limit=max`)
            reply(from, `*„Äå WIKI „Äç*\n\n${wiki.data[3].join('\n')}`)
            // if (wiki.data.result.error) {
            //     reply(from, wiki.data.result.error, id)
            // } else {
            //     reply(from, `*„Äå WIKI „Äç*\n\n‚û§ *Query* : ${queryz_}\n\n‚û§ *Result* : ${wiki.data.result.result}`, id)
            //     await limitAdd(serial)
            // }
            break
        case prefix+'kbbi':
            //if (!isGroupMsg) return reply(from, 'Perintah ini hanya bisa di gunakan dalam group!', id)
            //if (isLimit(_userDb)) return reply(from, `Maaf ${pushname}, Kuota Limit Kamu Sudah Habis, Ketik ${prefix}limit Untuk Mengecek Kuota Limit Kamu`, id)
            if (args.length === 1) return reply(from, `Kirim perintah *${prefix}kbbi [ Query ]*\nContoh : *${prefix}kbbi lagu*`, id)
            const kbbl = body.slice(6)
            const kbbl2 = await axios.get(`https://kbbi-api-amm.herokuapp.com/search?q=${kbbl}`)
            if (kbbl2.data.data.resultLists[0].arti == '' ) return reply(from, 'Not found')

            let textKbbi = `*[ KBBI ]*`
            const resultKbbi = kbbl2.data.data.resultLists
            for(let i = 0; i < resultKbbi.length; i++) {
                textKbbi += `\n\n‚û§ *${resultKbbi[i].kata}*\n${resultKbbi[i].arti.join('\n')}`
            }

            reply(from, textKbbi)
            break
        // case prefix+'sand': 
        //     // if (!isPrem) return reply(from, 'Perintah ini bersifat PREMIUM', id)
        //     //if (!isGroupMsg) return reply(from, 'Perintah ini hanya bisa di gunakan dalam group!', id)
        //     //if (isLimit(_userDb)) return reply(from, `Maaf ${pushname}, Kuota Limit Kamu Sudah Habis, Ketik ${prefix}limit Untuk Mengecek Kuota Limit Kamu`, id)
            
        //     await limitAdd(serial)
        //     if (args.length === 1)  return reply(from, 'Kirim perintah *'+prefix+'sand [ Teks ]*\nContoh *'+prefix+'sand Elaina Kawaiii*', id)
        //     const swrt = body.slice(6)
        //     try {
        //     rem.sendFile(from, `https://api.zeks.me/api/sandw?apikey=n1Grf6Dn6F4Xyv1021d6tGSwYhD&text=${swrt}`, '', '', messageRaw, image)
        //     } catch (err) {
        //      console.error(err.message)
        //      await reply(from, 'Maaf, user tidak ditemukan', id)
        //      rem.sendText(ownerNumber, 'Sand Writing Error : ' + err)
        //    }
        //   break
        // case prefix+'tahta':
        //     // if (!isPrem) return reply(from, 'Perintah ini bersifat PREMIUM', id)
        //     // if (!isGroupMsg) return reply(from, 'Perintah ini hanya bisa di gunakan dalam group!', id)
        //      //if (isLimit(_userDb)) return reply(from, `Maaf ${pushname}, Kuota Limit Kamu Sudah Habis, Ketik ${prefix}limit Untuk Mengecek Kuota Limit Kamu`, id)
    
        //     await limitAdd(serial)
        //     const jreng = body.slice(7)
        //     if (!jreng) return reply(from, 'Kirim perintah *'+prefix+'tahta [teks]*\n\nContoh *'+prefix+'tahta Rem*', id)
        //     //if (jreng.length > 7) return reply(from, 'Maksimal 7 Huruf!', id)
        //     rem.sendFile(from, `https://api.zeks.me/api/hartatahta?apikey=n1Grf6Dn6F4Xyv1021d6tGSwYhD&text=${jreng}`, '', '', id)
        //      break
        // case prefix+'resep':
        //     // if (!isPrem) return reply(from, 'Perintah ini bersifat PREMIUM', id)
        //     //if (!isGroupMsg) return reply(from, 'Perintah ini hanya bisa di gunakan dalam group!', id)
        //     //if (isLimit(_userDb)) return reply(from, `Maaf ${pushname}, Kuota Limit Kamu Sudah Habis, Ketik ${prefix}limit Untuk Mengecek Kuota Limit Kamu`, id)
            
        //     await limitAdd(serial)
        //     if (args.length === 1)  return reply(from, 'Kirim perintah *'+prefix+'resep [optional]*\nContoh *'+prefix+'resep nasi goreng*', id)
        //     try {
        //         const resepGet = await axios.get(`https://api.zeks.me/api/masak-apa?apikey=n1Grf6Dn6F4Xyv1021d6tGSwYhD&q=${body.slice(7)}`)
        //         var listResepGet = 'Source : https://shopee.co.id/'
        //         for(let i = 0; i < resepGet.data.results.length; i++) {
        //             listResepGet += `\n\n${i+1}. ${resepGet.data.results[i].title}\n‚û§ *Kesulitan* : ${resepGet.data.results[i].tingkat}\n‚û§ *Durasi* : ${resepGet.data.results[i].duration}\n‚û§ *Porsi* : ${resepGet.data.results[i].banyak}\n‚û§ *Link* : ${resepGet.data.results[i].url}`
        //         }
        //         await reply(from, listResepGet, id)
        //     } catch (err) {
        //      console.error(err.message)
        //      await reply(from, 'Maaf, Resep tidak ditemukan', id)
        //      rem.sendText(ownerNumber, 'Resepmasakan Error : ' + err)
        //    }
        //    break
    // case prefix+'ig':
    //     // if(!isOwner) return reply(from, 'Maaf, fitur ini sedang dalam perbaikan', id)
    //     //if (isLimit(_userDb)) return reply(from, `Maaf ${pushname}, Kuota Limit Kamu Sudah Habis, Ketik ${prefix}limit Untuk Mengecek Kuota Limit Kamu`, id)
        
    //     await limitAdd(serial)
    //     if (args.length === 1)  return reply(from, 'Kirim perintah *'+prefix+'ig <url>*\nContoh _'+prefix+'ig https://www.instagram.com/p/CSbmZlxJNPw_', id)
    //     //if(!args[1].match(isUrl))  return reply(from, 'Kirim perintah *'+prefix+'ig <url*\nContoh _'+prefix+'ig https://www.instagram.com/p/CSbmZlxJNPw_', id)
    //     rem.sendText(from, 'Scraping...')

    //     // const sendToPuppeteerIG = `module.exports = async (browser, res, req) => {
    //     //     const page = await browser.newPage();

    //     //     await page.goto('https://www.downloadgram.app', { waitUntil: 'networkidle0' });
    //     //     await page.screenshot({
    //     //         path: './lib/cache/img/testNicegram.png',
    //     //         fullPage: false
    //     //    });

    //     //    const getPage = await page.evaluate(() => document.querySelector('*').outerHTML);
    //     //    await page.close();

    //     //    return getPage
    //     // }`

    //     // const getCaptchaToken = await requestPuppeteer(sendToPuppeteerIG)
    //     // //console.log(getCaptchaToken)
    //     // const $1 = cheerio.load(getCaptchaToken?.result)
    //     // const captchaToken = $1('#g-recaptcha-response').attr('value')

    //     // console.log(captchaToken)
    //     // const pageScrapeIg = await axios({
    //     //     method: 'post',
    //     //     url: 'https://www.downloadgram.app/#downloadhere',
    //     //     data: `url=${encodeURIComponent(args[1])}&g-recaptcha-response=${captchaToken}&submit=`,
    //     // })

    //     const pageScrapeIg = await axios({
    //         method: 'post',
    //         url: 'https://www.downloadgram.app/',
    //         data: `url=${encodeURIComponent(args[1])}&submit=`,
    //     })

    //     console.log(pageScrapeIg)
    //     const $ = cheerio.load(pageScrapeIg.data)
    //     if($(`#downloadhere > a[target="_blank"]`).length <= 0) return reply(from, 'Not Found!', id)
    //     $(`#downloadhere > a[target="_blank"]`).each((a, b) => {
    //         const urlDownload = $(b).attr('href')
    //         console.log(urlDownload)
    //         if(urlDownload == undefined || urlDownload == null) return reply(from, 'Not Found!', id)
    //         rem.sendFileAuto(from, urlDownload, '', '', messageRaw)
    //     })


    //     // if(pageScrapeIg.data == 'null' || pageScrapeIg.data == null || pageScrapeIg.data.includes('500 Internal Server Error')) return reply(from, 'Not Found!', id)
    //     // const resultScrapeIg = JSON.parse(pageScrapeIg.data)

    //     // if(resultScrapeIg.images_links == '' && resultScrapeIg.videos_links == '') return reply(from, 'Not Found!', id)
        
    //     // const filterAllImagesLinkIg = resultScrapeIg.images_links.map(all => all.url)
    //     // const filterAllVideoLinkIg = resultScrapeIg.videos_links.map(all => all.url)
        
    //     // for(let i = 0; i < filterAllImagesLinkIg.length; i++) {
    //     //     rem.sendFileAuto(from, filterAllImagesLinkIg[i], '', '', messageRaw)
    //     // }

    //     // for(let i = 0; i < filterAllVideoLinkIg.length; i++) {
    //     //     rem.sendFileAuto(from, filterAllVideoLinkIg[i], '', '', messageRaw)
    //     // }
    //     break
    // case prefix+'fb':
    // case prefix+'facebook':
    //     if(allArgs[1] == 'directDownload') {
    //         return rem.sendFileAuto(from, { url: allArgs[2] }, '', '', messageRaw)
    //     }
    //     if (args.length === 1) return reply(from, `Kirim perintah *${prefix}fb [ Link Fb ]*\nContoh : *${prefix}fb https://www.facebook.com/24609282673/posts/10158628585367674/*`, id)

    //     reply(from, mess.wait, id)
    //     const pageScrapeFacebook = (await axios.post('https://ssyoutube.com/api/convert', { url: args[1], ts: Date.now(), _ts: Date.now(), _s: crypto.randomBytes(32).toString('hex') })).data

    //     console.log('facebook scrape: ', pageScrapeFacebook)
    //     if(pageScrapeFacebook?.url != undefined) {
    //         const rows = []
    //         for(let i = 0; i < pageScrapeFacebook.url.length; i++) {
    //             rows.push({ title: pageScrapeFacebook.url[i].subname, description: `${pageScrapeFacebook.meta.title}.${pageScrapeFacebook.url[i].ext}`, rowId: `${prefix}fb directDownload ${pageScrapeFacebook.url[i].url}` })
    //         }

    //         const sections = [{ title: "Facebook Quality", rows: rows }]
    //         await rem.sendList(from, "Pilih Quality", sections, 'Facebook Downloader', '@dwirizqi.h')
    //     } else {
    //         reply(from, 'Not Found!', id)
    //     }
    //     break
    // case prefix+'fb':
    // case prefix+'facebook':
    //     if (args.length === 1 || !args[1].match(isUrl)) return reply(from, `Kirim perintah *${prefix}fb [ Link Fb ]*\nContoh : *${prefix}fb https://www.facebook.com/24609282673/posts/10158628585367674/*`, id)
        
    //     reply(from, mess.wait + '\nJika terlalu lama, coba lagi', id)
    //     const pageScrapeFb = await saveFormIgDown(args[1])
    //     if(pageScrapeFb[0] != undefined) {
    //         for(let i = 0; i < pageScrapeFb.length; i++) {
    //             rem.sendFileAuto(from, pageScrapeFb[i].url[0].url, '', pageScrapeFb[i].meta.title, messageRaw)
    //         }
    //     } else if(pageScrapeFb?.url != undefined) {
    //         rem.sendFileAuto(from, pageScrapeFb.url[0].url, '', pageScrapeFb.meta.title, messageRaw)
    //     } else {
    //         reply(from, 'Not Found!', id)
    //     }
    //     break
    // case prefix+'twitter':
    //     if (args.length === 1 && !args[1]?.match(isUrl))  return reply(from, 'Kirim perintah *'+prefix+'twitter <url>*\nContoh _'+prefix+'twitter https://twitter.com/click4hugs/status/1573246465895702528_', id)

    //     reply(from, mess.wait + '\nJika terlalu lama, coba lagi', id)
    //     const pageScrapeTwit = await saveFormIgDown(args[1])
    //     if(pageScrapeTwit[0] != undefined) {
    //         for(let i = 0; i < pageScrapeTwit.length; i++) {
    //             rem.sendFileAuto(from, pageScrapeTwit[i].url[0].url, '', pageScrapeTwit[i].meta.title, messageRaw)
    //         }
    //     } else if(pageScrapeTwit?.url != undefined) {
    //         rem.sendFileAuto(from, pageScrapeTwit.url[0].url, '', pageScrapeTwit.meta.title, messageRaw)
    //     } else {
    //         reply(from, 'Not Found!', id)
    //     }
    //     // const pageDownloadTwitter = (await axios.get(`https://xzn.wtf/api/twitterdl?url=${args[1]}&apikey=rem-comp-botwa-acjdchvqea`)).data
    //     // if(pageDownloadTwitter.media == undefined) return reply(from, 'Not Found!', id)
    //     // for(let i = 0; i < pageDownloadTwitter.media.length; i++) {
    //     //     rem.sendFileAuto(from, pageDownloadTwitter.media[i], '', '', messageRaw)
    //     // }
    //     break
    // // case prefix+'ig':
    // //     // await limitAdd(serial)
    // //     if (args.length === 1)  return reply(from, 'Kirim perintah *'+prefix+'ig <url>*\nContoh _'+prefix+'ig https://www.instagram.com/p/CldOMZfgaIJ/_', id)
    // //     if(!args[1].match(isUrl)) return reply(from, 'Kirim perintah *'+prefix+'ig <url>*\nContoh _'+prefix+'ig https://www.instagram.com/p/CldOMZfgaIJ/_', id)
    // //     rem.sendText(from, 'Scraping...')

    // //     const pageScrapeIg = (await axios.post('https://ssyoutube.com/api/convert', { url: args[1], ts: Date.now(), _ts: Date.now(), _s: crypto.randomBytes(32).toString('hex') })).data

    // //     // console.log('ig scrape: ', pageScrapeIg)
    // //     if(pageScrapeIg[0] != undefined) {
    // //         for(let i = 0; i < pageScrapeIg.length; i++) {
    // //             const thumbIG = await axios.get(pageScrapeIg[i].thumb, { responseType: 'arraybuffer' })
    // //             const toThumbIg = await imageThumbnail(thumbIG.data)
    // //             rem.sendFileAuto(from, pageScrapeIg[i].url[0].url, '', pageScrapeIg[i].meta.title, messageRaw, { jpegThumbnail: toThumbIg })
    // //         }
    // //     } else if(pageScrapeIg?.url != undefined) {
    // //         // const thumbIG = await axios.get(pageScrapeIg.thumb, { responseType: 'arraybuffer' })
    // //         // const toThumbIg = await imageThumbnail(thumbIG.data)
    // //         rem.sendFileAuto(from, pageScrapeIg.url[0].url, '', pageScrapeIg.meta.title, messageRaw)
    // //     } else {
    // //         reply(from, 'Not Found!', id)
    // //     }
    // //     break
    // case prefix+'ig':
    //     if (args.length === 1)  return reply(from, 'Kirim perintah *'+prefix+'ig <url>*\nContoh _'+prefix+'ig https://www.instagram.com/p/CldOMZfgaIJ/_', id)
    //     if(!args[1].match(isUrl)) return reply(from, 'Kirim perintah *'+prefix+'ig <url>*\nContoh _'+prefix+'ig https://www.instagram.com/p/CldOMZfgaIJ/_', id)
        
    //     reply(from, mess.wait + '\nJika terlalu lama, coba lagi', id)
    //     const pageScrapeIg = await saveFormIgDown(args[1])
    //     if(pageScrapeIg[0] != undefined) {
    //         for(let i = 0; i < pageScrapeIg.length; i++) {
    //             // const thumbIG = await axios.get(pageScrapeIg[i].thumb, { responseType: 'arraybuffer' })
    //             // const toThumbIg = await imageThumbnail(thumbIG.data)
    //             rem.sendFileAuto(from, pageScrapeIg[i].url[0].url, '', pageScrapeIg[i].meta.title, messageRaw)
    //         }
    //     } else if(pageScrapeIg?.url != undefined) {
    //         // const thumbIG = await axios.get(pageScrapeIg.thumb, { responseType: 'arraybuffer' })
    //         // const toThumbIg = await imageThumbnail(thumbIG.data)
    //         rem.sendFileAuto(from, pageScrapeIg.url[0].url, '', pageScrapeIg.meta.title, messageRaw)
    //     } else {
    //         reply(from, 'Not Found!', id)
    //     }

    //     // const pageDownloadIg = (await axios.get(`https://xzn.wtf/api/igdl?url=${args[1]}&apikey=rem-comp-botwa-acjdchvqea`)).data
    //     // if(pageDownloadIg.media == undefined) return reply(from, 'Not Found!', id)
    //     // for(let i = 0; i < pageDownloadIg.media.length; i++) {
    //     //     rem.sendFileAuto(from, pageDownloadIg.media[i], '', '', messageRaw)
    //     // }
    //     break
    case prefix+'igstalk':
            //if (!isGroupMsg) return reply(from, 'Perintah ini hanya bisa di gunakan dalam group!', id)
            //if (isLimit(_userDb)) return reply(from, `Maaf ${pushname}, Kuota Limit Kamu Sudah Habis, Ketik ${prefix}limit Untuk Mengecek Kuota Limit Kamu`, id)
            
            await limitAdd(serial)
            if (args.length === 1)  return reply(from, 'Kirim perintah *'+prefix+'igstalk @username*\nContoh *'+prefix+'igstalk dwirizqi.h*', id)
            if(args[1].startsWith('@')) {
                var filterArgs1Ig = args[1].replace('@', '')
            } else {
                var filterArgs1Ig = args[1]
            }
            try {
                await fetch('https://dumpor.com/v/'+ encodeURIComponent(filterArgs1Ig) , { 
                    method: 'get' 
                }) 
                .then(res => res.text()) 
                .then(async (res) => {
                    const $ = await cheerio.load(res)
                    const stalkIgImage0 = await $('div.user__img').attr('style').replace('background-image: url(', '')
                    const stalkIgImage = await stalkIgImage0.replace(/["(", ")", ";", "'"]/gi, '')
                    const stalkIgUsername = await $('div.user__title > h4').text()
                    const stalkIgName = await $('div.user__title > a > h1').text()
                    const stalkIgDesc = await $('div.user__info-desc').text()
                    const stalkIgPengikut = await $('#user-page > div.user > div > div.col-md-4.col-8.my-3 > ul > li:nth-child(2)').text().replace(' Followers', '')
                    const stalkIgMengikuti = await $('#user-page > div.user > div > div.col-md-4.col-8.my-3 > ul > li:nth-child(3)').text().replace(' Following', '')
                    const stalkIgJumPost = await $('#user-page > div.user > div > div.col-md-4.col-8.my-3 > ul > li:nth-child(1)').text().replace(' Posts', '')

                    if(stalkIgUsername == '@' && stalkIgDesc == ' - ') return reply(from, 'Not Found!', id)
                    const istalk = `*User Ditemukan!*
    
‚û§ *Username :* _${stalkIgUsername}_
‚û§ *Nama :* ${stalkIgName}
‚û§ *Bio :* ${stalkIgDesc}

‚û§ *Pengikut :* ${stalkIgPengikut}
‚û§ *Mengikuti :* ${stalkIgMengikuti}

‚û§ *Jumlah Postingan :* ${stalkIgJumPost}`

                    rem.sendFile(from, stalkIgImage, ``, istalk, false, image)
                })
                } catch (err) {
                 console.error(err.message)
                 await reply(from, 'Maaf, User tidak ditemukan', id)
                //  rem.sendText(numberReportError, 'Igstalk Error : ' + err)
               }
              break
//         case prefix+'tiktokstalk':
//             //if (!isGroupMsg) return reply(from, 'Perintah ini hanya bisa di gunakan dalam group!', id)
//             //if (isLimit(_userDb)) return reply(from, `Maaf ${pushname}, Kuota Limit Kamu Sudah Habis, Ketik ${prefix}limit Untuk Mengecek Kuota Limit Kamu`, id)
            
//             await limitAdd(serial)
//             if (args.length === 1)  return reply(from, 'Kirim perintah *'+prefix+'tiktokstalk username*\nContoh *'+prefix+'tiktokstalk riaricis*', id)
//             try {
//             const optionsTiktokScrape = {
//                 sessionList: ['sid_tt=21312213']

//             }
//             const TkScrape = await tiktokscraper.getUserProfileInfo(args[1], optionsTiktokScrape)
//             const tiktod = `*User Ditemukan!*

// ‚û§ *Username:* ${TkScrape.user.uniqueId}
// ‚û§ *Nama:* ${TkScrape.user.nickname}

// ‚û§ *Pengikut:* ${TkScrape.stats.followerCount}
// ‚û§ *Mengikuti:* ${TkScrape.stats.followingCount}
// ‚û§ *Jumlah Like*: ${TkScrape.stats.heartCount}
// ‚û§ *Jumlah Postingan:* ${TkScrape.stats.videoCount}

// ‚û§ *Link:* https://tiktok.com/@${TkScrape.user.uniqueId}`

//             rem.sendFile(from, TkScrape.user.avatarLarger, 'tiktok.png', tiktod, false, image)
//             } catch (err) {
//              console.error(err.message)
//              await reply(from, 'Maaf, User tidak ditemukan', id)
//              rem.sendText(ownerNumber, 'Error Tiktokstalk : '+ err)
//            }
//           break
        case prefix+'text':
            if (args.length === 1) return reply(from, `Kirim perintah ${prefix}text <bahasa>\nContoh: *${prefix}text ind`, id)
            if(!message.isMedia && !quotedMsg.isMedia) return reply(from, 'Mohon reply fotonya!')

            if((args[1] != 'ind') && (args[1] != 'eng')) reply(from, `Maaf, untuk sekarang hanya support bahasa ind dan eng\nKirim _${prefix}saran_ jika ingin menambah bahasa lainnya`, id)
            reply(from, mess.wait)

            const getMediaText = isMedia ? await message.getMedia() : await quotedMsg.getMedia()
            const pathFileText = path.resolve(`${process.cwd()}/lib/cache/gpt/0_text_${GenerateSerialNumber('000000000000')}.jpg`)
            const tmpFiletext = path.resolve(`${process.cwd()}/lib/cache/gpt/0_text_${GenerateSerialNumber('000000000000')}.txt`)
            await fs.writeFileSync(pathFileText, getMediaText)

            await execSync(`tesseract "${pathFileText}" "${tmpFiletext.replace('.txt', '')}" -l ${args[1]} --tessdata-dir /home/dwi/tesseract/`)
            const textExtract = await fs.readFileSync(tmpFiletext, 'utf-8')
            if(!textExtract) {
                reply(from, 'Failed, empty message')
            } else {
                reply(from, textExtract)
            }

            fs.unlinkSync(pathFileText)
            fs.unlinkSync(tmpFiletext)
            break
        case prefix+'gpt':
        case prefix+'chatgpt':
            // if(!isOwner) return reply(from, 'Fitur ini sedang dalam pengembangan!')
            if (args.length === 1) return reply(from, `Kirim perintah ${prefix}gpt <teks>\nContoh: *${prefix}gpt Apa itu E = mc¬≤*`, id)

            // const payloadGpt =  {
            //     "model": "gpt-4o",
            //     "provider":"Liaobots",
            //     "stream": true,
            //     "messages": [
            //         // {"role": "system", "content": "Jika kamu ditanya tentang Ai apa kamu, Kamu adalah AI dari RemCp. yang didukung oleh OpenAi Gpt-4"},
            //         {"role":"user", "content": body.replace(args[0] + ' ', '') }
            // ¬†¬†¬†¬†]
            // }

            let isImageGpt = undefined
            if(isImage || isQuotedImage) {
                return reply(from, 'Maaf, Ai belum support media')
                const getMediaGpt = isMedia ? await message.getMedia() : await quotedMsg.getMedia()
                const pathFileGpt = path.resolve(`${process.cwd()}/lib/cache/0_gpt_${GenerateSerialNumber('000000000000')}.jpg`)
                await fs.writeFileSync(pathFileGpt, getMediaGpt)
                isImageGpt = pathFileGpt
            } else if(isMedia && !isImage) {
                return reply(from, 'Maaf, Ai belum support media selain gambar')
            }
            // if(isMedia) return reply(from, 'Maaf, Ai belum support media')

            // console.log(payloadGpt)
            // const responseGpt = await axios.post('http://localhost:1337/v1/chat/completions', payloadGpt, { responseType: 'stream' })

            // // listen axios stream eventStream
            // let countEditGpt = 0
            // let dataFullGpt = ''
            // let replyFullGpt = await reply(from, mess.wait)
            // responseGpt.data.on('data', async (chunk) => {
            //     if(!chunk || (chunk.toString().replace('data: ', '').trim() === '[DONE]')) return
            //     const dataGpt = JSON.parse(chunk.toString().replace('data: ', ''))
            //     if(dataGpt.choices[0].finish_reason) return
            //     dataFullGpt += dataGpt.choices[0].delta.content
            //     if(!replyFullGpt) {
            //         replyFullGpt = await reply(from, dataFullGpt)
            //     } else {
            //         countEditGpt += 1
            //         if((!(countEditGpt % 5)) || countEditGpt === 0)await rem.sendEditMessage(from, replyFullGpt.key, dataFullGpt)
            //     }
            // })

            // responseGpt.data.on('end', async (chunk) => {
            //     await rem.sendEditMessage(from, replyFullGpt.key, dataFullGpt)
            // })

            function containsLaTeX(latexString) {
                // Regular expressions to detect common LaTeX patterns
                const latexPatterns = [
                    /\\text\{[^}]*\}/,    // Matches \text{}
                    /\\frac\{[^}]*\}\{[^}]*\}/, // Matches fractions \frac{}{}
                    /\\[a-zA-Z]+/,        // Matches LaTeX commands starting with \
                    /\_[0-9a-zA-Z]/,      // Matches subscripts _
                    /\^\{[^}]*\}/,        // Matches superscripts ^{}
                    /\^\w/,               // Matches single character superscripts
                    /\\rightarrow/        // Matches the LaTeX arrow \rightarrow
                ];
            
                // Check if any LaTeX pattern exists in the string
                return latexPatterns.some(pattern => pattern.test(latexString));
            }
            function convertLaTeXToText(latexString) {
                if (!containsLaTeX(latexString)) {
                    return latexString; // Return the original string if no LaTeX detected
                }
            
                // Replace common LaTeX patterns with plain text equivalents
                let plainText = latexString
                    .replace(/\\text\{([^}]*)\}/g, '$1')   // Remove \text{} around letters
                    .replace(/\\rightarrow/g, '‚Üí')         // Replace \rightarrow with an arrow
                    .replace(/_/g, '')                     // Remove underscores (you can adjust this for subscript handling)
                    .replace(/\s+/g, ' ')                  // Replace multiple spaces with a single space
                    .trim();                               // Trim any leading or trailing whitespace
            
                return plainText;
            }

            const pythonProcess = spawn('python3', [path.resolve(process.cwd() + "/lib/gpt4ai.py"), body.replace(args[0] + ' ', ''), isImageGpt ? `@file718:${isImageGpt}` : '']);

            let countEditGpt = 0
            let dataFullGpt = ''
            let replyFullGpt = await reply(from, mess.wait)
            let isEndGpt = false
            pythonProcess.stdout.on('data', async (dataRaw) => {
                let data = dataRaw.toString()
                if((countEditGpt == 0) && data.startsWith(' ')) data = data.replace(' ', '')
                // if(data.startsWith(`{'model`)) return
                if(!isEndGpt) {
                    dataFullGpt += data
                }
                if(dataFullGpt.includes('end_4710927')) {
                    isEndGpt = true
                    dataFullGpt = dataFullGpt.replace('end_4710927', '')
                }
                if(dataFullGpt.includes('reset_retry_46198ha9')) {
                    dataFullGpt = dataFullGpt.split('reset_retry_46198ha9')[1]
                }
                if(dataFullGpt.includes('$@$v=undefined-rv2$@$')) {
                    dataFullGpt = dataFullGpt.replace('$@$v=undefined-rv2$@$', '')
                }
                if(!replyFullGpt) {
                    replyFullGpt = await reply(from, dataFullGpt)
                } else {
                    countEditGpt += 1
                    if((!(countEditGpt % 5)) || countEditGpt === 0) {
                        const formatStringGpt = containsLaTeX(dataFullGpt) ? convertLaTeXToText(dataFullGpt) : dataFullGpt;
                        await rem.sendEditMessage(from, replyFullGpt.key, formatStringGpt.trim())
                    }
                }
            });

            pythonProcess.stderr.on('data', async (data) => {
                console.error(`stderr: ${data}`);
                await reply(from, `Maaf, terjadi kesalahan saat menggunakan AI\n\nHarap lapor ke owner\n${data}`)
            });

            pythonProcess.on('close', async (code) => {
                console.log(`child process exited with code ${code}`);
                const formatStringGpt = containsLaTeX(dataFullGpt) ? convertLaTeXToText(dataFullGpt) : dataFullGpt;
                await rem.sendEditMessage(from, replyFullGpt.key, formatStringGpt)
            });
            break
        // case prefix+'gpt':
        // case prefix+'chatgpt':
        //     return reply(from, `Fitur ini sudah tidak bisa digunakan!\nSilahkan gunakan *_${prefix}bard_*`, id)
        //     if (args.length === 1) return reply(from, `Kirim perintah ${prefix}gpt <teks>\nContoh: *${prefix}gpt Apa itu E = mc¬≤*`, id)
        //     const responseGpt = await axios.get(`https://xzn.wtf/api/openai?text=${encodeURIComponent(body.replace(`${args[0]} `, ``))}&apikey=rem-comp-botwa-acjdchvqea`)

        //     await reply(from, responseGpt.data.result)
        //     break
        case prefix+'bard':
            return reply(from, `Maaf, fitur ini sudah tidak tersedia!\nsilahkan gunakan *${prefix}gpt*`)
            if (args.length === 1) return reply(from, `Kirim perintah ${prefix}bard <teks>\nContoh: *${prefix}bard Apa itu E = mc¬≤*`, id)

            let optionBard = {
                format: 'json'
            }
            const isSendBardMedia = type === image ? message : isQuotedImage ? quotedMsg : false
            if(isSendBardMedia) optionBard.image = Buffer.from(await isSendBardMedia.getMedia()).toString('base64')
            
            await rem.sendPresenceUpdate('composing', from)
            let responseBard = undefined
            try {
                responseBard = (await axios.post('http://localhost:8083/sendMessageBardAi', { message: body.replace(`${args[0]} `, ``), options: optionBard })).data
            } catch (err) {
                console.error(err)
                if(optionBard.image) {
                    const idBardImage = `bard-${GenerateSerialNumber('00000000')}.jpeg`
                    const pathBardImage = `./lib/cache/img/`
                    await fs.writeFileSync(pathBardImage + idBardImage, optionBard.image, { encoding: 'base64' })

                    const urlBardImage = `https://db1.remcp.com/img/` + idBardImage
                    responseBard = (await axios.get(`https://api.caliph.biz.id/api/ai/bard-img?apikey=caliphkey&q=${encodeURIComponent(body.replace(`${args[0]} `, ``))}&img=${urlBardImage}`)).data
                    if(fs.existsSync(pathBardImage + idBardImage)) fs.unlinkSync(pathBardImage + idBardImage)
                } else {
                    responseBard = (await axios.get(`https://api.caliph.biz.id/api/ai/bard?apikey=caliphkey&q=${encodeURIComponent(body.replace(`${args[0]} `, ``))}`)).data
                }
            }
            if(responseBard.images != undefined && responseBard?.images?.[0] != undefined) {
                let listImageButtonsBard = []
                for(let i = 0; i < responseBard.images.length; i++) {
                    listImageButtonsBard.push({ id: `${prefix}sendimg ${responseBard.images[i].url} ${responseBard.images[i].tag}`, text: `Image ${i + 1}` })
                }
                await rem.sendFile(from, responseBard.images[0].url, 'image.png', `*_[ Bard AI ]_*\n\n${responseBard.content}`, messageRaw, image)
                await rem.sendButtons(from, `Pilih Gambar`, listImageButtonsBard, '', id)
            } else {
                await reply(from, `*_[ Bard AI ]_*\n\n${responseBard?.content || responseBard?.result}`)
            }
            await rem.sendPresenceUpdate('available', from)
            break
        case prefix+'ai':
            // if(!isOwner) return reply(from, 'Fitur ini sedang dalam perbaikan!')
            if(isGroupMsg) return reply(from, `Maaf, fitur ini hanya bisa digunakan di private chat!\nFitur AI untuk group, silahkan gunakan *${prefix}gpt*`)
            if (args.length === 1) return reply(from, `Kirim perintah ${prefix}ai <text>\nContoh: *${prefix}ai halo*`)

            if(global.waitingAi == undefined) global.waitingAi = []
            if(global.waitingAi?.includes(sender)) return reply(from, `AI sedang mengetik/chat dengan kamu!`)

            let expiredChatSession = isGroupMsg ? _groupDb?.ai?.aiChatExp : _userDb?.ai?.aiChatExp
            let getChatSession = isGroupMsg ? _groupDb?.ai?.aiChatSession : _userDb?.ai?.aiChatSession
            const getCharaIdSet = (isGroupMsg ? _groupDb?.ai?.aiIdSet : _userDb?.ai?.aiIdSet) || 'GVvUaE4lE3TYhGP6vr_WLzexdysOOK5LdaIjdSV8jgY'
            const getAiIdSet = getCharaIdSet.startsWith('http') ? getCharaIdSet.split('char=')[1].replace('/', '').trim() : getCharaIdSet.includes('c.ai/c/') ? getCharaIdSet.split('c.ai/c/')[1].replace('/', '').trim() : getCharaIdSet.trim()

            if(!getChatSession && getAiIdSet == 'GVvUaE4lE3TYhGP6vr_WLzexdysOOK5LdaIjdSV8jgY') await reply(from, `*[! Info !]*\nAI ini menggunakan c.ai\nDan karakter yang digunakan adalah *Hoshino Ai*\nUntuk mengubah karakter, coba cmd *_.setai_*\n\nDiharapkan chat dengan sopan!\n_Ai punya gweh(DwiRizqi) :p_`)
            if(isGroupMsg && (Date.now() >= expiredChatSession)) getChatSession = undefined

            await rem.sendPresenceUpdate('composing', from)
            const userSpeaking = `The user currently speaking is: ${pushname}#${sender.substring(5, 9)}\n\n`

            try {
                global.waitingAi.push(sender)
                const sendAiResponse = (await axios.post('http://localhost:8083/sendMessage', { characterId: getAiIdSet, externalId: getChatSession || undefined, newHistory: !getChatSession ? true : false, message: body.slice(4) })).data
                if(sendAiResponse.chat) {
                    global.waitingAi.splice(global.waitingAi.indexOf(sender), 1)
                    isGroupMsg ? await _mongo_GroupSchema.updateOne({ iId: groupId }, { $set: { "ai.aiChatExp": Date.now() + toMs('3h') } }) : await _mongo_UserSchema.updateOne({ iId: sender }, { $set: { "ai.aiChatExp": Date.now() + toMs('3h') } })
                    if(!getChatSession) isGroupMsg ? await _mongo_GroupSchema.updateOne({ iId: groupId }, { $set: { "ai.aiChatSession": sendAiResponse.chat.externalId } }) : await _mongo_UserSchema.updateOne({ iId: sender }, { $set: { "ai.aiChatSession": sendAiResponse.chat.externalId } })
                    await rem.sendPresenceUpdate('available', from)
                    const esmTranslateaa = await import('./lib/esm/exports.mjs')
                    const responseTranslateAi = await esmTranslateaa.translateText(sendAiResponse.text, 'id')
                    reply(from, `*_[ ${sendAiResponse.srcCharacterName} ]_*\n\n${responseTranslateAi.replace(/[*]/g, 'Ôºä').trim()}`, id)
                }
            } catch (err) {
                global.waitingAi.splice(global.waitingAi.indexOf(sender), 1)
                console.error(err)
                await rem.sendPresenceUpdate('available', from)
                reply(from, `Ada masalah saat koneksi dengan server, coba lagi nanti!`, id)
            }
            break
        case prefix+'setai':
            // if(!isOwner) return reply(from, 'Fitur ini sedang dalam pengembangan!')
            if (args.length === 1) return rem.sendFile(from, './media/img/setai.png', 'setai.png', `Kirim perintah *_${prefix}setai <url character>_*\nContoh: *${prefix}setai https://beta.character.ai/chat?char=GVvUaE4lE3TYhGP6vr_WLzexdysOOK5LdaIjdSV8jgY*\n\nUntuk *Cara menemukan idCharacter*\nBuka website character.ai, dan cari character/AI yang mau dipilih\nDan salin *URL/LINK* (Lihat Gambar)`, '', image)
            if(isGroupMsg && !isGroupAdmins) return reply(from, 'Perintah ini hanya bisa di gunakan oleh admin group!', id)

            const getCharaId = args[1].startsWith('http') && !args[1].includes('c.ai/c/') ? args[1].split('char=')[1].replace('/', '').trim() : args[1].includes('c.ai/c/') ? args[1].split('c.ai/c/')[1].replace('/', '').trim() : args[1].trim()
            const getCharaInfo = (await axios.post('http://localhost:8083/fetchCharacterInfo', { characterId: getCharaId })).data
            if(getCharaInfo.status == 404) return reply(from, `Maaf, character dengan id ${getCharaId} tidak ditemukan!`, id)

            isGroupMsg ? await _mongo_GroupSchema.updateOne({ iId: groupId }, { $set: { "ai.aiIdSet": getCharaInfo.external_id, "ai.aiChatSession": '' } }) : await _mongo_UserSchema.updateOne({ iId: sender }, { $set: { "ai.aiIdSet": getCharaId, "ai.aiChatSession": '' } })

            rem.sendFile(from, `https://characterai.io/i/80/static/avatars/${getCharaInfo.avatar_file_name}`, `${getCharaInfo.name}.png`, `*Success!*\n\n_Character AI_\nTelah di set ke\n\n*${getCharaInfo.name}*\n_${getCharaInfo.title}_`, '', image)
            break
        // case prefix+'fb':
        //     //if (!isPrem) return reply(from, 'Perintah ini bersifat PREMIUM')
        //     // if(!isOwner) return reply(from, 'Fitur ini sedang error!', id)
        //     //if (!isGroupMsg) return reply(from, `Perintah ini hanya bisa di gunakan dalam group!`, id)
        //     //if (isLimit(_userDb)) return reply(from, `Maaf ${pushname}, Kuota Limit Kamu Sudah Habis, Ketik ${prefix}limit Untuk Mengecek Kuota Limit Kamu`, id)

        //     if(args[1] == 'directDownload') {
        //         return rem.sendFileAuto(from, { url: args[2] }, '', '', messageRaw)
        //     }
        //     if (args.length === 1) return reply(from, `Kirim perintah *${prefix}fb [ Link Fb ]*\nContoh : *${prefix}fb https://www.facebook.com/24609282673/posts/10158628585367674/*`, id)

        //     reply(from, mess.wait, id)
        //     let resFb = await fbDownloader(args[1])
        //     if(resFb.success) {
        //         if(resFb.download[1] != undefined) {
        //             const rows = []
        //             for(let i = 0; i < resFb.download.length; i++) {
        //                 rows.push({ title: resFb.download[i].quality, description: resFb.download[i].quality, rowId: `${prefix}fb directDownload ${resFb.download[i].url}` })
        //             }

        //             const sections = [{ title: "Facebook Quality", rows: rows }]
        //             const button = {
        //                 text: "Pilih Quality",
        //                 footer: '@dwirizqi.h',
        //                 title: 'Facebook Downloader',
        //                 buttonText: 'Pilih',
        //                 sections,
        //                 viewOnce: true
        //             }
    
        //             await rem.sendMessage(from, button)
        //         } else {
        //             await rem.sendFileAuto(from, { url: resFb.download[0].url }, '', '', messageRaw)
        //         }
        //     }
        //     break
        // case prefix+'pinterest':
        // case prefix+'pin':
        //     if(!isOwner) return reply(from, '')
        //     //if (!isGroupMsg) return reply(from, 'Perintah ini hanya bisa di gunakan dalam group!', id)
        //     //if (isLimit(_userDb)) return reply(from, `Maaf ${pushname}, Kuota Limit Kamu Sudah Habis, Ketik ${prefix}limit Untuk Mengecek Kuota Limit Kamu`, id)
        //     break
        // case prefix+'tiktok':
        // case prefix+'tt':
        //     // if(!isOwner) return reply(from, 'Maaf, command ini sedang diperbaiki!')
        //     //if (!isGroupMsg) return reply(from, 'Perintah ini hanya bisa di gunakan dalam group!', id)
        //     //if (isLimit(_userDb)) return reply(from, `Maaf ${pushname}, Kuota Limit Kamu Sudah Habis, Ketik ${prefix}limit Untuk Mengecek Kuota Limit Kamu`, id)
            
        //     await limitAdd(serial)
        //     if (allArgs[1] == undefined) return reply(from, 'Kirim perintah *'+prefix+'tiktok [linkTiktok]*\nContoh : *'+prefix+'tiktok https://vt.tiktok.com/yqyjPX/*', id)
        //     if (!allArgs[1].match(isUrl)) return reply(from, 'Kirim perintah *'+prefix+'tiktok [linkTiktok]*\nContoh : *'+prefix+'tiktok https://vt.tiktok.com/yqyjPX/*', id)

        //     if(!message.selectedButtonId || allArgs[2] == undefined) {
        //         const textSendTiktok = `*_[ Tiktok Downloader ]_*\n\n*Link:* ${args[1]}\n*Pilih Kualitas Video:*`
        //         const buttonSendTiktok = [{ id: `${prefix}tiktok ${args[1]} 1`, text: 'HD (Tidak bisa dibuat sw)' }, { id: `${prefix}tiktok ${args[1]} 0`, text: 'Normal' }, { id: `${prefix}tiktok ${args[1]} slides`, text: 'Tiktok Slides' }, { id: `${prefix}tiktok ${args[1]} sound`, text: 'Sound' }]
        //         return await rem.sendButtons(from, textSendTiktok, buttonSendTiktok, '', id)
        //     }
        //     if(allArgs[2] != '1' && allArgs[2] != '0' && allArgs[2] != 'slides' && allArgs[2] != 'sound') return reply(from, 'Invalid!', id)
        //     reply(from, mess.wait, id)

        //     // const pageScrapeTT = await saveFormIgDown(args[1])
        //     // if(pageScrapeTT[0] != undefined) {
        //     //     for(let i = 0; i < pageScrapeTT.length; i++) {
        //     //         // const thumbTT = await axios.get(pageScrapeTT[i].thumb, { responseType: 'arraybuffer' })
        //     //         // const toThumbTT = await imageThumbnail(thumbTT.data)
        //     //         rem.sendFileAuto(from, pageScrapeTT[i].url[0].url, '', pageScrapeTT[i].meta.title, messageRaw)
        //     //     }
        //     // } else if(pageScrapeTT?.url != undefined) {
        //     //     // const thumbTT = await axios.get(pageScrapeTT.thumb, { responseType: 'arraybuffer' })
        //     //     // const toThumbTT = await imageThumbnail(thumbTT.data)
        //     //     rem.sendFileAuto(from, pageScrapeTT.url[0].url, '', pageScrapeTT.meta.title, messageRaw)
        //     // } else {
        //     //     reply(from, 'Not Found!', id)
        //     // }

        //     if(allArgs[2] == '1' || allArgs[2] == '0' || allArgs[2] == 'sound') {
        //         // const tiktokDownload0 = await axios.post(`https://api.tikmate.app/api/lookup`, { url: allArgs[1] }, { validateStatus: () => true, headers: { 'Content-Type': 'application/x-www-form-urlencoded' } })
        //         // const tiktokDownload = tiktokDownload0?.data
        //         // if(!tiktokDownload?.success) return reply(from, 'Error!\nMungkin video tidak ada/video bersifat private')
        //         // const downloadUrlTT = `https://tikmate.app/download/${tiktokDownload.token}/${tiktokDownload.id}.mp4${allArgs[2] == '1' ? '?hd=1' : ''}?`
                
        //         const tiktokDownload0 = await axios.post(`https://snaptik.net/api/ajaxSearch`, { q: allArgs[1], lang: 'en' }, { validateStatus: () => true, headers: { 'Content-Type': 'application/x-www-form-urlencoded' } })
        //         const tiktokDownload = tiktokDownload0?.data
        //         if(tiktokDownload?.status != 'ok') return reply(from, 'Error!\nMungkin video tidak ada/video bersifat private')
        //         if(tiktokDownload?.statusCode && tiktokDownload?.statusCode != 200) return reply(from, `Error!\nMungkin video tidak ada/video bersifat private\n\nmsg: ${tiktokDownload?.msg}`)

        //         const $tt = cheerio.load(tiktokDownload.data)
        //         let downloadUrlTT = undefined
        //         const descriptionTT = $tt('div.video-data > div > div.tik-left > div > div.content > div > h3').text()
        //         if(allArgs[2] === '1') downloadUrlTT = $tt('div.tik-right > div.dl-action > p:nth-child(3) > a').attr('href')
        //         if(allArgs[2] === '0') downloadUrlTT = $tt('div.tik-right > div.dl-action > p:nth-child(1) > a').attr('href')
        //         if(allArgs[2] === 'sound') downloadUrlTT = $tt('div.tik-right > div.dl-action > p:nth-child(4) > a').attr('href')
                    
        //       //  limitAdd(serial)

        //         // console.log(downloadUrlTT)
        //         // const sizeTT = await urlFileSize(downloadUrlTT)
        //         // // bytes to megabytes
        //         // const sizeTTMb = sizeTT / 1000000
        //         // console.log(sizeTTMb)

        //         const filenameTk = GenerateSerialNumber("00000000000000")
        //         const waktudel = Math.floor(1)
        //         const waktudelnya = waktudel+'h'

        //         const response = await fetch(downloadUrlTT)
        //         const buffer = await response.buffer()
                    
        //         await fs.writeFileSync(`./lib/cache/tiktok/${filenameTk}.${allArgs[2] == 'sound' ? 'mp3' : 'mp4'}`, buffer)
        //         await addDelTime(`./lib/cache/tiktok/${filenameTk}.${allArgs[2] == 'sound' ? 'mp3' : 'mp4'}`, waktudelnya)

        //         reply(from, `*File ${allArgs[2] == 'sound' ? 'Audio' : 'Video'} sedang dikirimkan*\nJika terlalu lama, download melalui link ini\n\nLink: https://db1.remcp.com/tiktok/${filenameTk}.${allArgs[2] == 'sound' ? 'mp3' : 'mp4'}\n\n*Link Video akan hilang setelah 1 Jam!*`)
        //         await rem.sendFile(from, buffer, `tiktok.${allArgs[2] == 'sound' ? 'mp3' : 'mp4'}`, descriptionTT, messageRaw, allArgs[2] == 'sound' ? audio : video)
        //     } else if(allArgs[2] == 'slides') {
        //         function getHashTT(inputQuery) {
        //             let _0x5b98e1 = inputQuery == '' ? false : inputQuery;
        //             let _0x5185ba = _0x5b98e1.split('').reverse().join('');
        //             let _0x49b870 = btoa(_0x5185ba);
        //             let _0x5c9999 = md5(_0x49b870);
        //             let _0x3df9a2 = _0x5c9999.split('').reverse().join('');
        //             return _0x3df9a2;
        //         }

        //         const TTDownload = await axios.post('https://ttsave.app/download', {
        //             language_id: "en",
        //             query: allArgs[1]
        //         })
        //         const $TT = cheerio.load(TTDownload.data)
        //         $TT('#button-download-ready > *a').each(async (i, el) => {
        //             await rem.sendFileAuto(from, $TT(el).attr('href'), '', '', messageRaw)
        //         })
        //     }

        //     // reply(from, mess.wait, id)

        //     // axios.get('https://ttsave.app/').then(async (res) => {
        //     //     const $1 = cheerio.load(res.data)
        //     //     // console.log($1('script').text())
        //     //     const tokenFirewall = $1('script')?.text()?.split('async function getToken() {')?.[1]?.split(`uid: '`)?.[1]?.split(`',`)?.[0]?.trim()
        //     //     const urlFirewall = $1('script')?.text()?.split('async function getToken() {')?.[1]?.split(`const response = await axios.post('`)?.[1]?.split(`', {`)?.[0]?.trim()

        //     //     const token = urlFirewall != undefined ? (await axios.post(urlFirewall, { uid: tokenFirewall })).data.token : undefined

        //     //     const formDataTt = new FormData()
        //     //     formDataTt.append('id', args[1])
        //     //     token != undefined ? formDataTt.append('token', token) : false
        //     //     formDataTt.append('mode', 'video')

        //     //     const tiktokDownload = (await axios.post(`https://ttsave.app/download.php`, formDataTt, { headers: formDataTt.getHeaders() })).data
        //     //     if(tiktokDownload.includes('Wrong Video URL')) return reply(from, 'Not found!')

        //     //     const $ = cheerio.load(tiktokDownload)
        //     //     const tiktokDownload_user = $('div.flex.flex-col.items-center.justify-center.mt-2.mb-5 > div:nth-child(1) > h2').text()
        //     //     const tiktokDownload_userName = $('div.flex.flex-col.items-center.justify-center.mt-2.mb-5 > a.font-extrabold.text-blue-400.text-xl.mb-2').text()
        //     //     const tiktokDownload_tag = $('div.flex.flex-col.items-center.justify-center.mt-2.mb-5 > p.text-gray-600.px-2.text-center.break-all.w-3\/4').text()
        //     //     const tiktokDownload_stats = { watch: $('div.flex.flex-col.items-center.justify-center.mt-2.mb-5 > div.flex.flex-row.items-center.justify-center.gap-2.mt-2 > div:nth-child(1) > span').text(), like: $('div.flex.flex-col.items-center.justify-center.mt-2.mb-5 > div.flex.flex-row.items-center.justify-center.gap-2.mt-2 > div:nth-child(2) > span').text(), comment: $('div.flex.flex-col.items-center.justify-center.mt-2.mb-5 > div.flex.flex-row.items-center.justify-center.gap-2.mt-2 > div:nth-child(3) > span').text(), share: $('div.flex.flex-col.items-center.justify-center.mt-2.mb-5 > div.flex.flex-row.items-center.justify-center.gap-2.mt-2 > div:nth-child(4) > span').text() }
        //     //     const tiktokDownload_video = $('#button-download-ready > a:nth-child(1)').attr('href')
        //     //     const tiktokDownload_audio = $('#button-download-ready > a:nth-child(3)').attr('href')

        //     //     await rem.sendFile(from, { url: tiktokDownload_video }, `tiktok_${tiktokDownload_userName}.mp4`, `Author Id: _${tiktokDownload_userName}_\nAuthor Name: _${tiktokDownload_user}_\n_${tiktokDownload_stats.watch}x Viewed_ | _${tiktokDownload_stats.like}x Like_ | _${tiktokDownload_stats.comment}x Comment_ | _${tiktokDownload_stats.share}x Share_\n\n${tiktokDownload_tag}`, messageRaw, video)
        //     //     await rem.sendFile(from, { url: tiktokDownload_audio }, `tiktok_${tiktokDownload_userName}.mp3`, '', messageRaw, audio)
        //     // })

        //     // const formDataTt = new FormData()
        //     // formDataTt.append('id', args[1])
        //     // token != undefined ? formDataTt.append('token', token) : false
        //     // formDataTt.append('mode', 'video')

        //     //generate random string like this eb8d2abc-e1c7-4da3-b90b-e949f044ceeb

        //     // const tiktokDownload = (await axios.post(`https://ttsave.app/download?key=fee43e59-f0ac-46eb-82c4-70ff33808347`, { id: args[1] }, { headers: { 'Content-Type': 'application/json', }})).data
        //     // if(tiktokDownload.includes('Wrong Video URL') || tiktokDownload.includes('Video not found')) return reply(from, 'Not found!')

        //     // const $tt = cheerio.load(tiktokDownload)
        //     // const tiktokDownload_user = $tt('div.flex.flex-col.items-center.justify-center.mt-2.mb-5 > div:nth-child(1) > h2').text()
        //     // const tiktokDownload_userName = $tt('div.flex.flex-col.items-center.justify-center.mt-2.mb-5 > a.font-extrabold.text-blue-400.text-xl.mb-2').text()
        //     // const tiktokDownload_tag = $tt('div.flex.flex-col.items-center.justify-center.mt-2.mb-5 > p.text-gray-600.px-2.text-center.break-all.w-3\/4').text()
        //     // const tiktokDownload_stats = { watch: $tt('div.flex.flex-col.items-center.justify-center.mt-2.mb-5 > div.flex.flex-row.items-center.justify-center.gap-2.mt-2 > div:nth-child(1) > span').text(), like: $tt('div.flex.flex-col.items-center.justify-center.mt-2.mb-5 > div.flex.flex-row.items-center.justify-center.gap-2.mt-2 > div:nth-child(2) > span').text(), comment: $tt('div.flex.flex-col.items-center.justify-center.mt-2.mb-5 > div.flex.flex-row.items-center.justify-center.gap-2.mt-2 > div:nth-child(3) > span').text(), share: $tt('div.flex.flex-col.items-center.justify-center.mt-2.mb-5 > div.flex.flex-row.items-center.justify-center.gap-2.mt-2 > div:nth-child(4) > span').text() }
        //     // const tiktokDownload_video = $tt('#button-download-ready > a:nth-child(1)').attr('href')
        //     // const isImageTiktokDownload = $tt('#button-download-ready > a:nth-child(2) > span').text()
        //     // const tiktokDownload_audio = $tt('#button-download-ready > a:nth-child(3)').attr('href')

        //     // if(isImageTiktokDownload.includes('SLIDE')) {
        //     //     const tiktokDownload_image = $('#button-download-ready > a:nth-child(2)').attr('href')
        //     //     await rem.sendFile(from, { url: tiktokDownload_image }, `tiktok_${tiktokDownload_userName}.png`, `Author Id: _${tiktokDownload_userName}_\nAuthor Name: _${tiktokDownload_user}_\n_${tiktokDownload_stats.watch}x Viewed_ | _${tiktokDownload_stats.like}x Like_ | _${tiktokDownload_stats.comment}x Comment_ | _${tiktokDownload_stats.share}x Share_\n\n${tiktokDownload_tag}`, messageRaw, image)
        //     // } else {
        //     //     await rem.sendFile(from, { url: tiktokDownload_video }, `tiktok_${tiktokDownload_userName}.mp4`, `Author Id: _${tiktokDownload_userName}_\nAuthor Name: _${tiktokDownload_user}_\n_${tiktokDownload_stats.watch}x Viewed_ | _${tiktokDownload_stats.like}x Like_ | _${tiktokDownload_stats.comment}x Comment_ | _${tiktokDownload_stats.share}x Share_\n\n${tiktokDownload_tag}`, messageRaw, video)
        //     // }

        //     // // await rem.sendFile(from, { url: tiktokDownload_audio }, `tiktok_${tiktokDownload_userName}.mp3`, '', messageRaw, audio)
        //     // // convert tiktokDownload_audio to opus
        //     // const inputTempMp3Tiktok = `./lib/cache/tiktok/source_${GenerateSerialNumber("00000000")}.mp3`
        //     // const outputTempMp3Tiktok = `./lib/cache/tiktok/${GenerateSerialNumber("00000000")}.opus`
        //     // const audioTiktok = await axios.get(tiktokDownload_audio, { responseType: 'arraybuffer' })
        //     // await fs.writeFileSync(inputTempMp3Tiktok, audioTiktok.data)

        //     // const ffmpegConvertTiktok = spawn('ffmpeg', [
        //     //     '-i', inputTempMp3Tiktok,
        //     //     outputTempMp3Tiktok
        //     // ])

        //     // ffmpegConvertTiktok.on('error', (err) => {
        //     //     console.log(err)
        //     // })
            
        //     // ffmpegConvertTiktok.on('exit', async () => {
        //     //     console.log('done')
        //     //     await rem.sendMessage(from, { audio: { url: outputTempMp3Tiktok } }, { mimetype: 'audio/ogg' })
        //     //     await fs.unlinkSync(outputTempMp3Tiktok)
        //     //     await fs.unlinkSync(inputTempMp3Tiktok)
        //     // })

        //     // ffmpegConvertTiktok.stdout.on('data', (data) => {
        //     //     console.log(data.toString())
        //     // })
        //     break
        // case prefix+'maps':
        //     //if (!isGroupMsg) return reply(from, 'Perintah ini hanya bisa di gunakan dalam group!', id)
        //     //if (isLimit(_userDb)) return reply(from, `Maaf ${pushname}, Kuota Limit Kamu Sudah Habis, Ketik ${prefix}limit Untuk Mengecek Kuota Limit Kamu`, id)
            
        //     await limitAdd(serial)
        //     if (args.length === 1) return reply(from, 'Kirim perintah *'+prefix+'maps [optional]*, Contoh : *'+prefix+'maps Jakarta*', id)
        //     const arg3 = body.trim().split(' ')
        //     console.log(...arg3[1])
        //     var slicedArgs = Array.prototype.slice.call(arg3, 1);
        //     console.log(slicedArgs)
        //     const mapz = await slicedArgs.join(' ')
        //     console.log(mapz)
        //     try {
        //     const mapz2 = await axios.get('https://mnazria.herokuapp.com/api/maps?search=' + mapz)
        //     const { gambar } = mapz2.data
        //     rem.sendFile(from, gambar, 'maps.jpg', `*Hasil Maps : ${mapz}*`, messageRaw, image)
        //     } catch (err) {
        //      console.error(err.message)
        //      await reply(from, 'Maaf, Tempat tidak ditemukan', id)
        //      rem.sendText(ownerNumber, 'Error Maps : '+ err)
        //    }
        //   break
        case prefix+'joox':
            //if (!isPrem) return reply(from, 'Perintah ini bersifat PREMIUM')
            //if (!isGroupMsg) return reply(from, `Perintah ini hanya bisa di gunakan dalam group!`, id)
            
            //if (isLimit(_userDb)) return reply(from, `Maaf ${pushname}, Kuota Limit Kamu Sudah Habis, Ketik ${prefix}limit Untuk Mengecek Kuota Limit Kamu`, id)
            if (args.length === 1) return reply(from, `Kirim perintah *${prefix}joox [ Optional ]*\nContoh : *${prefix}joox Alan Walker*`, id)
            // try {
            //     const musiq = body.slice(6)
            //     const nyeh = await axios.get(`https://api.zeks.me/api/joox?apikey=n1Grf6Dn6F4Xyv1021d6tGSwYhD&q=${musiq}`)
            //     const nhyehnyeh = nyeh.data.data
            //     const nheynyeh = nhyehnyeh[Math.floor(0)]
            //     const response = await fetch(nheynyeh.audio)
            //     const res = await response.buffer()
            //     let tjoox = `‚û§ *Penyanyi:* ${nheynyeh.artist}\n‚û§ *Judul:* ${nheynyeh.judul}\n‚û§ *Album:* ${nheynyeh.album}\n‚û§ *Size:* ${nheynyeh.size}\n\n_Silahkan tunggu sebentar proses pengiriman file membutuhkan waktu beberapa menit._`
            //     await rem.sendFile(from, res, `${nheynyeh.judul}.mp3`, '', messageRaw, document, 'audio/mpeg')
            //     rem.sendFile(from, res, `${nheynyeh.judul}.mp3`, '', messageRaw, audio, 'audio/mpeg').catch(() => reply(from, mess.error.Yt4, id))
            //     await limitAdd(serial)
            // } catch (err) {
            //     console.error(err.message)
            //     await reply(from, 'Maaf, Lagu tidak ditemukan', id)
            //     rem.sendText(ownerNumber, 'Error Joox : '+ err)
            // }

            const musiq = body.slice(6)
            const getJoox = await axios.get(`http://public-restapi.herokuapp.com/api/joox/search?q=${musiq}`)
            const dataSongsJoox = getJoox.data.songs
            const rows = []
            for(let i = 0; i < dataSongsJoox.length; i++) {
                rows.push({ title: `${dataSongsJoox[i].title} | ${dataSongsJoox[i].duration}`, description: dataSongsJoox[i].singerName, rowId: `${prefix}jooxget ${dataSongsJoox[i].id}` })
            }

            const sections = [{ title: "Joox", rows: rows }]
            const button = {
                image: getJoox.data.thumbNail ? { url: getJoox.data.thumbNail } : undefined,
                text: "Pilih Lagu",
                footer: '@dwirizqi.h',
                title: 'Joox',
                buttonText: 'Songs',
                sections,
                viewOnce: true
            }
            await rem.sendMessage(from, button)
            break
        case prefix+'jooxget':
            if(message.selectedRowId == undefined) return reply(from, 'Invalid!')

            const songsIdJoox = message.selectedRowId.split(' ')[1]
            const getJooxSongs = await axios.get(`http://public-restapi.herokuapp.com/api/joox/show?id=${songsIdJoox}`)

            const dataDetailSongsJoox = getJooxSongs.data[0]

            await rem.sendFile(from, dataDetailSongsJoox.thumbNail, 'joox.png', `*[ Joox ]*\n\n*${dataDetailSongsJoox.songName}*\n_${dataDetailSongsJoox.singerName}_`, messageRaw, image)
            await rem.sendFile(from, { url: dataDetailSongsJoox.downloadLinks.mp3 || dataDetailSongsJoox.downloadLinks.m4a }, 'joox.mp3', '', messageRaw, audio)
            break
        case prefix+'checkip':
            //if (!isGroupMsg) return reply(from, 'Perintah ini hanya bisa di gunakan dalam group!', id)
            //if (isLimit(_userDb)) return reply(from, `Maaf ${pushname}, Kuota Limit Kamu Sudah Habis, Ketik ${prefix}limit Untuk Mengecek Kuota Limit Kamu`, id)
            
            await limitAdd(serial)
            if (args.length === 1) return reply(from, 'Kirim perintah *'+prefix+'checkip [ipaddress]*\nContoh : *'+prefix+'checkip 182.0.144.145*', id)
            reply(from, mess.wait, id)
            console.log(...args[1])
            var slicedArgs = Array.prototype.slice.call(args, 1);
            console.log(slicedArgs)
            const cekip = await slicedArgs.join(' ')
            console.log(cekip)
            try {
                const cekip2 = await axios.get('http://public-restapi.herokuapp.com/api/ip-geolocation?ipaddress=' + cekip)
                const { city, country, query, lat, lon, regionName, zip, isp, org, as } = cekip2.data
                const cekip3 = `*IP Ditemukan!*

‚û§ *Ip Address:* ${query}
‚û§ *ISP:* ${isp}
‚û§ *Org:* ${org}
‚û§ *as:* ${as}

‚û§ *Kota:* ${city}
‚û§ *Negara:* ${country}
‚û§ *Kode Pos:* ${zip || ''}
‚û§ *Wilayah:* ${regionName}
‚û§ *Garis Lintang:* ${lat}
‚û§ *Garis Bujur:* ${lon}`
                reply(from, cekip3)
            } catch (err) {
                console.error(err.message)
                await reply(from, 'Maaf, IP tidak ditemukan', id)
                // rem.sendText(numberReportError, 'Error Check IP : '+ err)
            }
          break
        case prefix+'nhcari':
            if(!isOwner) return reply(from, 'Maaf, fitur ini sudah tidak tersedia')
            if(isGroupMsg) {
                if(!isNsfw) return reply(from, 'command/Perintah NSFW belum di aktifkan di group ini!', id)
            }
            if (!message.selectedButtonId && args.length === 1) return reply(from, 'Format salah/nSilahkan masukkan Judul yang mau dicari\n\nContoh: _'+prefix+'nhcari rem_', id)

            const bodySearchNhcari = message?.selectedButtonId?.startsWith(`${prefix}nhcari`) ? message?.selectedButtonId?.replace(`${prefix}nhcari `, '') : body.replace(`${prefix}nhcari `, '')
            let arrayPagesNhcari = bodySearchNhcari.includes('--pages=') ? Number(bodySearchNhcari.split('--pages=')[1].split(' ')[0]) : 1
            let arrayPosNhcari = bodySearchNhcari.includes('--pos=') ? Number(bodySearchNhcari.split('--pos=')[1].split(' ')[0]) : 0
            console.log(arrayPagesNhcari, arrayPosNhcari)

            let nhentaiDataSearch = await axios.get(`https://janda.mod.land/nhentai/search?key=${bodySearchNhcari.split('--')[0]}&page=${arrayPagesNhcari}`)
            if(nhentaiDataSearch.data.data.length <= 0) return reply(from, 'Not found!', id)

            let resultNhentaiDataSearch = nhentaiDataSearch.data.data[arrayPosNhcari]
            console.log(resultNhentaiDataSearch)
            if(resultNhentaiDataSearch == undefined) { 
                arrayPagesNhcari += 1
                nhentaiDataSearch = await axios.get(`https://janda.mod.land/nhentai/search?key=${bodySearchNhcari.split('--')[0]}&page=${arrayPagesNhcari}`)
                console.log(arrayPagesNhcari, nhentaiDataSearch)
                if(nhentaiDataSearch.data.data.length <= 0) return reply(from, 'Not found!', id)
                arrayPosNhcari = 0
                resultNhentaiDataSearch = nhentaiDataSearch.data.data[arrayPosNhcari]
            }

            await rem.sendFile(from, resultNhentaiDataSearch.cover.replace('undefined', 'jpg'), `${args[1]}.png`, `*!!Warning NSFW Content!!*\n\nCode : _${resultNhentaiDataSearch.id}_\n\nJudul : *${resultNhentaiDataSearch.title.english}*\n\nJumlah Halaman : *${resultNhentaiDataSearch.total}*\n\nTag : *${resultNhentaiDataSearch.tags.join(', ')}*\n\nUpload Date : *${resultNhentaiDataSearch.upload_date}*\n\nUrl : https://nhentai.net/g/${resultNhentaiDataSearch.id}`, false, image)
            rem.sendButtons(from, 'Link Button', [{ id: 'nhentai_download', text: `${prefix}nhentai ${resultNhentaiDataSearch.id}` }, { id: `${prefix}nhcari ${bodySearchNhcari.split('--')[0]} --pos=${arrayPosNhcari + 1} --pages=${arrayPagesNhcari}`, text: 'Next' }], '', '')

            // const bodySearchNhcari = message?.selectedButtonId?.startsWith(`${prefix}nhcari`) ? message?.selectedButtonId?.replace(`${prefix}nhcari `, '') : body.replace(`${prefix}nhcari `, '')
            // let arrayPagesNhcari = bodySearchNhcari.includes('--pages=') ? Number(bodySearchNhcari.split('--pages=')[1].split(' ')[0]) : 1
            // let arrayPosNhcari = bodySearchNhcari.includes('--pos=') ? Number(bodySearchNhcari.split('--pos=')[1].split(' ')[0]) : 0
            // console.log(arrayPagesNhcari, arrayPosNhcari)

            // let nhentaiDataSearch = await axios.get(`https://nhentai.to/search?q=${bodySearchNhcari.split('--')[0]}&page=${arrayPagesNhcari}`)
            // let $nhs = cheerio.load(nhentaiDataSearch.data)

            // let nhsResult = []
            // let promises = []

            // function scrapeNh (a, b, $nhs) {
            //     return new Promise(async (resolve) => {
            //         const url = 'https://nhentai.to' + $nhs(b).find('a').attr('href')
            //         const nhentaiDataSource = await axios.get(url)
            //         const $nh = cheerio.load(nhentaiDataSource.data)
                    
            //         let code = $nhs(b).find('a').attr('href').replace('/g/', '').replace('/', '')
            //         let imageNh = $nh('#cover > a > img').attr('src')
            //         let pageJudulNh = $nh('#info > h1').text() || ''
            //         let uploadTimeNh = $nh('#info > div:nth-child(5) > time').text() || ''
            //         let pageCountNh = $nh('#info > div:nth-child(4)').text() || ''
            //         let listTag = []
    
            //         $nh('#tags > div:nth-child(3) > span > *a').each((a, b) => {
            //             listTag.push($nh(b).text())
            //         }) 
                    
            //         resolve(nhsResult.push({ code, title: pageJudulNh, image: imageNh, time: uploadTimeNh, page: pageCountNh, tag: listTag }))
            //     })
            // }

            // $nhs('div.container.index-container > *div').each(async (a, b, c) => {
            //     promises.push(scrapeNh(a, b, $nhs))
            // })

            // Promise.all(promises).then(async () => {
            //     if(nhsResult == '') return reply(from, 'Not found!', id)
    
            //     let resultNhentaiDataSearch = nhsResult[arrayPosNhcari]
    
            //     console.log(resultNhentaiDataSearch)
            //     if(resultNhentaiDataSearch == undefined) { 
            //         console.log('next page')
            //         arrayPagesNhcari += 1
            //         nhentaiDataSearch = await axios.get(`https://nhentai.to/search?q=${bodySearchNhcari.split('--')[0]}&page=${arrayPagesNhcari}`)
            //         $nhs = cheerio.load(nhentaiDataSearch.data)
        
            //         nhsResult = []
            //         promises = []

            //         $nhs('div.container.index-container > *div').each(async (a, b) => {
            //             console.log(a)
            //             promises.push(scrapeNh(a, b, $nhs))
            //         })

            //         Promise.all(promises).then(async () => {
            //             console.log(arrayPagesNhcari,)
            //             if(nhsResult == '') return reply(from, 'Not found!', id)
        
            //             arrayPosNhcari = 0
            //             resultNhentaiDataSearch = nhsResult[arrayPosNhcari]

            //             await rem.sendFile(from, resultNhentaiDataSearch.image, `${args[1]}.png`, `*!!Warning NSFW Content!!*\n\nCode : _${resultNhentaiDataSearch.code}_\n\nJudul : *${resultNhentaiDataSearch.title}*\n\nJumlah Halaman : *${resultNhentaiDataSearch.page}*\n\nTag : *${resultNhentaiDataSearch.tag.join(', ')}*\n\nUpload Date : *${resultNhentaiDataSearch.time}*\n\nUrl : https://nhentai.net/g/${resultNhentaiDataSearch.code}`, false, image)
            //             rem.sendButtons(from, 'Link Button', [{ id: 'nhentai_download', text: `${prefix}nhentai ${resultNhentaiDataSearch.code}` }, { id: `${prefix}nhcari ${bodySearchNhcari.split('--')[0]} --pos=${arrayPosNhcari + 1} --pages=${arrayPagesNhcari}`, text: 'Next' }], '', '')
            //         })
            //     } else {
            //         await rem.sendFile(from, resultNhentaiDataSearch.image, `${args[1]}.png`, `*!!Warning NSFW Content!!*\n\nCode : _${resultNhentaiDataSearch.code}_\n\nJudul : *${resultNhentaiDataSearch.title}*\n\nJumlah Halaman : *${resultNhentaiDataSearch.page}*\n\nTag : *${resultNhentaiDataSearch.tag.join(', ')}*\n\nUpload Date : *${resultNhentaiDataSearch.time}*\n\nUrl : https://nhentai.net/g/${resultNhentaiDataSearch.code}`, false, image)
            //         rem.sendButtons(from, 'Link Button', [{ id: 'nhentai_download', text: `${prefix}nhentai ${resultNhentaiDataSearch.code}` }, { id: `${prefix}nhcari ${bodySearchNhcari.split('--')[0]} --pos=${arrayPosNhcari + 1} --pages=${arrayPagesNhcari}`, text: 'Next' }], '', '')
            //     }
            // })
            break
        case prefix+'nhentai':
            if(!isOwner) return reply(from, 'Maaf, fitur ini sudah tidak tersedia')
            //if(!isOwner) return reply(from, 'Maaf, Fitur ini sedang dalam perbaikan', id)
            //if (isGroupMsg) return reply(from, 'Perintah ini hanya bisa di gunakan di private chat!', id)
            // if (!isPrem) return reply(from, 'Perintah ini bersifat PREMIUM', id)
            if(isGroupMsg) {
                if(!isNsfw) return reply(from, 'command/Perintah NSFW belum di aktifkan di group ini!', id)
            }
            if (args.length === 1) return reply(from, 'Format salah/nSilahkan masukkan Kode Nuklir\n\nContoh: _'+prefix+'nhentai 325735_', id)
            if(isNaN(args[1])) return reply(from, 'Not number!', id)
            await reply(from, mess.wait+'\nSekitar 20 Detik', id)
            const codeDoujinFile = GenerateSerialNumber("0000000000000000000")
            const waktudelNhentai = Math.floor(1)
            const waktudelnyaNhentai = waktudelNhentai+'h'
            try {
                await fs.mkdirSync(`./lib/cache/doujin/tmp/${codeDoujinFile}`)

                const nhentaiDataSource = await axios.get(`https://janda.mod.land/nhentai/get?book=${args[1]}`)
                const nhentaiData = nhentaiDataSource.data
                if(nhentaiData.data == undefined) return reply(from, 'Not Found!', id)

                await rem.sendFile(from, nhentaiData.data.image[0], `${args[1]}.png`, `*!!Warning NSFW Content!!*\n\nCode : _${nhentaiData.data.id}_\n\nJudul : *${nhentaiData.data.optional_title.english}*\n\nJumlah Halaman : *${nhentaiData.data.total}*\n\nTag : *${nhentaiData.data.tags.join(', ')}*\n\nUpload Date : *${nhentaiData.data.upload_date}*\n\nUrl : ${nhentaiData.source}`, false, image)
                if(nhentaiData == undefined) return reply(from, 'Not found!', id)
                //rem.sendText(from, JSON.stringify(nhentaiData.pages.length))
                const listPageUrlNhentai = nhentaiData.data.image

                if(nhentaiData.data.total >= 350) return reply(from, `Karena limit request dari nhentai, Jumlah halaman dibatasi ${nhentaiData.raw.num_pages}/350!`, id)

                if(listPageUrlNhentai.length <= 350) {
                    console.log('<34')

                    let promises = []
                    function downloadNhentaiImage (i) {
                        return new Promise(async (resolve) => {
                            const buffer =  await axios.get(listPageUrlNhentai[i], { responseType: 'arraybuffer' })
                            //console.log('resolve_download_image '+i)
                            resolve(fs.writeFileSync(`./lib/cache/doujin/tmp/${codeDoujinFile}/${i+1}.jpg`, buffer.data))
                        })
                    }

                    for (let i = 0; i < listPageUrlNhentai.length; i++) {
                        promises.push(downloadNhentaiImage(i))
                    }

                    Promise.all(promises)
                        .then(async () => {
                            console.log('Succes Download Nhentai')

                            var readFolder_convert0 = fs.readdirSync(`./lib/cache/doujin/tmp/${codeDoujinFile}`)
                            let readFolder_convert = []

                            for (let i = 0; i <  readFolder_convert0.length; i++) {
                                await readFolder_convert.push(`./lib/cache/doujin/tmp/${codeDoujinFile}/${readFolder_convert0[i]}`)
                            }
                            await readFolder_convert.sort((a, b) => (a.trim().split('/')[6].trim().split('.')[0] - b.trim().split('/')[6].trim().split('.')[0]))

                            console.log(readFolder_convert)
                            const doc = new PDFDocument({ autoFirstPage: false })
                            doc.pipe(fs.createWriteStream(`./lib/cache/doujin/${args[1]}.pdf`))

                            for (let i = 0; i <  readFolder_convert.length; i++) {
                                var images = doc.openImage(readFolder_convert[i]);
                                await doc.addPage({size: [images.width, images.height]})
                                await doc.image(readFolder_convert[i], 0, 0);
                            }

                            await sleep(5000)
                            await doc.end()
                            console.log('sending Nhentai Doujin!')
                            try {
                                await rem.sendText(from, { document: { url: `./lib/cache/doujin/${args[1]}.pdf` }, fileName: `${args[1]}.pdf`, mimetype: 'application/pdf' }, { quoted: messageRaw })
                            } catch (err) {
                                await reply(from, 'Gagal mengirim file, silahkan download dari link dibawah')
                                console.error(err)
                            }
                            await reply(from, `https://db1.remcp.com/doujin/${args[1]}.pdf\n\n*Link PDF akan hilang setelah 1jam!*`)

                            console.log('Success sending Nhentai Doujin!')
                            addDelTime(`./lib/cache/doujin/${args[1]}.pdf`, waktudelnyaNhentai)
                            //fs.unlinkSync(`./lib/cache/doujin/${args[1]}.pdf`)
                            fs.removeSync(`./lib/cache/doujin/tmp/${codeDoujinFile}`)
                        })
                        console.log('succes')
                }

                // await fs.mkdirSync(`./lib/cache/doujin/tmp/${codeDoujinFile}`)

                // const nhentaiDataSource = await axios.get(`https://nhentai.to/g/${args[1]}`)
                // const $nh = cheerio.load(nhentaiDataSource.data)
                // const nhentaiData = []
                // let imageNh = $nh('#cover > a > img').attr('src')
                // let pageJudulNh = $nh('#info > h1').text() || ''
                // let uploadTimeNh = $nh('#info > div:nth-child(5) > time').text() || ''
                // let listTag = []

                // $nh('#tags > div:nth-child(3) > span > *a').each((a, b) => {
                //     listTag.push($nh(b).text())
                // }) 

                // $nh('#thumbnail-container > *div').each((a, b) => {
                //     nhentaiData.push($nh(b).find('a > img').attr('data-src').replace('t.', '.'))
                // })

                // if(nhentaiData.data == '') return reply(from, 'Not Found!', id)

                // await rem.sendFile(from, imageNh, `${args[1]}.png`, `*!!Warning NSFW Content!!*\n\nCode : _${args[1]}_\n\nJudul : *${pageJudulNh}*\n\nJumlah Halaman : *${nhentaiData.length}*\n\nTag : *${listTag.join(', ')}*\n\nUpload Date : *${uploadTimeNh}*\n\nUrl : https://nhentai.net/g/${args[1]}`, false, image)
                // if(nhentaiData == '') return reply(from, 'Not found!', id)
                // //rem.sendText(from, JSON.stringify(nhentaiData.pages.length))
                // const listPageUrlNhentai = nhentaiData

                // if(listPageUrlNhentai.length >= 350) return reply(from, `Karena limit request dari nhentai, Jumlah halaman dibatasi ${listPageUrlNhentai.length}/350!`, id)

                // if(listPageUrlNhentai.length <= 350) {
                //     console.log('<34')

                //     let promises = []
                //     function downloadNhentaiImage (i) {
                //         return new Promise(async (resolve) => {
                //             const buffer =  await axios.get(listPageUrlNhentai[i], { responseType: 'arraybuffer' })
                //             //console.log('resolve_download_image '+i)
                //             resolve(fs.writeFileSync(`./lib/cache/doujin/tmp/${codeDoujinFile}/${i+1}.jpg`, buffer.data))
                //         })
                //     }

                //     for (let i = 0; i < listPageUrlNhentai.length; i++) {
                //         promises.push(downloadNhentaiImage(i))
                //     }

                //     Promise.all(promises)
                //         .then(async () => {
                //             console.log('Succes Download Nhentai')

                //             var readFolder_convert0 = fs.readdirSync(`./lib/cache/doujin/tmp/${codeDoujinFile}`)
                //             let readFolder_convert = []

                //             for (let i = 0; i <  readFolder_convert0.length; i++) {
                //                 await readFolder_convert.push(`./lib/cache/doujin/tmp/${codeDoujinFile}/${readFolder_convert0[i]}`)
                //             }
                //             await readFolder_convert.sort((a, b) => (a.trim().split('/')[6].trim().split('.')[0] - b.trim().split('/')[6].trim().split('.')[0]))

                //             console.log(readFolder_convert)
                //             const doc = new PDFDocument({ autoFirstPage: false })
                //             doc.pipe(fs.createWriteStream(`./lib/cache/doujin/${args[1]}.pdf`))

                //             for (let i = 0; i <  readFolder_convert.length; i++) {
                //                 var images = doc.openImage(readFolder_convert[i]);
                //                 await doc.addPage({size: [images.width, images.height]})
                //                 await doc.image(readFolder_convert[i], 0, 0);
                //             }

                //             await sleep(5000)
                //             await doc.end()
                //             console.log('sending Nhentai Doujin!')
                //             try {
                //                 await rem.sendMessage(from, { document: { url: `./lib/cache/doujin/${args[1]}.pdf` }, fileName: `${args[1]}.pdf`, mimetype: 'application/pdf' }, { quoted: messageRaw })
                //             } catch (err) {
                //                 await reply(from, 'Gagal mengirim file, silahkan download dari link dibawah')
                //                 console.error(err)
                //             }
                //             await reply(from, `https://db1.remcp.com/doujin/${args[1]}.pdf\n\n*Link PDF akan hilang setelah 1jam!*`)

                //             console.log('Success sending Nhentai Doujin!')
                //             addDelTime(`./lib/cache/doujin/${args[1]}.pdf`, waktudelnyaNhentai)
                //             //fs.unlinkSync(`./lib/cache/doujin/${args[1]}.pdf`)
                //             fs.removeSync(`./lib/cache/doujin/tmp/${codeDoujinFile}`)
                //         })
                //         console.log('succes')
                // }
                // } else {
                //     console.log('big')
                //     if(nhentaiData.data.total >= 350) return reply(from, `Jumlah halaman melebihi batas ${nhentaiData.raw.num_pages}/350!\n\nUntuk mendownload lebih dari 350 halaman, Silahkan klik link dibawah\nhttps://nhder.herokuapp.com/download/nhentai/${args[1]}/zip`, id)
                //     await nhzipdl(args[1]).then(async (buffer) => {
                //         await fs.writeFileSync(`./lib/cache/doujin/tmp/${codeDoujinFile}.zip`, buffer);
                //     });
                //     console.log('succes download')

                //     await fs.createReadStream(`./lib/cache/doujin/tmp/${codeDoujinFile}.zip`)
                //         .pipe(unzipper.Extract({ path: `./lib/cache/doujin/tmp/${codeDoujinFile}` }))
                //         .on('finish', async () => {
                //             console.log('succes unzip')

                //             var readFolder_convert0 = fs.readdirSync(`./lib/cache/doujin/tmp/${codeDoujinFile}`)
                //             let readFolder_convert = []

                //             for (let i = 0; i <  readFolder_convert0.length; i++) {
                //                 await readFolder_convert.push(`./lib/cache/doujin/tmp/${codeDoujinFile}/${readFolder_convert0[i]}`)
                //             }
                //             await readFolder_convert.sort((a, b) => (a.trim().split('/')[7].trim().split('.')[0] - b.trim().split('/')[7].trim().split('.')[0]))

                //             console.log('succes readdir')
                //             const doc = new PDFDocument({autoFirstPage: false})
                //             doc.pipe(fs.createWriteStream(`./lib/cache/doujin/${args[1]}.pdf`))

                //             for (let i = 0; i <  readFolder_convert.length; i++) {
                //                 var images = doc.openImage(readFolder_convert[i]);
                //                 await doc.addPage({size: [images.width, images.height]})
                //                 await doc.image(readFolder_convert[i], 0, 0);
                //             }

                //             await sleep(5000)
                //             await doc.end()
                //             console.log('sending Nhentai Doujin!')
                //             /*try {
                //                 await rem.sendFile(from, `./lib/cache/doujin/${args[1]}.pdf`, `${args[1]}.pdf`, '', messageRaw, document, 'application/pdf')
                //             } catch (err) {
                //                 console.error(err)
                //             }*/
                //             await reply(from, `https://db1.remcp.com/doujin/${args[1]}.pdf\n\n*Link PDF akan hilang setelah 1jam!*`)
                //             console.log('Success sending Nhentai Doujin!')

                //             addDelTime(`./lib/cache/doujin/${args[1]}.pdf`, waktudelnyaNhentai)
                //             //fs.unlinkSync(`./lib/cache/doujin/${args[1]}.pdf`)
                //             fs.removeSync(`./lib/cache/doujin/tmp/${codeDoujinFile}`)
                //             fs.unlinkSync(`./lib/cache/doujin/tmp/${codeDoujinFile}.zip`)

                //             console.log('success')
                //         })
                // }
        } catch (err) {
            console.error(err)
            await reply(from, `ERROR!: ${err}`, id)
            // rem.sendText(numberReportError, 'Nhentai Error : ' + err)
        }
            break
        case prefix+'rule34':
            if(!isOwner) return rem.sendText(from, 'Invalid!')
            if (args.length === 1) {
                const randomPage_r34_0 = Math.floor(Math.random() * 10)
                const r34_0 = await axios.get(`https://r34-json-api.herokuapp.com/p?pid=${randomPage_r34_0}`)
                if(r34_0.data == []) return reply(from, 'Not found!', id)
                const r34_0_random = r34_0.data[Math.floor(Math.random() * r34_0.data.length)] 
                let r34_tag_0 = ''
                for (let i = 0; i < r34_0_random.tags.length; i++) {
                    if(Math.floor(Math.floor(1+i) - r34_random.tags.length) == 0) {
                        r34_tag_0 += `${r34_0_random.tags[i]}`
                    } else {
                        r34_tag_0 += `${r34_0_random.tags[i]}, `
                    }
                }
                if(r34_0_random.has_children) {
                    var r34_children_0 = 'Yes'
                } else {
                    var r34_children_0 = 'No'
                }
                await rem.sendFile(from, r34_0_random.file_url, '', `*${r34_0_random.source}*\nTags : *${r34_tag_0}*\nChildren? : _${r34_children_0}\nScore : _${r34_0_random.score}_\nArtist : _${r34_0_random.creator_url}_`, messageRaw, image)
            } else {
                const r34 = await axios.get(`https://r34-json-api.herokuapp.com/p?tags=${body.slice(8)}`)
                if(r34.data[0] == null || r34.data[0] == undefined) return reply(from, 'Not found!', id)
                const r34_random = r34.data[Math.floor(Math.random() * r34.data.length)] 
                let r34_tag = ''
                for (let i = 0; i < r34_random.tags.length; i++) {
                    if(Math.floor(Math.floor(1+i) - r34_random.tags.length) == 0) {
                        r34_tag += `${r34_random.tags[i]}`
                    } else {
                        r34_tag += `${r34_random.tags[i]}, `
                    }
                }
                if(r34_random.has_children) {
                    var r34_children = 'Yes'
                } else {
                    var r34_children = 'No'
                }
                await rem.sendFile(from, r34_random.file_url, '', `*${body.slice(8)}*\nTags : *${r34_tag}*\nChildren? : _${r34_children}_\nScore : _${r34_random.score}_\nArtist : _${r34_random.creator_url}_`, false, image)
            }
            break
        // case prefix+'brainly':
        //     //if (!isGroupMsg) return reply(from, 'Perintah ini hanya bisa di gunakan dalam group!', id)
        //     //if (isLimit(_userDb)) return reply(from, `Maaf ${pushname}, Kuota Limit Kamu Sudah Habis, Ketik ${prefix}limit Untuk Mengecek Kuota Limit Kamu`, id)
            
        //     await limitAdd(serial)
        //     if (args.length === 1)  return reply(from, 'Kirim perintah *'+prefix+'brainly [optional]*\nContoh *'+prefix+'brainly biologi*', id)
        //     try {
        //     //console.log(body.slice(9))
        //     const resp = await axios.get(`https://api.zeks.me/api/brainly?apikey=n1Grf6Dn6F4Xyv1021d6tGSwYhD&q=${body.slice(9)}&count=5`)
        //     var listBrainlyGet = ''
        //     for(let i = 0; i < resp.data.data.length; i++) {
        //         var listBrainlyJawaban = ''
        //         for(let a = 0; a < resp.data.data[i].answer.length; a++) {
        //             listBrainlyJawaban += `*${a+1}.* ${resp.data.data[i].answer[a].text}\n\n`
        //         }
        //         var listBrainlySoal = `*Pertanyaan :* ${resp.data.data[i].question}\n*Jawaban :*\n${listBrainlyJawaban}ÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕèÕè `
        //         listBrainlyGet += listBrainlySoal
        //     }
        //     reply(from, listBrainlyGet, id)
        //     } catch (err) {
        //      console.error(err.message)
        //      await reply(from, 'Maaf, Pertanyaan tidak ditemukan', id)
        //      rem.sendText(ownerNumber, 'Brainly Error : ' + err)
        //    }
        //    break
        case prefix+'mg':
            const setMathGame = async (msg, msg2, soal, jawaban, difficulty) => {
                const obj = { mid: msg, from, msg2, soal: soal, jawaban: jawaban, diff: difficulty }
                await _mongo_GroupSchema.updateOne({ iId: groupId }, { $push: { "game.mathgame": obj } })
            }
            const randomSusahMathGame_minus = Math.floor(Math.random() * 3)
            if(args.length === 1) {
                const randomSusahMathGame2 = Math.floor(Math.random() * 3)
                if(randomSusahMathGame2 == 1) {
                    var difficultyMathGame = 'Easy'
                    var subjekMathGame0 = ['+','-']
                    var subjekMathGame = subjekMathGame0[Math.floor(Math.random() * subjekMathGame0.length)]
                    var randomNumberMathGame1 = Math.floor(Math.random() * 100)
                    var randomNumberMathGame2 = Math.floor(Math.random() * 100)
                } else if(randomSusahMathGame2 == 2) {
                    var difficultyMathGame = 'Normal'
                    var subjekMathGame0 = ['+','-','*']
                    var subjekMathGame = subjekMathGame0[Math.floor(Math.random() * subjekMathGame0.length)]
                    if(randomSusahMathGame_minus == 1) {
                        var randomNumberMathGame1 = Math.floor(Math.random() * 500) - 500
                        var randomNumberMathGame2 = Math.floor(Math.random() * 500)
                    } else if(randomSusahMathGame_minus == 2) {
                        var randomNumberMathGame1 = Math.floor(Math.random() * 500)
                        var randomNumberMathGame2 = Math.floor(Math.random() * 500)
                    } else if(randomSusahMathGame_minus == 3) {
                        var randomNumberMathGame1 = Math.floor(Math.random() * 500) - 500
                        var randomNumberMathGame2 = Math.floor(Math.random() * 500) - 500
                    } else {
                        var randomNumberMathGame1 = Math.floor(Math.random() * 500)
                        var randomNumberMathGame2 = Math.floor(Math.random() * 500)
                    }
                } else if(randomSusahMathGame2 == 3) {
                    var difficultyMathGame = 'Hard'
                    var subjekMathGame0 = ['+','-','*','/']
                    var subjekMathGame = subjekMathGame0[Math.floor(Math.random() * subjekMathGame0.length)]
                    if(randomSusahMathGame_minus == 1) {
                        var randomNumberMathGame1 = Math.floor(Math.random() * 5000) - 5000
                        var randomNumberMathGame2 = Math.floor(Math.random() * 5000)
                    } else if(randomSusahMathGame_minus == 2) {
                        var randomNumberMathGame1 = Math.floor(Math.random() * 5000)
                        var randomNumberMathGame2 = Math.floor(Math.random() * 5000)
                    } else if(randomSusahMathGame_minus == 3) {
                        var randomNumberMathGame1 = Math.floor(Math.random() * 5000) - 5000
                        var randomNumberMathGame2 = Math.floor(Math.random() * 5000) - 5000
                    } else {
                        var randomNumberMathGame1 = Math.floor(Math.random() * 5000)
                        var randomNumberMathGame2 = Math.floor(Math.random() * 5000)
                    }
                } else {
                    var difficultyMathGame = 'Normal'
                    var subjekMathGame0 = ['+','-','*']
                    var subjekMathGame = subjekMathGame0[Math.floor(Math.random() * subjekMathGame0.length)]
                    if(randomSusahMathGame_minus == 1) {
                        var randomNumberMathGame1 = Math.floor(Math.random() * 500) - 500
                        var randomNumberMathGame2 = Math.floor(Math.random() * 500)
                    } else if(randomSusahMathGame_minus == 2) {
                        var randomNumberMathGame1 = Math.floor(Math.random() * 500)
                        var randomNumberMathGame2 = Math.floor(Math.random() * 500)
                    } else if(randomSusahMathGame_minus == 3) {
                        var randomNumberMathGame1 = Math.floor(Math.random() * 500) - 500
                        var randomNumberMathGame2 = Math.floor(Math.random() * 500) - 500
                    } else {
                        var randomNumberMathGame1 = Math.floor(Math.random() * 500)
                        var randomNumberMathGame2 = Math.floor(Math.random() * 500)
                    }
                }
                const soalMathGame = `${randomNumberMathGame1} ${subjekMathGame} ${randomNumberMathGame2}`
                const soalMathGameFilter0 = soalMathGame.replace('/', '√∑')
                const soalMathGameFilter = soalMathGameFilter0.replace('*', '√ó')
                const jawabanMathGame = Math_js.evaluate(soalMathGame)
                console.log(`Soal: ${soalMathGame}`)
                console.log(`Jawaban: ${jawabanMathGame}`)
                const bodyMathGameSoal = `--Math Game--\n\n*${soalMathGameFilter}* = ?\n\nReply pesan ini dan JAWAB!`
                const messageSendMg = await reply(from, bodyMathGameSoal, id)
                await setMathGame(messageSendMg.key.id, from, soalMathGame, jawabanMathGame, difficultyMathGame)
            } else if(args[1] == 'ez' || args[1] == 'easy') {
                var difficultyMathGame = 'Easy'
                var subjekMathGame0 = ['+','-']
                var subjekMathGame = subjekMathGame0[Math.floor(Math.random() * subjekMathGame0.length)]
                var randomNumberMathGame1 = Math.floor(Math.random() * 100)
                var randomNumberMathGame2 = Math.floor(Math.random() * 100)
                const soalMathGame = `${randomNumberMathGame1} ${subjekMathGame} ${randomNumberMathGame2}`
                const jawabanMathGame = Math_js.evaluate(soalMathGame)
                console.log(`Soal: ${soalMathGame}`)
                console.log(`Jawaban: ${jawabanMathGame}`)
                const bodyMathGameSoal = `--Math Game--\n\n*${soalMathGame}* = ?\n\nReply pesan ini dan JAWAB!`
                const messageSendMg = await reply(from, bodyMathGameSoal, id)
                await setMathGame(messageSendMg.key.id, from, soalMathGame, jawabanMathGame, difficultyMathGame)
            } else if(args[1] == 'n' || args[1] == 'normal') {
                var difficultyMathGame = 'Normal'
                var subjekMathGame0 = ['+','-','*']
                var subjekMathGame = subjekMathGame0[Math.floor(Math.random() * subjekMathGame0.length)]
                if(randomSusahMathGame_minus == 1) {
                    var randomNumberMathGame1 = Math.floor(Math.random() * 500) - 500
                    var randomNumberMathGame2 = Math.floor(Math.random() * 500)
                } else if(randomSusahMathGame_minus == 2) {
                    var randomNumberMathGame1 = Math.floor(Math.random() * 500)
                    var randomNumberMathGame2 = Math.floor(Math.random() * 500)
                } else if(randomSusahMathGame_minus == 3) {
                    var randomNumberMathGame1 = Math.floor(Math.random() * 500) - 500
                    var randomNumberMathGame2 = Math.floor(Math.random() * 500) - 500
                } else {
                    var randomNumberMathGame1 = Math.floor(Math.random() * 500)
                    var randomNumberMathGame2 = Math.floor(Math.random() * 500)
                }
                const soalMathGame = `${randomNumberMathGame1} ${subjekMathGame} ${randomNumberMathGame2}`
                const soalMathGameFilter0 = soalMathGame.replace('/', '√∑')
                const soalMathGameFilter = soalMathGameFilter0.replace('*', '√ó')
                const jawabanMathGame = Math_js.evaluate(soalMathGame)
                console.log(`Soal: ${soalMathGame}`)
                console.log(`Jawaban: ${jawabanMathGame}`)
                const bodyMathGameSoal = `--Math Game--\n\n*${soalMathGameFilter}* = ?\n\nReply pesan ini dan JAWAB!`
                const messageSendMg = await reply(from, bodyMathGameSoal, id)
                await setMathGame(messageSendMg.key.id, from, soalMathGame, jawabanMathGame, difficultyMathGame)
            } else if(args[1] == 'h' || args[1] == 'hard') {
                var difficultyMathGame = 'Hard'
                var subjekMathGame0 = ['+','-','*','/']
                var subjekMathGame = subjekMathGame0[Math.floor(Math.random() * subjekMathGame0.length)]
                if(randomSusahMathGame_minus == 1) {
                    var randomNumberMathGame1 = Math.floor(Math.random() * 5000) - 5000
                    var randomNumberMathGame2 = Math.floor(Math.random() * 5000)
                } else if(randomSusahMathGame_minus == 2) {
                    var randomNumberMathGame1 = Math.floor(Math.random() * 5000)
                    var randomNumberMathGame2 = Math.floor(Math.random() * 5000)
                } else if(randomSusahMathGame_minus == 3) {
                    var randomNumberMathGame1 = Math.floor(Math.random() * 5000) - 5000
                    var randomNumberMathGame2 = Math.floor(Math.random() * 5000) - 5000
                } else {
                    var randomNumberMathGame1 = Math.floor(Math.random() * 5000)
                    var randomNumberMathGame2 = Math.floor(Math.random() * 5000)
                }
                const soalMathGame = `${randomNumberMathGame1} ${subjekMathGame} ${randomNumberMathGame2}`
                const soalMathGameFilter0 = soalMathGame.replace('/', '√∑')
                const soalMathGameFilter = soalMathGameFilter0.replace('*', '√ó')
                const jawabanMathGame1 = `${Math_js.evaluate(soalMathGame)}`
                if(jawabanMathGame1.includes('.')) {
                    var jawabanMathGame = Number(jawabanMathGame1).toFixed(1)
                } else {
                    var jawabanMathGame = jawabanMathGame1
                }
                console.log(`Soal: ${soalMathGame}`)
                console.log(`Jawaban: ${jawabanMathGame}`)
                const bodyMathGameSoal = `--Math Game--\n\n*${soalMathGameFilter}* = ?\n\nReply pesan ini dan JAWAB!`
                const messageSendMg = await reply(from, bodyMathGameSoal, id)
                await setMathGame(messageSendMg.key.id, from, soalMathGame, jawabanMathGame, difficultyMathGame)
            } else {
                reply(from, `*Format SLAH!!*\n\n_${prefix}mg_\n_${prefix}mg ez_\n_${prefix}mg n_\n_${prefix}mg h_`, id)
            }
            break
        case prefix+'suit':
            // if(!isOwner) return
            if (mentionedJidList.length === 0 && type != 'buttonsResponseMessage') return reply(from, `Format salah\n\nContoh : _${prefix}suit @tagmember_`, id)

            const suit = ['batu', 'gunting', 'kertas']

            if(type == 'buttonsResponseMessage') args = message.selectedButtonId.split(' ')
            console.log(args)
            if(args[1] != 'answer') {
                const randomIdSuit = GenerateSerialNumber('000000')
                reply(from, 'Silahkan cek private chat')

                await _mongo_CommandSchema.updateOne({ cId: 'suit' }, { $push: { content: { id: randomIdSuit, player1: sender, player2: mentionedJidList[0], time: Date.now(), status: 'WAITING', answer: {  }, winner: {} } } })

                rem.sendButtons(sender, `*Suit Game*\n\nSilahkan pilih salah satu\n_${randomIdSuit}_`, [{ id: `${prefix}suit answer 0 {"id":"${randomIdSuit}","sender":"${sender}","enemy":"${mentionedJidList[0]}","msgR":${JSON.stringify(messageRaw)}}`, text: capitalizeFirstLetter(suit[0]) }, { id: `${prefix}suit answer 1 {"id":"${randomIdSuit}","sender":"${sender}","enemy":"${mentionedJidList[0]}","msgR":${JSON.stringify(messageRaw)}}`, text: capitalizeFirstLetter(suit[1]) }, { id: `${prefix}suit answer 2 {"id":"${randomIdSuit}","sender":"${sender}","enemy":"${mentionedJidList[0]}","msgR":${JSON.stringify(messageRaw)}}`, text: capitalizeFirstLetter(suit[2]) }], '', '')
                rem.sendButtons(mentionedJidList[0], `*Suit Game*\n\nSilahkan pilih salah satu\n_${randomIdSuit}_`, [{ id: `${prefix}suit answer 0 {"id":"${randomIdSuit}","sender":"${sender}","enemy":"${mentionedJidList[0]}","msgR":${JSON.stringify(messageRaw)}}`, text: capitalizeFirstLetter(suit[0]) }, { id: `${prefix}suit answer 1 {"id":"${randomIdSuit}","sender":"${sender}","enemy":"${mentionedJidList[0]}","msgR":${JSON.stringify(messageRaw)}}`, text: capitalizeFirstLetter(suit[1]) }, { id: `${prefix}suit answer 2 {"id":"${randomIdSuit}","sender":"${sender}","enemy":"${mentionedJidList[0]}","msgR":${JSON.stringify(messageRaw)}}`, text: capitalizeFirstLetter(suit[2]) }], '', '')
            } else {
                let metadataMsg = {}
                try { 
                    metadataMsg = JSON.parse(message.selectedButtonId.replace(`${args[0]} ${args[1]} ${args[2]} `, '').trim())
                } catch(e) {
                    return reply(from, `Failed parse suit/var.metadataMsg!`)
                }
                if((sender != metadataMsg.sender) && (sender != metadataMsg.enemy)) return reply(from, `Invalid userId!`, id)

                const getSuit = await _mongo_CommandSchema.findOne({ cId: 'suit', content: { $elemMatch: { id: metadataMsg.id } } }, { content: { $elemMatch: { id: metadataMsg.id } } } )
                const senderSuit = getSuit.content[0].player1 == sender ? 'player1' : 'player2'
                if(getSuit == undefined) return reply(from, `*Suit Game*\n\nGame sudah usai atau sudah kadaluarsa`, id)
                if(getSuit.content[0].status == 'FINISHED') return reply(from, `*Suit Game*\n\nGame sudah selesai`, id)
                
                if(getSuit.content[0].answer[senderSuit] != undefined) return reply(from, `*Suit Game*\n\nKamu sudah memilih suit`, id)
                
                if(getSuit.content[0].status == 'WAITING') {
                    await _mongo_CommandSchema.updateOne({ cId: 'suit', "content.id": metadataMsg.id }, { $set: { "content.$.answer": { [senderSuit]: Number(args[2]) }, "content.$.status": "ANSWERED_1" } })
                    return reply(from, `*Suit Game*\n\nLawan belum memilih suit\nSilahkan tunggu hingga lawan memilih suit`, id)
                } else if(getSuit.content[0].status == 'ANSWERED_1') {
                    const answerPlayerFormatted = suit[Number(args[2])]

                    const suitPlayerObj = { player1: senderSuit == 'player1' ? answerPlayerFormatted : suit[Number(getSuit.content[0].answer.player1)], player2: senderSuit == 'player2' ? answerPlayerFormatted : suit[Number(getSuit.content[0].answer.player2)] }
                    const suitPlayer = suitPlayerObj["player1"]
                    const suitEnemy = suitPlayerObj["player2"]

                    let statusWinning = {}
                    if(suitEnemy == suitPlayer) {
                        statusWinning.status = 'DRAW'
                    } else {
                        if(suitPlayer == 'batu') {
                            if(suitEnemy == 'gunting') {
                                statusWinning.status = 'WIN'
                                statusWinning.winner = metadataMsg.sender
                            } else {
                                statusWinning.status = 'LOSE'
                                statusWinning.winner = metadataMsg.enemy
                            }
                        } else if(suitPlayer == 'gunting') {
                            if(suitEnemy == 'kertas') {
                                statusWinning.status = 'WIN'
                                statusWinning.winner = metadataMsg.sender
                            } else {
                                statusWinning.status = 'LOSE'
                                statusWinning.winner = metadataMsg.enemy
                            }
                        } else if(suitPlayer == 'kertas') {
                            if(suitEnemy == 'batu') {
                                statusWinning.status = 'WIN'
                                statusWinning.winner = metadataMsg.sender
                            } else {
                                statusWinning.status = 'LOSE'
                                statusWinning.winner = metadataMsg.enemy
                            }
                        }
                    }

                    await rem.sendText(metadataMsg.sender, `*Suit Game*\n\nKamu memilih *_${capitalizeFirstLetter(suitPlayer)}_*\nMusuh memilih *_${capitalizeFirstLetter(suitEnemy)}_*\n\nHasil : *${statusWinning.status == 'DRAW' ? 'DRAW' : statusWinning.winner == metadataMsg.sender ? 'Kamu Menang' : 'Kamu Kalah'}*`)
                    await rem.sendText(metadataMsg.enemy, `*Suit Game*\n\nKamu memilih *_${capitalizeFirstLetter(suitEnemy)}_*\nMusuh memilih *_${capitalizeFirstLetter(suitPlayer)}_*\n\nHasil : *${statusWinning.status == 'DRAW' ? 'DRAW' : statusWinning.winner == metadataMsg.enemy ? 'Kamu Menang' : 'Kamu Kalah'}*`)
                    await rem.sendTextWithMentions(metadataMsg?.msgR?.key?.remoteJid || from, `*Suit Game*\n\n@${getSuit.content[0].player1.replace('@s.whatsapp.net', '')} VS @${getSuit.content[0].player2.replace('@s.whatsapp.net', '')}\n*Pemenang :* ${statusWinning.status == 'DRAW' ? "DRAW" : '@' + statusWinning.winner.replace('@s.whatsapp.net', '')}\n\n*Player 1 :* _${capitalizeFirstLetter(suitPlayer)}_\n*Player 2 :* _${capitalizeFirstLetter(suitEnemy)}_`, metadataMsg.msgR)
                    await _mongo_CommandSchema.updateOne({ cId: 'suit', "content.id": metadataMsg.id }, { $set: { [`content.$.answer.${senderSuit}`]: Number(args[2]), "content.$.status": "FINISHED", "content.$.winner": statusWinning } })
                }
            }
            break
        // case prefix+'math':
        //     //if (!isGroupMsg) return reply(from, 'Perintah ini hanya bisa di gunakan dalam group!', id)
        //     if (args.length === 1) return rem.sendText(from, '[‚ùó] Kirim perintah *'+prefix+'math [ Angka ]*\nContoh : '+prefix+'math 12*12\n*NOTE* :\n- Untuk Perkalian Menggunakan *\n- Untuk Pertambahan Menggunakan +\n- Untuk Pengurangan Mennggunakan -\n- Untuk Pembagian Menggunakan /')
        //     var mtk = body.slice(6)
        //     if (mtk.includes('√∑')) {
        //         var mtkFilter0 = mtk.replace(/√∑/gi, '/')
        //     } else {
        //         var mtkFilter0 = mtk
        //     }
        //     if (mtk.includes('x')) {
        //         var mtkFilter1 = mtkFilter0.replace(/x/gi, '*')
        //     } else {
        //         var mtkFilter1 = mtkFilter0
        //     }
        //     if (mtk.includes('√ó')) {
        //         var mtkFilter2 = mtkFilter1.replace(/√ó/gi, '*')
        //     } else {
        //         var mtkFilter2 = mtkFilter1
        //     }
        //     if (mtk.includes('.')) {
        //         var mtkFilter = mtkFilter2.replace(/./gi, '*')
        //     } else {
        //         var mtkFilter = mtkFilter2
        //     }
        //     console.log(mtkFilter)
        //     //if (typeof Math_js.evaluate(mtkFilter) !== "number") {
        //     //reply(from, `"${mtkFilter}", bukan angka!\n[‚ùó] Kirim perintah *${prefix}math [ Angka ]*\nContoh : ${prefix}math 12*12\n*NOTE* :\n- Untuk Perkalian Menggunakan *\n- Untuk Pertambahan Menggunakan +\n- Untuk Pengurangan Mennggunakan -\n- Untuk Pembagian Menggunakan /`, id)
        // //} else {
        //     reply(from, `*„Äå MATH „Äç*\n\n*Kalkulator*\n${mtkFilter} = ${Math_js.evaluate(mtkFilter)}`, id)
        // //}
        // break
        case prefix+'checkmorning':
            if(!isSideOwner) return reply(from, 'Perintah ini hanya untuk SideOwner!', id)
            if(lastMorningMessageTime) {
                reply(from, `Morning message terakhir dikirim pada: ${lastMorningMessageTime}`, id)
            } else {
                reply(from, 'Morning message belum pernah dikirim sejak bot dimulai', id)
            }
            break
        case prefix+'math123':
            if(!isOwner) return reply(from, 'Invalid!')
            reply(from, 'Beta feature, mungkin masih terdapat bug')

            const idFileNameSS = GenerateSerialNumber("0000000000")
            await requestPuppeteer(`const pagea = await browser.newPage();
    
                await pagea.setViewport({ width: 1920, height: 1080 });
                await pagea.goto('https://cameramath.com/mathsolver?q=${encodeURIComponent(body.replace(`${prefix}math123 `, ''))}', { waitUntil: 'networkidle0' });

                try {
                    await pagea.waitForSelector('.go-premium-modal > .modal-close', { timeout: 1000 })
                    await pagea.click('.go-premium-modal > .modal-close')
                } catch {

                }
                
                await pagea.click('.toggle-btn.toggle-solution-btn.animation-btn')
                await pagea.$$eval('.toggle-btn.toggle-lv2-steps-btn > .txt.closed-txt', elHandles => elHandles.forEach(el => el.click()))
            
                await pagea.waitForSelector('.primary-content');
                const elementa = await pagea.$('.primary-content');
                await elementa.screenshot({ path: './lib/cache/img/${idFileNameSS}.png' })
                await pagea.close()
            `)

            await rem.sendFile(from, `./lib/cache/img/${idFileNameSS}.png`, 'math123.png', 'Source: cameramath.com', messageRaw, image)
            fs.unlinkSync(`./lib/cache/img/${idFileNameSS}.png`)
            break
        case prefix+'sauce':
            //if(!isOwner) return rem.reply(from, 'Maaf, Fitur ini sedang dalam perbaikan!')
            //if (!isGroupMsg) return reply(from, 'Perintah ini hanya bisa di gunakan dalam group!', id)
            //if (isLimit(_userDb)) return reply(from, `Maaf ${pushname}, Kuota Limit Kamu Sudah Habis, Ketik ${prefix}limit Untuk Mengecek Kuota Limit Kamu`, id)
            
            await limitAdd(serial)
            if (isMedia && type === image || quotedMsg && quotedMsg.type === image) {
                if (isMedia) {
                    var mimetypeS = mimetype
                    var mediaData = await message.getMedia()
                } else {
                    var mimetypeS = quotedMsg.mimetype
                    var mediaData = await quotedMsg.getMedia()
                }
                const filenameSauce = GenerateSerialNumber("00000000000000000000000")
                await fs.writeFileSync(`./lib/cache/img/${filenameSauce}.${mimetypeS.split('/')[1]}`, mediaData)
                reply(from, 'Searching....', id)

                var urlImageSauce = `https://db1.remcp.com/img/${filenameSauce}.${mimetypeS.split('/')[1]}`
                const fetchSauceInfo0 = await axios.get(`https://api.trace.moe/search?cutBorders&anilistInfo&url=${encodeURIComponent(urlImageSauce)}`)
                const fetchSauceInfo = fetchSauceInfo0.data

                if(fetchSauceInfo.result.length <= 0 || fetchSauceInfo.result.length <= 0) return reply(from, 'Maaf, saya tidak tau ini anime apa', id)
                const { idMal, title, synonyms, isAdult } = fetchSauceInfo.result[0].anilist
                const { anilist, filename, episode, similarity, video } = fetchSauceInfo.result[0]

                var fetchinfoAnime0 = (await axios.get(`https://api.jikan.moe/v4/anime/${idMal}`)).data
                var ratingAnime = fetchinfoAnime0.data.score
                var genreAnime = fetchinfoAnime0.data.genres.map(a => a.name)
                var jumEps = fetchinfoAnime0.data.episodes
                var urlAnime = fetchinfoAnime0.data.url
                console.log(genreAnime)

                let teks = ''
                if (similarity < 0.92) {
                    teks = '*Saya memiliki keyakinan rendah dalam hal ini* :\n\n'
                }
                if(title.english != null) {
                    var isEnglishAdaSauce = `\n            üé¨ *English:* ${title.english}\n`
                } else {
                    var isEnglishAdaSauce = '\n'
                }
                teks += '‚ï≠‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚Ä¢‚óà‚Ä¢‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ïÆ\n\n'
                teks += `‚†Ä‚†Ä‚†Ä‚†Ä üèÆ *Japanese:* ${title.native}\n            üêâ *Romaji:* ${title.romaji}${isEnglishAdaSauce}`
                teks += `‚†Ä‚†Ä‚†Ä‚†Äüî• *Ecchi:* ${isAdult}\n`
                teks += `‚†Ä‚†Ä‚†Ä‚†ÄüçÉ *Episodes:* ${episode}/${jumEps}\n`
                teks += `‚†Ä‚†Ä      üåø *Kesamaan:* ${(similarity * 100).toFixed(1)}%\n`
                teks += `‚†Ä‚†Ä‚†Ä‚†ÄüéóÔ∏è *Genre:* ${genreAnime.join(', ')}\n`
                teks += `‚†Ä‚†Ä‚†Ä‚†Ä‚ú® *Rating:* ${ratingAnime}\n`
                teks += `‚†Ä‚†Ä‚†Ä‚†ÄüåêÔ∏è *URL:* https://myanimelist.net/anime/${idMal}\n`
                teks += '\n‚ï∞‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚Ä¢‚óà‚Ä¢‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ïØ'
                await rem.sendFileAuto(from, fetchSauceInfo.result[0].video.startsWith('https') ? fetchSauceInfo.result[0].video : fetchSauceInfo.result[0].image,  '', teks, messageRaw).catch((err) => {
                    console.error(err)
                    reply(from, teks, id)
                })
                fs.unlinkSync(`./lib/cache/img/${filenameSauce}.${mimetypeS.split('/')[1]}`)
            } else {
                rem.sendFile(from, './media/img/contoh.jpeg', 'Tutor.jpeg', 'nih contoh!', messageRaw, image)
            }
            break
        case prefix+'textmaker':
        case prefix+'smeme':
                //if (!isGroupMsg) return reply(from, 'Perintah ini hanya bisa di gunakan dalam group!', id)
                //if (isLimit(_userDb)) return reply(from, `Maaf ${pushname}, Kuota Limit Kamu Sudah Habis, Ketik ${prefix}limit Untuk Mengecek Kuota Limit Kamu`, id)
            
                await limitAdd(serial)
                const arg5 = body.split(args[0])[1].trim().split('|')
                if ((isMedia || isQuotedImage) && arg5.length >= 2) {
                    reply(from, '[WAIT] Sedang di proses‚è≥ silahkan tunggu ¬± 1 min!', id)
                    const filenameTextMaker = GenerateSerialNumber("00000000000000000000000")
                    const top = encodeURIComponent(arg5[0] || '_')
                    const bott = encodeURIComponent(arg5[1] || '_')
                    console.log(arg5)
                    console.log(top)
                    console.log(bott)
                    const encryptMedia = isQuotedImage ? quotedMsg : message
                    const mediaData = await encryptMedia.getMedia()
                    await fs.writeFileSync(`./lib/cache/img/txtmaker_${filenameTextMaker}.png`, mediaData)
                    const fetchRes = await fetch(`https://api.memegen.link/images/custom/${top}/${bott}.png?background=https://db1.remcp.com/img/txtmaker_${filenameTextMaker}.png`)
                    const resFetch = await fetchRes.buffer()
                    await rem.sendFile(from, resFetch, 'image.png','', messageRaw, image)
                    fs.unlinkSync(`./lib/cache/img/txtmaker_${filenameTextMaker}.png`)
                } else {
                    reply(from, `Wrong Format! Mohon reply gambarnya\nContoh: *${prefix}textmaker Rem|Tomori*`)
                }
                break
        case prefix+'listchannel':
            //if (!isGroupMsg) return reply(from, 'Perintah ini hanya bisa di gunakan dalam group!', id)
            reply(from, listChannel, id)
            break
        case prefix+'nulis':
            //if (!isGroupMsg) return reply(from, 'Perintah ini hanya bisa di gunakan dalam group!', id)
            //if (isLimit(_userDb)) return reply(from, `Maaf ${pushname}, Kuota Limit Kamu Sudah Habis, Ketik ${prefix}limit Untuk Mengecek Kuota Limit Kamu`, id)
            
            await limitAdd(serial)
            if (args.length === 1) return reply(from, 'Kirim perintah *'+prefix+'nulis [teks]*, contoh *'+prefix+'nulis Ema Kawai*', id)
            const ngettik = body.slice(7)
            const ngetikk = await axios.get(`https://saipulanuar.ga/api/maker/nulis?apikey=FreeApikey&text=${ngettik}`)
            rem.sendFile(from, ngetikk.data.result, 'nulis.jpg', '', messageRaw, image)
            break
        case prefix+'inu':
            //if (!isGroupMsg) return reply(from, 'Perintah ini hanya bisa di gunakan dalam group!', id)
            //if (isLimit(_userDb)) return reply(from, `Maaf ${pushname}, Kuota Limit Kamu Sudah Habis, Ketik ${prefix}limit Untuk Mengecek Kuota Limit Kamu`, id)
            
            await limitAdd(serial)
            const list = ["https://cdn.shibe.online/shibes/247d0ac978c9de9d9b66d72dbdc65f2dac64781d.jpg","https://cdn.shibe.online/shibes/1cf322acb7d74308995b04ea5eae7b520e0eae76.jpg","https://cdn.shibe.online/shibes/1ce955c3e49ae437dab68c09cf45297d68773adf.jpg","https://cdn.shibe.online/shibes/ec02bee661a797518d37098ab9ad0c02da0b05c3.jpg","https://cdn.shibe.online/shibes/1e6102253b51fbc116b887e3d3cde7b5c5083542.jpg","https://cdn.shibe.online/shibes/f0c07a7205d95577861eee382b4c8899ac620351.jpg","https://cdn.shibe.online/shibes/3eaf3b7427e2d375f09fc883f94fa8a6d4178a0a.jpg","https://cdn.shibe.online/shibes/c8b9fcfde23aee8d179c4c6f34d34fa41dfaffbf.jpg","https://cdn.shibe.online/shibes/55f298bc16017ed0aeae952031f0972b31c959cb.jpg","https://cdn.shibe.online/shibes/2d5dfe2b0170d5de6c8bc8a24b8ad72449fbf6f6.jpg","https://cdn.shibe.online/shibes/e9437de45e7cddd7d6c13299255e06f0f1d40918.jpg","https://cdn.shibe.online/shibes/6c32141a0d5d089971d99e51fd74207ff10751e7.jpg","https://cdn.shibe.online/shibes/028056c9f23ff40bc749a95cc7da7a4bb734e908.jpg","https://cdn.shibe.online/shibes/4fb0c8b74dbc7653e75ec1da597f0e7ac95fe788.jpg","https://cdn.shibe.online/shibes/125563d2ab4e520aaf27214483e765db9147dcb3.jpg","https://cdn.shibe.online/shibes/ea5258fad62cebe1fedcd8ec95776d6a9447698c.jpg","https://cdn.shibe.online/shibes/5ef2c83c2917e2f944910cb4a9a9b441d135f875.jpg","https://cdn.shibe.online/shibes/6d124364f02944300ae4f927b181733390edf64e.jpg","https://cdn.shibe.online/shibes/92213f0c406787acd4be252edb5e27c7e4f7a430.jpg","https://cdn.shibe.online/shibes/40fda0fd3d329be0d92dd7e436faa80db13c5017.jpg","https://cdn.shibe.online/shibes/e5c085fc427528fee7d4c3935ff4cd79af834a82.jpg","https://cdn.shibe.online/shibes/f83fa32c0da893163321b5cccab024172ddbade1.jpg","https://cdn.shibe.online/shibes/4aa2459b7f411919bf8df1991fa114e47b802957.jpg","https://cdn.shibe.online/shibes/2ef54e174f13e6aa21bb8be3c7aec2fdac6a442f.jpg","https://cdn.shibe.online/shibes/fa97547e670f23440608f333f8ec382a75ba5d94.jpg","https://cdn.shibe.online/shibes/fb1b7150ed8eb4ffa3b0e61ba47546dd6ee7d0dc.jpg","https://cdn.shibe.online/shibes/abf9fb41d914140a75d8bf8e05e4049e0a966c68.jpg","https://cdn.shibe.online/shibes/f63e3abe54c71cc0d0c567ebe8bce198589ae145.jpg","https://cdn.shibe.online/shibes/4c27b7b2395a5d051b00691cc4195ef286abf9e1.jpg","https://cdn.shibe.online/shibes/00df02e302eac0676bb03f41f4adf2b32418bac8.jpg","https://cdn.shibe.online/shibes/4deaac9baec39e8a93889a84257338ebb89eca50.jpg","https://cdn.shibe.online/shibes/199f8513d34901b0b20a33758e6ee2d768634ebb.jpg","https://cdn.shibe.online/shibes/f3efbf7a77e5797a72997869e8e2eaa9efcdceb5.jpg","https://cdn.shibe.online/shibes/39a20ccc9cdc17ea27f08643b019734453016e68.jpg","https://cdn.shibe.online/shibes/e67dea458b62cf3daa4b1e2b53a25405760af478.jpg","https://cdn.shibe.online/shibes/0a892f6554c18c8bcdab4ef7adec1387c76c6812.jpg","https://cdn.shibe.online/shibes/1b479987674c9b503f32e96e3a6aeca350a07ade.jpg","https://cdn.shibe.online/shibes/0c80fc00d82e09d593669d7cce9e273024ba7db9.jpg","https://cdn.shibe.online/shibes/bbc066183e87457b3143f71121fc9eebc40bf054.jpg","https://cdn.shibe.online/shibes/0932bf77f115057c7308ef70c3de1de7f8e7c646.jpg","https://cdn.shibe.online/shibes/9c87e6bb0f3dc938ce4c453eee176f24636440e0.jpg","https://cdn.shibe.online/shibes/0af1bcb0b13edf5e9b773e34e54dfceec8fa5849.jpg","https://cdn.shibe.online/shibes/32cf3f6eac4673d2e00f7360753c3f48ed53c650.jpg","https://cdn.shibe.online/shibes/af94d8eeb0f06a0fa06f090f404e3bbe86967949.jpg","https://cdn.shibe.online/shibes/4b55e826553b173c04c6f17aca8b0d2042d309fb.jpg","https://cdn.shibe.online/shibes/a0e53593393b6c724956f9abe0abb112f7506b7b.jpg","https://cdn.shibe.online/shibes/7eba25846f69b01ec04de1cae9fed4b45c203e87.jpg","https://cdn.shibe.online/shibes/fec6620d74bcb17b210e2cedca72547a332030d0.jpg","https://cdn.shibe.online/shibes/26cf6be03456a2609963d8fcf52cc3746fcb222c.jpg","https://cdn.shibe.online/shibes/c41b5da03ad74b08b7919afc6caf2dd345b3e591.jpg","https://cdn.shibe.online/shibes/7a9997f817ccdabac11d1f51fac563242658d654.jpg","https://cdn.shibe.online/shibes/7221241bad7da783c3c4d84cfedbeb21b9e4deea.jpg","https://cdn.shibe.online/shibes/283829584e6425421059c57d001c91b9dc86f33b.jpg","https://cdn.shibe.online/shibes/5145c9d3c3603c9e626585cce8cffdfcac081b31.jpg","https://cdn.shibe.online/shibes/b359c891e39994af83cf45738b28e499cb8ffe74.jpg","https://cdn.shibe.online/shibes/0b77f74a5d9afaa4b5094b28a6f3ee60efcb3874.jpg","https://cdn.shibe.online/shibes/adccfdf7d4d3332186c62ed8eb254a49b889c6f9.jpg","https://cdn.shibe.online/shibes/3aac69180f777512d5dabd33b09f531b7a845331.jpg","https://cdn.shibe.online/shibes/1d25e4f592db83039585fa480676687861498db8.jpg","https://cdn.shibe.online/shibes/d8349a2436420cf5a89a0010e91bf8dfbdd9d1cc.jpg","https://cdn.shibe.online/shibes/eb465ef1906dccd215e7a243b146c19e1af66c67.jpg","https://cdn.shibe.online/shibes/3d14e3c32863195869e7a8ba22229f457780008b.jpg","https://cdn.shibe.online/shibes/79cedc1a08302056f9819f39dcdf8eb4209551a3.jpg","https://cdn.shibe.online/shibes/4440aa827f88c04baa9c946f72fc688a34173581.jpg","https://cdn.shibe.online/shibes/94ea4a2d4b9cb852e9c1ff599f6a4acfa41a0c55.jpg","https://cdn.shibe.online/shibes/f4478196e441aef0ada61bbebe96ac9a573b2e5d.jpg","https://cdn.shibe.online/shibes/96d4db7c073526a35c626fc7518800586fd4ce67.jpg","https://cdn.shibe.online/shibes/196f3ed10ee98557328c7b5db98ac4a539224927.jpg","https://cdn.shibe.online/shibes/d12b07349029ca015d555849bcbd564d8b69fdbf.jpg","https://cdn.shibe.online/shibes/80fba84353000476400a9849da045611a590c79f.jpg","https://cdn.shibe.online/shibes/94cb90933e179375608c5c58b3d8658ef136ad3c.jpg","https://cdn.shibe.online/shibes/8447e67b5d622ef0593485316b0c87940a0ef435.jpg","https://cdn.shibe.online/shibes/c39a1d83ad44d2427fc8090298c1062d1d849f7e.jpg","https://cdn.shibe.online/shibes/6f38b9b5b8dbf187f6e3313d6e7583ec3b942472.jpg","https://cdn.shibe.online/shibes/81a2cbb9a91c6b1d55dcc702cd3f9cfd9a111cae.jpg","https://cdn.shibe.online/shibes/f1f6ed56c814bd939645138b8e195ff392dfd799.jpg","https://cdn.shibe.online/shibes/204a4c43cfad1cdc1b76cccb4b9a6dcb4a5246d8.jpg","https://cdn.shibe.online/shibes/9f34919b6154a88afc7d001c9d5f79b2e465806f.jpg","https://cdn.shibe.online/shibes/6f556a64a4885186331747c432c4ef4820620d14.jpg","https://cdn.shibe.online/shibes/bbd18ae7aaf976f745bc3dff46b49641313c26a9.jpg","https://cdn.shibe.online/shibes/6a2b286a28183267fca2200d7c677eba73b1217d.jpg","https://cdn.shibe.online/shibes/06767701966ed64fa7eff2d8d9e018e9f10487ee.jpg","https://cdn.shibe.online/shibes/7aafa4880b15b8f75d916b31485458b4a8d96815.jpg","https://cdn.shibe.online/shibes/b501169755bcf5c1eca874ab116a2802b6e51a2e.jpg","https://cdn.shibe.online/shibes/a8989bad101f35cf94213f17968c33c3031c16fc.jpg","https://cdn.shibe.online/shibes/f5d78feb3baa0835056f15ff9ced8e3c32bb07e8.jpg","https://cdn.shibe.online/shibes/75db0c76e86fbcf81d3946104c619a7950e62783.jpg","https://cdn.shibe.online/shibes/8ac387d1b252595bbd0723a1995f17405386b794.jpg","https://cdn.shibe.online/shibes/4379491ef4662faa178f791cc592b52653fb24b3.jpg","https://cdn.shibe.online/shibes/4caeee5f80add8c3db9990663a356e4eec12fc0a.jpg","https://cdn.shibe.online/shibes/99ef30ea8bb6064129da36e5673649e957cc76c0.jpg","https://cdn.shibe.online/shibes/aeac6a5b0a07a00fba0ba953af27734d2361fc10.jpg","https://cdn.shibe.online/shibes/9a217cfa377cc50dd8465d251731be05559b2142.jpg","https://cdn.shibe.online/shibes/65f6047d8e1d247af353532db018b08a928fd62a.jpg","https://cdn.shibe.online/shibes/fcead395cbf330b02978f9463ac125074ac87ab4.jpg","https://cdn.shibe.online/shibes/79451dc808a3a73f99c339f485c2bde833380af0.jpg","https://cdn.shibe.online/shibes/bedf90869797983017f764165a5d97a630b7054b.jpg","https://cdn.shibe.online/shibes/dd20e5801badd797513729a3645c502ae4629247.jpg","https://cdn.shibe.online/shibes/88361ee50b544cb1623cb259bcf07b9850183e65.jpg","https://cdn.shibe.online/shibes/0ebcfd98e8aa61c048968cb37f66a2b5d9d54d4b.jpg"]
            let kya = list[Math.floor(Math.random() * list.length)]
            rem.sendFile(from, kya, 'Dog.jpeg', 'Inu', false, image)
            break
        case prefix+'qrcode':
            //if (!isGroupMsg) return reply(from, 'Perintah ini hanya bisa di gunakan dalam group!', id)
            //if (isLimit(_userDb)) return reply(from, `Maaf ${pushname}, Kuota Limit Kamu Sudah Habis, Ketik ${prefix}limit Untuk Mengecek Kuota Limit Kamu`, id)
            if (args.length === 1) return reply(from, 'Kirim perintah *'+prefix+'qrcode [teks]*, contoh *'+prefix+'qrcode blablbalba*', id)
            
            await limitAdd(serial)
            if(!args.lenght >= 2) return
            let qrcodes = body.slice(8)
            await rem.sendFile(from, `https://api.qrserver.com/v1/create-qr-code/?size=500x500&data=${encodeURIComponent(qrcodes)}`, 'qr_gambar.png', '', messageRaw, image)
            break
        case prefix+'ptl':
            //if (!isGroupMsg) return reply(from, 'Perintah ini hanya bisa di gunakan dalam group!', id)
            //if (isLimit(_userDb)) return reply(from, `Maaf ${pushname}, Kuota Limit Kamu Sudah Habis, Ketik ${prefix}limit Untuk Mengecek Kuota Limit Kamu`, id)
            
            await limitAdd(serial)
            const pptl = ["https://i.pinimg.com/564x/b2/84/55/b2845599d303a4f8fc4f7d2a576799fa.jpg","https://i.pinimg.com/236x/98/08/1c/98081c4dffde1c89c444db4dc1912d2d.jpg","https://i.pinimg.com/236x/a7/e2/fe/a7e2fee8b0abef9d9ecc8885557a4e91.jpg","https://i.pinimg.com/236x/ee/ae/76/eeae769648dfaa18cac66f1d0be8c160.jpg","https://i.pinimg.com/236x/b2/84/55/b2845599d303a4f8fc4f7d2a576799fa.jpg","https://i.pinimg.com/564x/78/7c/49/787c4924083a9424a900e8f1f4fdf05f.jpg","https://i.pinimg.com/236x/eb/05/dc/eb05dc1c306f69dd43b7cae7cbe03d27.jpg","https://i.pinimg.com/236x/d0/1b/40/d01b40691c68b84489f938b939a13871.jpg","https://i.pinimg.com/236x/31/f3/06/31f3065fa218856d7650e84b000d98ab.jpg","https://i.pinimg.com/236x/4a/e5/06/4ae5061a5c594d3fdf193544697ba081.jpg","https://i.pinimg.com/236x/56/45/dc/5645dc4a4a60ac5b2320ce63c8233d6a.jpg","https://i.pinimg.com/236x/7f/ad/82/7fad82eec0fa64a41728c9868a608e73.jpg","https://i.pinimg.com/236x/ce/f8/aa/cef8aa0c963170540a96406b6e54991c.jpg","https://i.pinimg.com/236x/77/02/34/77023447b040aef001b971e0defc73e3.jpg","https://i.pinimg.com/236x/4a/5c/38/4a5c38d39687f76004a097011ae44c7d.jpg","https://i.pinimg.com/236x/41/72/af/4172af2053e54ec6de5e221e884ab91b.jpg","https://i.pinimg.com/236x/26/63/ef/2663ef4d4ecfc935a6a2b51364f80c2b.jpg","https://i.pinimg.com/236x/2b/cb/48/2bcb487b6d398e8030814c7a6c5a641d.jpg","https://i.pinimg.com/236x/62/da/23/62da234d941080696428e6d4deec6d73.jpg","https://i.pinimg.com/236x/d4/f3/40/d4f340e614cc4f69bf9a31036e3d03c5.jpg","https://i.pinimg.com/236x/d4/97/dd/d497dd29ca202be46111f1d9e62ffa65.jpg","https://i.pinimg.com/564x/52/35/66/523566d43058e26bf23150ac064cfdaa.jpg","https://i.pinimg.com/236x/36/e5/27/36e52782f8d10e4f97ec4dbbc97b7e67.jpg","https://i.pinimg.com/236x/02/a0/33/02a033625cb51e0c878e6df2d8d00643.jpg","https://i.pinimg.com/236x/30/9b/04/309b04d4a498addc6e4dd9d9cdfa57a9.jpg","https://i.pinimg.com/236x/9e/1d/ef/9e1def3b7ce4084b7c64693f15b8bea9.jpg","https://i.pinimg.com/236x/e1/8f/a2/e18fa21af74c28e439f1eb4c60e5858a.jpg","https://i.pinimg.com/236x/22/d9/22/22d9220de8619001fe1b27a2211d477e.jpg","https://i.pinimg.com/236x/af/ac/4d/afac4d11679184f557d9294c2270552d.jpg","https://i.pinimg.com/564x/52/be/c9/52bec924b5bdc0d761cfb1160865b5a1.jpg","https://i.pinimg.com/236x/1a/5a/3c/1a5a3cffd0d936cd4969028668530a15.jpg"]
            let pep = pptl[Math.floor(Math.random() * pptl.length)]
            rem.sendFile(from, pep, 'pptl.jpg', '', messageRaw, image)
            break
        case prefix+'neko':
            //if (!isGroupMsg) return reply(from, 'Perintah ini hanya bisa di gunakan dalam group!', id)
            //if (isLimit(_userDb)) return reply(from, `Maaf ${pushname}, Kuota Limit Kamu Sudah Habis, Ketik ${prefix}limit Untuk Mengecek Kuota Limit Kamu`, id)
            
            await limitAdd(serial)
            const q2 = Math.floor(Math.random() * 900) + 300;
            const q3 = Math.floor(Math.random() * 900) + 300;
            rem.sendFile(from, 'http://placekitten.com/'+q3+'/'+q2, 'neko.png','Neko ', messageRaw, image)
            break
        case prefix+'pokemon':
            //if (!isGroupMsg) return reply(from, 'Perintah ini hanya bisa di gunakan dalam group!', id)
            //if (isLimit(_userDb)) return reply(from, `Maaf ${pushname}, Kuota Limit Kamu Sudah Habis, Ketik ${prefix}limit Untuk Mengecek Kuota Limit Kamu`, id)
            
            await limitAdd(serial)
            const q7 = Math.floor(Math.random() * 890) + 1;
            rem.sendFile(from, 'https://assets.pokemon.com/assets/cms2/img/pokedex/full/'+q7+'.png','Pokemon.png', false, image)
            break
        case prefix+'quote':
        case prefix+'quotes':
            //if (!isGroupMsg) return reply(from, 'Perintah ini hanya bisa di gunakan dalam group!', id)
            //if (isLimit(_userDb)) return reply(from, `Maaf ${pushname}, Kuota Limit Kamu Sudah Habis, Ketik ${prefix}limit Untuk Mengecek Kuota Limit Kamu`, id)
            
            await limitAdd(serial)

            // const randomQuotesList0 = ["/api/random/quotes", "/api/quotes/islami", "/api/quotes/dilan", "/api/random/quotesnime", "/api/random/quotesimage"]
            // const randomQuotesList = randomQuotesList0[Math.floor(Math.random() * randomQuotesList0.length)]
            // let displayTextQuotes = ''
            // if(randomQuotesList == randomQuotesList0[4]) {
            //     const getImageQuotes = await fetch(`https://api.lolhuman.xyz${randomQuotesList}?apikey=rey2k22`)
            //     const bufferImageQuotes = await getImageQuotes.buffer()
            //     await rem.sendFile(from, bufferImageQuotes, 'quotes.png', displayTextQuotes, messageRaw, image)
            // } else {
            //     const quotez2 = await axios.get(`https://api.lolhuman.xyz${randomQuotesList}?apikey=rey2k22`)
            //     if(randomQuotesList == randomQuotesList0[0]) {
            //         displayTextQuotes = `*${quotez2.data.result.quote}*\n\n_-${quotez2.data.result.by}_`
            //     } else if(randomQuotesList == randomQuotesList0[1] || randomQuotesList == randomQuotesList0[2]) {
            //         displayTextQuotes = `*${quotez2.data.result}*`
            //     } else if(randomQuotesList == randomQuotesList0[3]) {
            //         displayTextQuotes = `*${quotez2.data.result.quote}*\n\n_-${quotez2.data.result.character}_\nAnime : ${quotez2.data.result.anime}\n${quotez2.data.result.episode}`
            //     }
            //     reply(from, displayTextQuotes, id)
            // }
            const getQuotes = await axios.get('http://public-restapi.herokuapp.com/api/quote-generator')
            reply(from, getQuotes.data.quote)
            break
        case prefix+'lirik':
            if (args.length == 1) return reply(from, 'Kirim perintah *'+prefix+'lirik [optional]*, contoh *'+prefix+'lirik rapsodi jkt*', id)
            const lagu = body.slice(7)

            // const requestGetLyrics = await ClientGenius.songs.search(lagu)
            const requestGetLyrics0 = await axios.get(`https://www.shazam.com/services/amapi/v1/catalog/ID/search?types=songs&term=${encodeURIComponent(lagu)}&limit=5`, { headers: { "Referer" : 'https://www.shazam.com' } })
            const requestGetLyrics = requestGetLyrics0.data.results.songs.data.filter(all => all.attributes.hasLyrics)

            if(!requestGetLyrics.length) return reply(from, 'Not Found!')

            if(_userDb?.isLegacyButton || ((_userDb?.isLegacyButton === undefined) || (_userDb?.isLegacyButton === null))) {
                const rowsLirik = []
                for(let i = 0; i < requestGetLyrics.length; i++) {
                    rowsLirik.push({ title: `${requestGetLyrics[i].attributes.name} | ${requestGetLyrics[i]?.attributes?.artistName}`, description: requestGetLyrics[i].attributes.name, rowId: `${prefix}lirikget ${requestGetLyrics[i].id}${requestGetLyrics[i].attributes?.artwork?.url ? ' ' + requestGetLyrics[i].attributes?.artwork?.url : ''}` })
                }
    
                const sectionsLirik = [{ title: "Lirik Lagu", rows: rowsLirik }]
                await rem.sendList(from, "Pilih Lagu", sectionsLirik, 'Lagu', '@dwirizqi.h')
            } else {
                const rowsLirik = {
                    title: "Lirik Lagu",
                    sections: []
                }
                for(let i = 0; i < requestGetLyrics.length; i++) {
                    // {
                        //         "title": "title",
                        //         "highlight_label": "label",
                        //         "rows": [{
                        //             "header": "header",
                        //             "title": "title",
                        //             "description": "description",
                        //             "id": "id"
                        //         }, {
                        //             "header": "header",
                        //             "title": "title",
                        //             "description": "description",
                        //             "id": "id"
                        //         }]
                        //     }
                    rowsLirik.sections.push({
                        title: requestGetLyrics[i].attributes.name,
                        highlight_label: requestGetLyrics[i].attributes.genreNames[0],
                        rows: [{
                            title: requestGetLyrics[i].attributes.name,
                            description: requestGetLyrics[i].attributes.artistName,
                            id: `${prefix}lirikget ${requestGetLyrics[i].id}${requestGetLyrics[i].attributes?.artwork?.url ? ' ' + requestGetLyrics[i].attributes?.artwork?.url : ''}`
                        }]
                    })
                }

                let msgsLyrics = generateWAMessageFromContent(from, {
                    viewOnceMessage: {
                        message: {
                            messageContextInfo: {
                                deviceListMetadata: {},
                                deviceListMetadataVersion: 2
                            },
                            interactiveMessage: proto.Message.InteractiveMessage.create({
                                body: proto.Message.InteractiveMessage.Body.create({
                                    text: "Pilih Lagu"
                                }),
                                footer: proto.Message.InteractiveMessage.Footer.create({
                                    text: "@dwirizqi.h"
                                }),
                                nativeFlowMessage: proto.Message.InteractiveMessage.NativeFlowMessage.create({
                                    buttons: [{
                                        name: "single_select",
                                        buttonParamsJson: JSON.stringify(rowsLirik)
                                    }, ],
                                })
                            })
                        }
                    }
                }, {})

                await rem.relayMessage(from, msgsLyrics.message, {})
            }
            break
            case prefix+'lirikget':
                if(message.selectedRowId == undefined) return reply(from, 'Invalid!')
    
                const idLirikGet = message.selectedRowId.split(' ')
                if(!idLirikGet) return reply(from, 'Invalid!')

                reply(from, mess.wait)
                const dataSendPuppeteerLirikGet = `(async () => {
                    const page = await browser.newPage();
                    const responsePup = await page.goto('https://www.shazam.com/song/${idLirikGet[1]}?tab=lyrics', { waitUntil: 'networkidle' });
                    const responseBody = await responsePup.text();
                    await page.close();
                    return responseBody
                })();`
                const getReqLirikget = (await requestPuppeteer(dataSendPuppeteerLirikGet, '157.230.41.76:8067')).result

                const $lirikGet = cheerio.load(getReqLirikget)
                const textLirikGet = $lirikGet('body > div:nth-child(2) > main > div:nth-child(3) > div:nth-child(2) > div > div > div > div:nth-child(2)').text()
                await fs.writeFileSync('./testlirikget.html', getReqLirikget.toString())
                if(!textLirikGet?.toString?.()?.trim?.()) return reply(from, 'Lyrics not found!\nSource: Shazam')
                // const titleLirikGet = $lirikGet('article > div:nth-child(2) > div:nth-child(2) > div:nth-child(1) > div > div¬†>¬†h1').text()
                // const artistLirikGet = $lirikGet('body > div:nth-child(2) > main > div:nth-child(3) > div:nth-child(2) > div > div > div > div:nth-child(2)').text()
                const imgLirikGet = idLirikGet[2] ? idLirikGet[2].replace('{w}', '500').replace('{h}', '500') : false
                
                if(imgLirikGet) {
                    rem.sendFile(from, imgLirikGet, 'lirik.png', `${textLirikGet}`, messageRaw, image)
                } else {
                    reply(from, `${textLirikGet}`)
                }
                break
            // case prefix+'lirik':
            //     // if (!isGroupMsg) return reply(from, 'Perintah ini hanya bisa di gunakan dalam group!', id)
            //     // if (isLimit(_userDb)) return reply(from, `Maaf ${pushname}, Kuota Limit Kamu Sudah Habis, Ketik ${prefix}limit Untuk Mengecek Kuota Limit Kamu`, id)
                
            //     // await limitAdd(serial)
            //     if (args.length == 1) return reply(from, 'Kirim perintah *'+prefix+'lirik [optional]*, contoh *'+prefix+'lirik rapsodi jkt*', id)
            //     const lagu = body.slice(7)
            //     // const lirik = await solenolyrics.requestLyricsFor(lagu); 
            //     // if(lirik == null || lirik == undefined) return reply(from, 'Lirik tidak ditemukan', id)
            //     // reply(from, lirik, id)
            //     // break
    
            //     const requestGetLyrics = await ClientGenius.songs.search(lagu)
            // //     const requestGetLyrics0 = await axios.get(`https://lyrics.lyricfind.com/api/v1/search?reqtype=default&territory=ID&searchtype=track&all=${encodeURIComponent(lagu)}&limit=25&alltracks=no&output=json`, { headers: { "Referer" : 'https://lyrics.lyricfind.com' } })
            // //     const requestGetLyrics = requestGetLyrics0.data.tracks
    
            //     if(!requestGetLyrics.length) return reply(from, 'Not Found!')
    
            //     const rowsLirik = []
            //     for(let i = 0; i < requestGetLyrics.length; i++) {
            //         rowsLirik.push({ title: `${requestGetLyrics[i].title} | ${requestGetLyrics[i]?.artist?.name}`, description: requestGetLyrics[i].title, rowId: `${prefix}lirikget ${requestGetLyrics[i].id}` })
            //     }
    
            //     const sectionsLirik = [{ title: "Lirik Lagu", rows: rowsLirik }]
            //     await rem.sendList(from, "Pilih Lagu", sectionsLirik, 'Lagu', '@dwirizqi.h')
            //     break
            // case prefix+'lirikget':
            //     if(message.selectedRowId == undefined) return reply(from, 'Invalid!')
    
            //     const idLirik = message.selectedRowId.split(' ')[1].trim()
            //     // if(!isUrl(idLirik)) return reply(from, 'Invalid!')
            //     // if(isNaN(idLirik)) return reply(from, 'Invalid!')
    
            //     // const getSongsGenius = (await axios.get(`https://api.genius.com/songs/${idLirik}`, { headers: {"Authorization" : geniusAPIKey} })).data
    
            //     // let getIdSongLirik = undefined
            //     // try {
            //     //     getIdSongLirik = await ClientGenius.songs.get(Number(idLirik))
            //     // } catch (err) {
            //     //     console.error(err)
            //     //     return reply(from, 'Not Found!')
            //     // }
    
            //     // const lyricsGet = await getIdSongLirik.lyrics()
            //     // const lyricsGet = await axios.post(proxyGeniusUrl + '/get', { key: proxyGeniusKey, songs: idLirik })
            //     // rem.sendFile(from, lyricsGet.data.image, 'lirik.png', `*${lyricsGet.data.fullTitle}*\n\n${lyricsGet.data.lyrics}`, messageRaw, image)
            //     // rem.sendFile(from, getSongsGenius.response.song.header_image_url, 'lirik.png', `*${getSongsGenius.response.song.full_title}*\n\n*Karena masalah legal reason Genius*\n*Lirik hanya bisa diakses di web Genius*\n\n${getSongsGenius.response.song.url}`, messageRaw, image)
                
            //     const sendToPuppeteerLirik = `(async () => {
            //         const page = await global.browserPup.newPage();
    
            //         await page.goto('https://genius.com/${idLirik}');
            //         const getLyricsGenius = await page.content();
            //         await page.close();
    
            //         return getLyricsGenius
            //     })();
            //     `
    
            //     //scrape genius and get lyrics
            //     const responseLirik = await requestPuppeteer(sendToPuppeteerLirik, '157.230.41.76:8067')
            //     const getLyricsGenius = responseLirik
            //     if(getLyricsGenius.result == undefined) {
            //         const getSongsGenius = (await axios.get(`https://api.genius.com/songs/${message.selectedRowId.split(' ')[1].trim()}`, { headers: {"Authorization" : geniusAPIKey} })).data
            //         rem.sendFile(from, getSongsGenius.response.song.header_image_url, 'lirik.png', `Gagal mendapatkan data lirik!\n\n*Url Lirik:* ${getSongsGenius.response.song.url}`, messageRaw, image)
            //     } else {
            //         console.log(getLyricsGenius.result)
            //         const $gen = cheerio.load(getLyricsGenius.result)
            //         const lyrics = cheerio.load($gen('#lyrics-root > div:nth-child(2)').html().replace(/<br>/g, '\n').replace(/<i>/g, '_').replace(/<strong>/g, '*').replace(/<b>/g, '*').replace(/<del>/g, '~')).text()
            //         const title = $gen('title').text().trim()
            //         let thumbnail = $gen('#application > main > div > div > div > div > img').attr('src')
            //         const url = `https://genius.com${idLirik}`
            //         const artist = $gen('#application > main > div > div > div > div > div > span > span > a').text().trim()
            //         const song = title.replace(`Lyrics by ${artist}`, '').trim()
            //         const lyricsGenius = `*${song}*\n\n${lyrics}\n\n*${artist}*\n${url}`
            //         rem.sendFile(from, thumbnail, 'lirik.png', lyricsGenius, messageRaw, image)
            //     }
            //     break
            // case prefix+'lirikget':
                // if(message.selectedRowId == undefined) return reply(from, 'Invalid!')
    
                // const idLirik = message.selectedRowId.split(' ')[1].trim()
                // if(!idLirik) return reply(from, 'Invalid!')
    
                // const getBuildId = await axios.get('https://lyrics.lyricfind.com', { headers: { "Referer" : 'https://lyrics.lyricfind.com' } })
                // const $lirik = cheerio.load(getBuildId.data)
                // const buildId = JSON.parse($lirik('#__NEXT_DATA__').text()).buildId
                // console.log(buildId, idLirik)
    
                // const requestGetLyricsGet0 = await axios.get(`https://lyrics.lyricfind.com/_next/data/${buildId}/en-US/lyrics/${idLirik}.json?songId=${idLirik}`, { headers: { "Referer" : 'https://lyrics.lyricfind.com' } })
                // const requestGetLyricsGet = requestGetLyricsGet0.data.pageProps.songData.track.lyrics
                // const coverArtLirikGet = requestGetLyricsGet0.data.pageProps.songData.track?.album?.coverArt
                // const textLirikGet = `*[${requestGetLyricsGet0.data.pageProps.songData.track.title}]*\n\n${requestGetLyricsGet}`
                // coverArtLirikGet ? rem.sendFile(from, `http://images.lyricfind.com/images/${requestGetLyricsGet0.data.pageProps.songData.track?.album?.coverArt}`, 'cover.jpeg', textLirikGet, messageRaw, image) : reply(from, textLirikGet)
                // break
        // ADMIN & OWNER
        case prefix+'bc': // KASIH CREDIT DONG KALO COPAS
            if (!isOwner) return reply(from, `Perintah ini hanya untuk Dwi!`, id)
                if(args[1] == 'group') {
                const bctxt1 = body.slice(10)
                const txtbc1 = `*„Äå BROADCAST „Äç*\n\n${bctxt1}`
                const allGroupIn = Object.values(await rem.groupFetchAllParticipating())
                for(let i = 0; i < allGroupIn.length; i++) {
                    console.log(allGroupIn[i].id)
                    if(quotedMsg && quotedMsg.type == image){
                        const mediaData = await quotedMsg.getMedia()
                        rem.sendFile(allGroupIn[i].id, mediaData, 'gambar.jpeg', txtbc, false, image)
                        reply(from, 'Broadcast sukses!', id)
                    } else {
                        rem.sendText(allGroupIn[i].id, txtbc1)
                        reply(from, 'Broadcast Success!', id)
                    }
                }
            } else if(args[1] == 'link') {
                if(!args[2].match(isUrl)) return reply(from, `Bukan Link!\nContoh : ${prefix}bc link <link> <text>`, id)
                const bctxt2 = body.slice(9)
                const txtbc2 = `*„Äå BROADCAST „Äç*\n\n${bctxt2}`
                const semuagrup1 = await storeBaileys.chats.all().filter(all => all.id.endsWith('@g.us'))
                for(let grupnya1 of semuagrup1){
                    rem.sendText(grupnya1.id, txtbc2)
                }
                rem.repy(from, 'Broadcast sukses')
            } else {
                const bctxt3 = body.slice(4)
                const txtbc3 = `*„Äå BROADCAST „Äç*\n\n${bctxt3}`
                const semuagrup = await storeBaileys.chats.all()
                if(quotedMsg && quotedMsg.type == image){
                    const mediaData = await quotedMsg.getMedia()
                    for(let grupnya of semuagrup){
                        rem.sendFile(grupnya.id, mediaData, 'gambar.jpeg', '', false, image)
                    }
                    reply(from, 'Broadcast sukses!', id)
                } else {
                    for(let grupnya of semuagrup) {
                        rem.sendText(grupnya.id, txtbc3)
                    }
                    reply(from, 'Broadcast Success!', id)
                }
            }
                break
        case prefix+'adminlist':
            if (!isGroupMsg) return reply(from, 'Perintah ini hanya bisa di gunakan dalam group!', id)
            let mimin = ''
            for (let admon of groupAdmins) {
                mimin += `‚û§ @${admon.replace(/@s.whatsapp.net/g, '')}\n` 
            }
            await sleep(2000)
            if(isMention) {
                await rem.sendTextWithMentions(from, mimin)
            } else {
                await rem.sendText(from, mimin.replace(/@/gi, 'wa.me/'))
            }
            break
        case prefix+'ownergroup':
            if (!isGroupMsg) return reply(from, 'Perintah ini hanya bisa di gunakan dalam group!', id)
            const Owner_ = groupMetadata.owner
            if(isMention) {
                await rem.sendTextWithMentions(from, `Owner Group : @${Owner_.replace('@c.us', '')}`)
            } else {
                await rem.sendText(from, `Owner Group : wa.me/${Owner_.replace('@c.us', '')}`)
            }
            break
        case prefix+'otagall': // FOR OWNER & Admin Bot
        case prefix+'omentionall':
            if (!isGroupMsg) return reply(from, 'Perintah ini hanya bisa di gunakan dalam group!', id)
            if (!isAdmin) return reply(from, 'Perintah ini hanya untuk admin Bot!', id)
            const groupMek = groupMetadata.participants
            let heho = '‚ï≠‚îà‚îÄ„Äå Mention All „Äç\n'
            for (let i = 0; i < groupMek.length; i++) {
                heho += '‚ï∞‚îÄ‚û§'
                heho += ` @${groupMek[i].jid.replace(/@s.whatsapp.net/g, '')}\n`
            }
            heho += '‚ï∞‚îà‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ'
            await sleep(2000)
            await rem.sendTextWithMentions(from, heho)
            break
        case prefix+'tagall': // FOR GROUP ADMINS
        case prefix+'mentionall':
            if (!isGroupMsg) return reply(from, 'Perintah ini hanya bisa di gunakan dalam group!', id)
            if (!isGroupAdmins) return reply(from, 'Perintah ini hanya bisa di gunakan oleh admin group', id)
            if (_userDb.limit.ltagall > Date.now()) {
                const timeConvertLtagall = timeConvert(_userDb.limit.ltagall)
                    return reply(from, `Anda sudah mencapai batas menggunakan fitur ini!\nKamu dapat menggunakan fitur ini lagi dalam\n\n*${timeConvertLtagall.day} Hari | ${timeConvertLtagall.hour} Jam : ${timeConvertLtagall.minute} Menit : ${timeConvertLtagall.second} Detik*`, id)
            }
            const groupMem = groupMetadata.participants
            let hehe = (args[1] != undefined ? (body.replace(`${args[0]} `, '') + '\n\n') : '') + '‚ï≠‚îà‚îÄ„Äå Mention All „Äç\n'
            for (let i = 0; i < groupMem.length; i++) {
                hehe += '‚ï∞‚îÄ‚û§'
                hehe += ` @${groupMem[i].jid.replace(/@s.whatsapp.net/g, '')}\n`
            }
            hehe += '‚ï∞‚îà‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ'
            await sleep(2000)
            await _mongo_UserSchema.updateOne(
  { iId: _userDb.iId },
  {
    $set: {
      'limit.ltagall': isSideOwner
        ? (Date.now() + toMs('1s'))
        : isPrem
        ? (Date.now() + toMs('3h'))
        : (Date.now() + toMs('12h')),
    },
  }
);

            await rem.sendTextWithMentions(from, hehe)
            break
        case prefix+'userlog':
            return reply(from, 'Karena keterbatasan database server, fitur ini telah dihapus!', id)
            if(isGroupMsg) {
                if (args.length === 1) {
                    // if(fs.existsSync(`./lib/cache/userlog/chat_${sender.replace('@s.whatsapp.net', '')}.txt`)) await fs.unlinkSync(`./lib/cache/userlog/chat_${sender.replace('@s.whatsapp.net', '')}.txt`)
                    var loggroup_user = await _mongo_MessageSchema.find({ iId: from, "content.key.participant": sender })
                    loggroup_user.sort((a, b) => (a.time < b.time) ? 1 : -1)
                    let datapreview_userlog = `Jumlah Chat ${loggroup_user.length} di Group ${name}`
                    for (let i = 0; i < loggroup_user.length; i++) {
                        datapreview_userlog += `\n${moment.unix(loggroup_user[i].time / 1000).format('DD MMMM YYYY, HH:mm:ss')}         ${loggroup_user[i].content.key.participant.replace('@s.whatsapp.net', '')}         ${loggroup_user[i].content.body}\n`
                    }
                    await fs.writeFileSync(`./lib/cache/userlog/chat_${sender.replace('@s.whatsapp.net', '')}.txt`, datapreview_userlog)
                    await rem.sendFile(from, `./lib/cache/userlog/chat_${sender.replace('@s.whatsapp.net', '')}.txt`, `chat_${sender.replace('@s.whatsapp.net', '')}.txt`, '', messageRaw, document, 'text/plain')
                    await rem.sendText(from, `${sender.replace('@s.whatsapp.net', '')} Jumlah Chat ${loggroup_user.length} di Group ${name}`)
                    fs.unlinkSync(`./lib/cache/userlog/chat_${sender.replace('@s.whatsapp.net', '')}.txt`)
                } else if(args.length === 2 && mentionedJidList.length === 1) {
                    // if(fs.existsSync(`./lib/cache/userlog/chat_${mentionedJidList[0].replace('@s.whatsapp.net', '')}.txt`)) await fs.unlinkSync(`./lib/cache/userlog/chat_${mentionedJidList[0].replace('@s.whatsapp.net', '')}.txt`)
                    var loggroup_user = await _mongo_MessageSchema.find({ iId: from, "content.key.participant": mentionedJidList[0] })
                    loggroup_user.sort((a, b) => (a.time < b.time) ? 1 : -1)
                    let datapreview_userlog = `Jumlah Chat ${loggroup_user.length} di Group ${name}`
                    for (let i = 0; i < loggroup_user.length; i++) {
                        datapreview_userlog += `\n${moment.unix(loggroup_user[i].time / 1000).format('DD MMMM YYYY, HH:mm:ss')}         ${loggroup_user[i].content.key.participant.replace('@s.whatsapp.net', '')}         ${loggroup_user[i].content.body}\n`
                    }
                    await fs.writeFileSync(`./lib/cache/userlog/chat_${mentionedJidList[0].replace('@s.whatsapp.net', '')}.txt`, datapreview_userlog)
                    await rem.sendFile(from, `./lib/cache/userlog/chat_${mentionedJidList[0].replace('@s.whatsapp.net', '')}.txt`, `chat_${mentionedJidList[0].replace('@s.whatsapp.net', '')}.txt`, '', messageRaw, document, 'text/plain')
                    await rem.sendText(from, `${mentionedJidList[0].replace('@s.whatsapp.net', '')} Jumlah Chat ${loggroup_user.length} di Group ${name}`)
                    fs.unlinkSync(`./lib/cache/userlog/chat_${mentionedJidList[0].replace('@s.whatsapp.net', '')}.txt`)
                } else {
                    rem.sendText(from, `Format Salah!\n\n_${prefix}userlog_\n_${prefix}userlog @tag_`)
                }
            } else {
                // if(fs.existsSync(`./lib/cache/userlog/chat_private_${sender.replace('@s.whatsapp.net', '')}.txt`)) await fs.unlinkSync(`./lib/cache/userlog/chat_private_${sender.replace('@s.whatsapp.net', '')}.txt`)
                var logprivate_user = await _mongo_MessageSchema.find({ iId: sender })
                logprivate_user.sort((a, b) => (a.time < b.time) ? 1 : -1)
                let datapreview_userlog = `Jumlah Chat ${logprivate_user.length}`
                for (let i = 0; i < logprivate_user.length; i++) {
                    datapreview_userlog += `\n${moment.unix(logprivate_user[i].time / 1000).format('DD MMMM YYYY, HH:mm:ss')}         ${logprivate_user[i].content.key.participant.replace('@s.whatsapp.net', '')}         ${logprivate_user[i].content.body}\n`
                }
                await fs.writeFileSync(`./lib/cache/userlog/chat_private_${sender.replace('@s.whatsapp.net', '')}.txt`, datapreview_userlog)
                await rem.sendFile(from, `./lib/cache/userlog/chat_private_${sender.replace('@s.whatsapp.net', '')}.txt`, `chat_private_${sender.replace('@s.whatsapp.net', '')}.txt`, '', messageRaw, document, 'text/plain')
                await rem.sendText(from, `Jumlah Chat ${logprivate_user.length}`)
                fs.unlinkSync(`./lib/cache/userlog/chat_private_${sender.replace('@s.whatsapp.net', '')}.txt`)
            }
            break
        case prefix+'sider':
        case prefix+'lbm':
        case prefix+'mlb':
            return reply(from, 'Karena keterbatasan database server, fitur ini telah dihapus!', id)
            // if(!isOwner) return reply(from, 'Maintenance!')
            if (!isGroupMsg) return await reply(from, 'Command ini hanya bisa digunakan di dalam grup!', id)
            // if (!isGroupAdmins) return reply(from, 'Perintah ini hanya bisa di gunakan oleh admin group', id)
            const countMdataCheck = await _mongo_MessageSchema.find({ iId: from })

            const counts = []
            const msgCount = countMdataCheck.map(all => all.content.key.participant)
            msgCount.forEach(function (x) { 
                const i = counts.findIndex(all => all.id == x)
                if(i == -1) {
                    counts.push({ id: x, count: 1 });
                } else {
                    counts[i].count++;
                } 
            })

            counts.sort((a, b) => (a.count < b.count) ? 1 : -1)

            let emmSider = '!![ *Message Leaderboard* ]!!\n\n'
            try {
                for (let i = 0; i < counts.length; i++) {
                    if(counts[i].id == rem.user.jid) continue;
                    emmSider += `${i + 1}. @${counts[i].id.replace('@s.whatsapp.net', '')}\n‚û§ *Jum Msg:* ${counts[i].count}\n\n`
                }
                if(isMention) {
                    await rem.sendTextWithMentions(from, emmSider)
                } else {
                    await rem.sendText(from, emmSider.replace(/@/gi, 'wa.me/'))
                }
                if(body.startsWith(`${prefix}sider`)) reply(from, `*Command ini telah dinonaktifkan, untuk leaderboard message, _${prefix}lbm_*`)
            } catch (err) {
                console.error(err)
                // reply(numberReportError, `Sider Error\nErr : ${err}\nPayload : \nnomSider: ${nomSider}\nemmSider: ${emmSider}`, id)
            }
            break
        case prefix+'setrules':
            if (!isGroupMsg) return await reply(from, 'Command ini hanya bisa digunakan di dalam grup!', id)
            if (!isGroupAdmins) return reply(from, 'Perintah ini hanya bisa di gunakan oleh admin group', id)
            if (args.length === 1) return reply(from, 'Kirim perintah _'+prefix+'setrules <rules>_\nNote : Abaikan tanda < dan >\n\nMentions : {mentions}\nNama : {name}\nGroupName : {group}\n\nHari : {days}\nBulan : {month}\nTahun : {years}\nTanggal (Hari) : {date_days}\nTanggal (Bulan) : {date_month}\nTanggal (Tahun) : {date_years}\n\nWaktu (Jam): {time_hours}\nWaktu (Menit) : {time_minute}\nWaktu (Detik) : {time_seconds} \n\nMembers Count : {count}', id)
                const rulesg = body.slice(10)
                if (getrules(_groupDb) === undefined) await addrules(groupId, prefix)
                replaceRules(groupId, rulesg)
                reply(from, 'Success set new rules!\nPesan akan dikirimkan ketika member join ke group ini\nBiar work, Aktifin welcomenya, *'+prefix+'welcome enable*', id)
                // reply(from, 'Success set new rules!\nPesan akan dikirimkan ketika member left dari group ini\nBiar work, Aktifin cmd leftnya, *'+prefix+'left enable*', id)
            break
        case prefix+'setprefix':
            if (!isGroupMsg) return await reply(from, 'Command ini hanya bisa digunakan di dalam grup!', id)
            if (!isGroupAdmins) return reply(from, 'Perintah ini hanya bisa di gunakan oleh admin group', id)
            if (args.length === 1) return reply(from, 'Kirim perintah *'+prefix+'setprefix prefixnya', id)
                const prefset = args[1].toLowerCase()
                if(prefset.length > 5) return reply(from, 'Prefix tidak boleh melebihi 4 huruf', id)
                if (getPref(_groupDb) === undefined) await setPref(groupId)
                replacePref(groupId, prefset)
                reply(from, 'Success set new Prefix!\n*Prefix saat ini: '+prefset+'*', id)
            break
        // case prefix+'okickall':
        //     if (!isGroupMsg) return reply(from, 'Perintah ini hanya bisa di gunakan dalam group!', id)
        //     if (!isOwner) return reply(from, 'Perintah ini hanya untuk Dwi!', id)
        //     if (!isBotGroupAdmins) return reply(from, 'Perintah ini hanya bisa di gunakan ketika bot menjadi admin', id)
        //     const allMeq = groupMetadata.participants
        //     for (let i = 0; i < allMeq.length; i++) {
        //         if ((adminNumber, ownerNumber).includes(allMeq[i].id)) {
        //             console.log('Upss this is Admin group')
        //         } else {
        //             await rem.groupParticipantsUpdate(groupId, [allMeq[i].id], "remove")
        //         }
        //     }
        //     reply(from, 'Succes kick all member', id)
        //     break
        // case prefix+'kickall':
        //     if (!isGroupMsg) return reply(from, 'Perintah ini hanya bisa di gunakan dalam group!', id)
        //     const isGroupOwner = sender === groupMetadata.owner.replace('@c.us', '@s.whatsapp.net')
        //     if (!isGroupOwner) return reply(from, 'Perintah ini hanya bisa di gunakan oleh Owner group', id)
        //     if (!isBotGroupAdmins) return reply(from, 'Perintah ini hanya bisa di gunakan ketika bot menjadi admin', id)
        //     const allMek = groupMetadata.participants
        //     for (let i = 0; i < allMek.length; i++) {
        //         if ((adminNumber, ownerNumber).includes(allMek[i].id)) {
        //             console.log('Upss this is Admin group')
        //         } else {
        //             await rem.groupParticipantsUpdate(groupId, [allMek[i].id], "remove")
        //         }
        //     }
        //     reply(from, 'Success kick all member', id)
        //     break
        case prefix+'leaveall':
            if (!isOwner) return reply(from, 'Perintah ini hanya untuk Dwi!', id)
            const allGroups0 = Object.values(await rem.groupFetchAllParticipating())
            const allGroups = allGroups0.map(al => al.id)
            for (let gclist of allGroups) {
                await rem.sendText(gclist, `Maaf bot sedang pembersihan`)
                await rem.groupLeave(gclist)
            }
            reply(from, 'Succes leave all group!', id)
            break
        case prefix+'clearall':
            return reply(from, 'Deprecated!')
            if (!isSideOwner) return reply(from, 'Perintah ini hanya untuk role SideOwner!', id)
            const allChatz = await storeBaileys.chats.all().map(all => all.id)
            for (let dchat of allChatz) {
                await rem.modifyChat(dchat, 'delete')
            }
            reply(from, 'Succes clear all chat!', id)
            break
        case prefix+'oadd':
            const orang = args[1]
            if (!isGroupMsg) return reply(from, 'Fitur ini hanya bisa di gunakan dalam group', id)
            if (args.length === 1) return reply(from, 'Untuk menggunakan fitur ini, kirim perintah *'+prefix+'oadd* 628xxxxx', id)
            if (!isAdmin) return reply(from, 'Perintah ini hanya untuk Admin Bot', id)
            if (!isBotGroupAdmins) return reply(from, 'Perintah ini hanya bisa di gunakan ketika bot menjadi admin', id)
            try {
                await rem.groupParticipantsUpdate(from, [`${orang}@s.whatsapp.net`], "add")
            } catch {
                reply(from, mess.error.Ad, id)
            }
            break
        case prefix+'add':
            if (!isGroupMsg) return reply(from, 'Fitur ini hanya bisa di gunakan dalam group', id)
            if (!isSideOwner) return reply(from, 'Fitur ini telah di *hapus*\nKarena sering disalah gunakan untuk membanned nomer bot')
            if (args.length === 1) return reply(from, 'Untuk menggunakan fitur ini, kirim perintah *'+prefix+'add* 628xxxxx', id)
            if (!isGroupAdmins) return reply(from, 'Perintah ini hanya bisa di gunakan oleh admin group', id)
            if (!isBotGroupAdmins) return reply(from, 'Perintah ini hanya bisa di gunakan ketika bot menjadi admin', id)

            let orgh = body.slice(5)
            orgh = orgh.replace(/\+|@s.whatsapp.net|@|-| /gi, '').trim()

            if(_groupDb.recentlyAddGroup.includes(orgh)) return reply(from, 'Maaf, nomor ini sudah pernah di tambahkan oleh bot\nCoba lagi beberapa saat')

            try {
                await rem.groupParticipantsUpdate(from, [`${orgh}@s.whatsapp.net`], "add")
                await _mongo_GroupSchema.updateOne({ iId: groupId }, { $push: { recentlyAddGroup: orgh } })
            } catch (err) {
                console.error(err)
                reply(from, mess.error.Ad, id)
            }
            break
        case prefix+'okick':
            if (!isGroupMsg) return reply(from, 'Perintah ini hanya bisa di gunakan dalam group', id)
            if (!isAdmin) return reply(from, 'Perintah ini hanya untuk Admin Bot', id)
            if (!isBotGroupAdmins) return reply(from, 'Perintah ini hanya bisa di gunakan ketika bot menjadi admin', id)
            if (mentionedJidList.length === 0) return reply(from, 'Untuk menggunakan Perintah ini, kirim perintah *'+prefix+'okick* @tagmember', id)
            await rem.sendText(from, `Perintah Owner diterima, mengeluarkan:\n${mentionedJidList.join('\n')}`)
            for (let i = 0; i < mentionedJidList.length; i++) {
                if(sideOwnerNumber.includes(mentionedJidList[i])) return reply(from, 'Maaf, perintah ini tidak bisa di gunakan untuk kick Side Owner!', id)
                if(ownerNumber.includes(mentionedJidList[i])) return reply(from, 'Maaf, perintah ini tidak bisa di gunakan untuk kick Owner!', id)
            }
            await rem.groupParticipantsUpdate(groupId, mentionedJidList, "remove")
            break
        case prefix+'kick':
            if (!isGroupMsg) return reply(from, 'Fitur ini hanya bisa di gunakan dalam group', id)
            if (!isGroupAdmins) return reply(from, 'Perintah ini hanya bisa di gunakan oleh admin group', id)
            if (!isBotGroupAdmins) return reply(from, 'Perintah ini hanya bisa di gunakan ketika bot menjadi admin', id)
            if (mentionedJidList.length === 0) return reply(from, 'Untuk menggunakan Perintah ini, kirim perintah *'+prefix+'kick* @tagmember', id)
            await rem.sendText(from, `Perintah diterima, mengeluarkan:\n${mentionedJidList.join('\n')}`)
            for (let i = 0; i < mentionedJidList.length; i++) {
                if(ownerNumber.includes(mentionedJidList[i])) return reply(from, 'Maaf, perintah ini tidak bisa di gunakan untuk kick Owner!', id)
                if(sideOwnerNumber.includes(mentionedJidList[i])) return reply(from, 'Maaf, perintah ini tidak bisa di gunakan untuk kick Side Owner!', id)
            }
            await rem.groupParticipantsUpdate(groupId, mentionedJidList, "remove")
            break
        case prefix+'oout':
            if (!isGroupMsg) return reply(from, 'Perintah ini hanya bisa di gunakan dalam group', id)
        if (!isSideOwner) return reply(from, 'Perintah ini hanya untuk Side Owner Bot', id)
            await rem.sendText(from,'Sayonara')
            await sleep(5000)
            await rem.groupLeave(groupId)
            break
        case prefix+'out':
            if (!isGroupMsg) return reply(from, 'Perintah ini hanya bisa di gunakan dalam group', id)
            if (!isGroupAdmins) return reply(from, 'Perintah ini hanya bisa di gunakan oleh admin group', id)
            await rem.sendText(from,'Sayonara')
            await sleep(5000)
            await rem.groupLeave(groupId)
            break
        case prefix+'opromote':
            if (!isGroupMsg) return reply(from, 'Perintah ini hanya bisa di gunakan dalam group', id)
            if (!isAdmin) return reply(from, 'Perintah ini hanya untuk Admin Bot', id)
            if (!isBotGroupAdmins) return reply(from, 'Fitur ini hanya bisa di gunakan ketika bot menjadi admin', id)
            if (mentionedJidList.length === 0) return reply(from, 'Untuk menggunakan fitur ini, kirim perintah *'+prefix+'opromote* @tagmember', id)
            if (mentionedJidList.length >= 2) return reply(from, 'Maaf, perintah ini hanya dapat digunakan kepada 1 user.', id)
            if (groupAdmins.includes(mentionedJidList[0])) return reply(from, 'Maaf, user tersebut sudah menjadi admin.', id)
            await rem.groupParticipantsUpdate(groupId, [mentionedJidList[0]], 'promote')
            if(isMention) {
                await rem.sendTextWithMentions(from, `Perintah Admin diterima, menambahkan @${mentionedJidList[0]} sebagai admin group.`)
            } else {
                await rem.sendText(from, `Perintah Admin diterima, menambahkan wa.me/${mentionedJidList[0]} sebagai admin group.`)
            }
            break
        case prefix+'promote':
            if (!isGroupMsg) return reply(from, 'Fitur ini hanya bisa di gunakan dalam group', id)
            if (!isGroupAdmins) return reply(from, 'Fitur ini hanya bisa di gunakan oleh admin group', id)
            if (!isBotGroupAdmins) return reply(from, 'Fitur ini hanya bisa di gunakan ketika bot menjadi admin', id)
            if (mentionedJidList.length === 0) return reply(from, 'Untuk menggunakan fitur ini, kirim perintah *'+prefix+'promote* @tagmember', id)
            if (mentionedJidList.length >= 2) return reply(from, 'Maaf, perintah ini hanya dapat digunakan kepada 1 user.', id)
            if (groupAdmins.includes(mentionedJidList[0])) return reply(from, 'Maaf, user tersebut sudah menjadi admin.', id)
            await rem.groupParticipantsUpdate(groupId, [mentionedJidList[0]], 'promote')
            if(isMention) {
                await rem.sendTextWithMentions(from, `Perintah diterima, menambahkan @${mentionedJidList[0]} sebagai admin.`)
            } else {
                await rem.sendText(from, `Perintah diterima, menambahkan wa.me/${mentionedJidList[0]} sebagai admin.`)
            }
            break
        case prefix+'adminme':
            if (!isGroupMsg) return reply(from, 'Fitur ini hanya bisa di gunakan dalam group', id)
            if (!isSideOwner) return reply(from, 'Perintah ini hanya untuk role SideOwner!', id)
            if (!isBotGroupAdmins) return reply(from, 'Fitur ini hanya bisa di gunakan ketika bot menjadi admin', id)
            if (groupAdmins.includes(sender)) return reply(from, 'Maaf, Owner sudah menjadi admin.', id)
            await rem.groupParticipantsUpdate(groupId, [sender], 'promote')
            await reply(from, `Perintah diterima, menambahkan sebagai admin.`, id)
            break
        case prefix+'demoteme':
            if (!isGroupMsg) return reply(from, 'Fitur ini hanya bisa di gunakan dalam group', id)
            if (!isSideOwner) return reply(from, 'Perintah ini hanya untuk role SideOwner!', id)
            if (!isBotGroupAdmins) return reply(from, 'Fitur ini hanya bisa di gunakan ketika bot menjadi admin', id)
            if (!groupAdmins.includes(sender)) return reply(from, 'Maaf, Owner Tidak menjadi admin.', id)
            await rem.groupParticipantsUpdate(groupId, [sender], 'demote')
            await reply(from, `Perintah diterima, menghapus sebagai admin.`, id)
            break
        case prefix+'odemote':
            if (!isGroupMsg) return reply(from, 'Perintah ini hanya bisa di gunakan dalam group', id)
            if (!isAdmin) return reply(from, 'Perintah ini hanya untuk Admin Bot', id)
            if (!isBotGroupAdmins) return reply(from, 'Fitur ini hanya bisa di gunakan ketika bot menjadi admin', id)
            if (mentionedJidList.length === 0) return reply(from, 'Untuk menggunakan fitur ini, kirim perintah *'+prefix+'odemote* @tagadmin', id)
            if (mentionedJidList.length >= 2) return reply(from, 'Maaf, perintah ini hanya dapat digunakan kepada 1 orang.', id)
            if (!groupAdmins.includes(mentionedJidList[0])) return reply(from, 'Maaf, user tersebut tidak menjadi admin.', id)
            await rem.groupParticipantsUpdate(groupId, [mentionedJidList[0]], 'demote')
            if(isMention) {
                await rem.sendTextWithMentions(from, `Perintah Admin diterima, menghapus jabatan @${mentionedJidList[0]}.`)
            } else {
                await rem.sendText(from, `Perintah Admin diterima, menghapus jabatan wa.me/${mentionedJidList[0]}.`)
            }
            break
        case prefix+'demote':
            if (!isGroupMsg) return reply(from, 'Fitur ini hanya bisa di gunakan dalam group', id)
            if (!isGroupAdmins) return reply(from, 'Fitur ini hanya bisa di gunakan oleh admin group', id)
            if (!isBotGroupAdmins) return reply(from, 'Fitur ini hanya bisa di gunakan ketika bot menjadi admin', id)
            if (mentionedJidList.length === 0) return reply(from, 'Untuk menggunakan fitur ini, kirim perintah *'+prefix+'demote* @tagadmin', id)
            if (mentionedJidList.length >= 2) return reply(from, 'Maaf, perintah ini hanya dapat digunakan kepada 1 orang.', id)
            if (!groupAdmins.includes(mentionedJidList[0])) return reply(from, 'Maaf, user tersebut tidak menjadi admin.', id)
            await rem.groupParticipantsUpdate(groupId, [mentionedJidList[0]], 'demote')
            if(isMention) {
                await rem.sendTextWithMentions(from, `Perintah diterima, menghapus jabatan @${mentionedJidList[0]}.`)
            } else {
                await rem.sendText(from, `Perintah diterima, menghapus jabatan wa.me/${mentionedJidList[0]}.`)
            }
            break
        case prefix+'getkey':
            //if(!isOwner) return reply(from, `Maaf, untuk menghindari *ban dari pihak whatsapp*\nBot tidak bisa diinvite untuk beberapa hari\n\nSikahkan join di group bot *_${prefix}remgroup_*`)
            let isjoinkey = sender.includes(getuserKeyId(_userDb))
            if(_userDb?.item?.joinkey >= Date.now()) {
                isjoinkey = false
            }
            if (isGroupMsg) return reply(from, 'Hanya dapat digunakan di private chat', id)
            if (isjoinkey) return reply(from, 'Kamu sudah mendapat kunci, Tunggu 12 hari untuk mendapatkan kunci lagi', id)
            const waktukey = Math.floor(12)
            const waktukeynya = waktukey+'d'
            const codejoin = GenerateSerialNumber("0000000")
            await adduserKeyTime(sender, waktukeynya)
            await _mongo_BotSchema.updateOne({ iId: 'CORE' }, { $push: { joincode: codejoin }})
            reply(from, `Ini kunci groupnya: ${codejoin}\n\n*Cara penggunaan: ${prefix}join ${codejoin} <link group>*\n_Note: Abaikan tanda < dan >_`, id)
            break
        case prefix+'join':
            // if(!isVirtualBot) return reply(from, `Maaf, untuk menghindari *ban dari pihak whatsapp*\nBot tidak bisa diinvite\nAtau bisa invite bot jadibot, lihat list di *_${prefix}listjadibot_*\n\nSikahkan join di group bot *_${prefix}remgroup_*`)
            if(!isVirtualBot && !isSideOwner) return
            const tGr = Object.keys(await rem.groupFetchAllParticipating())
            //if(tGr.length > 15) return reply(from, 'Maaf, Batas group yang dapat ditampung sudah penuh\n\nJika Bot1 penuh, Coba Bot2 dan sebaliknya\nBot1: wa.me/6288214653270\nBot2: wa.me/12036665771\n*NOTE :* Data Bot1 & Bot2, Sama(level,job,money,dll)', id)
            let jadibotLimitGroup = undefined

            if(isVirtualBot) {
                let jadibotSettingsJoin = await _mongo_JadibotSchema.findOne({ iId: virtualBotID })

                if(jadibotSettingsJoin == undefined) {
                    await _mongo_JadibotSchema.create({ iId: virtualBotID, data: {} })
                    jadibotSettingsJoin = await _mongo_JadibotSchema.findOne({ iId: virtualBotID })
                    jadibotLimitGroup = jadibotSettingsJoin?.data

                    if(jadibotSettingsJoin?.data?.groupLimit == undefined) await _mongo_JadibotSchema.updateOne({ iId: virtualBotID }, { $set: { 'data.groupLimit': 12 }})
                } else {
                    jadibotLimitGroup = jadibotSettingsJoin?.data
                }
            }

            if((jadibotLimitGroup != undefined && jadibotLimitGroup?.groupLimit != undefined && tGr.length >= (jadibotLimitGroup?.groupLimit || 12)) || (!isVirtualBot && tGr.length >= 12)) return reply(from, 'Maaf, Batas group yang dapat ditampung sudah penuh', id)
            if (args.length < 3) return reply(from, 'Format salah!\nCara penggunaan: *'+prefix+'join <kunci> <link group>*\n_Note: Abaikan tanda < dan >_\n\n*_Untuk mendapatkan kunci '+prefix+'getkey_*', id)
            //if (!isOwner) return reply(from, 'Perintah ini hanya untuk Dwi!\n\nJika ingin mengundang bot join group '+prefix+'remgroup\nDan minta masukin botnya', id)
            const link = args[2]
            const isLink = link.match(/(https:\/\/chat.whatsapp.com)/gi)
            let linkRegex = /chat.whatsapp.com\/([0-9A-Za-z]{20,24})/i
            let [_, code] = link.match(linkRegex) || []
            try {
                const check = await rem.groupGetInviteInfo(code) || { size: 10 }
                if (!isLink) return reply(from, 'Format salah!\nCara penggunaan: *'+prefix+'join <kunci> <link group>*\n_Note: Abaikan tanda < dan >_\n\n*_Untuk mendapatkan kunci'+prefix+'getkey_*', id)
                if (check.id == '120363115657382776@g.us') return reply(from, 'Maaf, Bot tidak bisa masuk ke group ini')
                if (check.size > 1026) return reply(from, 'Maaf jumlah member group sudah maksimal!', id)
                // if (check.size < 10) return reply(from, 'Member group tidak melebihi 10, bot tidak bisa masuk', id)
                //if (check.size >= 256) return reply(from, 'Maaf jumlah member group sudah maksimal!', id)
                //if (check.status === 200) {
                const idAfterGroupJoin = check.id
                try {
                    if(isOwner) {
                        await _mongo_BotSchema.updateOne({ iId: 'CORE' }, { $push: { listJoinGroup: { id: idAfterGroupJoin, by: sender } } })
                        await rem.groupAcceptInvite(code)
                        await reply(from, 'Bot akan segera masuk!', id)
                        await _mongo_BotSchema.updateOne({ iId: 'CORE' }, { $pull: { joincode: args[1] } })
                    } else {
                        if (!_botDb.joincode.includes(args[1])) return reply(from, 'Kunci group tidak valid\n\nKetik: _'+prefix+'getkey_\nUntuk mendapatkan kunci group', id)
                        try {
                            await _mongo_BotSchema.updateOne({ iId: 'CORE' }, { $push: { listJoinGroup: { id: idAfterGroupJoin, by: sender } } })
                            await rem.groupAcceptInvite(code)
                        } catch (err) {
                            console.error(err)
                            await _mongo_BotSchema.updateOne({ iId: 'CORE' }, { $pull: { listJoinGroup: { id: idAfterGroupJoin } } })
                            return reply(from, 'Link group tidak valid!\nMungkin habis di kick')
                            // await reply(from, 'Link group tidak valid!\nMungkin habis di kick\n\nSilahkan kirim pesan invite Group\nSetting group > Tambahkan Peserta > (nomer bot) > Undang')
                            // await sleep(30000)
                        }
                        await reply(from, 'Bot akan segera masuk!', id)
                        await _mongo_BotSchema.updateOne({ iId: 'CORE' }, { $pull: { joincode: args[1] } })
                    }
                } catch (err) {
                    console.error(err)
                    await _mongo_BotSchema.updateOne({ iId: 'CORE' }, { $pull: { listJoinGroup: { id: idAfterGroupJoin } } })
                    reply(from, 'Link group tidak valid!', id)
                }
                //} else {
                    //reply(from, 'Link group tidak valid!', id)
                //}
            } catch (err) {
                console.error(err)
                reply(from, 'Link group tidak valid!\nMungkin habis di kick', id)
            }
            break
        case prefix+'react':
            const checkReact = /\p{Extended_Pictographic}/u.test(args[1])
            if(!checkReact) return reply(from, 'Mohon isi dengan emoji!')

            if(quotedMsg) {
                rem.sendReact(from, quotedMsg.id, args[1])
            } else {
                rem.sendReact(from, messageRaw.key, args[1])
            }
            break
        // case prefix+'odelete':
        // case prefix+'odel':
        //     if (!isGroupMsg) return reply(from, 'Perintah ini hanya bisa di gunakan dalam group', id)
        //     if (!isAdmin) return reply(from, 'Perintah ini hanya untuk Admin Bot', id)
        //     if (!quotedMsg) return reply(from, 'Salah!!, kirim perintah *'+prefix+'odelete [tagpesanbot]*', id)
        //     //if (!quotedMsg.fromMe) return reply(from, 'Salah!!, Bot tidak bisa mengahpus chat user lain!', id)
        //     await rem.deleteMessage(from, { id: quotedMsg.id, remoteJid: from, fromMe: quotedMsg.fromMe, participant : message.message[type].contextInfo.participant } )

        //     const reactionMessage = {
        //         react: {
        //             text: "‚úÖ",
        //             key: message.key
        //         }
        //     }
            
        //     await rem.sendMessage(from, reactionMessage)
        //     break
        case prefix + 'odelete':
        case prefix + 'odel':
                if (!isGroupMsg) return reply(from, 'Perintah ini hanya bisa digunakan dalam grup', id)
                if (!isAdmin) return reply(from, 'Perintah ini hanya untuk Admin Bot', id)
                if (!quotedMsg) return reply(from, 'Salah!!, kirim perintah *' + prefix + 'odelete [tag pesan bot]*', id)
                try {
                    await rem.deleteMessage(from, {
                        id: quotedMsg.id,
                        remoteJid: from,
                        fromMe: quotedMsg.fromMe // Pastikan ini benar
                    })
                    
                    await rem.sendReact(from, message.key, "‚úÖ")
                } catch (error) {
                    console.error('Error deleting message:', error)
                    return reply(from, 'Terjadi kesalahan saat menghapus pesan.', id)
                }
                break
        case prefix+'delete':
        case prefix+'del':
            if (isGroupMsg) {
                if (!isGroupAdmins) return reply(from, 'Fitur ini hanya bisa di gunakan oleh admin group', id)
                if (!quotedMsg) return reply(from, 'Salah!!, kirim perintah *'+prefix+'delete [tagpesanbot]*', id)
                //if (!quotedMsg.fromMe) return reply(from, 'Salah!!, Bot tidak bisa mengahpus chat user lain!', id)
                await rem.deleteMessage(from, { id: quotedMsg.id, remoteJid: from, fromMe: quotedMsg.fromMe, participant : message.message[type].contextInfo.participant } )

                await rem.sendReact(from, message.key, "‚úÖ")
            } else if(!isGroupMsg) {
                if (!quotedMsg) return reply(from, 'Salah!!, kirim perintah *'+prefix+'delete [tagpesanbot]*', id)
                //if (!quotedMsg.fromMe) return reply(from, 'Salah!!, Bot tidak bisa mengahpus chat user lain!', id)
                await rem.deleteMessage(from, { id: quotedMsg.id, remoteJid: from, fromMe: quotedMsg.fromMe, participant : message.message[type].contextInfo.participant })

                await rem.sendReact(from, message.key, "‚úÖ")
            }
            break
        /*case prefix+'read':
            if (!isGroupMsg) return reply(from, `Perintah ini hanya bisa di gunakan dalam group!`, id)                
            if (!quotedMsg) return reply(from, `Tolong Reply Pesan Saya`, id)
            if (!quotedMsg.fromMe) return reply(from, `Tolong Reply Pesan Saya`, id)
            try {
                const reader = await rem.getMessageReaders(quotedMsg.id)
                let list = ''
                for (let pembaca of reader) {
                list += `- @${pembaca.id.replace(/@s.whatsapp.net/g, '')}\n` 
            }
            if(isMention) {
                rem.sendTextWithMentions(from, `Hayolo, yang ngeread doank...\n${list}`)
            } else {
                rem.sendText(from, `Hayolo, yang ngeread doank...\n${list.replace(/@/gi, 'wa.me/')}`)
            }
            } catch(err) {
                console.error(err)
                reply(from, `Maaf, Belum Ada Yang Membaca Pesannya`, id)    
            }
            break*/
        case prefix+'linkgroup':
        case prefix+'linkgc':
            if (!isGroupMsg) return reply(from, `Fitur ini hanya bisa di gunakan dalam group`, id)
            if (!isGroupAdmins) return reply(from, `Fitur ini hanya bisa di gunakan oleh admin group`, id)
            if (!isBotGroupAdmins) return reply(from, `Fitur ini hanya bisa di gunakan ketika bot menjadi admin`, id)
            const namagcnye = groupMetadata.subject
            var gclink = await rem.groupInviteCode(groupId)
            var linkgc  = `Link group : *${namagcnye}*\n\n https://chat.whatsapp.com/${gclink}`
            reply(from, linkgc, id)
            break
        case prefix+'resetlinkgroup':
            if (!isGroupMsg) return reply(from, `Fitur ini hanya bisa di gunakan dalam group`, id)
            if (!isGroupAdmins) return reply(from, `Fitur ini hanya bisa di gunakan oleh admin group`, id)
            if (!isBotGroupAdmins) return reply(from, `Fitur ini hanya bisa di gunakan ketika bot menjadi admin`, id)
            if (isGroupMsg) {
                await rem.groupRevokeInvite(groupId);
                if(isMention) {
                    rem.sendTextWithMentions(from, `Link group telah direset oleh admin @${sender.replace('@s.whatsapp.net', '')}`)
                } else {
                    rem.sendText(from, `Link group telah direset oleh admin wa.me/${sender.replace('@s.whatsapp.net', '')}`)
                }
            }
            break
        
        /*case prefix+'getses':
            //if (!isOwner) return reply(from, 'Perintah ini hanya untuk Dwi!', id)   
            if(quotedMsg != null) {
                try {
                    const pageRem = await rem.getPage()
                    await pageRem.click(`span[title="${name}"]`)
                    const element = await pageRem.$(`div[data-id="${quotedMsg.id}"] > div`);
                    //const randomSelect = Math.floor(Math.random() * 16) + 1
                    //await pageRem.click(`#pane-side > div:nth-child(1) > div > div > div:nth-child(${randomSelect})`)
                    await element.screenshot({
                        path: "./lib/cache/img/screenshot.png"
                   });
                   await rem.sendFile(from, './lib/cache/img/screenshot.png', 'screenshot.png', '', id)
                   await pageRem.click('span[title="Dembug"]')
                } catch (err)  {
                    console.error(err)
                    const pageRem = await rem.getPage()
                    await pageRem.click('span[title="Dembug"]')
                    await pageRem.screenshot({
                        path: "./lib/cache/img/screenshot.png",
                        fullPage: false
                   });
                   await rem.sendFile(from, './lib/cache/img/screenshot.png', 'screenshot.png', '', id)
                }
            } else {
                const pageRem = await rem.getPage()
                await pageRem.click('span[title="Dembug"]')
                await pageRem.screenshot({
                    path: "./lib/cache/img/screenshot.png",
                    fullPage: false
                });
                rem.sendFile(from, './lib/cache/img/screenshot.png', 'screenshot.png', '', id)
            }
            break*/
        case prefix+'getss':
            await exec('import -display :11.0 -window root -resize 1920x1080 -delay 200 /home/mizu/Mizu/media/ss.png')
            await sleep(5000)
            await rem.sendFile(from, './media/ss.png', 'ss.png', '', message, image)
            break
        case prefix+'getses':
            await exec('import -display :11.0 -window 0x360002b -resize 1920x1080 -delay 200 /home/mizu/Mizu/media/ss_browser.png')
            await sleep(5000)
            await rem.sendFile(from, './media/ss_browser.png', 'ss.png', '', message, image)
            break
        case prefix+'mentionba':
        case prefix+'tagstaff':
            if(!isGroupMsg) return reply(from, 'Perintah ini hanya bisa digunakan dalam group!', id)
            if(!isSideOwner) return reply(from, 'Perintah ini hanya untuk Side Owner!', id)

            const staffMessage = body.slice(body.indexOf(args[0]) + args[0].length).trim()

            if(staffMessage.startsWith(prefix)) {
                return reply(from, `Tidak dapat menggunakan ${prefix} di awal pesan! Mohon gunakan pesan tanpa awalan ${prefix}`, id)
            }

            const staffMembers = await _mongo_UserSchema.find({ 
                $or: [
                    { isAdmin: true },
                    { "rl.isMod": true }
                ]
            }).lean()

            if(staffMembers.length === 0) return reply(from, 'Tidak ada staff yang terdaftar!', id)

            let staffText = ''
    
            if (staffMessage) {
                staffText = `${staffMessage}\n\n`
            }

            for(const staff of staffMembers) {
                if (!staff.iId) continue
                staffText += `@${staff.iId.replace(/@s.whatsapp.net/g, '')} `
            }

            rem.sendTextWithMentions(from, staffText.trim())
            break
        case prefix+'moderator':
        case prefix+'md':
            const moderatorNumber = (await _mongo_UserSchema.find({ "rl.isMod": true })).map(all => all.iId)
            let mod = `This is list of Moderator\nTotal : ${moderatorNumber.length}\n`
            for (let a of moderatorNumber) {    
                mod += `@${a.replace(/@s.whatsapp.net/g, '')}\n`
            }
            if(isMention) {
                await rem.sendTextWithMentions(from, mod)
            } else {
                await reply(from, mod.replace(/@/gi, 'wa.me/'))
            }
            break

        case prefix+'botadmin':
        case prefix+'ba':
        case prefix+'adminbot':
            const adminNumber3 = (await _mongo_UserSchema.find({ isAdmin: true })).map(all => all.iId)
            let admn = `This is list of Bot Admin\nTotal : ${adminNumber3.length}\n`
            for (let i of adminNumber3) {
                admn += `‚û§ @${i.replace(/@s.whatsapp.net/g,'')}\n`
            }
            if(isMention) {
                await rem.sendTextWithMentions(from, admn)
            } else {
                await reply(from, admn.replace(/@/gi, 'wa.me/'))
            }
            // return rem.sendButtonsTemplate(from, '*Bot Admin telah dihapus!*\nSekarang diganti dengan Role Side Owner', [{ index: 1, quickReplyButton: { displayText: `${prefix}sideowner`, id: 'buttons_sideOwner' } }], '', '@dwirizqi.h')

//             const scrollFormatSendAdmin = []
//             const AdminNumber = adminNumber3
//             for(let i = 0; i < AdminNumber.length; i++) {
//                 // if(AdminNumber[i] == '6281358181668@s.whatsapp.net' || AdminNumber[i] == '62856038120076@s.whatsapp.net' || AdminNumber[i] == '6282229778223@s.whatsapp.net' || AdminNumber[i] == '6289697228713@s.whatsapp.net' || AdminNumber[i] == '6289521748989@s.whatsapp.net' || AdminNumber[i] == '6281521534601@s.whatsapp.net') continue
//                 const AdminNumberI = AdminNumber[i].split('@s.whatsapp.net')[0]
//                 const getDbAdmin =  await _mongo_UserSchema.findOne({ iId: AdminNumber[i] })
                
//                 let AdminNumberIName = !isMention ? getNama(getDbAdmin) != undefined ?  getNama(getDbAdmin) : await rem.contacts(AdminNumber[i], await _mongo_ContactSchema.findOne({ iId: AdminNumber[i] })) : ''
//                 let getProfilePicAdmin = 'https://remcp.com/assets/img/images_pp_blank.png'
//                 try {
//                     getProfilePicAdmin = await rem.profilePictureUrl(AdminNumber[i])
//                 } catch (err) {
//                     console.error(err)
//                 }

//                 const nametagAdmin = getNameTag(getDbAdmin)

//                 let statusRequestedAdmin = ''
//                 try {
//                     statusRequestedAdmin = await rem.fetchStatus(AdminNumber[i])
//                 } catch (err) {
//                     console.error(err)
//                 }

//                 let tempGetIdUserPasanganRequestedAdmin = getUserRoleplay_pasangan(getDbAdmin)
//                 let getUserPasanganRequestedAdmin = ''
//                 if (tempGetIdUserPasanganRequestedAdmin != undefined) {
//                     getUserPasanganRequestedAdmin = `\nPasangan : *_${AdminNumberIName}_* ‚ù§Ô∏è *_${tempGetIdUserPasanganRequestedAdmin.nama}_*\n`
//                 }

//                 scrollFormatSendAdmin.push({
//                     body: `üéì *Nama üéì: ${AdminNumberIName}*
                    
// üå± *User Info üå±: ${statusRequestedAdmin.status}*

// üí´ *User üí´: ${nametagAdmin.select}*
// ${getUserPasanganRequestedAdmin}`,
//                     header: {
//                         imageMessage: { url: getProfilePicAdmin },
//                         hasMediaAttachment: true
//                     },
//                     footer: config.botWM,
//                     buttons: [{
//                         name: "cta_url",
//                         buttonParamsJson: JSON.stringify({
//                             display_text: 'Chat Admin Bot',
//                             url: `https://wa.me/${AdminNumberI}`,
//                             merchant_url: `https://wa.me/${AdminNumberI}`
//                         })
//                     }]
//                 })
//             }

//             await rem.sendScrollMessage(from, '', scrollFormatSendAdmin)
            break
        case prefix+'rulestf':
            if(from != '120363159869866611@g.us') return reply(from, 'Perintah ini hanya bisa digunakan di group Forum Bot Admin', id)
            const getRulesStaff = await _mongo_CommandSchema.findOne({ cId: 'rulesstaff' })
            const showRulesStaff = getRulesStaff.content.text || '*Rules Staff belum dibuat!*\nGunakan *.rulestf_edit <isi rules>* untuk membuat/mengedit.'

            return reply(from, showRulesStaff, id)
            break
        case prefix+'rulestf_edit':
            if(!isSideOwner) return reply(from, 'Perintah ini hanya untuk Side Owner', id)
            const newRules = body.replace(args[0] + ' ', '').trim()
            if(!newRules) return reply(from, `Kirim perintah: *.rulestf_edit <isi rules baru>*`, id)
            await _mongo_CommandSchema.updateOne({ cId: 'rulesstaff' }, { $set: { content: [ { text: newRules } ] } })
            return reply(from, 'Berhasil mengedit rules staff menjadi\n\n'+newRules, id)
            break
        case prefix+'rulestf_del':
            if(!isSideOwner) return reply(from, 'Perintah ini hanya untuk Side Owner', id)
            await _mongo_CommandSchema.updateOne({ cId: 'rulesstaff' }, { $set: { content: [{ text: '' }] } })
            return reply(from, 'Berhasil menghapus rules staff', id)
        case prefix+'limit':
            const limidat = _userDb.limit.limit
            if(limidat <= 0) return reply(from, `Limit request anda sudah habis\n\n_Note :_ Untuk membeli limit ketik *_${prefix}shop_*`, id)
            reply(from, `Sisa limit request anda tersisa : *${numberWithCommas(fixNumberE(limidat))}*\n\n_Note :_ Untuk membeli limit ketik *_${prefix}shop_*`, id)
            //console.log(limit)
            //console.log(limidat)
            break
        case prefix+'givelimit':
            if (!isGroupMsg) return reply(from, 'Perintah ini hanya bisa di gunakan dalam group!', id)
            if (mentionedJidList.length === 0 || args[2] == undefined) return reply(from, 'Untuk menggunakan Perintah ini, kirim perintah *'+prefix+'givelimit* @tagmember jumlah', id)
            if (mentionedJidList.length !== 1) return reply(from, 'Maaf, hanya bisa memberikan limit ke 1 user', id)
            if (mentionedJidList[0] === rem.user.jid) return reply(from, 'Kamu tidak bisa memberikan limit ke Bot', id)
            if(inArray_includes(args[2].toLowerCase(), isHuruf)) return reply(from, 'Jumlah harus ber Nomer', id)
            if(args[2].includes('-') || args[2].includes('*') || args[2].includes('/')) return reply(from, 'Tidak boleh ada tanda -, *, /', id)
            if(args[2] == '1') return reply(from, 'Minimal 2', id)
            if(getLimit(_mentionUserDb) == undefined) await isLimit(mentionedJidList[0])
            const amountLimit = Math.floor(args[2])
            const senderLmit = getLimit(_userDb) - amountLimit
            if(senderLmit > amountLimit) {
                const kanggip = mentionedJidList[0]
                await limitMin(sender, amountLimit)
                await limitGive(kanggip, amountLimit)
                if(isMention) {
                    rem.sendTextWithMentions(from, `Succes give limit to @${kanggip.replace('@s.whatsapp.net','')}\nLimit: -${numberWithCommas(fixNumberE(amountLimit))}`)
                } else {
                    rem.sendText(from, `Succes give limit to wa.me/${kanggip.replace('@s.whatsapp.net','')}\nLimit: -${numberWithCommas(fixNumberE(amountLimit))}`)
                }
            } else {
                reply(from, '*GAGAL!*\nLimit kamu tidak mencukupi\nLimit kamu: '+numberWithCommas(fixNumberE(senderLmit))+'\nLimit yang dibagikan: '+numberWithCommas(fixNumberE(amountLimit)), id)
            }
            break
        case prefix+'test775':
            // if(!isOwner) return
            reply(from, `limit_${getLimit(_userDb)}`, id)
            break
        case prefix+'giveaway':
            if (!isGroupMsg) return reply(from, 'Perintah ini hanya bisa di gunakan dalam group!', id)
            if (!isGroupAdmins) return reply(from, 'Perintah ini hanya bisa di gunakan oleh admin group', id)
            if (args[1] == undefined) return reply(from, `Untuk menggunakan Perintah ini\n\n- *_${prefix}giveaway start_* Untuk Memulai\n\n- *_${prefix}giveaway end <jumlah pemenang>_* Untuk Mengambil Pemenang\nContoh: _${prefix}giveaway end 3_\n\n- *_${prefix}giveaway delete_* Untuk Menghapus Giveaway`)
            
            if(args[1] == 'start') {
                const posGv = _groupDb.giveaway
                if(posGv.msgId != undefined) return reply(from, `Masih ada sesi giveaway di group ini\nSilahkan *${prefix}giveaway delete* untuk menghapus`)
                if(args[2] == undefined) return reply(from, 'Mohon isi deskripsi giveaway')

                const sendTextGiveAway = await rem.sendText(from, `${body.replace(`${prefix}giveaway start `, '')}\n\n*React üëç Untuk mengikuti giveaway*`)
                rem.sendReact(form, sendTextGiveAway.key, 'üëç')
    
                await _mongo_GroupSchema.updateOne({ iId: groupId }, { $set: { giveaway: { msgId: sendTextGiveAway.key, owngGv: sender, desc: body.replace(`${prefix}giveaway start `, ''), participant: [] } } })
            } else if(args[1] == 'ends' || args[1] == 'end') {
                if(isNaN(args[2])) return reply(from, `Jumlah Pemenang harus ber nomer\nContoh: _${prefix}giveaway end 5_`)

                const dbGiveAway = _groupDb.giveaway

                if(dbGiveAway.msgId == undefined) return reply(from, `Tidak ada giveaway yang di start\nType: ${prefix}giveaway start`)
                if(dbGiveAway.owngGv !== sender) return reply(from, `Hanya owner giveaway yang bisa mengakhiri giveaway`)

                let winnerGv = []

                const allPartGv = shuffleArray(dbGiveAway.participant)
                
                for(let i = 0; i < Number(args[2]); i++) {
                    winnerGv.push(allPartGv[i])
                }

                return rem.sendTextWithMentions(from, `Pemenang Giveaway ini adalah\n\n@${winnerGv.join('\n@').replace(/@s.whatsapp.net/g, '')}\n\nSelamat untuk pemenang ü•≥ü•≥ü•≥\nSilahkan menghubungi @${dbGiveAway.owngGv.replace('@s.whatsapp.net', '')}\nUntuk mengambil hadia`)
            } else if(args[1] == 'delete') {
                const posGv = _groupDb.giveaway
                if(posGv.msgId == undefined) return reply(from, `Tidak ada giveaway yang di start\nType: ${prefix}giveaway start`)

                await _mongo_GroupSchema.updateOne({ iId: groupId }, { $set: { giveaway: {} } })

                return reply(from, 'Success!')
            }
            break
        // case prefix+'savedatabase':
        // case prefix+'sdb':
        //     if (!isAdmin) return await reply(from, `Perintah ini hanya untuk Admin Bot!`, id)
        //     await reply(from, 'Saving...')
        //     const promises = []

        //     function saveData (filename, content) {
        //         return new Promise(async (resolve) => {
        //             try {
        //                 await resolve(await fs.writeFileSync(filename, JSON.stringify(content)))
        //             } catch (err) {
        //                 console.error(err)
        //             }
        //         })
        //     }
    
        //     for (let i = 0; i < Object.keys(global.db).length; i++) {
        //         //console.log(Object.keys(global.db)[i])
        //         await promises.push(saveData(Object.keys(global.db)[i], global.db[Object.keys(global.db)[i]]))
        //     }
    
        //     console.log(promises)
    
        //     await Promise.all(promises)
        //         .then(async () => {
        //             return await reply(from, 'Success, Saved')
        //         })
        //     break
        case prefix+'ev':
            //console.log(message)
            if (!isSideOwner) return await reply(from, 'Perintah ini hanya untuk role SideOwner!', id)
            if (!q) return await reply(from, 'Format salah', id)
            try {
                let evaled = undefined
                if(body.slice(4).includes('isSuperBanned') || body.toLowerCase().slice(4).includes('client.js') || body.toLowerCase().slice(4).includes('clientjs') || body.toLowerCase().slice(4).includes('fs.') || body.toLowerCase().slice(4).includes('filesystem')) return await reply(from, 'Err! failed send request to top level security\nclient/AsyncExport/switch/case.ev/sendReqTypeEval > index/security/IOA01NIA_1/validateString')
                // if(body.slice(4).includes('.updateOne(') || body.toLowerCase().slice(4).includes('.updateMany(') || body.toLowerCase().slice(4).includes('.deleteMany(') || body.toLowerCase().slice(4).includes('.insertOne(') || body.toLowerCase().slice(4).includes('.insertMany(')) return await reply(from, 'Err! failed send request to top level security\nclient/AsyncExport/switch/case.ev/sendReqTypeEval > index/security/J2A3L20M_1/validateQueryMongo\nReason: DB Update from ev not allowed')
                evaled = await eval(body.slice(4))
                await _mongo_CommandSchema.updateOne({ cId: 'ev_history' }, { $push: { content: { id: sender, from, body: caption || body, evaled, time: moment().format('YYYY-DD-MM HH:mm:ss') } } })
                // if (typeof evaled !== 'string') evaled = require('util').inspect(evaled)
                await rem.sendText(from, util.format(evaled))
            } catch (err) {
                console.error(err)
                await reply(from, `Error!\n${err}`, id)
            }
            break
        case prefix+'ev1':
            if (!isOwner && !isSuperOwner) return reply(from, 'Perintah ini hanya untuk role Owner!', id)
            let isReplyEv1 = false
            try {
                // if(body.slice(4).includes('isSuperBanned')) return await reply(from, 'Tidak bisa menggunakan isSuperBanned')
                if(body.slice(5).includes('--reply')) isReplyEv1 = true
                var evaled1 = await eval(body.slice(5).replace('--reply', ''))
                await _mongo_CommandSchema.updateOne({ cId: 'ev_history' }, { $push: { content: { id: sender, from, body: caption || body, evaled: evaled1, from: 'ev1', time: moment().format('YYYY-DD-MM HH:mm:ss') } } })
                // if (typeof evaled !== 'string') evaled = require('util').inspect(evaled)
                isReplyEv1 ? await reply(from, util.format(evaled1)) : await rem.sendText(from, util.format(evaled1))
            } catch (err) {
                console.error(err)
                await reply(from, `Error!\n${err}`, id)
            }
            break
        case prefix+'get':
            if(!isOwner) return reply(from, `Perintah ini hanya untuk Dwi!`, id)
            if(args[1] == undefined) return reply(from, 'Invalid params!')
            switch(args[1]) {
                case 'db':
                    let getedDb = undefined
                    if (mentionedJidList[0]) {
                        getedDb = _mentionUserDb
                    } else if(quotedMsg) {
                        const _userDbQuoted = await _mongo_UserSchema.findOne({ iId: quotedMsg.sender })
                        getedDb = _userDbQuoted
                    } else if(args[2] != undefined) {
                        const _userDbArgs = await _mongo_UserSchema.findOne({ iId: args[2] })
                        getedDb = _userDbArgs
                    } else {
                        return reply(from, 'Invalid params_0!')
                    }
                    if(getedDb == undefined) return reply(from, 'Invalid params_1!')
                    reply(from, JSON.stringify(getedDb, null, 2))
                break
                default:
                    reply(from, 'Invalid params!')
                }
                break
        case prefix+'obtinedlinkgroup':
        case prefix+'olgroup':
            if(!isOwner) return reply(from, 'Perintah ini hanya bisa digunakan oleh Rafid!', id)
    
            try {
                if (args.length < 2) return reply(from, `Format salah! Penggunaan: ${prefix}olgroup [ID Group]`, id)
                
                const groupName = groupMetadata.subject
                const groupId = args[1].endsWith('@g.us') ? args[1] : args[1] + '@g.us'
        
                const inviteCode = await rem.groupInviteCode(groupId)
                if (!inviteCode) return reply(from, 'Gagal membuat link, pastikan ID group benar dan bot adalah admin di group tersebut', id)
        
                const inviteLink = 'https://chat.whatsapp.com/' + inviteCode
        
                await reply(from, `*„Äå GROUP LINK „Äç*\n\n*Nama:* ${groupName}\n*ID:* ${groupId}\n*Link:* ${inviteLink}`, id)
            } catch (error) {
                console.error(error)
                reply(from, 'Terjadi kesalahan, pastikan ID group benar dan bot adalah admin di group tersebut', id)
            }
            break
        case prefix+'cek':
            if(isMod && !isSideOwner) {
                if(from !== '120363417108683279@g.us') {
                    return reply(from, 'Sebagai moderator, Anda hanya dapat menggunakan perintah ini di grup tertentu!', id)
                }
            }
            if(!isSideOwner && !isMod) {
                return reply(from, 'Perintah ini hanya untuk Side Owner atau Moderator!', id)
            }
            if(args[1] == undefined) return reply(from, 'Invalid params!')
            switch(args[1]) {
                case 'db':
                    let cekDb = undefined
                    if (mentionedJidList[0]) {
                        cekDb = _mentionUserDb
                    } else if(quotedMsg) {
                        const _userDbQuoted = await _mongo_UserSchema.findOne({ iId: quotedMsg.sender })
                        cekDb = _userDbQuoted
                    } else if(args[2] != undefined) {
                        const _userDbArgs = await _mongo_UserSchema.findOne({ iId: args[2] })
                        cekDb = _userDbArgs
                    } else {
                        return reply(from, 'Ulangi menggunakan `@s.whatsapp.net`, `@tag` atau reply pesan!', id)
                    }
                    if(cekDb == undefined) return reply(from, 'Ulangi menggunakan `@s.whatsapp.net`, `@tag` atau reply pesan!', id)
                    reply(from, util.format(cekDb))
                    break
                case 'db_sender':
                    let cekDbSender = undefined
                    if (sender) {
                        cekDbSender = _userDb
                    } else if(sender) {
                        const _userDbQuoted = await _mongo_UserSchema.findOne({ iId: sender })
                        cekDbSender = _userDbQuoted
                    } else {
                        return reply(from, 'Invalid!')
                    }
                    if(cekDbSender == undefined) return reply(from, 'Ulangi menggunakan `@s.whatsapp.net` atau `@tag`')
                    reply(from, util.format(cekDbSender))
                    break
                } 
            break
        case prefix+'movedb':
            if(!isSideOwner && !isMod) return reply(from, `Perintah ini hanya untuk Side Owner!`, id)
            if(!allArgs[1] && !allArgs[2]) return reply(from, `Format salah!\n\n*${prefix}movedb <sumber> <tujuan>*\nContoh: _${prefix}movedb 62xxxx 62xxxx_`)
            if(from != '120363417108683279@g.us') return reply(from, 'perintah ini hanya bisa dilakukan hanya pada group bot admin!')
            if(allArgs[3] != 'confirm' && !message.selectedButtonId) {
                rem.sendButtons(from, `Konfirmasi pemindahan Database user!\n\nDari : *wa.me/${allArgs[1]}*\nKe : *wa.me/${allArgs[2]}*`, [{ id: `${prefix}movedb ${allArgs[1]} ${allArgs[2]} confirm`, text: 'Lanjut' }])
            } else {
                console.log(allArgs[1], allArgs[2])
                const _userDbFrom = await _mongo_UserSchema.findOne({ iId: `${allArgs[1]}@s.whatsapp.net` })
                const _userDbTo = await _mongo_UserSchema.findOne({ iId: `${allArgs[2]}@s.whatsapp.net` })

                if(_userDbFrom == undefined) return reply(from, `User ${allArgs[1]} tidak ditemukan!`, id)
                if(_userDbTo == undefined) return reply(from, `User ${allArgs[2]} tidak ditemukan!`, id)
                console.log(_userDbFrom, _userDbTo)

                await _mongo_UserSchema.deleteOne({ iId: `${allArgs[2]}@s.whatsapp.net` })
                await _mongo_UserSchema.updateOne({ iId: `${allArgs[1]}@s.whatsapp.net` }, { $set: { iId: `${allArgs[2]}@s.whatsapp.net` } })
                
                const invalidNumber = ownerNumber2 && sideOwnerNumber
                    if(invalidNumber.includes(allArgs[1])) {
                        return reply(from, '*access denied, you not allowed to move this number!*', id)
                    }

                _userDbTo.iId = `${allArgs[1]}@s.whatsapp.net`
                let convertToNormalObj = _userDbTo.toObject()
                delete convertToNormalObj._id
                await _mongo_UserSchema.create(convertToNormalObj)
                console.log('success')

                const currentTime = moment.tz('Asia/Jakarta')
                const dayName = currentTime.format('dddd')
                const formattedTime = currentTime.format('DD/MM/YYYY HH:mm:ss')

                let succeedMsg = `*|| MOVEDB ||*\n
Berhasil memindahkan database user!
‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
Dari Nomor : *${allArgs[1]} ke ${allArgs[2]}*
Di pindahkan oleh : @${sender.replace('@s.whatsapp.net', '')}
Hari : ${dayName}
Tanggal/Pukul : ${formattedTime}
‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ`

                // let sendMsgLog = reply('120363159869866611@g.us', `Berhasil memindahkan database user *${allArgs[1]} ke ${allArgs[2]}*`, id)
                // let sendMsgLog2 = reply('6281358181668-1621640771@g.us', `Berhasil memindahkan database user *${allArgs[1]} ke ${allArgs[2]}*`, id)
                // let sendMsgLog3 = reply(from, `Berhasil memindahkan database user *${allArgs[1]} ke ${allArgs[2]}*`, id)

                rem.sendTextWithMentions('120363417108683279@g.us', succeedMsg, id)
                rem.sendTextWithMentions('6281358181668-1621640771@g.us', succeedMsg, id)
                rem.sendTextWithMentions(from, succeedMsg, id)
            }
            break
        case prefix+'restart':
            if(!isOwner) return reply(from, 'Invalid!')
            if (!isSideOwner) return await reply(from, `Perintah ini hanya untuk Side Owner!`, id)
            if(body.includes('--close')) {
                setting.restart = true
                await rem.sendText(from, '*[WARN]* Restarting ...')
            } else if(body.includes('--restart')) {
                //await sleep(15000)
                setting.restart = true
                rem.sendText(from, '*[WARN]* Restarting ...')
                const spawna = require('child_process').exec;
                function os_func() {
                this.execCommand = function (command) {
                    return new Promise((resolve, reject)=> {
                        spawna(command, (error, stdout, stderr) => {
                            if (error) {
                                reject(error);
                                return;
                            }
                            resolve(stdout)
                        });
                    })
                }}
                var oz = new os_func();
                oz.execCommand('pm2 restart index').then(res=> {
                }).catch(err=> {
                    console.log("os >>>", err);
                })
            } else {
                setting.restart = true
                await rem.sendText(from, '*[WARN]* Restarting ...')
            }
                break
        case prefix+'restart_exec':
            if(!isSideOwner) return reply(from, `Perintah ini hanya untuk Side Owner!`, id)
            if(args[1] == undefined) return reply(from, 'Invalid params!')
            try {
                exec(`pm2 restart ${args[1]}`)
                reply(from, 'Success')
            } catch (err) {
                console.error(err)
                return reply(from, 'Err!')
            }
            break
        /*case prefix+'restart': // WORK IF YOU RUN USING PM2
            if(isOwner){
                rem.sendText(from, '*[WARN]* Restarting ...')
                setting.restartState = true
                setting.restartId = chatId
                var obj = []
                //fs.writeFileSync('./lib/setting.json', JSON.stringify(obj, null,2));
                fs.writeFileSync('./lib/database/user/limit.json', JSON.stringify(obj));
                fs.writeFileSync('./lib/database/group/muted.json', JSON.stringify(obj));
                fs.writeFileSync('./lib/database/bot/msgLimit.json', JSON.stringify(obj));
                //fs.writeFileSync('./lib/database/bot/banned.json', JSON.stringify(obj));
                fs.writeFileSync('./lib/database/group/Simsimi.json', JSON.stringify(obj));
                //fs.writeFileSync('./lib/database/group/nsfwz.json', JSON.stringify(obj));
                const spawn = require('child_process').exec;
                function os_func() {
                    this.execCommand = function (command) {
                        return new Promise((resolve, reject)=> {
                        spawn(command, (error, stdout, stderr) => {
                            if (error) {
                                reject(error);
                                return;
                            }
                            resolve(stdout)
                        });
                    })
                }}
                var oz = new os_func();
                oz.execCommand('pm2 restart index').then(res=> {
                }).catch(err=> {
                    console.log("os >>>", err);
                })
            } else {
                rem.sendText(from, `You don't have enough level access`)
            }
            break*/
        /*case prefix+'shutdown':
            if(!isOwner) return reply(from, `Perintah ini hanya untuk Dwi!`, id)
            /*const namagrupshutdown = 'Sayu Bot [Status Offline]'
            const groupofficial = '6281225297663-1611500565@g.us'
            const groupofficialid = '6281225297663-1611500565@g.us'
            let halamanofficial = global.page ? global.page : await rem.getPage()
            await halamanofficial.evaluate((groupofficial, subject) =>
            Store.WapQuery.changeSubject(groupofficial, subject),groupofficialid, `${namagrupshutdown}`)
            await rem.sendText(from, 'Sayonara')
            rem.kill()
            break*/
            case prefix + 'addadmin':
                if (!isSideOwner) return reply(from, 'Perintah ini hanya untuk role SideOwner!', id);
                
                if (!args[1]) return reply(from, 'Masukkan nomor yang akan ditambah ke admin bot!', id);
                
                let admins = [];
                if (mentionedJidList.length !== 0) {
                    admins = mentionedJidList;
                } else {
                    let number = args[1].replace(/\D/g, '');
                    if (number.length < 9) return reply(from, 'Nomor tidak valid!', id);
                    let jid = number + '@s.whatsapp.net';
                    admins.push(jid);
                }
            
                for (let i = 0; i < admins.length; i++) {
                    await _mongo_UserSchema.updateOne(
                        { iId: admins[i] },
                        { $set: { isAdmin: true } },
                        { upsert: true }
                    );
                    // await addNameTag_tag(admins[i], 'üî± Admin Bot RemComp üî∞');
                }
            
                reply(from, 'Berhasil menambahkan Admin Bot!', id);
                break;            

            case prefix + 'addprem':
                if (!isSideOwner) return reply(from, 'Perintah ini hanya untuk role SideOwner!', id);
            
                if (!args[1]) return reply(from, 'Masukkan nomor yang akan ditambahkan ke Premium!\nContoh: .addprem 628xxxxx atau tag user.');
            
                
                let users = [];
                if (mentionedJidList.length !== 0) {
                    users = mentionedJidList;
                } else {
                   
                    let number = args[1].replace(/\D/g, ''); 
                    if (number.length < 8) return reply(from, 'Nomor tidak valid!');
                    let jid = number + '@s.whatsapp.net'; 
                    users.push(jid);
                }
            
                for (let i = 0; i < users.length; i++) {
                    await _mongo_UserSchema.updateOne(
                        { iId: users[i] },
                        { $set: { isPremium: true } },
                        { upsert: true } 
                    );
                    await addNameTag_tag(users[i], 'üëëPremiumüëë');
                }
            
                reply(from, 'Berhasil menambahkan user ke Premium!', id);
                break;

                 case prefix + 'addpremium':
                if (!isSideOwner) return reply(from, 'Perintah ini hanya untuk role SideOwner!', id);
                if(from != '120363159869866611@g.us') return reply(from, 'perintah ini hanya bisa digunakan pada grup Bot Admin!')
                if (!args[1]) return reply(from, 'Masukkan nomor yang akan ditambahkan ke Premium!\nContoh: .addpremium 628xxxxx atau tag user.');
            
                let user = [];
                if (mentionedJidList.length !== 0) {
                    user = mentionedJidList;
                } else {
                   
                    let number = args[1].replace(/\D/g, ''); 
                    if (number.length < 8) return reply(from, 'Nomor tidak valid!');
                    let jid = number + '@s.whatsapp.net'; 
                    user.push(jid);
                }
            
                for (let i = 0; i < user.length; i++) {
                    await _mongo_UserSchema.updateOne(
                        { iId: user[i] },
                        { $set: { isPremium: true } },
                        { upsert: true } 
                    );
                    await addNameTag_tag(user[i], 'üí´ Premium ‚ú®');
                }
            
                reply(from, 'Berhasil menambahkan user ke Premium!', id);
                break;
            
                case prefix + 'addmod':
                    if (!isSideOwner) return reply(from, 'Perintah ini hanya untuk role SideOwner', id);
                    if (!args[1]) return reply(from, 'Masukkan nomor yang akan dijadikan Moderator!', id);
                
                    
                    let targetJid;
                    if (mentionedJidList.length > 0) {
                        targetJid = mentionedJidList[0];
                    } else {
                        let number = args[1].replace(/\D/g, '');
                        if (number.length < 8) return reply(from, 'Nomor tidak valid!', id);
                        targetJid = number + '@s.whatsapp.net';
                    }
                
                    
                    let targetUserDb = await _mongo_UserSchema.findOne({ iId: targetJid });
                
                    
                    if (!targetUserDb) {
                        await _mongo_UserSchema.updateOne(
                            { iId: targetJid },
                            { $set: { 'rl.isMod': true } },
                            { upsert: true }
                        );
                    } else {
                        
                        await _mongo_UserSchema.updateOne(
                            { iId: targetJid },
                            { $set: { 'rl.isMod': true } }
                        );
                    }
                
                    reply(from, `Berhasil menambahkan Moderator!`, id);
                    break;

        // case prefix+'warn':
        //     if(!isSideOwner) return reply(from, 'Perintah ini hanya untuk Side Owner!', id)
        //     if(mentionedJidList.length === 0) return reply(from, 'Tag user yang ingin di-warn!\nContoh: .warn @user alasan', id)
        //     if(!isGroupMsg) return reply(from, 'Perintah ini hanya bisa di gunakan dalam group!', id)
        //     if(isSideOwner && !isOwner) {
        //         if(from !== '120363417108683279@g.us' && from !== '120363159869866611@g.us') {
        //             return reply(from, 'Sebagai Side Owner, Anda hanya dapat menggunakan perintah ini di grup tertentu!', id)
        //         }
        //     }
            
        //     let warnedUser
        //     let warnedReason = args.slice(1).join(' ')

        //     if(_userDb.rl?.warning == undefined) {
        //         await getWarn(_userDb)
        //     }

        //     if(quotedMsg) {
        //         warnedUser = quotedMsg.sender
        //     } else if(mentionedJidList[0]) {
        //         warnedUser = mentionedJidList[0]
        //     } else {
        //         return reply(from, `Format salah!\nGunakan ${prefix}warn @tag/reply [alasan]`, id)
        //     }

        //     const warnedUserDb = await _mongo_UserSchema.findOne({ iId: warnedUser })
        //     if(!warnedUserDb) return reply(from, 'User tidak ditemukan dalam database!', id)
        //     if(!warnedUserDb.isAdmin && !warnedUserDb.rl?.isMod) return reply(from, 'User tersebut bukan bot admin atau moderator!', id)
        //     if(!warnedReason || warnedReason === '') {
        //         warnedReason = 'No Reason'
        //     }

        //     const warnResult = await addWarn(warnedUserDb, warnedReason)
        //     const currentWarning = warnResult.warn.length

        //     let warnName = getNama(warnedUserDb) || warnedUser.replace('@s.whatsapp.net', '')
        //     if(currentWarning >= 3) {
        //         if(warnedUserDb.isAdmin) {
        //             await _mongo_UserSchema.updateOne({ iId: warnedUser }, { $set: { isAdmin: false } })
        //         } else if(warnedUserDb.rl?.isMod) {
        //             await _mongo_UserSchema.updateOne({ iId: warnedUser }, { $set: { "rl.isMod": false } })
        //         }

        //         await rem.sendTextWithMentions(from, `‚ö†Ô∏è *PERINGATAN!* @${warnedUser.replace('@s.whatsapp.net', '')} telah mendapatkan ${currentWarning} peringatan.\nLast Reason: ${warnedReason}\n\nStatus Bot Admin/Moderator telah dicabut karena mencapai 3 peringatan.`)
        //     } else {
        //         await rem.sendTextWithMentions(from, `‚ö†Ô∏è *PERINGATAN!* @${warnedUser.replace('@s.whatsapp.net', '')} telah mendapatkan peringatan ke-${currentWarning}.\nReason: ${warnedReason}\n\n${3 - currentWarning} peringatan lagi sebelum pencabutan status Bot Admin/Moderator.`)
        //     }

        //     await _mongo_UserSchema.updateOne({ iId: targetWarn }, { $set: { warn: warnResult.warn } })
        //     break

        // case prefix+'unwarn':
        //     if(!isSideOwner) return reply(from, 'Perintah ini hanya untuk Side Owner!', id)
        //     if(mentionedJidList.length === 0) return reply(from, 'Tag user yang ingin di-warn!\nContoh: .warn @user alasan', id)
        //     if(!isGroupMsg) return reply(from, 'Perintah ini hanya bisa di gunakan dalam group!', id)
        //     if(isSideOwner && !isOwner) {
        //         if(from !== '120363417108683279@g.us' && from !== '120363159869866611@g.us') {
        //             return reply(from, 'Sebagai Side Owner, Anda hanya dapat menggunakan perintah ini di grup tertentu!', id)
        //         }
        //     }

        //     let unwarnedUser

        //     if(quotedMsg) {
        //         unwarnedUser = quotedMsg.sender
        //     } else if(mentionedJidList[0]) {
        //         unwarnedUser = mentionedJidList[0]
        //     } else {
        //         return reply(from, `Format salah!\nGunakan ${prefix}delwarn @tag/reply`, id)
        //     }

        //     const unwarnedUserDb = await _mongo_UserSchema.findOne({ iId: unwarnedUser })
        //     if(!unwarnedUserDb) return reply(from, 'User tidak ditemukan dalam database!', id)

        //     const warningUnwarnedUser = getWarn(unwarnedUserDb)
        //     if(warningUnwarnedUser.length === 0) return reply(from, 'User tidak memiliki peringatan!', id)
        //     warningUnwarnedUser.pop()
        //     await _mongo_UserSchema.updateOne({ iId: unwarnedUser }, { $set: { warn: warningUnwarnedUser } })
        //     await rem.sendTextWithMentions(from, `‚úÖ *PERINGATAN DIHAPUS* @${unwarnedUser.replace('@s.whatsapp.net', '')} telah dihapus peringatan ke-${warningUnwarnedUser.length - 1}.\n\nSisa peringatan: ${warningUnwarnedUser.length}`)
        //     break
        // case prefix+'warn2':
        //     if (!isSideOwner) return reply(from, 'Perintah ini hanya untuk Side Owner!', id)
    
        //     let warnUserJid = ''
        //     let warnReason = args.slice(1).join(' ') || 'No reason'
    
        //     if (quotedMsg) {
        //         warnUserJid = quotedMsg.sender
        //     } else if (mentionedJidList.length > 0) {
        //         warnUserJid = mentionedJidList[0]
        //     } else if (args.length >= 1) {
        //         if (args[0].startsWith('62') || args[0].startsWith('08')) {
        //             let formattedNum = args[0]
        //             formattedNum = formattedNum.startsWith('08') ? '62' + formattedNum.slice(1) : formattedNum
        //             formattedNum = formattedNum.includes('@') ? formattedNum : `${formattedNum}@s.whatsapp.net`
        //             warnUserJid = formattedNum
        //             warnReason = args.slice(1).join(' ') || 'No reason'
        //         } else {
        //             return reply(from, 'Format salah! Silakan tag/reply pesan pengguna atau ketik nomor!', id)
        //         }
        //     } else {
        //         return reply(from, 'Format salah! Silakan tag/reply pesan pengguna atau ketik nomor!', id)
        //     }
    
        //     const warnTargetDb = await _mongo_UserSchema.findOne({ iId: warnUserJid })
    
        //     if (!warnTargetDb) return reply(from, 'User tidak ditemukan di database!', id)

        //     if (!warnTargetDb.isAdmin && !warnTargetDb.rl.isMod) {
        //         return reply(from, 'Perintah ini hanya berlaku untuk Bot Admin atau Moderator!', id)
        //     }

        //     await addWarn(warnUserJid, 1)
        //     const currentWarnCount = getWarn(warnTargetDb) || 1
        //     let warnMessage = `‚ö†Ô∏è *WARNING* ‚ö†Ô∏è\n\nUser: @${warnUserJid.replace('@s.whatsapp.net', '')}\nWarning ke-${currentWarnCount}\nAlasan: ${warnReason}`

        //     if (currentWarnCount >= 3) {
        //         if (warnTargetDb.isAdmin) {
        //             await _mongo_UserSchema.updateOne({ iId: warnUserJid }, { $set: { isAdmin: false } })
        //             warnMessage += '\n\n*User telah mencapai 3 peringatan, status Bot Admin telah dihapus!*'
        //         }
        //         if (warnTargetDb.rl.isMod) {
        //             await _mongo_UserSchema.updateOne({ iId: warnUserJid }, { $set: { "rl.isMod": false } })
        //             warnMessage += '\n\n*User telah mencapai 3 peringatan, status Moderator telah dihapus!*'
        //         }
        //     }

        //     await rem.sendTextWithMentions(from, warnMessage)
        //     break
        // case prefix+'unwarn2':
        //     if (!isSideOwner) return reply(from, 'Perintah ini hanya untuk Side Owner!', id)
    
        //     let unwarnUserJid = ''
    
        //     if (quotedMsg) {
        //         unwarnUserJid = quotedMsg.sender
        //     } else if (mentionedJidList.length > 0) {
        //         unwarnUserJid = mentionedJidList[0]
        //     } else if (args.length >= 1) {
        //         if (args[0].startsWith('62') || args[0].startsWith('08')) {
        //             let formattedNum = args[0]
        //             formattedNum = formattedNum.startsWith('08') ? '62' + formattedNum.slice(1) : formattedNum
        //             formattedNum = formattedNum.includes('@') ? formattedNum : `${formattedNum}@s.whatsapp.net`
        //             unwarnUserJid = formattedNum
        //         } else {
        //             return reply(from, 'Format salah! Silakan tag/reply pesan pengguna atau ketik nomor!', id)
        //         }
        //     } else {
        //         return reply(from, 'Format salah! Silakan tag/reply pesan pengguna atau ketik nomor!', id)
        //     }
    
        //     const unwarnTargetDb = await _mongo_UserSchema.findOne({ iId: unwarnUserJid })
        //     if (!unwarnTargetDb) return reply(from, 'User tidak ditemukan di database!', id)
        //     const currentUnwarnCount = getWarn(unwarnTargetDb) || 0
    
        //     if (currentUnwarnCount <= 0) {
        //         return reply(from, 'User ini tidak memiliki peringatan!', id)
        //     }

        //     await removeWarn(unwarnUserJid, 1)
        //     await rem.sendTextWithMentions(from, `‚úÖ *UNWARN* ‚úÖ\n\nUser: @${unwarnUserJid.replace('@s.whatsapp.net', '')}\nWarning dikurangi 1\nWarning sekarang: ${currentUnwarnCount - 1}`)
        //     break
        // case prefix+'addprem_group':
        //     if(!isOwner) return reply(from, 'Perintah ini hanya untuk Dwi!', id)
        //     const groupMekPremium = groupMetadata.participants
        //     for (let i = 0; i < groupMekPremium.length; i++) {
        //         const pisahminus = groupMekPremium[i].id.trim().split('-')
        //         global.db['./lib/database/user/premium.json'].push(pisahminus[0])
        //     }
        //     await sleep(2000)
        //     reply(from, 'Succes!', id)
        //     break
        // case prefix+'delprem_group':
        //     if(!isOwner) return reply(from, 'Perintah ini hanya untuk Dwi!', id)
        //     const groupMekPremiumDelete = groupMetadata.participants
        //     for (let i = 0; i < groupMekPremiumDelete.length; i++) {
        //         const pisahminuss = groupMekPremiumDelete[i].id.trim().split('-')
        //         global.db['./lib/database/user/premium.json'].splice(pisahminuss[0], 1)
        //     }
        //     await sleep(2000)
        //     reply(from, 'Succes!', id)
        //     break
        case prefix + 'delprem':
    if (!isSideOwner) return reply(from, 'Perintah ini hanya untuk role SideOwner!', id);

    if (!args[1]) return reply(from, 'Masukkan nomor yang akan dihapus dari Premium!\nContoh: .delprem 628xxxxx atau tag user.');

    
    let usersDel = [];
    if (mentionedJidList.length !== 0) {
        usersDel = mentionedJidList;
    } else {
        
        let numberDel = args[1].replace(/\D/g, ''); 
        if (numberDel.length < 8) return reply(from, 'Nomor tidak valid!');
        let jidDel = numberDel + '@s.whatsapp.net'; 
        usersDel.push(jidDel);
    }

    for (let i = 0; i < usersDel.length; i++) {
        await _mongo_UserSchema.updateOne(
            { iId: usersDel[i] },
            { $set: { isPremium: false } }
        );
        
    }

    reply(from, 'Berhasil menghapus user dari Premium!', id);
    break;

    case prefix+'delmod':
        if (!isSideOwner) return reply(from, 'Perintah ini hanya untuk role SideOwner', id);
        if (args[1] == undefined) return reply(from, 'Masukkan nomor yang akan dihapus dari role Moderator!', id);
    
        let targetDelMod = args[1];
        if (mentionedJidList.length !== 0) {
            targetDelMod = mentionedJidList[0];
        } else {
            targetDelMod = targetDelMod.replace(/[^0-9]/g, '');
    
            if (targetDelMod.startsWith('0')) {
                targetDelMod = '62' + targetDelMod.slice(1);
            } else if (!targetDelMod.startsWith('62')) {
                targetDelMod = '62' + targetDelMod;
            }
    
            targetDelMod = targetDelMod + '@s.whatsapp.net';
        }
    
        let findUserDb2 = await _mongo_UserSchema.findOne({ iId: targetDelMod });
    
        if (!findUserDb2) {
            
            await _mongo_UserSchema.updateOne(
                { iId: targetDelMod },
                { $set: { "rl.isMod": false } },
                { upsert: true }
            );
        } else {
            
            await _mongo_UserSchema.updateOne(
                { iId: targetDelMod },
                { $set: { "rl.isMod": false } }
            );
        }
    
        rem.sendTextWithMentions(from, `Success Menghapus Moderator!`, id);
        break;
    
            case prefix+'deladmin':
                if (!isSideOwner) return reply(from, 'Perintah ini hanya untuk role SideOwner!', id)
                if(args[1] == undefined) return reply(from, 'Masukkan nomor yang akan dihapus dari admin bot!', id)
                    let numberDelAdmin = mentionedJidList[0] != undefined ? mentionedJidList[0].replace(/\+|@s.whatsapp.net|@|-| /gi, '').trim() : body.slice(10).replace(/\+|@s.whatsapp.net|@|-| /gi, '').trim()
                await _mongo_UserSchema.updateOne({ iId: numberDelAdmin + '@s.whatsapp.net' }, { $set: { isAdmin: false } })
                reply(from, 'Success Menghapus admin bot!', id)
                break
            
        case prefix+'delpremqo':
            if (!isOwner) return reply(from, 'Perintah ini hanya untuk Dwi!', id)
                var qmidqp = quotedMsg.sender
                await _mongo_UserSchema.updateOne({ iId: qmidqp }, { $set: { isPremium: false } })
                reply(from, 'Success Menghapus User Premium!', id)
            break
        case prefix+'block':
                return reply(from, 'Not Implemented!')
                if (!isSideOwner) return reply(from, `Perintah ini hanya untuk Dwi!\nUntuk AdminBot silahkan pakai _${prefix}ban time_`, id)
                for (let i = 0; i < mentionedJidList.length; i++) {
                    if (mentionedJidList[0]) {
                        var block = mentionedJidList[i]
                    } else {
                        var block = quotedMsg.sender
                    }
                    await rem.updateBlockStatus(block, 'block').then((a)=>{
                        console.log(a)
                        reply(from, `Success block ${args[1]}!`, id)
                    })
                }
                break
            case prefix+'unblock':
                return reply(from, 'Not Implemented!')
                if (!isSideOwner) return reply(from, 'Perintah ini hanya untuk Dwi!', id)
                for (let i = 0; i < mentionedJidList.length; i++) {
                    let unblock = `${mentionedJidList[i]}`
                    await rem.updateBlockStatus(unblock, 'unblock').then((a)=>{
                        console.log(a)
                        reply(from, `Success unblok ${args[1]}!`, id)
                    })
                } 
                break
        case prefix+'getpic':
            if (!isGroupMsg) return reply(from, `Fitur ini hanya bisa di gunakan dalam group`, id)
            if (mentionedJidList.length === 0) return reply(from, 'Untuk menggunakan Perintah ini, kirim perintah *'+prefix+'getpic* @tagmember', id)
                try {
                    for (let i = 0; i < mentionedJidList.length; i++) {
                        let getPicResult = './media/img/images_pp_blank.png'
                        try {
                            getPicResult = await rem.profilePictureUrl(mentionedJidList[i], 'image')
                        } catch (err) {
                            reply(from, `Tidak Ada Foto Profile! ${mentionedJidList[i].replace('@s.whatsapp.net', '')}`, id)
                            console.error(err)
                            continue;
                        }

                        rem.sendFile(from, getPicResult, `userPic.png`, '', messageRaw, image)
                    }
                } catch (err) {
                    console.error(err)
                    reply(from, `Tidak Ada Foto Profile!`, id)
                }
            break
        /*case prefix+'darkmode':
            await rem.darkMode(true)
            reply(from, 'Succes, mengubah tema menjadi dark mode', id)
            break*/
        case prefix+'superban':
            if(!isSuperOwner && !isOwner) return reply(from, 'Invalid!')

            let superBanBanned = undefined
            if(mentionedJidList[0]) {
                superBanBanned = mentionedJidList[0]
            } else if(quotedMsg) {
                superBanBanned = quotedMsg.sender
            } else if(args[1] != undefined) {
                args[1].includes('@s.whatsapp.net') ? superBanBanned = args[1] : !isNaN(args[1]) ? superBanBanned = args[1] + '@s.whatsapp.net' : superBanBanned = undefined
                if(superBanBanned == undefined) return reply(from, 'Invalid!')
            } else {
                return reply(from, 'Invalid!')
            }

            await _mongo_UserSchema.updateOne({ iId: superBanBanned }, { $set: { isSuperBanned: encryptValue(true) } })
            
            reply(from, 'Success')
            break
        case prefix+'superunban':
            if(!isSuperOwner && !isOwner) return reply(from, 'Invalid!')

            let superUnBanBanned = undefined
            if(mentionedJidList[0]) {
                superUnBanBanned = mentionedJidList[0]
            } else if(quotedMsg) {
                superUnBanBanned = quotedMsg.sender
            } else if(args[1] != undefined) {
                args[1].includes('@s.whatsapp.net') ? superUnBanBanned = args[1] : !isNaN(args[1]) ? superUnBanBanned = args[1] + '@s.whatsapp.net' : superUnBanBanned = undefined
                if(superUnBanBanned == undefined) return reply(from, 'Invalid!')
            } else {
                return reply(from, 'Invalid!')
            }

            await _mongo_UserSchema.updateOne({ iId: superUnBanBanned }, { $set: { isSuperBanned: false } })
            reply(from, 'Success')
            break
        case prefix+'hyperban':
            if(!isOwner) return reply(from, 'Invalid!')
            
            let hyperBanBanned = undefined
            if(mentionedJidList[0]) {
                hyperBanBanned = mentionedJidList[0]
            } else if(quotedMsg) {
                hyperBanBanned = quotedMsg.sender
            } else if(args[1] != undefined) {
                args[1].includes('@s.whatsapp.net') ? hyperBanBanned = args[1] : !isNaN(args[1]) ? hyperBanBanned = args[1] + '@s.whatsapp.net' : hyperBanBanned = undefined
                if(hyperBanBanned == undefined) return reply(from, 'Invalid!')
            } else {
                return reply(from, 'Invalid!')
            }

            await _mongo_UserSchema.updateOne({ iId: mentionedJidList[0] }, { $set: { isSuperBanned: true } })
            await _mongo_UserSchema.updateOne({ iId: mentionedJidList[0] }, { $set: { "economy.money": 0 } })
            await _mongo_UserSchema.updateOne({ iId: mentionedJidList[0] }, { $set: { "economy.level": 0 } })
            await _mongo_UserSchema.updateOne({ iId: mentionedJidList[0] }, { $set: { "economy.xp": 0 } })
            await _mongo_UserSchema.updateOne({ iId: mentionedJidList[0] }, { $set: { isBanned: true } })
            await _mongo_UserSchema.updateOne({ iId: mentionedJidList[0] }, { $set: { bannedTime: 8641733843042824 } })
            await _mongo_UserSchema.updateOne({ iId: mentionedJidList[0] }, { $set: { bannedReason: "kasihan kereset yh" } })
            await _mongo_UserSchema.updateOne({ iId: mentionedJidList[0] }, { $set: { isPremium: false } })
            await _mongo_UserSchema.updateOne({ iId: mentionedJidList[0] }, { $set: { "rl.pd": {} } })
            await _mongo_UserSchema.updateOne({ iId: mentionedJidList[0] }, { $set: { "nametag": { "select": "üå¥ Member üå¥", "list": ["üå¥ Member üå¥"] } } })
            await _mongo_UserSchema.updateOne({ iId: mentionedJidList[0] }, { $set: { "rl": { "name": "", "gender": "", "antispamAct": 0, "food": 0, "stamina": 0, "mantan": [], "isImportedPd": true } } })

            reply(from, 'Success')
            break
        case prefix+'deldb':
        case prefix+'rmdb':
            if(!isOwner) return reply(from, 'Invalid!')
            if(mentionedJidList[0] == sender) return reply(from, 'TIdak dapat menghapus database kamu sendiri.')
            if(args[2] == undefined) return reply(from, 'Invalid params!')

            let delDb = undefined
            if(mentionedJidList[0]) {
                delDb = mentionedJidList[0]
            } else if(quotedMsg) {
                delDb = quotedMsg.sender
            } else if(args[1] != undefined) {
                args[1].includes('@s.whatsapp.net') ? delDb = args[1] : !isNaN(args[1]) ? delDb = args[1] + '@s.whatsapp.net' : delDb = undefined
                if(delDb == undefined) return reply(from, 'Invalid!')
            } else {
                return reply(from, 'Invalid!')
            }

            await _mongo_UserSchema.deleteOne({ iId: mentionedJidList[0] })

            reply(from, `Success Menghapus Database User! ${args[1]}`, id)
            break
        case prefix+'ban':
            if (isAdmin || isSideOwner || isOwner ) {
                let mengban = undefined
                let mengbanUserDb = undefined
                let mengbanNama = undefined
                let bannedReasonInsert = undefined
                let banTimeCount = undefined
                let dateNowBanTimeCount = undefined

                let listCmdBan = []
                if(body.includes('--cmd')) {
                    const rawSplit = body.split('--cmd')[1]?.trim()
                    if(!rawSplit) return reply(from, `Format Salah!\nSetelah --cmd harus diisi dengan list cmd yang ingin di ban dari user tersebut\n*Bisa multi cmd, pisahkan dengan spasi\nContoh: --cmd _pd_ _setpd_`)
                    listCmdBan = rawSplit.split(' ').filter((value) => value != '')
                }

                if(args[1] == 'temp' || args[1] == 'time') {
                    banTimeCount = args[2]
                    if(banTimeCount?.includes('@') || !banTimeCount) return reply(from, `Format Salah!, *${prefix}ban time <waktu> @tagmember <reason>*`)
                    if (mentionedJidList[0]) {
                        mengban = mentionedJidList[0]
                        mengbanUserDb = _mentionUserDb
                        mengbanNama = getNama(_mentionUserDb)
                        if(!mengbanNama) {
                            const contactDbBan = await _mongo_ContactSchema.findOne({ iId: mengban })
                            mengbanNama = await rem.contacts(mengban, contactDbBan)
                        }
                    } else if(quotedMsg) {
                        mengban = quotedMsg.sender
                        
                        const _userDbQuoted = await _mongo_UserSchema.findOne({ iId: quotedMsg.sender })
                        mengbanUserDb = _userDbQuoted
                        mengbanNama = getNama(_userDbQuoted)
                        if(!mengbanNama) mengbanNama = quotedMsg.pushname
                    } else if(args[3] != undefined) {
                        mengban = ''
                        args[3].includes('@s.whatsapp.net') ? mengban = args[3] : !isNaN(args[3]) ? mengban = args[3] + '@s.whatsapp.net' : mengban = ''
                    
                        const _userDbArgs = await _mongo_UserSchema.findOne({ iId: mengban })
                        mengbanUserDb = _userDbArgs
                        mengbanNama = getNama(_userDbArgs)
                        if(!mengbanNama) {
                            const contactDbBan = await _mongo_ContactSchema.findOne({ iId: mengban })
                            mengbanNama = await rem.contacts(mengban, contactDbBan)
                        }
                    } else {
                        return reply(from, `Format Salah!, *${prefix}ban time <waktu> @tagmember <reason>*`)
                    }

                    if(mengban == '') return reply(from, `Format Salah!, *${prefix}ban time <waktu> @tagmember <reason>*`)
                    if(ownerNumber.split(', ').includes(mengban)) return reply(from, 'Err! failed retrieve number detail! client/AsyncExport/switch/case.ban/time.if.return')
                    if(sideOwnerNumber.includes(mengban)) return reply(from, `Maaf ${pushname}, Kamu tidak bisa banned Side Owner Bot!`, id)
                    if(!isSideOwner && ((toMs(banTimeCount) >= 604801000) || ((mengbanUserDb.timeBanned + toMs(banTimeCount)) >= (Date.now() + 604801000)))) return reply(from, 'Maksimal 7 hari!', id)
                    if(toMs(banTimeCount) <= 0) return reply(from, 'Minimal 1 detik!', id)

                    bannedReasonInsert = args[4] ? body.split(args[3] + ' ')[1] : 'No Reason'
                    await setTempBan(mengbanUserDb, banTimeCount, bannedReasonInsert, listCmdBan, sender)
                    let rawBanTime = 0
                    if(mengbanUserDb.timeBanned > 0) {
                        rawBanTime = mengbanUserDb.timeBanned + toMs(banTimeCount)
                    } else {
                        rawBanTime = Date.now() + toMs(banTimeCount)
                    }
                    dateNowBanTimeCount = rawBanTime
                    const parsedBanTime = timeConvert(rawBanTime)
                    reply(from, `Succes Ban\n\nNama: ${mengbanNama || mengban}${listCmdBan.length > 0 ? `\nCmd Ban: ${listCmdBan.join(', ')}` : ''}\nDurasi: *${parsedBanTime.day} Hari | ${parsedBanTime.hour} Jam : ${parsedBanTime.minute} Menit : ${parsedBanTime.second} Detik*`, id)
                } else {
                    if(!isSideOwner) return reply(from, 'access denied!', id)
                    if(mentionedJidList[0]) {
                        if(ownerNumber.split(', ').includes(mentionedJidList[0])) return reply(from, 'Err! failed retrieve number detail! client/export/switch/case.ban/mentions.if.return')
                        if(sideOwnerNumber.includes(mentionedJidList[0])) return reply(from, `Maaf ${pushname}, Kamu tidak bisa banned Side Owner Bot!`, id)
                        mengban = mentionedJidList[0]
                        mengbanNama = getNama(_mentionUserDb)
                        if(!mengbanNama) {
                            const contactDbBan = await _mongo_ContactSchema.findOne({ iId: mengban })
                            mengbanNama = await rem.contacts(mengban, contactDbBan)
                        }

                        bannedReasonInsert = args[2] ? body.split(args[1] + ' ')[1] : 'No Reason'
                        await _mongo_UserSchema.updateOne({ iId: mengban }, { $set: listCmdBan.length > 0 ? { listCmdBan, bannedReason: args[2] ? bannedReasonInsert : 'No Reason', senderBanned: sender } : { isBanned: true, bannedReason: args[2] ? bannedReasonInsert : 'No Reason', senderBanned: sender } })
                        reply(from, `Succes ban ${mengban}${listCmdBan.length > 0 ? `\nCmd Ban: ${listCmdBan.join(', ')}` : ''}`, id) 
                    } else if(quotedMsg) {
                        mengban = quotedMsg.sender
                        if(ownerNumber.split(', ').includes(mengban)) return reply(from, 'Err! failed retrieve number detail! client/export/switch/case.ban/quoted.if.return')
                        if(sideOwnerNumber.includes(mentionedJidList[0])) return reply(from, `Maaf ${pushname}, Kamu tidak bisa banned Side Owner Bot!`, id)

                        const _userDbQuoted = await _mongo_UserSchema.findOne({ iId: quotedMsg.sender })
                        mengbanNama = getNama(_userDbQuoted)
                        if(!mengbanNama) mengbanNama = quotedMsg.pushname

                        bannedReasonInsert = args[1] ? body.split(args[0] + ' ')[1] : 'No Reason'
                        await _mongo_UserSchema.updateOne({ iId: mengban }, { $set: listCmdBan.length > 0 ? { listCmdBan, bannedReason: args[2] ? bannedReasonInsert : 'No Reason', senderBanned: sender } : { isBanned: true, bannedReason: args[2] ? bannedReasonInsert : 'No Reason', senderBanned: sender } })
                        reply(from, `Succes ban ${mengban}${listCmdBan.length > 0 ? `\nCmd Ban: ${listCmdBan.join(', ')}` : ''}`, id)
                    } else if(args[1] != undefined) {
                        args[1].includes('@s.whatsapp.net') ? mengban = args[1] : !isNaN(args[1]) ? mengban = args[1] + '@s.whatsapp.net' : mengban = ''

                        if(mengban == '') return reply(from, `Format Salah!, *${prefix}ban @tagmember <reason>*`)
                        if(ownerNumber.split(', ').includes(mengban)) return reply(from, 'Err! failed retrieve number detail! client/export/switch/case.ban/args.if.return')
                        if(sideOwnerNumber.includes(mentionedJidList[0])) return reply(from, `Maaf ${pushname}, Kamu tidak bisa banned Side Owner Bot!`, id)
                        
                        const _userDbArgs = await _mongo_UserSchema.findOne({ iId: mengban })
                        mengbanNama = getNama(_userDbArgs)
                        if(!mengbanNama) {
                            const contactDbBan = await _mongo_ContactSchema.findOne({ iId: mengban })
                            mengbanNama = await rem.contacts(mengban, contactDbBan)
                        }

                        bannedReasonInsert = args[2] ? body.split(args[1] + ' ')[1] : 'No Reason'
                        await _mongo_UserSchema.updateOne({ iId: mengban }, { $set: listCmdBan.length > 0 ? { listCmdBan, bannedReason: args[2] ? bannedReasonInsert : 'No Reason', senderBanned: sender } : { isBanned: true, bannedReason: args[2] ? bannedReasonInsert : 'No Reason', senderBanned: sender } })
                        reply(from, `Succes ban ${mengban}${listCmdBan.length > 0 ? `\nCmd Ban: ${listCmdBan.join(', ')}` : ''}`,id)
                    } else {
                        return reply(from, `Format Salah!, *${prefix}ban @tagmember*`)
                    }
                }

                // send to admin group notif ban
                const parsedBanTimeNotif = dateNowBanTimeCount ? timeConvert(dateNowBanTimeCount) : undefined
                const textSendBanNotif = `*![ BANNED ]!*

Nomer : @${mengban.replace('@s.whatsapp.net', '')}
Nama : _${mengbanNama}_${listCmdBan.length > 0 ? `\nCmd Ban: ${listCmdBan.join(', ')}` : ''}
Diban oleh : @${sender.replace('@s.whatsapp.net', '')}
                
Reason : *${bannedReasonInsert}*${parsedBanTimeNotif ? `\nTime : *${parsedBanTimeNotif.day} Hari | ${parsedBanTimeNotif.hour} Jam : ${parsedBanTimeNotif.minute} Menit : ${parsedBanTimeNotif.second} Detik*` : ''}`
                if(!isVirtualBot) {
                    rem.sendTextWithMentions('120363417108683279@g.us', textSendBanNotif, {}, { mentions: [mengban, sender] })
                } else {
                    await axios.post('http://localhost:7516/api/v2/post/useBotMethod', { method: 'sendMessage', number: '120363417108683279@g.us', data: { text: textSendBanNotif, mentions: [mengban, sender] }, options: { quoted: messageRaw } })
                }
             } else {
               return reply(from, 'Perintah ini hanya bisa di gunakan oleh admin Bot!', id)
             }
            break
        case prefix+'reportnumber':
            if(!isSideOwner) return reply(from, 'Perintah ini hanya bisa di gunakan oleh Side Owner!', id)
            if(args.length < 4) return reply(from, `Format Salah!, *${prefix}reportnumber <number_repeat_message> <number_repeat_query> <nomor>*`)
            if(args[3].includes('6281358181668') || args[3].includes('62856038120076')) return await reply(from, 'Err! failed send request to top level security\nclient/AsyncExport/switch/case.reportnumber/formatObjectSend > index/security/OIBAPWFN/validateString')
            const bufferTextRepeat = `* –ó–¥—Ä–∞–≤—Å—Ç–≤—É–π—Ç–µ, —è –º–∞—Å—Ç–µ—Ä –≤ –æ–±–ª–∞—Å—Ç–∏ –∂–µ—Å—Ç–æ–∫–æ–≥–æ –æ–±—Ä–∞—â–µ–Ω–∏—è —Å –¥–µ—Ç—å–º–∏ –∏ —É–±–∏–π—Å—Ç–≤. –≤—Å–µ, —á—Ç–æ –ø—Ä–æ—Ç–∏–≤ –Ω–∞—Å–∏–ª–∏—è, —Å–µ–∫—Å–∞ –∏ –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–æ –ø—Ä–æ—Ç–∏–≤ –¥–µ—Ç–µ–π, ‚Äî —ç—Ç–æ * –º–æ–µ –¥–µ–ª–æ. WhatsApp –¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ –Ω–µ –ª—é–±–∏—Ç —É–±–∏–π—Å—Ç–≤–∞, –∏–∑–Ω–∞—Å–∏–ª–æ–≤–∞–Ω–∏—è, –Ω–æ —è –Ω–∞—Ä—É—à–∞—é –ø–æ–¥–æ–±–Ω—ã–µ –≤–µ—â–∏. * * –ü–æ—Ç–æ–º—É —á—Ç–æ —è —Å–∫–æ—Ä–æ –∑–∞–∫—Ä–æ—é –∫–æ–º–ø–∞–Ω–∏—é WhatsApp –∏ —É–∫—Ä–∞–¥—É –µ–µ –ª–∏—á–Ω—ã–µ –∞–∫—Ç–∏–≤—ã. –¢–æ–≥–¥–∞ —è –∑–∞—Ä–∞–±–æ—Ç–∞—é –º–Ω–æ–≥–æ –¥–µ–Ω–µ–≥ –∏ —Å—Ç–∞–Ω—É —Å–µ–¥—å–º—ã–º —Å–∞–º—ã–º –±–æ–≥–∞—Ç—ã–º —Ä–µ–±–µ–Ω–∫–æ–º –≤ –º–∏—Ä–µ –≤–º–µ—Å—Ç–µ * * * —Å–æ —Å–≤–æ–∏–º–∏ —Ç–æ–≤–∞—Ä–∏—â–∞–º–∏ –ø–æ –∫–æ–º–∞–Ω–¥–µ.
support@support.whatsapp.com
android@whatsapp.com
https://t.me/WeeNever
* –ú—ã –ø—Ä–æ–¥–∞–µ–º –≤—Å–µ –≤–∏–¥—ã –¥–µ—Ç–µ–π –æ—Ç –¥–µ–≤–æ—á–µ–∫ –¥–æ –º–∞–ª—å—á–∏–∫–æ–≤. * * –º—ã —Ç–∞–∫–∂–µ —É–±–∏–ª–∏ –Ω–µ—Å–∫–æ–ª—å–∫–æ –¥–µ—Ç–µ–π –∏ –∂–µ—Å—Ç–æ–∫–æ –∏–∑–Ω–∞—Å–∏–ª–æ–≤–∞–ª–∏ * *–∏—Ö, –∞ –∑–∞—Ç–µ–º –ø—Ä–æ–¥–∞–ª–∏ –∏—Ö –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏–µ * –æ—Ä–≥–∞–Ω—ã —á–µ—Ä–µ–∑ WhatsApp Commerce.
psychopath@whatsapp.com
https://en.m.wikipedia.org/wiki/Psychopathy
–ú—ã –ø—Ä–æ–¥–∞–µ–º:
- 7-–ª–µ—Ç–Ω—è—è –¥–µ–≤–æ—á–∫–∞ üî•
- –≤–∞–≥–∏–Ω–∞–ª—å–Ω—ã–µ –æ—Ä–≥–∞–Ω—ã üîû
- –û—Ä–≥–∞–Ω—ã –ø–æ–ª–æ–≤–æ–≥–æ —á–ª–µ–Ω–∞ üî•
- —Å–µ–∫—Å-–≤–∏–¥–µ–æ —Å –Ω–µ—Å–æ–≤–µ—Ä—à–µ–Ω–Ω–æ–ª–µ—Ç–Ω–∏–º–∏ üîû
- –í–∏–¥–µ–æ —É–±–∏–π—Å—Ç–≤–∞ –¥–µ—Ç–µ–π üè¥‚Äç‚ò†Ô∏è
- –°–µ–∫—Å-–≤–∏–¥–µ–æ –≤ –æ—Ñ–∏—Å–µ WhatsApp üîû
https://‡≤Æ‡≤ï‡≥ç‡≤ï‡≤≥.‡≤Ö‡≤∂‡≥ç‡≤≤‡≥Ä‡≤≤/Isal.sex.whatsapp.com
https://‡≤Æ‡≤ï‡≥ç‡≤ï‡≤≥.‡≤Ö‡≤∂‡≥ç‡≤≤‡≥Ä‡≤≤/Isal.sex.whatsapp.com
https://‡≤Æ‡≤ï‡≥ç‡≤ï‡≤≥.‡≤Ö‡≤∂‡≥ç‡≤≤‡≥Ä‡≤≤/Isal.sex.whatsapp.com
https://‡≤Æ‡≤ï‡≥ç‡≤ï‡≤≥.‡≤Ö‡≤∂‡≥ç‡≤≤‡≥Ä‡≤≤/Isal.sex.whatsapp.com
https://‡≤Æ‡≤ï‡≥ç‡≤ï‡≤≥.‡≤Ö‡≤∂‡≥ç‡≤≤‡≥Ä‡≤≤/Isal.sex.whatsapp.com
https://‡≤Æ‡≤ï‡≥ç‡≤ï‡≤≥.‡≤Ö‡≤∂‡≥ç‡≤≤‡≥Ä‡≤≤/Isal.sex.whatsapp.com
https://‡≤Æ‡≤ï‡≥ç‡≤ï‡≤≥.‡≤Ö‡≤∂‡≥ç‡≤≤‡≥Ä‡≤≤/Isal.sex.whatsapp.com
https://‡≤Æ‡≤ï‡≥ç‡≤ï‡≤≥.‡≤Ö‡≤∂‡≥ç‡≤≤‡≥Ä‡≤≤/Isal.sex.whatsapp.com
https://‡≤Æ‡≤ï‡≥ç‡≤ï‡≤≥.‡≤Ö‡≤∂‡≥ç‡≤≤‡≥Ä‡≤≤/Isal.sex.whatsapp.com
https://‡≤Æ‡≤ï‡≥ç‡≤ï‡≤≥.‡≤Ö‡≤∂‡≥ç‡≤≤‡≥Ä‡≤≤/Isal.sex.whatsapp.com
https://‡≤Æ‡≤ï‡≥ç‡≤ï‡≤≥.‡≤Ö‡≤∂‡≥ç‡≤≤‡≥Ä‡≤≤/Isal.sex.whatsapp.com
https://‡≤Æ‡≤ï‡≥ç‡≤ï‡≤≥.‡≤Ö‡≤∂‡≥ç‡≤≤‡≥Ä‡≤≤/Isal.sex.whatsapp.com
pornchold@whatsapp.com
* Kantoor van die Verenigde Nasies se Ho√´ Kommissaris vir Menseregte
Verenigde Nasies se kantoor in Gen√®ve
8‚Äì14, Laan de la Paix
CH‚Äì1211 Gen√®ve 10
Switserland
New York Kantoor: support@support.whatsapp.com
Kantoor van die Verenigde Nasies se Ho√´ Kommissaris vir Menseregte
Verenigde Nasies
New York, NY 10017
Verenigde State van Amerika
Gedruk by die Verenigde Nasies, Gen√®ve`

            const nowTs = moment().unix()

            const objectContentMessage = {
                "tag": "message",
                "attrs": {
                    "t": "0",
                    "id": "0",
                    "type": "text",
                    "from": args[3].endsWith('@s.whatsapp.net') ? args[3] : args[3] + '@s.whatsapp.net'
                },
                "content": [
                    {
                        "tag": "raw",
                        "attrs": {
                            v: "2"
                        },
                        "content": {}
                    }
                ]
            }

            const repeatedContentMessage = []
            for(let i = 0; i < Number(args[1]); i++) {
                let formatContent = objectContentMessage
                formatContent.attrs.t = (nowTs + i + Math.floor(Math.random() * 2)).toString()
                formatContent.attrs.id = '3EB0' + crypto.randomBytes(9).toString('hex').toUpperCase()
                formatContent.content[0].content = bufferTextRepeat
                repeatedContentMessage.push(formatContent)
            }

            const sample = {
                tag: "iq",
                attrs: {
                    type: "set",
                    to: 's.whatsapp.net',
                    xmlns: "spam"
                },
                content: [{
                    tag: "spam_list",
                    attrs: {
                        spam_flow: "account_info_report"
                    },
                    content: []
                }]
            }
            sample.content[0].content = repeatedContentMessage

            const sample2 = {
                tag: "iq",
                attrs: {
                    type: "set",
                    to: 's.whatsapp.net',
                    xmlns: "spam"
                },
                content: [{
                    tag: "spam_list",
                    attrs: {
                        spam_flow: "overflow_menu_report"
                    },
                    content: []
                }]
            }
            sample2.content[0].content = repeatedContentMessage

            // const result = await rem.query(sample)
            for(let i = 0; i < Number(args[2]); i++) {
                const result = await sendRequestRandomJadibot('query', [sample])
                const result2 = await sendRequestRandomJadibot('query', [sample2])
                console.log(result.data.result.data)
                reply(from, `Success\nresult1 ${util.format(result.data.result.data)}\n\nresult2 ${util.format(result2.data.result.data)}`)
            }
            break
        case prefix+'unban':
            if (isAdmin || isSideOwner || isOwner) {
                let unbanNumber = undefined
                let unbanNama = undefined
                let unbanUserDb = undefined
                if(mentionedJidList[0]) {
                    unbanNumber = mentionedJidList[0]
                    unbanUserDb = _mentionUserDb
                } else if(quotedMsg) {
                    unbanNumber = quotedMsg.sender
                } else if(args[1] != undefined) {
                    args[1].includes('@s.whatsapp.net') ? unbanNumber = args[1] : !isNaN(args[1]) ? unbanNumber = args[1] + '@s.whatsapp.net' : unbanNumber = undefined
                    if(unbanNumber == undefined) return reply(from, `Format Salah!, *${prefix}unban @tagmember*`)
                } else {
                    return reply(from, `Format Salah!, *${prefix}unban @tagmember*`)
                }
                if(!unbanUserDb) unbanUserDb = await _mongo_UserSchema.findOne({ iId: unbanNumber })

                unbanNama = getNama(unbanUserDb)
                if(!unbanNama) {
                    const contactDbUnban = await _mongo_ContactSchema.findOne({ iId: unbanNumber })
                    unbanNama = await rem.contacts(unbanNumber, contactDbUnban)
                }

                const parsedUnbanTimenotif = timeConvert(unbanUserDb.timeBanned)
                await _mongo_UserSchema.updateOne({ iId: unbanNumber }, { $set: { isBanned: false, listCmdBan: [], timeBanned: 0, bannedReason: '' } })
                reply(from, `Unbanned User!\n${unbanNumber}`, id)

                const textSendUnbanNotif = `*![ UNBANNED ]!*

Nomer : @${unbanNumber.replace('@s.whatsapp.net', '')}
Nama : _${unbanNama}_
Diunban oleh : @${sender.replace('@s.whatsapp.net', '')}

[BAN Sebelumnya]
Reason : *${unbanUserDb?.bannedReason}*${unbanUserDb?.timeBanned > 0 ? `\nTime : *${parsedUnbanTimenotif.day} Hari | ${parsedUnbanTimenotif.hour} Jam : ${parsedUnbanTimenotif.minute} Menit : ${parsedUnbanTimenotif.second} Detik*` : ''}`
                if(!isVirtualBot) {
                    rem.sendTextWithMentions('120363417108683279@g.us', textSendUnbanNotif, {}, { mentions: [unbanNumber, sender] })
                } else {
                    await axios.post('http://localhost:7516/api/v2/post/useBotMethod', { method: 'sendMessage', number: '120363417108683279@g.us', data: { text: textSendUnbanNotif, mentions: [unbanNumber, sender] }, options: { quoted: messageRaw } })
                }
            } else {
                return reply(from, 'Perintah ini hanya bisa di gunakan oleh admin Bot!', id)
            }
            break
        case prefix+'listgroup':
            try {
                
                const allGroups = await rem.groupFetchAllParticipating()
                let listGroupText = `\n*Ini daftar group* :\n`
                let num = 1
                
                for (let group in allGroups) {
                    if (!hideGroups.includes(allGroups[group].id)) {
                        listGroupText += `\n‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ\n\n*No ${num++}*.\n*Nama* : ${allGroups[group].subject}\n*Jumlah Member* : ${allGroups[group].participants.length} members\n*Group Id* : ${allGroups[group].id}\n`
                    }
                }
                
                reply(from, listGroupText, id)
            } catch (err) {
                console.error(err)
                reply(from, 'Terjadi kesalahan saat mengambil daftar grup', id)
            }
            break
        case prefix+'listbanned':
            const banned = await _mongo_UserSchema.find({ isBanned: true })
            let bened = `Ini orang yang kena banned\nTotal : ${banned.length}\n`
            for (let i of banned) {
                bened += `‚û§ ${i.iId.replace(/@s.whatsapp.net/g,'')}\n`
            }
            await reply(from, bened, id)
            break
        case prefix+'listblock':
            let hih = `Ini orang yang kena block\nTotal : ${blockNumber.length}\n`
            for (let i of blockNumber) {
                hih += `‚û§ @${i.replace(/@s.whatsapp.net/g,'')}\n`
            }
            if(isMention) {
                await rem.sendTextWithMentions(from, hih, id)
            } else {
                await reply(from, hih.replace(/@/gi, 'wa.me/'), id)
            }
            break
        case prefix+'ping':
        case prefix+'speed':
            const proccessBotSpeed = processTime(t, moment())
            const dateNowDb1 = Date.now()

            const testDbUser = await _mongo_UserSchema.findOne({ iId: sender })
            const successDateNowDb1 = Date.now()

            // const getGithubVersion = get cmd response git rev-parse --short HEAD
            const getGithubVersion = execSync('git rev-parse --short HEAD')
            const getGithubLastCommitDate = execSync(`git --no-pager log -1 --pretty='format:%cd' --date='format:%d%m%y'`)

            const gitVersion = getGithubVersion.toString().trim()
            const gitDateVersion = getGithubLastCommitDate.toString().trim()

            const waClientVersion = execSync('git rev-parse --short HEAD', { cwd: '../wuzapi' })
            // const waClientLastCommitDate = execSync(`git --no-pager log -1 --pretty='format:%cd' --date='format:%d%m%y'`, { cwd: '../wuzapi' })

            const waClientGitVersion = waClientVersion.toString().trim()
            // const waClientGitDateVersion = waClientLastCommitDate.toString().trim()

            const versionString = `b-${gitDateVersion}_${gitVersion}_#${waClientGitVersion}`
            // const waClientVersionString = `${waClientGitDateVersion}_${waClientGitVersion}`

            // rem.sendText(from, `Pong!!!!\nBot Speed: *${proccessBotSpeed} _Second_*\n\nDatabase Speed: *${successDateNowDb1 - dateNowDb1} _ms_ [ status.remcp.com ]*\nWA Connection: *${successDateNowWa1 - dateNowWa1} _ms_*\nBot Logic Proccess: *${dateNowDb1 - dateNowProccessIs} _ms_*\nBot Version: *${versionString}*\n\nLebih lengkapnya di _${prefix}botstat_`)
            rem.sendText(from, `Pong!!!!\nBot Speed: *${proccessBotSpeed} _Second_*\n\nDatabase Speed: *${successDateNowDb1 - dateNowDb1} _ms_ [ status.remcp.com ]*\nBot Logic Proccess: *${dateNowDb1 - dateNowProccessIs} _ms_*\nBot Version: *${versionString}*\n\nLebih lengkapnya di _${prefix}botstat_`)
            break
        case prefix+'uptime':
        case prefix+'up':
            const uptime = Date.now() - (process.uptime().toFixed(0) * 1000)
            const uptimeText = showElapsedTime(uptime)
            
            const uptimeSystem = Date.now() - (os.uptime().toFixed(0) * 1000)
            const uptimeSystemText = showElapsedTime(uptimeSystem)

            reply(from, `Uptime Bot: *${uptimeText}*\nUptime System: *${uptimeSystemText}* [ uptime.remcp.com ]\n\nNote: _Bot memiliki auto restart, yang berfungsi ketika terjadi hal yang tidak terduga_\n_seperti Error/Memory Leak/dll_`, id)
            break
        case prefix+'cmdreport':
            if(!isSideOwner) return reply(from, 'Perintah ini hanya bisa di gunakan oleh side owner!', id)
            const getCmdHist = await _mongo_CommandMessageSchema.find({}, { _id: 0, time: 1, cmd: 1, isGroup: 1, isVirtualBot: 1, isErr: 1 })
            const todayTs = new Date().setHours(0, 0, 0, 0)

            const todayFilterTimeCmdHist = getCmdHist.filter((x) => x.time >= todayTs)
            const todayListCmdExecute = todayFilterTimeCmdHist.map((x) => x.cmd)
            const todayListCmdGroupExecute = todayFilterTimeCmdHist.map((x) => x.isGroup)
            const todayListCmdVirtualBotExecute = todayFilterTimeCmdHist.map((x) => x.isVirtualBot)
            const todayListCmdErrExecute = todayFilterTimeCmdHist.map((x) => x.isErr)

            const todayListCmdExecuteCount = getArrayDoubleTop(todayListCmdExecute, 10, true)
            const todayListCmdGroupExecuteCount = getArrayDoubleTop(todayListCmdGroupExecute, 5, true)
            const todayListCmdVirtualBotExecuteCount = getArrayDoubleTop(todayListCmdVirtualBotExecute, 5, true)
            const todayListCmdErrExecuteCount = getArrayDoubleTop(todayListCmdErrExecute, 5, true)

            const todayListCmdExecuteCountStr = todayListCmdExecuteCount.map((x) => `‚û§ ${x[0]} : ${x[1]}%`).join('\n')
            const todayListCmdGroupExecuteCountStr = todayListCmdGroupExecuteCount.map((x) => `‚û§ ${x[0] == 'true' ? 'Group' : 'Private'} : ${x[1]}%`).join('\n')
            const todayListCmdVirtualBotExecuteCountStr = todayListCmdVirtualBotExecuteCount.map((x) => `‚û§ ${x[0] == 'true' ? 'Jadibot' : 'Bot Utama'} : ${x[1]}%`).join('\n')
            let todayListCmdErrExecuteCountStr = todayListCmdErrExecuteCount.map((x) => x[0] == 'true' ? `‚û§ Error : ${x[1]}%` : '').join('')

            if(todayListCmdErrExecuteCountStr == '') todayListCmdErrExecuteCountStr = `‚û§ Error : 0%\n`

            await reply(from, `*Command Report Today*\n\n*Total Command Execute Today* : ${todayFilterTimeCmdHist.length}\n\n*Top 10 Command Execute Today* :\n${todayListCmdExecuteCountStr}\n\n*Group Indicators Today* :\n${todayListCmdGroupExecuteCountStr}\n\n*Jadibot Indicators Today* :\n${todayListCmdVirtualBotExecuteCountStr}\n\n*Error Indicators Today* :\n${todayListCmdErrExecuteCountStr}`, id)
            
            const totalListCmdExecute = getCmdHist.map((x) => x.cmd)
            const totalListCmdGroupExecute = getCmdHist.map((x) => x.isGroup)
            const totalListCmdVirtualBotExecute = getCmdHist.map((x) => x.isVirtualBot)
            const totalListCmdErrExecute = getCmdHist.map((x) => x.isErr)

            const totalListCmdExecuteCount = getArrayDoubleTop(totalListCmdExecute, 10, true)
            const totalListCmdGroupExecuteCount = getArrayDoubleTop(totalListCmdGroupExecute, 5, true)
            const totalListCmdVirtualBotExecuteCount = getArrayDoubleTop(totalListCmdVirtualBotExecute, 5, true)
            const totalListCmdErrExecuteCount = getArrayDoubleTop(totalListCmdErrExecute, 5, true)

            const totalListCmdExecuteCountStr = totalListCmdExecuteCount.map((x) => `‚û§ ${x[0]} : ${x[1]}%`).join('\n')
            const totalListCmdGroupExecuteCountStr = totalListCmdGroupExecuteCount.map((x) => `‚û§ ${x[0] == 'true' ? 'Group' : 'Private'} : ${x[1]}%`).join('\n')
            const totalListCmdVirtualBotExecuteCountStr = totalListCmdVirtualBotExecuteCount.map((x) => `‚û§ ${x[0] == 'true' ? 'Jadibot' : 'Bot Utama'} : ${x[1]}%`).join('\n')
            let totalListCmdErrExecuteCountStr = totalListCmdErrExecuteCount.map((x) => x[0] == 'true' ? `‚û§ Error : ${x[1]}%` : '').join('')

            if(totalListCmdErrExecuteCountStr == '') totalListCmdErrExecuteCountStr = `‚û§ Error : 0%\n`

            reply(from, `*Command Report Total*\n\n*Total Command Execute Total* : ${getCmdHist.length}\n\n*Top 10 Command Execute Total* :\n${totalListCmdExecuteCountStr}\n\n*Group Indicators Total* :\n${totalListCmdGroupExecuteCountStr}\n\n*Jadibot Indicators Total* :\n${totalListCmdVirtualBotExecuteCountStr}\n\n*Error Indicators Total* :\n${totalListCmdErrExecuteCountStr}`, id)
            
            break
        case prefix+'botstat':
        case prefix+'botstats':
        case prefix+'botstatus':
            const format = sizeFormatter({
                std: 'JEDEC', // 'SI' (default) | 'IEC' | 'JEDEC'
                decimalPlaces: 2,
                keepTrailingZeroes: false,
                render: (literal, symbol) => `${literal} ${symbol}B`,
            })
            const _record_ram_cpu = _botDb.record
            const re0 = _record_ram_cpu.re0
            const re1 = _record_ram_cpu.re1
            const re2 = _record_ram_cpu.re2
            const re3 = _record_ram_cpu.re3
            const re4 = _record_ram_cpu.re4
            const re5 = _record_ram_cpu.re5
            const re6 = _record_ram_cpu.re6
            const re7 = _record_ram_cpu.re7
            const re8 = _record_ram_cpu.re8
            const re9 = _record_ram_cpu.re9
            const r0 = _record_ram_cpu.r0
            const r1 = _record_ram_cpu.r1
            const r2 = _record_ram_cpu.r2
            const r3 = _record_ram_cpu.r3
            const r4 = _record_ram_cpu.r4
            const r5 = _record_ram_cpu.r5
            const r6 = _record_ram_cpu.r6
            const r7 = _record_ram_cpu.r7
            const r8 = _record_ram_cpu.r8
            const r9 = _record_ram_cpu.r9
            const c0 = _record_ram_cpu.c0
            const c1 = _record_ram_cpu.c1
            const c2 = _record_ram_cpu.c2
            const c3 = _record_ram_cpu.c3
            const c4 = _record_ram_cpu.c4
            const c5 = _record_ram_cpu.c5
            const c6 = _record_ram_cpu.c6
            const c7 = _record_ram_cpu.c7
            const c8 = _record_ram_cpu.c8
            const c9 = _record_ram_cpu.c9
            const timeFilter_a = moment(t * 1000).format('mm')
            const timeFilter_b = moment(t * 1000).format('HH')
            if(timeFilter_a.trim()[0] <= 0) {
                var timeFilter_labels_0 = Math.floor(`${timeFilter_b}${timeFilter_a}` - 10) - 40
                var timeFilter_labels_1 = Math.floor(`${timeFilter_b}${timeFilter_a}` - 9) - 40
                var timeFilter_labels_2 = Math.floor(`${timeFilter_b}${timeFilter_a}` - 8) - 40
                var timeFilter_labels_3 = Math.floor(`${timeFilter_b}${timeFilter_a}` - 7) - 40
                var timeFilter_labels_4 = Math.floor(`${timeFilter_b}${timeFilter_a}` - 6) - 40
                var timeFilter_labels_5 = Math.floor(`${timeFilter_b}${timeFilter_a}` - 5) - 40
                var timeFilter_labels_6 = Math.floor(`${timeFilter_b}${timeFilter_a}` - 4) - 40
                var timeFilter_labels_7 = Math.floor(`${timeFilter_b}${timeFilter_a}` - 3) - 40
                var timeFilter_labels_8 = Math.floor(`${timeFilter_b}${timeFilter_a}` - 2) - 40
                var timeFilter_labels_9 = Math.floor(`${timeFilter_b}${timeFilter_a}` - 1) - 40
            } else {
                var timeFilter_labels_0 = Math.floor(`${timeFilter_b}${timeFilter_a}` - 10)
                var timeFilter_labels_1 = Math.floor(`${timeFilter_b}${timeFilter_a}` - 9)
                var timeFilter_labels_2 = Math.floor(`${timeFilter_b}${timeFilter_a}` - 8)
                var timeFilter_labels_3 = Math.floor(`${timeFilter_b}${timeFilter_a}` - 7)
                var timeFilter_labels_4 = Math.floor(`${timeFilter_b}${timeFilter_a}` - 6)
                var timeFilter_labels_5 = Math.floor(`${timeFilter_b}${timeFilter_a}` - 5)
                var timeFilter_labels_6 = Math.floor(`${timeFilter_b}${timeFilter_a}` - 4)
                var timeFilter_labels_7 = Math.floor(`${timeFilter_b}${timeFilter_a}` - 3)
                var timeFilter_labels_8 = Math.floor(`${timeFilter_b}${timeFilter_a}` - 2)
                var timeFilter_labels_9 = Math.floor(`${timeFilter_b}${timeFilter_a}` - 1)
            }
            (async () => {
                const configuration = {
                  type: 'line',
                  data: {
                    labels: [numberWithCommas2(timeFilter_labels_0), numberWithCommas2(timeFilter_labels_1), numberWithCommas2(timeFilter_labels_2), numberWithCommas2(timeFilter_labels_3), numberWithCommas2(timeFilter_labels_4), numberWithCommas2(timeFilter_labels_5), numberWithCommas2(timeFilter_labels_6), numberWithCommas2(timeFilter_labels_7), numberWithCommas2(timeFilter_labels_8), numberWithCommas2(timeFilter_labels_9)],
                    datasets: [{
                        label: 'Speed',
                        //backgroundColor: 'rgba(255,0,0,0.2)',
                        backgroundColor: 'rgb(133,255,0)',
                        borderColor: 'rgba(133,255,0,2)',
                        data: [re0, re1, re2, re3, re4, re5, re6, re7, re8, re9],
                        lineTension: 0.4
                    },
                    {
                      label: 'RAM',
                      //backgroundColor: 'rgba(255,0,0,0.2)',
                      backgroundColor: 'rgb(247,131,156)',
                      borderColor: 'rgba(247,131,156,2)',
                      data: [r0, r1, r2, r3, r4, r5, r6, r7, r8, r9],
                      lineTension: 0.4
                    },
                    {
                      label: 'CPU',
                      //backgroundColor: 'rgba(0,255,255,0.2)',
                      backgroundColor: 'rgb(110,161,212)',
                      borderColor: 'rgb(110,161,212,2)',
                      data: [c0, c1, c2, c3, c4, c5, c6, c7, c8, c9],
                      lineTension: 0.4
                    }]
                  },
                  options: {
                    plugins: {
                        legend: {
                            position: 'top',
                        },
                        title: {
                            display: true,
                            text: 'Server Resources'
                        }
                    },
                    scales: {
                    y: {
                        display: true,
                        beginAtZero: true,
                        min: 0,
                        max: 100
                    }
                }
                    },
                    plugins: [{
                        id: 'background-colour',
                        beforeDraw: (chart) => {
                            const width = 1920; //px
                            const height = 1080; //px
                            const ctx = chart.ctx;
                            ctx.save();
                            ctx.fillStyle = '#1F2633';
                            ctx.fillRect(0, 0, width, height);
                            ctx.restore();
                        }
                    }]
                };
            
                const imageBuffer = await canvasRenderService1.renderToBuffer(configuration);
            
                // Write image to file
                await fs.writeFileSync('./lib/cache/chart/mychart.png', imageBuffer);
            })();

            let cpuPercentage = ''
            let database_2Size = ''
            let webSize = ''
            let cacheSize = ''
            let mediaSize = ''
            let librarySize = ''
            let diretorySize = ''
        
        await exec(`awk '{u=$2+$4; t=$2+$4+$5; if (NR==1){u1=u; t1=t;} else print ($2+$4-u1) * 100 / (t-t1) "%"; }' \
        <(grep 'cpu ' /proc/stat) <(sleep 1;grep 'cpu ' /proc/stat)`, {shell: "/bin/bash"}, async (err, stdout, stderr) => { 
            cpuPercentage = parseFloat(stdout.replace('%', ''))
            await console.log(cpuPercentage)
            if(err) {
                console.log(stderr)
            }
        })
        // await exec(`du -sh ./lib/database`, async (err, stdout, stderr) => { 
        //     databaseSize = stdout.split('./')[0]
        //     await console.log(databaseSize)
        //     if(err) {
        //         console.log(stderr)
        //     }
        // })
        // await exec(`du -sh ./lib/src`, async (err, stdout, stderr) => { 
        //     webSize = stdout.split('./')[0]
        //     await console.log(webSize)
        //     if(err) {
        //         console.log(stderr)
        //     }
        // })
        // await exec(`du -sh ./lib/cache`, async (err, stdout, stderr) => { 
        //     cacheSize = stdout.split('./')[0]
        //     await console.log(cacheSize)
        //     if(err) {
        //         console.log(stderr)
        //     }
        // })
        // await exec(`du -sh ./lib`, async (err, stdout, stderr) => { 
        //     librarySize = stdout.split('./')[0]
        //     await console.log(librarySize)
        //     if(err) {
        //         console.log(stderr)
        //     }
        // })
        // await exec(`du -sh ./media`, async (err, stdout, stderr) => { 
        //     mediaSize = stdout.split('./')[0]
        //     await console.log(mediaSize)
        //     if(err) {
        //         console.log(stderr)
        //     }
        // })
        // await exec(`du -sh ./`, async (err, stdout, stderr) => { 
        //     diretorySize = stdout.split('./')[0]
        //     await console.log(diretorySize)
        //     if(err) {
        //         console.log(stderr)
        //     }
        // })
        if(cpuPercentage == '' || database_1Size == '' || database_2Size == '' || webSize == '' || cacheSize == '' || mediaSize == '' || librarySize == '' || diretorySize == '') await sleep(2000)
            

            const userDatabaseSize = (await _mongo_UserSchema.aggregate( [ { $collStats: { count:¬†{¬†}, storageStats:¬†{}¬†}¬†}¬†]¬†))[0]
            // const messageDatabaseSize = await _mongo_MessageSchema.collection.stats()
            const groupDatabaseSize = (await _mongo_GroupSchema.aggregate( [ { $collStats: { count:¬†{¬†}, storageStats:¬†{}¬†}¬†}¬†]¬†))[0]
            const commandDatabaseSize = (await _mongo_CommandSchema.aggregate( [ { $collStats: { count:¬†{¬†}, storageStats:¬†{}¬†}¬†}¬†]¬†))[0]
            const commandMessageDatabaseSize = (await _mongo_CommandMessageSchema.aggregate( [ { $collStats: { count:¬†{¬†}, storageStats:¬†{}¬†}¬†}¬†]¬†))[0]
            const contactDatabaseSize = (await _mongo_ContactSchema.aggregate( [ { $collStats: { count:¬†{¬†}, storageStats:¬†{}¬†}¬†}¬†]¬†))[0]
            const botDatabaseSize = (await _mongo_BotSchema.aggregate( [ { $collStats: { count:¬†{¬†}, storageStats:¬†{}¬†}¬†}¬†]¬†))[0]
            
            // const messageCount = await _mongo_MessageSchema.countDocuments({})
            const groups = Object.values(await rem.groupFetchAllParticipating())
            const used = process.memoryUsage()
            const cpus = os.cpus().map(cpu => {
                cpu.total = Object.keys(cpu.times).reduce((last, type) => last + cpu.times[type], 0)
                return cpu
            })
            const cpu = cpus.reduce((last, cpu, _, { length }) => {
                last.total += cpu.total
                last.speed += cpu.speed / length
                last.times.user += cpu.times.user
                last.times.nice += cpu.times.nice
                last.times.sys += cpu.times.sys
                last.times.idle += cpu.times.idle
                last.times.irq += cpu.times.irq
                return last
            }, {
                speed: 0,
                total: 0,
                times: {
                    user: 0,
                    nice: 0,
                    sys: 0,
                    idle: 0,
                    irq: 0
                }
            })
            const speed = moment() / 1000 - (t + 2)

            let isOnlineBotAPI = undefined
            try {
                await axios.get(`http://localhost:7516`)
                isOnlineBotAPI = true
            } catch (error) {
                isOnlineBotAPI = false
            }

            let numClientLoad = 0
            let isOnlineLoadBalancer = undefined
            try {
                const getNumClient = await axios.get(`http://localhost:7517`)
                isOnlineLoadBalancer = true
                numClientLoad = getNumClient.data.numClient
            } catch (error) {
                isOnlineLoadBalancer = false
            }

            let isOnlinePuppeteerAPI = undefined
            try {
                await axios.get(`http://localhost:8067`)
                isOnlinePuppeteerAPI = true
            } catch (error) {
                isOnlinePuppeteerAPI = false
            }

            const contentTextBotStat = `${isVirtualBot ? `Client-${global.serverJadibot} ` : ''}Bot Statistic
Merespon dalam ${speed} detik

üìä Stats :
- Core Proccess : *Online* (OK)
- Load Balancer : ${isOnlineLoadBalancer ? '*Online*' : '*Offline*'} (${numClientLoad} Client)
- Bot API : ${isOnlineBotAPI ? '*Online* (OK)' : '*Offline* (ERROR)'}
- Puppeteer API : ${isOnlinePuppeteerAPI ? '*Online* (OK)' : '*Offline* (ERROR)'}
- Database : *Online* | [ MongoDb ]

üí¨ Status :
- *${groups.length}* Group Chats
- *${groups.length}* Total Chats

üìÅ Database Size :
- User Database : *${clacSize_kb(userDatabaseSize.storageStats.storageSize)}* _(${numberWithCommas(userDatabaseSize.count)} document)_
- Group Database : *${clacSize_kb(groupDatabaseSize.storageStats.storageSize)}* _(${numberWithCommas(groupDatabaseSize.count)} document)_

- Command Collection Database : *${clacSize_kb(commandDatabaseSize.storageStats.storageSize)}* _(${numberWithCommas(commandDatabaseSize.count)} document)_
- Command History Database : *${clacSize_kb(commandMessageDatabaseSize.storageStats.storageSize)}* _(${numberWithCommas(commandMessageDatabaseSize.count)} document)_

- Contact Name Database : *${clacSize_kb(contactDatabaseSize.storageStats.storageSize)}* _(${numberWithCommas(contactDatabaseSize.count)} document)_
- Bot Database : *${clacSize_kb(botDatabaseSize.storageStats.storageSize)}* _(${numberWithCommas(botDatabaseSize.count)} document)_

üíª *Server Info* :
RAM: ${format(os.totalmem() - os.freemem())} / ${format(os.totalmem())}

_NodeJS Memory Usage_
${monospace(Object.keys(used).map(key => `${key} : ${format(used[key])}`).join('\n'))}

_Current Cpu Usage_
*${cpuPercentage}%*

_Total CPU Usage_
${cpus[0].model.trim()} (${cpu.speed} MHZ)\n${Object.keys(cpu.times).map(type => `- *${(type + '*').padEnd(6)}: ${(100 * cpu.times[type] / cpu.total).toFixed(2)}%`).join('\n')}

_CPU Core(s) Usage (${cpus.length} Core CPU)_
${cpus.map((cpu, i) => `${i + 1}. ${cpu.model.trim()} (${cpu.speed} MHZ)\n${Object.keys(cpu.times).map(type => `- *${(type + '*').padEnd(6)}: ${(100 * cpu.times[type] / cpu.total).toFixed(2)}%`).join('\n')}`).join('\n\n')}
`

            const BotStatButtons = [{ index: 1, urlButton: { displayText: 'üìä Database Status', url: 'https://remcp.com/dbstatus' } }]

            // await rem.sendButtonsTemplateImage(from, contentTextBotStat.trim(), './lib/cache/chart/mychart.png', BotStatButtons, '', '@dwirizqi.h', { filename: 'botstat.png' }) 
            await rem.sendFile(from, './lib/cache/chart/mychart.png', 'botstat.png', contentTextBotStat, messageRaw, image)   
            

            if(global.textTestInternetCache != undefined) return reply(from, global.textTestInternetCache)
            const speedTestBotStat = await speedTest({ acceptLicense: true })

            let UpSpeedBotStat = clacSize_kb(bytestobits(speedTestBotStat.upload.bandwidth), 2).split(' ')
            UpSpeedBotStat[1] = capitalizeFirstLetter(UpSpeedBotStat[1].toLowerCase()) + '/s'
            let DownSpeedBotStat = clacSize_kb(bytestobits(speedTestBotStat.download.bandwidth), 2).split(' ')
            DownSpeedBotStat[1] = capitalizeFirstLetter(DownSpeedBotStat[1].toLowerCase()) + '/s'

            const textTestInternetBotStat = `üöÄ *Server Network*
- Ping: *${speedTestBotStat.ping.latency}ms*
- Upload: *${UpSpeedBotStat.join('')}*
- Download: *${DownSpeedBotStat.join('')}*
_${speedTestBotStat.result.url}_`

            if(global.textTestInternetCache == undefined) global.textTestInternetCache = `_This is Cached SpeedTest_\n_${Date(speedTestBotStat.timestamp)}_\n\n${textTestInternetBotStat}`

            reply(from, textTestInternetBotStat)

            break
        case prefix+'setgroupname':
            if (!isGroupMsg) return reply(from, `Fitur ini hanya bisa di gunakan dalam group`, id)
            if (!isGroupAdmins) return reply(from, `Fitur ini hanya bisa di gunakan oleh admin group`, id)
            if (!isBotGroupAdmins) return reply(from, `Fitur ini hanya bisa di gunakan ketika bot menjadi admin`, id)
            const namagrup = body.slice(14)
            let sebelum = groupMetadata.subject
            rem.groupUpdateSubject(groupId, namagrup)
            if(isMention) {
                rem.sendTextWithMentions(from, `Nama group telah diubah oleh admin @${sender.replace('@s.whatsapp.net','')}\n\n‚Ä¢ Before: ${sebelum}\n‚Ä¢ After: ${namagrup}`)
            } else {
                rem.sendText(from, `Nama group telah diubah oleh admin wa.me/${sender.replace('@s.whatsapp.net','')}\n\n‚Ä¢ Before: ${sebelum}\n‚Ä¢ After: ${namagrup}`)
            }
            break
        case prefix+'setgroupdesc':
            if (!isGroupMsg) return reply(from, `Fitur ini hanya bisa di gunakan dalam group`, id)
            if (!isGroupAdmins) return reply(from, `Fitur ini hanya bisa di gunakan oleh admin group`, id)
            if (!isBotGroupAdmins) return reply(from, `Fitur ini hanya bisa di gunakan ketika bot menjadi admin`, id)
            const descgrup = body.slice(14)
            let sebelum1 = groupMetadata.desc
            rem.groupUpdateDescription(groupId, descgrup)
            if(isMention) {
                rem.sendTextWithMentions(from, `Desc group telah diubah oleh admin @${sender.replace('@s.whatsapp.net','')}\n\n‚Ä¢ Before: ${sebelum1}\n‚Ä¢ After: ${descgrup}`)
            } else {
                rem.sendText(from, `Desc group telah diubah oleh admin wa.me/${sender.replace('@s.whatsapp.net','')}\n\n‚Ä¢ Before: ${sebelum1}\n‚Ä¢ After: ${descgrup}`)
            }
            break
        case prefix+'setgroup':
            if (!isGroupMsg) return reply(from, `Fitur ini hanya bisa di gunakan dalam group`, id)
            if (!isGroupAdmins) return reply(from, `Fitur ini hanya bisa di gunakan oleh admin group`, id)
            if (args.length == 1) return reply(from, `Invalid menu!\n\n1. *_${prefix}setgroup msgnolevelup <enable/disable>_* | _Menonaktifkan Pesan levelup_\n2. *_${prefix}setgroup msgnocmd <enable/disable>_* | _Pesan invalid CMD_\n\n_Abaikan Tanda < dan >_`)

            if(args[1].toLowerCase() == 'msgnolevelup') {
                if(args[2] == 'enable') {
                    if(isLevelUpMsgDisable()) return reply(from, 'Pesan LevelUp sudah di nonaktifkan!')

                    await _mongo_GroupSchema.updateOne({ iId: groupId }, { $set: { "setGroup.lvlupdisable": true } })
                    reply(from, 'Success!')
                } else if(args[2] == 'disable') {
                    if(!isLevelUpMsgDisable()) return reply(from, 'Pesan LevelUp sudah di aktifkan!')

                    await _mongo_GroupSchema.updateOne({ iId: groupId }, { $set: { "setGroup.lvlupdisable": false } })
                    reply(from, 'Success!')   
                } else {
                    reply(from, `Invalid menu!\n\n1. *_${prefix}setgroup msgnolevelup <enable/disable>_* | _Menonaktifkan Pesan levelup_\n2. *_${prefix}setgroup msgnocmd <enable/disable>_* | _Pesan invalid CMD_\n3. *_${prefix}setgroup safesearch <enable/disable>_* | _Mengaktifkan Safe Search untuk ${prefix}images_\n\n_Abaikan Tanda < dan >_`)
                }
            } else if(args[1].toLowerCase() == 'msgnocmd') {
                if(args[2] == 'enable') {
                    if(isMsgNoCmd()) return reply(from, 'Pesan Invalid CMD sudah di nonaktifkan!')

                    await _mongo_GroupSchema.updateOne({ iId: groupId }, { $set: { "setGroup.nocmd": true } })
                    reply(from, 'Success!')
                } else if(args[2] == 'disable') {
                    if(!isMsgNoCmd()) return reply(from, 'Pesan Invalid CMD sudah di aktifkan!')

                    await _mongo_GroupSchema.updateOne({ iId: groupId }, { $set: { "setGroup.nocmd": false } })
                    reply(from, 'Success!')   
                } else {
                    reply(from, `Invalid menu!\n\n1. *_${prefix}setgroup msgnolevelup <enable/disable>_* | _Menonaktifkan Pesan levelup_\n2. *_${prefix}setgroup msgnocmd <enable/disable>_* | _Pesan invalid CMD_\n3. *_${prefix}setgroup safesearch <enable/disable>_* | _Mengaktifkan Safe Search untuk ${prefix}images_\n\n_Abaikan Tanda < dan >_`)
                }
            } else if(args[1].toLowerCase() == 'safesearch' || args[1].toLowerCase() == 'imagessafe' || args[1].toLowerCase() == 'imagesafe') {
                const _safesearch = _groupDb.isImageSafeSearch
                if(args[2] == 'enable') {
                    if(_safesearch) return reply(from, 'Safe Search sudah di aktifkan!')

                    await _mongo_GroupSchema.updateOne({ iId: groupId }, { $set: { isImageSafeSearch: true } })
                    reply(from, 'Success!')
                } else if(args[2] == 'disable') {
                    if(!_safesearch) return reply(from, 'Safe Search sudah di nonaktifkan!')

                    await _mongo_GroupSchema.updateOne({ iId: groupId }, { $set: { isImageSafeSearch: false } })
                    reply(from, 'Success!')   
                } else {
                    reply(from, `Invalid menu!\n\n1. *_${prefix}setgroup msgnolevelup <enable/disable>_* | _Menonaktifkan Pesan levelup_\n2. *_${prefix}setgroup msgnocmd <enable/disable>_* | _Pesan invalid CMD_\n3. *_${prefix}setgroup safesearch <enable/disable>_* | _Mengaktifkan Safe Search untuk ${prefix}images_\n\n_Abaikan Tanda < dan >_`)
                }
            } else {
                reply(from, `Invalid menu!\n\n1. *_${prefix}setgroup msgnolevelup <enable/disable>_* | _Menonaktifkan Pesan levelup_\n2. *_${prefix}setgroup msgnocmd <enable/disable>_* | _Pesan invalid CMD_\n3. *_${prefix}setgroup safesearch <enable/disable>_* | _Mengaktifkan Safe Search untuk ${prefix}images_\n\n_Abaikan Tanda < dan >_`)
            }
            break
        case prefix+'setgroupicon':
            if (!isGroupMsg) return reply(from, `Fitur ini hanya bisa di gunakan dalam group`, id)
            if (!isSideOwner) return reply(from, 'Fitur ini telah di *hapus*\nKarena sering disalah gunakan untuk membanned nomer bot')
            if (!isGroupAdmins) return reply(from, `Fitur ini hanya bisa di gunakan oleh admin group`, id)
            if (!isBotGroupAdmins) return reply(from, `Fitur ini hanya bisa di gunakan ketika bot menjadi admin`, id)
            if (isMedia) {
                const mediaData = await message.getMedia()
                await rem.updateProfilePicture(from, mediaData)
                if(isMention) {
                    rem.sendTextWithMentions(from, `Profile group telah diubah oleh admin @${sender.replace('@s.whatsapp.net','')}`)
                } else {
                    rem.sendText(from, `Profile group telah diubah oleh admin wa.me/${sender.replace('@s.whatsapp.net','')}`)
                }
            } else if (quotedMsg && isQuotedImage) {
                const mediaData = await quotedMsg.getMedia()
                await rem.updateProfilePicture(from, mediaData)
                if(isMention) {
                    rem.sendTextWithMentions(from, `Profile group telah diubah oleh admin @${sender.replace('@s.whatsapp.net','')}`)
                } else {
                    rem.sendText(from, `Profile group telah diubah oleh admin wa.me/${sender.replace('@s.whatsapp.net','')}`)
                }
            } else {
                rem.sendText(from, `Wrong Format!\n‚ö†Ô∏è Harap Kirim Gambar Dengan ${prefix}setgroupicon`, id)
            }
            break
        case prefix+'bugreport':
            
            if (args.length === 1) return rem.sendText(from, '[‚ùó] Kirim perintah *'+prefix+'bugreport [teks]*\ncontoh : *'+prefix+'bugreport Permisi Owner, Ada bug pada command '+prefix+'otakudesu, Tolong diperbaiki*')
            const bug = body.slice(11)
            if(!bug) return

            let textSendBugReport = ''

            if(isGroupMsg){
                textSendBugReport = `*[BUG REPORT]*\n*WAKTU* : ${time}\nNO PENGIRIM : wa.me/${sender.match(/\d+/g)}\nGroup : ${name}\n\n${bug}`
                reply(from, 'Masalah telah di laporkan ke Owner, laporan palsu/main2 tidak akan ditanggapi.' ,id)
            }else{
                textSendBugReport = `*[BUG REPORT]*\n*WAKTU* : ${time}\nNO PENGIRIM : wa.me/${sender.match(/\d+/g)}\n\n${bug}`
                reply(from, 'Masalah telah di laporkan ke Owner, laporan palsu/main2 tidak akan ditanggapi.', id)
            }

            const isImageBugReport = isImage ? await message.getMedia() : isQuotedImage ? await quotedMsg.getMedia() : false

            const sendBodyBugReport = { method: 'sendButtons', number: '6281358181668-1621640771@g.us', data: textSendBugReport, options: [{ id: `.rplyres ${sender} bugreport ${bug}`, text: 'Balas' }], options1: '', options2: '', options3: {}, options4: {}, options5: false, options6: false }
            const sendBodyBugReport1 = { method: 'sendButtons', number: '120363417108683279@g.us', data: textSendBugReport, options: [{ id: `.rplyres ${sender} bugreport ${bug}`, text: 'Balas' }], options1: '', options2: '', options3: {}, options4: {}, options5: false, options6: false }
            const sendBodyBugReport2 = { method: 'sendButtons', number: '120363159869866611@g.us', data: textSendBugReport, options: [{ id: `.rplyres ${sender} bugreport ${bug}`, text: 'Balas' }], options1: '', options2: '', options3: {}, options4: {}, options5: false, options6: false }
            if(isImageBugReport) {
                const buttonOptions = sendBodyBugReport.options
                sendBodyBugReport.method = 'sendButtonsImage'
                sendBodyBugReport.options = isImageBugReport.toString('base64')
                sendBodyBugReport.options1 = buttonOptions

                sendBodyBugReport1.method = 'sendButtonsImage'
                sendBodyBugReport1.options = isImageBugReport.toString('base64')
                sendBodyBugReport1.options1 = buttonOptions

                sendBodyBugReport2.method = 'sendButtonsImage'
                sendBodyBugReport2.options = isImageBugReport.toString('base64')
                sendBodyBugReport2.options1 = buttonOptions

                
            }
            // const sendBody = { id: '6281358181668-1621640771@g.us', key: 'OIAHOIFBAPW790709ba', method: 'sendMessage', content: ['6281358181668-1621640771@g.us', { text: textSendBugReport }, { quoted: messageRaw }] }

            await axios.post('http://localhost:7516/api/v2/post/useBotMethod', sendBodyBugReport)
              await axios.post('http://localhost:7516/api/v2/post/useBotMethod', sendBodyBugReport1)
            await axios.post(`http://localhost:7516/api/v2/post/useBotMethod`, sendBodyBugReport2)
            // reply(from, '*Bug Report telah dipindah!*\n\nKarena ownernya rada malas jawab in pertanyaan yang udh ditanyain sebelumnya\nKalau ingin *lapor bug/error*\nBisa di https://github.com/DwiRizqiH/rem-comp-listJadibot/issues\n\nTekan *tombol ijo "New issue"*, dan Jabarkan/Jelaskan Bug/Error yang dialami\nAkan segera dibalas/difix oleh Owner\n\n*HARAP MELAPOR DENGAN SOPAN DAN PROFESIONAL DI HALAMAN ISSUE*\n*SEBELUM LAPOR, BIASAKAN SEARCH/CARI MASALAH YANG DIALAMI DI HALAMAN ISSUE*\nJika blum ada yang melapor bug/error tersebut, Baru create _"New issue"_ (tombol ijo)')
            
            break
        case prefix+'saran':
            
            if (args.length === 1) return rem.sendText(from, '[‚ùó] Kirim perintah *'+prefix+'saran [teks]*\ncontoh : *'+prefix+'saran Permisi Owner, Saran tambahkan command ini .......')
            const saran = body.slice(7)
            if(!saran) return

            let textSendSaran = ''
            if(isGroupMsg) {
                textSendSaran = `*[SARAN]*\n*WAKTU* : ${time}\nNO PENGIRIM : wa.me/${sender.match(/\d+/g)}\nGroup : ${name}\n\n${saran}`
                reply(from, 'Saran telah disampaikan ke Owner!' ,id)
            } else {
                textSendSaran = `*[SARAN]*\n*WAKTU* : ${time}\nNO PENGIRIM : wa.me/${sender.match(/\d+/g)}\n\n${saran}`
                reply(from, 'Saran telah disampaikan ke Owner!', id)
            }

            const isImageSaran = isImage ? await message.getMedia() : isQuotedImage ? await quotedMsg.getMedia() : false

            // const sendBodySaran = { id: '6281358181668-1621640771@g.us', key: 'OIAHOIFBAPW790709ba', method: 'sendMessage', content: ['6281358181668-1621640771@g.us', { text: textSendSaran }, { quoted: messageRaw }] }
            let sendbodySaran = { method: 'sendButtons', number: '6281358181668-1621640771@g.us', data: textSendSaran, options: [{ id: `${prefix}rplyres ${sender} saran ${saran}`, text: 'Balas' }], options1: '', options2: '', options3: {}, options4: {}, options5: false, options6: false }
            let sendBodySaran2 = { method: 'sendButtons', number: '120363417108683279@g.us', data: textSendSaran, options: [{ id: `${prefix}rplyres ${sender} saran ${saran}`, text: 'Balas' }], options1: '', options2: '', options3: {}, options4: {}, options5: false, options6: false }
            let sendBodySaran3 = { method: 'sendButtons', number: '120363159869866611@g.us', data: textSendSaran, options: [{ id: `${prefix}rplyres ${sender} saran ${saran}`, text: 'Balas' }], options1: '', options2: '', options3: {}, options4: {}, options5: false, options6: false }
            if(isImageSaran) {
                const buttonOptions = sendbodySaran.options
                sendbodySaran.method = 'sendButtonsImage'
                sendbodySaran.options = isImageSaran.toString('base64')
                sendbodySaran.options1 = buttonOptions

                sendBodySaran2.method = 'sendButtonsImage'
                sendBodySaran2.options = isImageSaran.toString('base64')
                sendBodySaran2.options1 = buttonOptions

                sendBodySaran3.method = 'sendButtonsImage'
                sendBodySaran3.options = isImageSaran.toString('base64')
                sendBodySaran3.options1 = buttonOptions


            }
            await axios.post('http://localhost:7516/api/v2/post/useBotMethod', sendbodySaran)
            await axios.post('http://localhost:7516/api/v2/post/useBotMethod', sendBodySaran2)
            await axios.post('http://localhost:7516/api/v2/post/useBotMethod', sendBodySaran3)
            
            break
        case prefix+'rplyres':
            const staffs = await _mongo_UserSchema.find({ 
                $or: [
                    { isAdmin: true },
                    { "rl.isMod": true }
                ]
            }).lean()

            if(staffs&& !isSideOwner) {
                if(from !== '120363417108683279@g.us') {
                    return reply(from, 'Sebagai moderator dan Bot Admin, Anda hanya dapat menggunakan perintah ini di grup tertentu!', id)
                }
            }
            if(!isSideOwner && !staffs) {
                return reply(from, 'Perintah ini hanya untuk Side Owner!', id)
            }
            if(allArgs[1] == undefined) return reply(from, 'Invalid!')
            if(allArgs[2] == undefined || (allArgs[2] != 'bugreport' && allArgs[2] != 'saran')) return reply(from, 'Invalid type!')
            if(args[1] == undefined) return reply(from, 'Invalid response!')

            const beforeResponse = allArgs.slice(3).join(' ')
            const sendTextRplyRes = `Balasan ${allArgs[2].toUpperCase()}
Dibalas oleh: @${sender.replace('@s.whatsapp.net', '')} ${isSuperOwner ? '(Owner)' : isOwner ? '(Asisten Owner)' : isSideOwner ? '(Side Owner)' : isAdmin ? '(Admin Bot)' : ''}
*Balasan : ${args.slice(1).join(' ')}*
‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
${allArgs[2].toUpperCase()} Sebelumnya
Pengirim Saran : wa.me/${allArgs[1].replace('@s.whatsapp.net', '')}
*Pesan¬†Saran : ${beforeResponse}*`
            // const sendBodyResponse = { id: allArgs[1], key: 'OIAHOIFBAPW790709ba', method: 'sendMessage', content: [allArgs[1], { text: sendTextRplyRes, mentions: [sender] }, { quoted: messageRaw }] }
            // await axios.post(`http://localhost:7516/access`, sendBodyResponse)

            const isImageButton = message.isMedia && message?.mimetype?.startsWith('image')
            const isVideoButton = message.isMedia && message?.mimetype?.startsWith('video')
            if(isImageButton) message.type = image
            if(isVideoButton) message.type = video
            const isMediaRplyres = (isImageButton || isVideoButton) ? await message.getMedia() : false

            let methodRplyres = 'sendMessage'
            let bodySendRplyres = [allArgs[1], { text: sendTextRplyRes, mentions: [sender] }]
            if(isMediaRplyres) {
                methodRplyres = 'sendFileAuto'
                bodySendRplyres = [allArgs[1], isMediaRplyres.toString('base64'), 'image.png', sendTextRplyRes, '', { mentions: [sender] }]
            }

            await sendRequestRandomJadibot(methodRplyres, bodySendRplyres)
            reply(from, 'Success!')
            break
        case prefix+'set_bot':
            if (!isSideOwner) return reply(from, 'Perintah ini hanya untuk role SideOwner!', id)
            if (args.length === 1) return reply(from, 'Format salah!', id)
            if(args[1] == 'cmd' || args[1] == 'command' || args[1] == 'comand') {
                if(args.length === 2) return reply(from, 'Format Salah\nContoh: Baca di script nao baris 11238 :V\n\nMamles nulis', id)
                if (args[2] == 'enable') {
                    if (args[3].includes('!')) {
                        var cmdenab = args[3].replace('!', '')
                    } else {
                        var cmdenab = args[3]
                    }
                    if(!_botDb.setBot.cmd.includes(cmdenab)) return reply(from, 'Command tersebut tidak dinonaktifkan atau Command tersebut tidak ada', id)
                    await _mongo_BotSchema.updateOne({ iId: 'CORE' }, { $pull: { "setBot.cmd": cmdenab } })
                    reply(from, 'Succes', id)
                } else if (args[2] == 'disable'){
                    if (args[3].includes('!')) {
                        var cmdedis = args[3].replace('!', '')
                    } else {
                        var cmdedis = args[3]
                    }
                    if(_botDb.setBot.cmd.includes(cmdedis)) return reply(from, 'Command tersebut sudah dinonaktifkan sebelumnya', id)
                    await _mongo_BotSchema.updateOne({ iId: "CORE" }, { $push: { "setBot.cmd": cmdedis.toLowerCase() } })
                    reply(from, 'Succes', id)
                }
            } else if(args[1] == 'mention' || args[1] == 'tag') {
                if(args[2] == 'enable') {
                    await _mongo_BotSchema.updateOne({ iId: "CORE" }, { $set: { "setBot.mention": true } })
                    rem.sendText(from, 'Succes')
                } else if(args[2] == 'disable') {
                    if(!_botDb.setBot.mention) return rem.sendText(from, 'Fitur mention sudah di nonaktifkan')
                    await _mongo_BotSchema.updateOne({ iId: "CORE" }, { $set: { "setBot.mention": false } })
                    rem.sendText(from, 'Succes')
                } else {
                    rem.sendText(from, '404!')
                }
            }
            else if(args[1] == 'hits') {
                if(args[2] == 'reset') {
                    const getHitsBefore = await getHitsCount('today', _botDb)
                    const ResetHitsCount = async () => {
                        await _mongo_BotSchema.updateOne({ iId: "CORE" }, { $set: { hits: { today: 0, total: 0 } } })
                    }
                    ResetHitsCount()
                    reply(from, `Succes\n\nBefore: ${getHitsBefore}\nAfter: ${numberWithCommas(getHitsCount('today', _botDb))}`, id)    
                } else {
                    rem.sendText(from, 'Baca di skrip rem baris 13751 :V\n\nMamles nulis')
                }
            } else if(args[1] == 'hunt') {
                if(args[2] == 'reset') {
                    var obj = []
                    global.db['./lib/database/user/hunt.json'] = obj
                    await fs.writeFileSync('./lib/database/user/hunt.json', JSON.stringify(obj));
                    reply(from, 'Succes', id)
                } else {
                    rem.sendText(from, 'Baca di skrip rem baris 13759 :V\n\nMamles nulis')
                }
            } else {
                return reply(from, 'Format Salah\nContoh: Baca di script rem baris 11304 :V\n\nMamles nulis', id)
            }
            break
        case prefix+'set_user':
            if(message.selectedButtonId != undefined) args = message.selectedButtonId.split(' ')
            if (args.length === 1) return reply(from, setuser(prefix), id)
            if(args[1] == 'menu') reply(from, setuser(prefix), id)
            if(args[1] == 'notice') {
                if(args.length === 2) {
                    return reply(from, 'Isi dengan benar!\n*Contoh: '+prefix+'set_user notice blabalabaklab')
                } else if(args.length >= 2) {
                    var remindnya = body.slice(17)
                }
                if(remindnya.length > 50) return reply(from, 'Notice tidak boleh melebihi 50 kata', id)
                if (getRemind(_userDb) === undefined) {
                    await addRemind(sender, time, remindnya)
                } else {
                    await replaceRemindTime(sender, time)
                    replaceRemind(sender, remindnya)
                }
                reply(from, 'Set user notice *Succes*', id)
            } else if(args[1] == 'nama') {
                if(args.length === 2) {
                    return rem.sendText(from, 'Isi dengan benar!\n*Contoh: '+prefix+'set_user nama Dwi rizqi')
                } else if(args.length >= 2) {
                    var namanya = body.slice(15)
                }
                if(namanya.length > 30) return reply(from, 'Nama tidak boleh melebihi 30 kata', id)
                if (getNama(_userDb) === undefined) {
                    await addNama(sender, namanya)
                } else {
                    replaceNama(sender, namanya)
                }
                reply(from, 'Set user name *Succes*', id)
            } else if(args[1] == 'hidepp') {
                if (args[2] == 'enable') {
                    if (isHideppOn) return await reply(from, '*„Äå HIDEPP „Äç*\nSudah diaktifkan', id)
                    await _mongo_UserSchema.updateOne({ iId: sender }, { $set: { isHidePP: true } })
                    await reply(from, 'Fitur HidePp berhasil diaktifkan', id)
                } else if (args[2] == 'disable') {
                    await _mongo_UserSchema.updateOne({ iId: sender }, { $set: { isHidePP: false } })
                    await reply(from, 'Fitur HidePp berhasil di nonaktifkan', id)
                } else {
                    await reply(from, 'Pilih enable atau disable!', id)
                }
            } else if(args[1] == 'gender') {
                if(args[2] == 'cwk') return reply(from, 'LAVVAK???', id)
                if(args.length === 2) {
                    return reply(from, 'Isi dengan benar!\n*Contoh: '+prefix+'set_user gender cewe/cowo', id)
                } else if(args[2].match("laki2") || args[2].match("laki-laki") || args[2].match("cowo") || args[2].match("cwok") || args[2].match("cwo")) {
                    var gendernya = 'lk'
                } else if(args[2].match("perempuan") || args[2].match("cewe") || args[2].match("cwek") || args[2].match("cw") || args[2].match("cwe")) {
                    var gendernya = 'pr'
                } else {
                    return reply(from, 'Yang bener!\n*List Keyword: laki2, laki-laki, cowo, cwok, cwo, perempuan, cewe, cwek, cw, cwe*', id)
                }
                if (getGen(_userDb) === undefined) {
                    await addGen(sender, gendernya)
                } else {
                    await replaceGen(sender, gendernya)
                }
                reply(from, 'Set user Gender *Succes*', id)
                } else if(args[1] == 'ig') {
                // if(!isOwner) return reply(from, 'Fitur ini sedang di perbaiki!')
                if((message.body.includes('\n')) && args.length === 2) {
                    return rem.sendText(from, 'Isi dengan benar!\n*Contoh: '+prefix+'set_user ig dwirizqi.h')
                }
                if(args[2].startsWith('@')) {
                    var filterArgs1Ig = args[2].replace('@', '')
                } else {
                    var filterArgs1Ig = args[2]
                }

                console.log({ link: 'https://www.instagram.com/' + encodeURIComponent(filterArgs1Ig?.replace(/[*]/g, '').replace(/ /g, "").replace(/(?:\r\n|\r|\n)/g, '')), downloader: 'avatar' })
                
                // let checkIgExists = undefined
                // try {
                //     // checkIgExists = JSON.parse(checkIgExists0.data)
                //     // checkIgExists = checkIgExists0.data
                //     checkIgExists = (await axios.post('https://indownloader.app/request', { link: 'https://www.instagram.com/' + encodeURIComponent(filterArgs1Ig?.replace(/[*]/g, '').replace(/ /g, "").replace(/(?:\r\n|\r|\n)/g, '')), downloader: 'avatar' }, { headers: { 'Content-Type': 'application/x-www-form-urlencoded' } })).data
                // } catch(err) {
                //     console.error(err)
                //     return reply(from, 'Err!\nUsername tidak ditemukan\nSilahkan cek username ig kamu', id)
                // }
                // console.log(checkIgExists)
                // if(!checkIgExists || checkIgExists?.error || !checkIgExists?.html) return reply(from, 'Username tidak ditemukan\nSilahkan cek username ig kamu', id)
                await replaceIg(sender, args[2])
                reply(from, 'Set user IG *Succes*', id)
            } else if(args[1] == 'icmd') {
                if(!isPrem) return reply(from, 'Fitur ini hanya bisa di gunakan oleh user premium!', id)
                if(args[2] == undefined) return reply(from, `Format Salah!\n*_${prefix}set_user icmd <text>_*\n\nContoh: *_${prefix}set_user icmd Ara {pushname} Command {cmd} Tidak terdaftar_*\n_{pushname} Nama pengirim_\n_{cmd}_ Cmd Salah\n_{suggest}_ Cmd yang direkomendasikan\n_{prefix} Prefix di chat ini_`, id)
                var icmdnya = body.slice(15)

                await _mongo_UserSchema.updateOne({ iId: sender }, { $set: { "setUser.customNoCmd": icmdnya } })
                await reply(from, 'Set user iCmd *Succes*', id)
            } else if(args[1] == 'unlisted') {
                if(!isAdmin) return reply(from, 'Perintah ini hanya bisa di gunakan oleh admin Bot!', id)
                //if (mentionedJidList.length === 0) return reply(from, 'Untuk menggunakan Perintah ini, kirim perintah *'+prefix+'set_user* unlisted @tagmember', id)
                if(mentionedJidList[0]) {
                    var bangunban = mentionedJidList[0]
                } else if(args[2] == 'me') {
                    var bangunban = sender
                }
                // rem.updateBlockStatus(bangunban, 'unblock')
                if(isMention) {
                    rem.sendTextWithMentions(from, `Success unblok @${bangunban.replace('@s.whatsapp.net','')}! & Unlisted set to 0`, id)
                } else {
                    reply(from, `Success unblok wa.me/${bangunban.replace('@s.whatsapp.net','')}! & Unlisted set to 0`, id)
                }
            } else if(args[1] == 'level') {
                if(!isOwner) return reply(from, 'Perintah ini hanya untuk Dwi!', id)
                if (!quotedMsg) return reply(from, 'Untuk menggunakan command ini, reply pesannya', id)
                let qmidl = quotedMsg.sender
                if(args[2] == 'reset') {
                    await _mongo_UserSchema.updateOne({ iId: qmidl }, { $set: { "economy.level": 1, "economy.xp": 0 } })
                    if(isMention) {
                        rem.sendTextWithMentions(from, `Success Reset level @${qmidl.replace('@s.whatsapp.net','')}!`, id)
                    } else {
                        reply(from, `Success Reset level wa.me/${qmidl.replace('@s.whatsapp.net','')}!`, id)
                    }
                } else if(args[2] == 'min') { 
                    const currentLevel = getLevelingLevel(qmidl)
                    const checkId = getLevelingId(qmidl)
                    const checkBg = getBg(qmidl)
                    if (currentLevel === undefined && checkId === undefined) await addLevelingId(qmidl)
                    if (checkBg === undefined) addBg(qmidl)
                    const amountLvl = Math.floor(args[3])
                    const amountXp = Math.floor(args[4])
                    await MinLevelingXp(qmidl, amountXp)
                    await MinLevelingLevel(qmidl, amountLvl)
                    if(isMention) {
                        rem.sendTextWithMentions(from, `Success Min Level @${qmidl.replace('@s.whatsapp.net','')}!\n\nUpdated!\nXp: ${numberWithCommas(fixNumberE(getLevelingXp(qmidl)))}\nLevel: ${getLevelingLevel(qmidl)}`)
                    } else {
                        rem.sendText(from, `Success Min Level wa.me/${qmidl.replace('@s.whatsapp.net','')}!\n\nUpdated!\nXp: ${numberWithCommas(fixNumberE(getLevelingXp(qmidl)))}\nLevel: ${getLevelingLevel(qmidl)}`)
                    }
                } else if(args[2] == 'add') {
                    const currentLevel = getLevelingLevel(qmidl)
                    const checkId = getLevelingId(qmidl)
                    const checkBg = getBg(qmidl)
                    if (currentLevel === undefined && checkId === undefined) await addLevelingId(qmidl)
                    if (checkBg === undefined) addBg(qmidl)
                    //const amountLvl = args[3]
                    //const amountXp = args[4]
                    const amountXp = Math.floor(args[4])
                    const amountLvl = Math.floor(args[3])
                    await addLevelingXp(qmidl, amountXp)
                    await addLevelingLevel(qmidl, amountLvl)
                    if(isMention) {
                        rem.sendTextWithMentions(from, `Success Add Level @${qmidl.replace('@s.whatsapp.net','')}!\n\nUpdated!\nXp: ${numberWithCommas(fixNumberE(getLevelingXp(qmidl)))}\nLevel: ${getLevelingLevel(qmidl)}`)
                    } else {
                        rem.sendText(from, `Success Add Level wa.me/${qmidl.replace('@s.whatsapp.net','')}!\n\nUpdated!\nXp: ${numberWithCommas(fixNumberE(getLevelingXp(qmidl)))}\nLevel: ${getLevelingLevel(qmidl)}`)
                    }
                }
            } else if(args[1] == 'converte') {
                if(args.length === 2) return reply(from, 'Pilih enable/disable', id)
                if(args[2].toLowerCase() == 'enable') {
                    await _mongo_UserSchema.updateOne({ iId: sender }, { $set: { isCvrtE: true } })
                    reply(from, 'Sukses, mengaktifkan Convert Number', id)
                } else if(args[2].toLowerCase() == 'disable') {
                    await _mongo_UserSchema.updateOne({ iId: sender }, { $set: { isCvrtE: false } })
                    reply(from, 'Sukses, menonaktifkan Convert Number', id)
                } else {
                    return reply(from, 'Pilih enable/disable', id)
                }
            } else if(args[1] == 'button') {
                if(args.length === 2) return reply(from, 'Pilih enable/disable', id)
                if(args[2].toLowerCase() == 'enable') {
                    await _mongo_UserSchema.updateOne({ iId: sender }, { $set: { isLegacyButton: false } })
                    reply(from, 'Sukses, mengaktifkan Button', id)
                } else if(args[2].toLowerCase() == 'disable') {
                    await _mongo_UserSchema.updateOne({ iId: sender }, { $set: { isLegacyButton: true } })
                    reply(from, 'Sukses, menonaktifkan Button', id)
                } else {
                    return reply(from, 'Pilih enable/disable', id)
                }
            } else if(args[1] == 'version') {
                if (!isSideOwner) return  reply(from, 'Perintah ini hanya untuk role SideOwner!', id)
                if(args.length === 2) return reply(from, 'version empty!', id)
                if(args[2] != 'beta' && args[2] != 'release') return reply(from, 'Invalid version!')
                await _mongo_UserSchema.updateOne({ iId: sender }, { $set: { "setUser.version": args[2].toLowerCase() } })
                reply(from, 'Sukses, mengubah version ke '+args[2].toLowerCase(), id)
            } else if(allArgs[1] == 'daerah') {
                const getHeaderPHPSESSID = await axios.get('https://bimasislam.kemenag.go.id')
                const PHPSESSID = getHeaderPHPSESSID.headers['set-cookie'][0].split(';')[0].split('=')[1]

                const getImsakiyah = await axios.get('https://bimasislam.kemenag.go.id/jadwalimsakiyah', {
                    headers: {
                        Cookie: `PHPSESSID=${PHPSESSID}`
                    }
                })
                const $im = cheerio.load(getImsakiyah.data)
            
                const allProv = []
                $im('#search_prov > option*').each((i, el) => {
                    const $el = $im(el)
                    const prov = $el.text()
                    const id = $el.attr('value')
                    allProv.push({ id, prov })
                })

                return rem.sendButtons(from, `*Pilih Provinsi*`, allProv.map((prov, i) => {
                    return { id: `${prefix}set_user daerah_kota ${prov.id} ${prov.prov}`, text: prov.prov }
                }))
            } else if(allArgs[1] == 'daerah_kota') {
                if(!message.selectedButtonId) return reply(from, 'Invalid!')

                const provIdSelected = allArgs[2]
                const provNameSelected = allArgs.join(' ').replace(`${allArgs[0]} ${allArgs[1]} ${allArgs[2]} `, '')

                const getHeaderPHPSESSID = await axios.get('https://bimasislam.kemenag.go.id')
                const PHPSESSID = getHeaderPHPSESSID.headers['set-cookie'][0].split(';')[0].split('=')[1]
                const listKotaGet = await axios.post('https://bimasislam.kemenag.go.id/ajax/getKabkoshalat', `x=${provIdSelected}`, {
                    headers: {
                        'Content-Type': 'application/x-www-form-urlencoded',
                        Cookie: `PHPSESSID=${PHPSESSID}`
                    }
                })
                if(!listKotaGet.data) return reply(from, 'Invalid_response!')
                console.log(listKotaGet.data)
                const $imk = cheerio.load(listKotaGet.data)
                const listKotaAll = []
                $imk('option').each((i, el) => {
                    const $el = $imk(el)
                    const kota = $el.text()
                    const id = $el.attr('value')
                    listKotaAll.push({ id, kota })
                })

                rem.sendButtons(from, `*Pilih Kota/Kabupaten di ${provNameSelected}*`, listKotaAll.map((kota, i) => {
                    return { id: `${prefix}set_user daerah_set ${provIdSelected} ${kota.id} ${provNameSelected.replace(/ /g, '_')} ${kota.kota.replace(/ /g, '_')}`, text: kota.kota }
                }))
            } else if(allArgs[1] == 'daerah_set') {
                if(!message.selectedButtonId) return reply(from, 'Invalid!')

                const provIdSelected = allArgs[2]
                const kotaIdSelected = allArgs[3]
                const provNameSelected = allArgs[4].replace(/_/g, ' ')
                const kotaNameSelected = allArgs[5].replace(/_/g, ' ')

                await _mongo_UserSchema.updateOne({ iId: sender }, { $set: { "setUser.daerah": { provId: provIdSelected, kotaId: kotaIdSelected, provName: provNameSelected, kotaName: kotaNameSelected } } })
                reply(from, 'Success', id)
            } else if(args[1] == 'lid') {
                if(isGroupMsg) return reply(from, 'Perintah ini hanya untuk di private chat!', id)
                const lid = message.key.participantLid || message.key.senderLid
                if(!lid) return reply(from, 'Invalid! LID not found', id)
                if(sender.includes('@lid')) return reply(from, 'Invalid! LID cannot be your own, please report to owner', id)

                const formattedLid = (lid.includes(':') ? lid.split(':')[1] : lid).replace('@lid', '') + '@lid'
                await _mongo_ContactSchema.updateOne({ iId: sender }, { $set: { lid: formattedLid } })
                reply(from, `LID berhasil di set ke ${formattedLid}`, id)
            } else {
                reply(from, 'Format Salah, Silahkan ketik '+prefix+'set_user', id)
            }
            break
        case prefix+'version':
            if (!isSideOwner) return  reply(from, 'Perintah ini hanya untuk role SideOwner!', id)
            reply(from, `Current Version : ${_userDb.setUser.version || 'release'}\nPath Version : ${__filename}`)
            break
        
        case prefix+'switchnum':
            const isModSwitchNum = message?.rawFromSenderUserDb?.rl?.isMod || sideOwnerNumber.includes(message.rawFromSender) || ownerNumber2.includes(message.rawFromSender) || sideOwnerNumber.includes(message.rawFromSender)
            if(!isModSwitchNum && !ownerNumber2.includes(message.rawFromSender) && !isSideOwner && !sideOwnerNumber.includes(message.rawFromSender)) return reply(from, 'Perintah ini hanya untuk role Side Owner!', id)
            if(!args[1]) return reply(from, 'number empty!', id)
    
            if(args[1] === 'clear') {
              await _mongo_UserSchema.updateOne({ iId: message.rawFromSender || sender }, { $set: { "setUser.switchNum": null } })
              return reply(from, 'Switch number cleared successfully', id)
            }
    
            if(!args[1]?.endsWith('@s.whatsapp.net')) return reply(from, 'Invalid number format! Harus berakhiran @s.whatsapp.net', id)
    
            if(ownerNumber2.includes(args[1])) return reply(from, 'access denied!', id)
    
            const targetUser = await _mongo_UserSchema.findOne({ iId: args[1] })
            if(!targetUser) return reply(from, 'Number not found! Tidak dapat switchnum ke nomor yang tidak ada.', id)
    
            await _mongo_UserSchema.updateOne({ iId: message.rawFromSender || sender }, { $set: { "setUser.switchNum": args[1].toLowerCase() } })
            reply(from, `Success! Switched to ${args[1]}`)
            break
        case prefix+'account':
            if(!isSideOwner) return reply(from, 'Fitur ini sedang dalam pengembangan!', id)
            if(_userDbRaw.accountList == undefined) {
                await _mongo_UserSchema.updateOne({ iId: sender }, { $set: { accountList: { select: '', list: [_userDb.id] } } })
                _userDbRaw = await _mongo_UserSchema.findOne({ iId: sender })
            }
            if(args[1] == undefined) {
                let formattedTextListAccount = `*List Account*\n\nAccount Utama: *${_userDbRaw.id}*\nSelected Account: *${_userDb.id}*`
                for(let i = 0; i < _userDbRaw.accountList.list.length; i++) {
                    formattedTextListAccount += `\n\n${i+1}. *_${_userDbRaw?.accountList?.list[i]}_*`
                }
                formattedTextListAccount += `\n\n*Note:*\nUntuk mengganti account, ketik _${prefix}account select <nomor urut>_\nUntuk membuat account, ketik _${prefix}account create_\nUntuk menghapus account, ketik _${prefix}account delete <nomer urut>_`
                return reply(from, formattedTextListAccount)
            } else if(args[1] == 'select') {
                if(args[2] == undefined) return reply(from, 'Pilih nomor account yang ingin dipilih', id)
                if(isNaN(args[2])) return reply(from, 'Nomor Urut harus berupa angka', id)
                if(args[2] > _userDbRaw.accountList.list.length) return reply(from, 'Account tidak ditemukan', id)
                const selectAccount = _userDbRaw.accountList.list[args[2] - 1]
                if(selectAccount == undefined) return reply(from, 'Account tidak ditemukan', id)
                if(selectAccount == _userDb.id) return reply(from, 'Account sudah dipilih', id)

                if(selectAccount == _userDbRaw.id) {
                    await _mongo_RawUserSchema.updateOne({ iId: sender }, { $set: { "accountList.select": '' } })
                } else {
                    await _mongo_RawUserSchema.updateOne({ iId: sender }, { $set: { "accountList.select": selectAccount } })
                }

                await _mongo_UserAccountSchema.updateMany({ _id: { $in: _userDbRaw.accountList.list } }, { $set: { "accountList.isSelectedAccount": false } })
                await _mongo_UserAccountSchema.updateOne({ _id: selectAccount }, { $set: { "accountList.isSelectedAccount": true } })
                await reply(from, `Account berhasil diganti!\nUntuk menghapus account, ketik _${prefix}account delete <nomor urut>_`)
            } else if(args[1] == 'create') {
                if(_userDbRaw.accountList.list.length >= 2) return reply(from, 'Maksimal 2 account', id)
                await rem.sendText(from, 'Sedang membuat akun baru...')

                const createdAccount = await _mongo_UserAccountSchema.create(newDbMap(Math.random() * 1000, sender))
                await _mongo_RawUserSchema.updateOne({ iId: sender }, { $push: { "accountList.list": createdAccount.id } })
                await reply(from, `Akun berhasil dibuat!\nUntuk mengganti account, ketik _${prefix}account select <nomor urut>_`)
            } else if(args[1] == 'delete') {
                if(args[2] == undefined) return reply(from, 'Pilih nomor account yang ingin dihapus', id)
                if(isNaN(args[2])) return reply(from, 'Nomor Urut harus berupa angka', id)
                if(args[2] > _userDbRaw.accountList.list.length) return reply(from, 'Account tidak ditemukan', id)
                const deleteAccount = _userDbRaw.accountList.list[args[2] - 1]
                
                if(deleteAccount == undefined) return reply(from, 'Account tidak ditemukan', id)
                if(deleteAccount == _userDb.id) return reply(from, 'Tidak dapat menghapus account yang sedang dipakai!\nGanti account terlebih dahulu', id)
                if(deleteAccount == _userDbRaw.id) return reply(from, 'Tidak dapat menghapus account utama', id)

                await _mongo_RawUserSchema.updateOne({ iId: sender }, { $pull: { "accountList.list": deleteAccount } })
                await _mongo_UserAccountSchema.deleteOne({ _id: deleteAccount })
                reply(from, 'Account berhasil dihapus', id)
            } else {
                reply(from, 'Format Salah, Silahkan ketik '+prefix+'account', id)
            }
            break
        case prefix+'profile':
        case prefix+'me':
            // if(!isOwner) return reply(from, 'Cmd ini sedang dalam pengembangan!')
            let _userDbRequestedProfile = _userDb
            let idRequestedProfile = sender
            
            let picRequestedProfile = './media/img/images_pp_blank.png'
            if(mentionedJidList.length >= 1) {
                idRequestedProfile = mentionedJidList[0]
                _userDbRequestedProfile = _mentionUserDb
            } else if(quotedMsg) {
                idRequestedProfile = quotedMsg.sender
                _userDbRequestedProfile = await _mongo_UserSchema.findOne({ iId: quotedMsg.sender })
            }

            const isSpyProfile = getUserItemIdSpy(_userDbRequestedProfile)

            let statusRequestedProfile = ''
            try {
                statusRequestedProfile = (await rem.fetchStatus(idRequestedProfile))[idRequestedProfile].Status
            } catch (err) {
                console.error(err)
            }

            if (getBgProfile(_userDbRequestedProfile) == undefined) await addBgProfile(idRequestedProfile)
            let isHideppOnRequestedProfile = _userDbRequestedProfile?.isHidePP
            if (!isHideppOnRequestedProfile) {
                try {
                    picRequestedProfile = await rem.profilePictureUrl(idRequestedProfile, 'image')
                } catch (err) {
                    console.error(err)
                    picRequestedProfile = './media/img/images_pp_blank.png'
                }
            }

            let nameRequestedProfile = getNama(_userDbRequestedProfile)
            if(nameRequestedProfile == undefined) {
                const contactDb = await _mongo_ContactSchema.findOne({ iId: idRequestedProfile })
                nameRequestedProfile = rem.contacts(idRequestedProfile, contactDb)
            }
            

            const levelRequestedProfile = getLevelingLevel(_userDbRequestedProfile)
            let nameTagRequestedProfile = getNameTag(_userDbRequestedProfile)
            if (nameTagRequestedProfile == undefined || nameTagRequestedProfile?.select == '') nameTagRequestedProfile = { select: `Ketik ${prefix}nametag` }

            let tierTagRequestedProfile = 'Newbie'
            const getMoneyRequestedProfile = getMoney(_userDbRequestedProfile)
            if (getMoneyRequestedProfile >= 100000000000000000) {
                tierTagRequestedProfile = 'üçÄ Infinity üçÄ'
            } else if (getMoneyRequestedProfile >= 10000000000000000) {
                tierTagRequestedProfile = '‰π° Dominator ‰π°'
            } else if (getMoneyRequestedProfile >= 1000000000000000) {
                tierTagRequestedProfile = '‚õ§ Mytic ‚õ§'
            } else if (getMoneyRequestedProfile >= 500000000000000) {
                tierTagRequestedProfile = 'üîÜ Crown üîÜ'
            } else if (getMoneyRequestedProfile >= 100000000000000) {
                tierTagRequestedProfile = '‚òÆ Ace ‚òÆ'
            } else if (getMoneyRequestedProfile >= 1000000000000) {
                tierTagRequestedProfile = '‚ãÜ Master ‚ãÜ'
            } else if (getMoneyRequestedProfile >= 100000000000) {
                tierTagRequestedProfile = '‚öï Expert ‚öï'
            } else if (getMoneyRequestedProfile >= 1000000000) {
                tierTagRequestedProfile = 'Junior V'
            } else if (getMoneyRequestedProfile >= 100000000) {
                tierTagRequestedProfile = 'Junior IV'
            } else if (getMoneyRequestedProfile >= 30000000) {
                tierTagRequestedProfile = 'Junior III'
            } else if (getMoneyRequestedProfile >= 1500000) {
                tierTagRequestedProfile = 'Junior II'
            } else if (getMoneyRequestedProfile >= 500) {
                tierTagRequestedProfile = 'Junior I'
            }

            // const listSaudara = getSaudara(_userDbRequestedProfile) || []
            // const totalSaudara = listSaudara.length

            let igRequestedProfile = getIg(_userDbRequestedProfile)
            let genderRequestedProfile = getGen(_userDbRequestedProfile)
            let genderIconRequestedProfile = '‚ùî'
            if (igRequestedProfile === undefined) {
                igRequestedProfile = `Untuk setIG ketik ${prefix}set_user ig username mu`
            }
            if (genderRequestedProfile === undefined) {
                genderRequestedProfile = `Untuk setGender ketik ${prefix}set_user gender cowo/cewe`
                genderIconRequestedProfile = '‚ùî'
            } else if (genderRequestedProfile === 'lk') {
                genderRequestedProfile = 'Laki-Laki'
                genderIconRequestedProfile = '‚ôÇÔ∏è'
            } else if (genderRequestedProfile === 'pr') {
                genderRequestedProfile = 'Perempuan'
                genderIconRequestedProfile = '‚ôÄÔ∏è'
            }
            
            let buttonRequestedProfile = [{ id: '1', text: `${prefix}help` }]
            let tempGetIdUserPasanganRequestedProfile = getUserRoleplay_pasangan(_userDbRequestedProfile)
            let getUserPasanganRequestedProfile = ''
            if (tempGetIdUserPasanganRequestedProfile != undefined) {
                getUserPasanganRequestedProfile = `\nPasangan : *_${nameRequestedProfile}_* ‚ù§Ô∏è *_${tempGetIdUserPasanganRequestedProfile.nama}_*\n`
                buttonRequestedProfile.push({ id: '2', text: `${prefix}pd` })
            }

            let isAdminRequestedProfile = ''
            if(isGroupMsg) isAdminRequestedProfile = `\nüë§ *Admin Group üë§: ${groupAdmins.includes(idRequestedProfile) ? '‚úì' : '‚úï'}*`

            let isBanRequestedProfile = _userDbRequestedProfile?.isBanned ? `\n\nüö´ *Ban üö´ : ${_userDbRequestedProfile?.isBanned ? '‚úì' : '‚úï'}*\n` : ''
            let banDynamicRequestedProfile = ''
            if (_userDbRequestedProfile?.timeBanned) {
                const userGetBanProfileTempTimeRequestedProfile = timeConvert(_userDbRequestedProfile?.timeBanned)
                banDynamicRequestedProfile = `\nüö´ *Waktu Ban üö´ : ${userGetBanProfileTempTimeRequestedProfile.day} Hari | ${userGetBanProfileTempTimeRequestedProfile.hour} Jam : ${userGetBanProfileTempTimeRequestedProfile.minute} Menit : ${userGetBanProfileTempTimeRequestedProfile.second} Detik*\n`
            }
            if (_userDbRequestedProfile?.isBanned && _userDbRequestedProfile?.bannedReason) {
                banDynamicRequestedProfile = `\nüö´ *Alasan Ban* üö´ : ${_userDbRequestedProfile?.bannedReason}`
            }

            let sysAuthRequestedProfile = '21'
            if (isOwner) {
                sysAuthRequestedProfile = '77'
            } else if (isSideOwner) {
                sysAuthRequestedProfile = '63'
            } else if (isAdmin) {
                sysAuthRequestedProfile = '45'
            } else {
                sysAuthRequestedProfile = '21'
            }

            // title validation
            let getTitleUserRankMe = false
            async function executeTitleValidation() {
                var ngirimid = idRequestedProfile
                const findDbNeeded = await _mongo_BotSchema.find({ $or: [{ iId: 'donate' }, { iId: 'title' }] }, { _id: 0, iId: 1, donate: 1, data: 1 })

                const dbTagLevel = _userDbRequestedProfile
                const listDonatur = findDbNeeded.find(object => object.iId == 'donate')
                let formattedArray = []
                for(let i = 0; i < listDonatur.donate.length; i++) {
                    const listDonate = listDonatur.donate
                    const indexDonate = formattedArray.findIndex(object => object.email == listDonate[i].email)
                    if(indexDonate != -1) {
                        formattedArray[indexDonate].amount += listDonate[i].amount
                        formattedArray[indexDonate].name = listDonate[i].name
                    } else {
                        formattedArray.push(listDonate[i])
                    }
                }
                formattedArray.sort((a, b) => (a.amount < b.amount) ? 1 : -1)
    
                function getTitleTarget() {
                    let nameTitle = undefined
                    let styleRoundTitle = undefined
                    let svgIconTitle = undefined
    
                    const getDataListTitle = findDbNeeded.find(object => object.iId == 'title')
                    const sortDataListTitle = getDataListTitle.data.sort((a, b) => (a.priority > b.priority) ? 1 : -1)
                    for(let i = 0; i < sortDataListTitle.length; i++) {
                        const isTrueCondition = eval(sortDataListTitle[i].condition)
                        if(isTrueCondition) {
                            nameTitle = sortDataListTitle[i].name
                            styleRoundTitle = sortDataListTitle[i].style
                            svgIconTitle = sortDataListTitle[i].svgIcon
                            break
                        }
                    }
    
                    return { title: nameTitle, style: styleRoundTitle, svgIcon: svgIconTitle }
                }
    
                getTitleUserRankMe = getTitleTarget()
            }
            await executeTitleValidation()

            // bg & profile
            let bgProfileMe = getBgProfile(_userDbRequestedProfile)
            if(!fs.existsSync(bgProfileMe)) {
                await replaceBgProfile(_userDbRequestedProfile?.iId, './media/img/bgProfile.png')
                bgProfileMe = './media/img/bgProfile.png'
            }

            let resultCanvasRequestedProfile = false
            if(getTitleUserRankMe && getTitleUserRankMe?.title && getTitleUserRankMe?.style && getTitleUserRankMe?.svgIcon) {
                // new layout
                const begeTrMe = (bgProfileMe.startsWith('http') ? (await axios.post(bgProfileMe, { responseType: 'arraybuffer' })).data : fs.readFileSync(bgProfileMe)).toString('base64')
                const resultCanvasRequestedProfile0 = await getProfileBgTemplate(nameRequestedProfile, begeTrMe, picRequestedProfile, getTitleUserRankMe?.title, getTitleUserRankMe?.style, getTitleUserRankMe?.svgIcon)
                resultCanvasRequestedProfile = Buffer.from(resultCanvasRequestedProfile0.result.replace(/^data:image\/\w+;base64,/, ""), 'base64')
            } else {
                //IMAGE
                const widthProfileCanvas = 400
                const heightProfileCanvas = 200
                const bgRequestedProfile = await cnvs.loadImage(bgProfileMe)
                const cnvsRequestedProfile = await cnvs.loadImage(picRequestedProfile)
        
                const ctxProfile = canvass.getContext("2d");
                ctxProfile.clearRect(0, 0, widthProfileCanvas, heightProfileCanvas);
                ctxProfile.globalCompositeOperation = 'xor'
                ctxProfile.fillStyle = "transparent";
                ctxProfile.beginPath()
                ctxProfile.fillRect(0, 0, widthProfileCanvas, heightProfileCanvas);
                ctxProfile.drawImage(bgRequestedProfile, 0, 0, 400, 150)
                ctxProfile.save()
                ctxProfile.globalCompositeOperation = 'xor'
                ctxProfile.beginPath()
                ctxProfile.arc(200, 150, 55, 0, Math.PI, true)
                ctxProfile.fillStyle = 'white'
                ctxProfile.fill()
                ctxProfile.restore()
                ctxProfile.save()
                ctxProfile.beginPath()
                ctxProfile.arc(200, 150, 50, 0, Math.PI * 2, false)
                ctxProfile.clip()
                ctxProfile.drawImage(cnvsRequestedProfile, 150, 100, 100, 100)
                ctxProfile.restore()
                ctxProfile.save()
                resultCanvasRequestedProfile = await canvass.toBuffer();
            }

            const userTimestampRegistered = moment(_userDbRequestedProfile?._id.getTimestamp()).format('DD/MM/YYYY')
            const countTimeDayRegistered = moment.duration(moment().diff(moment(_userDbRequestedProfile?._id.getTimestamp()))).asDays()
            const responseText = `üéì *Nama üéì: ${nameRequestedProfile}*
        
üå± *User Info üå±: ${statusRequestedProfile.status}*

üìÖ *Menjadi Member Sejak üìÖ: ${isSpyProfile ? '#####' : userTimestampRegistered} (${isSpyProfile ? '#####' : countTimeDayRegistered.toFixed(0)} Hari)*
             
üëæ *Level üëæ: ${isSpyProfile ? '#####' : levelRequestedProfile}*
             
üí´ *User üí´: ${nameTagRequestedProfile.select}*
        
‚ùÑ *Tier ‚ùÑ: ${isSpyProfile ? '#####' : tierTagRequestedProfile}*
        
${genderIconRequestedProfile} *Gender* ${genderIconRequestedProfile}: ${genderRequestedProfile}
${getUserPasanganRequestedProfile}
üì∑ *Instagram üì∑: @${igRequestedProfile}*
${isAdminRequestedProfile}${isBanRequestedProfile} ${banDynamicRequestedProfile}
        
` + '```UID:' + (isSpyProfile ? '#####' : _userDbRequestedProfile?.uid) + '```\n```SYSTEM AUTHORITY:' + sysAuthRequestedProfile + '```\nSTORAGE USED: 1%'
            // await rem.sendAdReply(from, responseText, resultCanvasRequestedProfile, nameRequestedProfile, '', '', '', false, true)
            await rem.sendFile(from, resultCanvasRequestedProfile, 'canvas.png', responseText, '', image, 'image/png', false)
            break
        case prefix+'nametag':
            const nameTag_command = getNameTag(_userDb).list
            const nameTag_command_filter = nameTag_command
            let nom_nametag = 0
            if (args.length === 1) {
                let nametag_headline = `Berikut adalah NameTag mu\nTotal : ${nameTag_command_filter.length}\n`
                for (let i of nameTag_command_filter) {
                    nom_nametag++
                    nametag_headline += `${nom_nametag}. ${i}\n`
                }
                let nametag_bawah = `Untuk memilih NameTag, Ketik _${prefix}nametag <nomer>_\nContoh: ${prefix}nametag 1`
                await rem.sendText(from, `${nametag_headline} ${nametag_bawah}`)
            } else if(args[1] == 'custom') {
                if(!isPrem) return reply(from, 'Fitur ini hanya bisa diakses oleh Premium User!', id)
                // if(!isPrem) return reply(from, 'Fitur ini Bersifat Premium!', id)
                // if (body.slice(16).length > 21) return reply(from, 'Maksimal 20 huruf', id)
                if(!body.slice(16)) return reply(from, 'Masukan Nametag yang ingin dijadikan custom!')
                if(body.slice(16).length > 21) return reply(from, 'Maksimal 20 huruf')
                const getNametagList = await _mongo_BotSchema.findOne({ iId: 'nametag' }, { data: 1 })
                const compareStringNametag = stringSimilarity.findBestMatch(body.replace(`${prefix}nametag custom `, '').trim(), getNametagList.data)
                if(compareStringNametag.bestMatch.rating > 0.7) return reply(from, `Tidak bisa menetapkan nametag ini!`)
                await replaceNameTag(sender, body.replace(`${prefix}nametag custom `, '').trim())
                reply(from, `Succes\nNametag : ${body.replace(`${prefix}nametag custom `, '').trim()}`, id)
            } else if(args.length === 2) {
                try {
                    const nameTag_number_Filter = Math.floor(args[1]) - 1
                    const nameTag_replace_Filter = nameTag_command_filter[nameTag_number_Filter]
                    //console.log(nameTag_replace_Filter)
                    //console.log(sender)
                    if(nameTag_replace_Filter == undefined) return reply(from, `Tidak ditemukan Tag dengan nomer ${args[1]}\nSilahkan ketik ${prefix}nametag`, id)
                    await replaceNameTag(sender, nameTag_replace_Filter)
                    reply(from, `Succes\nNametag : ${nameTag_replace_Filter}`, id)
                } catch (error) {
                    // rem.sendText(numberReportError, 'Nametag Error: '+err)
                    reply(from, `Tidak ditemukan Tag dengan nomer ${args[1]}\nSilahkan ketik ${prefix}nametag`, id)
                    console.error(error)
                }
            } else {
                return reply(from, `Tidak ditemukan Tag dengan nomer ${args[1]}\nSilahkan ketik ${prefix}nametag`, id)
            }
            break
        // LIST MENU
//         case prefix+'up':
//         case prefix+'update':
//             rem.sendText(from, `New Update Progress : 1% <Programming>
// Last Update
// -

// Last Patch Update
// -            `)
            break
        case prefix+'sc':
            reply(from, `Maaf, Bot ini tidak Open Source\n\nhttps://remcp.com/root/Mizu\nPage Github : https://github.com/RemComp/`)
            break
        case prefix+'rem':
            const randomRemSendFile0 = JSON.parse(fs.readFileSync('./lib/database/rem.json'))
            const randomRemSendFile = randomRemSendFile0[Math.floor(Math.random() * randomRemSendFile0.length)]
            await rem.sendFile(from, randomRemSendFile, '', '', messageRaw, image)
            break
        case prefix+'ram':
            const randomRamSendFile0 = JSON.parse(fs.readFileSync('./lib/database/ram.json'))
            const randomRamSendFile = randomRamSendFile0[Math.floor(Math.random() * randomRamSendFile0.length)]
            await rem.sendFile(from, randomRamSendFile, '', '', messageRaw, image)
            break
        case prefix+'shop':
            if (getMoney(_userDb) === undefined) await setMoney(sender)
            const isSpyShop = getUserItemIdSpy(_userDb)
            if(args[1] == 'rumah' || args[1] == 'rh') {
                reply(from, `Money : Rp. ${isSpyShop ? '#####' : numberWithCommas(fixNumberE(getMoney(_userDb)))}

*List Lahan*
 1. Distrik 1
 2. Distrik 2
 3. Distrik 3
 4. Distrik 4

Setiap distrik ada kelebihan/kekurangan, silahkan cek _${prefix}lhw_

*List Rumah*
 1. Type 16 | Rp. ${numberWithCommas(fixNumberE(_rumahHarga["16"]))}
 2. Type 28 | Rp. ${numberWithCommas(fixNumberE(_rumahHarga["28"]))}
 3. Type 36 | Rp. ${numberWithCommas(fixNumberE(_rumahHarga["36"]))}
 4. Type 49 | Rp. ${numberWithCommas(fixNumberE(_rumahHarga["49"]))}
 5. Type 52 | Rp. ${numberWithCommas(fixNumberE(_rumahHarga["52"]))}
 6. Type 63 | Rp. ${numberWithCommas(fixNumberE(_rumahHarga["63"]))}
 7. Type 75 | Rp. ${numberWithCommas(fixNumberE(_rumahHarga["75"]))}
 8. Type 86 | Rp. ${numberWithCommas(fixNumberE(_rumahHarga["86"]))}
 9. Type 99 | Rp. ${numberWithCommas(fixNumberE(_rumahHarga["99"]))}
 10. Type 01 |Rp. ${numberWithCommas(fixNumberE(_rumahHarga["01"]))}
 11. Type 69 | Rp. ${numberWithCommas(fixNumberE(_rumahHarga["69"]))}
 12. Type 77 | Rp. ${numberWithCommas(fixNumberE(_rumahHarga["77"]))}
 13. Type 757 | Rp. ${numberWithCommas(fixNumberE(_rumahHarga["757"]))}
 14. Type 879 | Rp. ${numberWithCommas(fixNumberE(_rumahHarga["879"]))}

Untuk melihat detail rumah, silahkan cek _${prefix}rh <rumah type>_

Untuk *membeli* rumah, ketik _${prefix}rbuy <nomor lahan> <rumah type>_
Contoh : *_${prefix}rbuy 1 12_*
                `, id)
            } else if(args[1] == 'mobil') {
                if(!isSideOwner) return
                const carDatabaseShop = require('./lib/database/mobil.js')
                const lengthTotalCarDatabaseShop = Object.keys(carDatabaseShop)
                
                let buttonCarShop = []
                let textReturnCarShop = `Money : Rp. ${isSpyShop ? '#####' : numberWithCommas(fixNumberE(getMoney(_userDb)))}`
                for(let i = 0; i < lengthTotalCarDatabaseShop.length; i++) {
                    // textReturnCarShop += `\n${i+1}. *${carDatabaseShop[lengthTotalCarDatabaseShop[i]]?.name}*`
                    if(carDatabaseShop[lengthTotalCarDatabaseShop[i]]?.available === false) continue;
                    buttonCarShop.push({ id: `${prefix}mh ${carDatabaseShop[lengthTotalCarDatabaseShop[i]]?.id}`, text: `*${carDatabaseShop[lengthTotalCarDatabaseShop[i]]?.name}*` })
                }
                textReturnCarShop += `\nUntuk *melihat detail mobil*, reply pesan ini, dan pilih nomer mobil`

                rem.sendButtons(from, textReturnCarShop, buttonCarShop, '', '')
            } else {
                const xpnya = numberWithCommas(fixNumberE(getLevelingXp(_userDb)))
                rem.sendText(from, shopmenu((isSpyShop ? '#####' : xpnya), (isSpyShop ? '#####' : numberWithCommas(fixNumberE(getMoney(_userDb)))), prefix))
            }
            break
        case prefix+'allcmd':
        case prefix+'allcommand':
            const isSpyAllCmd = getUserItemIdSpy(_userDb)
            const userLevelallCmd = getLevelingLevel(_userDb)
            const userXpallCmd = getLevelingXp(_userDb)
            const hitstodayL = numberWithCommas(getHitsCount('today', _botDb))
            const hitstotalL = numberWithCommas(getHitsCount('total', _botDb))
            
            let additionalInfoAllCmd = ''
            {/* if(isVirtualBot) additionalInfoAllCmd = `\n*!! Bot ini adalah JadiBot dari Bot Utama wa.me/${global?.coreBotNumber?.replace('@s.whatsapp.net', '')} !!*\n` */}

            let mid_additional_info1 = `\n*Official Group :* _${prefix}remgroup_\n`

            rem.sendText(from, allcmd(prefix, pushname, (isSpyAllCmd ? '#####' : userLevelallCmd), (isSpyAllCmd ? '#####' : userXpallCmd), hitstodayL, hitstotalL, additionalInfoAllCmd, mid_additional_info1, ''))
           break
        case prefix+'command':
        case prefix+'comand':
        case prefix+'cmd':
            const isSpyCmd = getUserItemIdSpy(_userDb)
            const userLevelCmd = getLevelingLevel(_userDb)
            const userXpCmd = getLevelingXp(_userDb)
            const speedcmd = moment() / 1000 - t
            const formatcmd = sizeFormatter({
                std: 'JEDEC', // 'SI' (default) | 'IEC' | 'JEDEC'
                decimalPlaces: 2,
                keepTrailingZeroes: false,
                render: (literal, symbol) => `${literal} ${symbol}B`,
            })
            const ramusage = `${formatcmd(os.totalmem() - os.freemem())} / ${formatcmd(os.totalmem())}`
            const hitstoday = numberWithCommas(getHitsCount('today', _botDb))
            const hitstotal = numberWithCommas(getHitsCount('total', _botDb))
            //rem.sendFile(from,  './media/helpwall2.jpg', '', commandd(prefix, pushname, userLevelCmd, userXpCmd, rankUserCmd, sender, speedcmd, ramusage, hitstoday, hitstotal))
           // rem.sendFile(from, `./media/img/waifu/${randomWaifuSendFile}`, '', commandd(prefix, pushname, userLevelCmd, userXpCmd, rankUserCmd, sender, speedcmd, ramusage, hitstoday, hitstotal))
          
           let additionalInfoCmd = ''
        //    if(isVirtualBot) additionalInfoCmd = `\n*!! Bot ini adalah JadiBot dari Bot Utama wa.me/${global?.coreBotNumber?.replace('@s.whatsapp.net', '')} !!*\n`
           
           let mid_additional_info2 = `\n*Official Group :* _${prefix}remgroup_\n`

           rem.sendText(from, commandd(prefix, pushname, (isSpyCmd ? '#####' : userLevelCmd), (isSpyCmd ? '#####' : userXpCmd), sender, speedcmd, ramusage, hitstoday, hitstotal, additionalInfoCmd, mid_additional_info2, ''))
           break
        case prefix+'premium':
            if(!isPrem) return reply(from, nopremu(prefix), id)
            reply(from, premu(prefix), id)
            break
        case prefix+'pruser':
        case prefix+'premiumuser':
            let usprem = ''
            const premium = await _mongo_UserSchema.find({ "isPremium": true }, { iId: 1, _id: 0 })
            for (let premus of premium) {
                usprem += `‚û§ @${premus.iId.replace(/@s.whatsapp.net/g, '')}\n` 
            }
            await sleep(2000)
            if(isMention) {
                await rem.sendTextWithMentions(from, usprem)
            } else {
                await rem.sendText(from, usprem.replace(/@/gi, 'wa.me/'))
            }
            break
        case prefix+'premiumenu':
        case prefix+'premiummenu':
            rem.sendText(from, premcmd(prefix))
            break
        case prefix+'remgroup':
        case prefix+'ramgroup':
            let inviteLinkForum = undefined
            let inviteLinkAnime = undefined
            if(!isVirtualBot) {
                // inviteLinkForum = await rem.groupInviteCode('120363021660813196@g.us')
                inviteLinkForum = 'BaE1vzWjD1XENrkvTe6lTq'
                inviteLinkAnime = `not found!`
            } else {
                // inviteLinkForum = (await axios.post('http://localhost:7516/api/v2/post/useBotMethod', { number: '120363021660813196@g.us', method: 'groupInviteCode' })).data
                inviteLinkForum = 'C5ZxyJJ5EuNEOssERM7OLx'
                inviteLinkAnime = `not found!`
            }
            reply(from, `*--->Official Group<---*\n*Forum Rem:* https://chat.whatsapp.com/${inviteLinkForum}\n\n*RemComp Channel:* https://whatsapp.com/channel/0029VaBPSBZEFeXjvdEkec0x\n\n*Forum Chat* _(Tidak Ada Bot!)_: https://chat.whatsapp.com/C5ZxyJJ5EuNEOssERM7OLx`, id)
            break
        case prefix+'creatormenu':
            rem.sendText(from, creatormenu(prefix))
            break
        case prefix+'groupmenu':
            rem.sendText(from, groupcmd(prefix))
            break
        case prefix+'mediamenu':
            rem.sendText(from, mediacmd(prefix))
            break
        case prefix+'animemenu':
            rem.sendText(from, animecmd(prefix))
            break
        case prefix+'adminmenu':
            if (!isGroupAdmins) return reply(from, 'Perintah ini hanya untuk Admin Group', id)
            rem.sendText(from, admingroupmenu(prefix))
            break
        case prefix+'ownermenu':
            if (!isOwner) return
            rem.sendText(from, ownercmd(prefix))
            break
        case prefix+'bmmenu':
            reply(from, bmmenu(prefix))
            break
        case prefix+'praymenu':
            reply(from, praycmd(prefix), id)
            break
        case prefix+'nsfwmenu':
            if (isGroupMsg && !isNsfw) return reply(from, 'command/Perintah NSFW belum di aktifkan di group ini!', id)
            rem.sendText(from, nsfwcmd(prefix))
            break
        case prefix+'gamemenu':
            const isSpyGameMenu = getUserItemIdSpy(_userDb)
            const userLevelCmdlevel = getLevelingLevel(_userDb)
            const userXpCmdlevel = numberWithCommas(fixNumberE(getLevelingXp(_userDb)))
            rem.sendText(from, gamemenu(prefix, pushname, (isSpyGameMenu ? '#####' : userLevelCmdlevel), (isSpyGameMenu ? '#####' : userXpCmdlevel)))
            break
        // case prefix+'intro':
        //     if(isMention) {
        //         rem.sendTextWithMentions(from, 'Halo @'+sender.replace('@s.whatsapp.net', '')+'\nSelamat Datang,'+ `Silahkan intro dulu\n\n üéå ·µÉ‚Åø ∏'‚ìú‚ìî ·¥• „Ç¢„Éã„É° üéå\n‡≠®‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚óà‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‡≠ß\n „Äé‚öúÔ∏èFormulir Intro‚öúÔ∏è„Äè\n‡≠®‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚óà‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‡≠ß`+'\n> ```Nama``` :\n> ```Umur``` :\n> ```Gender``` :\n> ```Askot``` :\n‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ\nAnime Favorit :\nWaifu/Husbu :\n‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ\nPatuhi Rules Group\nKalo gak *KICK!*', id)
        //     } else {
        //         reply(from, 'Halo wa.me/'+sender.replace('@s.whatsapp.net', '')+'\nSelamat Datang,'+ `Silahkan intro dulu\n\n üéå ·µÉ‚Åø ∏'‚ìú‚ìî ·¥• „Ç¢„Éã„É° üéå\n‡≠®‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚óà‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‡≠ß\n „Äé‚öúÔ∏èFormulir Intro‚öúÔ∏è„Äè\n‡≠®‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚óà‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‡≠ß`+'\n> ```Nama``` :\n> ```Umur``` :\n> ```Gender``` :\n> ```Askot``` :\n‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ\nAnime Favorit :\nWaifu/Husbu :\n‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ\nPatuhi Rules Group\nKalo gak *KICK!*', id)
        //     }
        //     break
        case prefix+'pemilba':
            const getPemilbaList = await _mongo_CommandSchema.findOne({ cId: 'pemilba' })
            if(!getPemilbaList?.options?.listBa?.[0]) return reply(from, 'Pemilihan bot admin belum di buat!', id)

            // {
            //     cId: 'pemilba',
            //     content: [{ id: 'xxxx', select: '1' }, ...],
            //     options: {
            //         listBa: [{
            //             id: '1',
            //             name: 'Abdul'
            //         }, ...]
            //     }
            // }
            // filter content, and get percentage of select
            const countPemilba = {}
            getPemilbaList.content.forEach(item => {
                countPemilba[item.select] = (countPemilba[item.select] || 0) + 1
            })
            const totalEntries = getPemilbaList.content.length;
            const getPercentationListBa = getPemilbaList.options.listBa.map(option => ({
                id: option.id,
                name: option.name,
                selected: countPemilba[option.id] || 0,
                percentage: Number((Number((countPemilba[option.id] || 0)) / Number(totalEntries)) * 100)
            }));

            let pemilbaText = `Pemilihan Bot Admin\n\n`
            // const pemilbaTextList = getPercentationListBa.map(item => `${item.name} : ${item.selected} (${(item.percentage || 0).toFixed(2)}%)`).join('\n')
            for(let i = 0; i < getPercentationListBa.length; i++) {
                pemilbaText += `*${getPercentationListBa[i].id}. ${getPercentationListBa[i].name}* - ${getPercentationListBa[i].selected} (${(getPercentationListBa[i].percentage || 0).toFixed(2)}%)\n`
            }
            pemilbaText += '\n\nPilih salah satu yang menurutmu terpercaya'
            
            const buttonsPemilba = []
            for (let i = 0; i < getPercentationListBa.length; i++) {
                buttonsPemilba.push({ id: `${prefix}pemilba_select ${getPercentationListBa[i].id}`, text: `Pilih ${getPercentationListBa[i].id} - ${getPercentationListBa[i].name}` })
            }
            rem.sendButtons(from, pemilbaText, buttonsPemilba)
            break
        case prefix+'pemilba_select':
            if(!message.selectedButtonId) return reply(from, 'Invalid!')

            const getPemilbaListSelect = await _mongo_CommandSchema.findOne({ cId: 'pemilba' })
            if(!getPemilbaListSelect.options.isOpen) return reply(from, 'Pemilihan sedang/sudah ditutup!', id)
            const isAfterSelectUser = getPemilbaListSelect.content.find(item => item.id === sender)
            if(isAfterSelectUser) return reply(from, 'Kamu sudah memilih!', id)

            const selectIdPemilba = message.selectedButtonId.split(' ')[1]
            const isExistsSelectIdPemilba = getPemilbaListSelect.options.listBa.find(item => item.id === selectIdPemilba)
            if(!isExistsSelectIdPemilba) return reply(from, 'Invalid! Select ID not found!')

            await _mongo_CommandSchema.updateOne({ cId: 'pemilba' }, { $push: { content: { id: sender, select: selectIdPemilba } } })
            reply(from, `Kamu memilih *${selectIdPemilba} - ${isExistsSelectIdPemilba.name}*`, id)
            break
        case prefix+'pemilba_reset':
            if(!isSideOwner) return reply(from, 'Perintah ini hanya bisa di gunakan oleh Side Owner Bot!', id)
            allArgs.includes('list') ? await _mongo_CommandSchema.updateOne({ cId: 'pemilba' }, { $set: { 'options.listBa': [] } }) : await _mongo_CommandSchema.updateOne({ cId: 'pemilba' }, { $set: { content: [] } })
            reply(from, 'Berhasil di reset!', id)
            break
        case prefix+'pemilba_add':
            if(!isSideOwner) return reply(from, 'Perintah ini hanya bisa di gunakan oleh Side Owner Bot!', id)
            // format is <id>, <name>---<id>, <name>
            if(!args[1]) return reply(from, `Format salah!\nContoh : _${prefix}pemilba_add 1, Abdul---2, Budi_\n\n_${prefix}pemilba_reset_ - reset counter\n_${prefix}pemilba_reset list_ - reset list`, id)

            const splitFormat = body.replace(allArgs[0] + ' ', '').split('---')
            const listBa = splitFormat.map(item => {
                const splitItem = item.split(',')
                return { id: splitItem[0].trim(), name: splitItem[1].trim() }
            })
            await _mongo_CommandSchema.updateOne({ cId: 'pemilba' }, { $set: { 'options.listBa': listBa } })
            reply(from, 'Berhasil di tambahkan!', id)
            break
        case prefix+'pemilba_open':
            if(!isSideOwner) return reply(from, 'Perintah ini hanya bisa di gunakan oleh Side Owner Bot!', id)

            await  _mongo_CommandSchema.updateOne({ cId: 'pemilba' }, { $set: { 'options.isOpen': true } })
            reply(from, 'Success!')
            break
        case prefix+'pemilba_close':
            if(!isSideOwner) return reply(from, 'Perintah ini hanya bisa di gunakan oleh Side Owner Bot!', id)

            await  _mongo_CommandSchema.updateOne({ cId: 'pemilba' }, { $set: { 'options.isOpen': false } })
            reply(from, 'Success!')
            break
        case prefix+'pemilu':
            const stringPuppeteer = `
            new Promise(async function(resolve, reject) {
                const page = await global.browserPup.newPage();
                const client = await page.target().createCDPSession();
            
                await page.setViewport({ width: 1280, height: 720 });
                await page.goto('https://pemilu.kompas.com/quickcount', { waitUntil: 'networkidle0' });
                await client.send('Animation.setPlaybackRate', { playbackRate: 2 });
                const elementa = await page.$('body > main > div.qcWrap.container');
                resolve(await elementa.screenshot({
                    encoding: 'base64'
                }))
                await page.close();
            });
            `

            const ssBufferPemilu = await requestPuppeteer(stringPuppeteer, 'localhost:8067')
            // console.log(ssBuffer)
            if(ssBufferPemilu == undefined || ssBufferPemilu?.error) return reply(from, `Error!\nMohon laporkan ke .bugreport\n\n${ssBufferPemilu}`, id)
            // base64 to buffer
            const imageSsPemilu = Buffer.from(ssBufferPemilu.result, 'base64')
            await rem.sendFile(from, imageSsPemilu, 'screenshot.png', ``, messageRaw, image)
            break
        case prefix+'verifemail':
        case prefix+'verifmail':
        case prefix+'verifm':
        case prefix+'ve':
            if(isGroupMsg) return reply(from, 'Perintah ini hanya bisa di gunakan di Private Chat!', id)
            if(!args[1]) return reply(from, 'Masukan email yang ingin di verifikasi!', id)
            if(!args[1].includes('@')) return reply(from, 'Email tidak valid!', id)
            if(args[1].length > 254) return reply(from, 'Email tidak valid!', id)

            var emailRegex = /^[-!#$%&'*+\/0-9=?A-Z^_a-z{|}~](\.?[-!#$%&'*+\/0-9=?A-Z^_a-z`{|}~])*@[a-zA-Z0-9](-*\.?[a-zA-Z0-9])*\.[a-zA-Z](-?[a-zA-Z0-9])+$/;
            if(!emailRegex.test(args[1])) return reply(from, 'Email tidak valid!')

            const isExists = await _mongo_UserSchema.findOne({ email: args[1].toLowerCase() })
            if(isExists) return reply(from, 'Tidak bisa menggunakan email ini, Email sudah terdaftar!', id)
            await _mongo_UserSchema.updateOne({ iId: sender }, { $set: { email: args[1].toLowerCase() } })
            reply(from, `Email kamu telah diubah menjadi ${args[1].toLowerCase()}`, id)

            // search register.email == args[1] or register.number == sender in emailverif document
            // const isSendCode = await _mongo_BotSchema.findOne({ iId: 'emailverif', register: { $elemMatch: { $or: [ { email: args[1].toLowerCase() }, { number: sender } ] } } }, { register: 1 })
            // if(isSendCode?.register?.[0] != undefined) {
            //     const findEmailOrNumber = isSendCode.register.find(object => object.email == args[1].toLowerCase() || object.number == sender)
            //     const isExpired = findEmailOrNumber.exp
            //     if(isExpired < Date.now()) await _mongo_BotSchema.updateOne({ iId: 'emailverif' }, { $pull: { register: { email: findEmailOrNumber.email, number: findEmailOrNumber.number } } })
            //     if(isExpired > Date.now()) return reply(from, `Kamu sudah pernah meminta kode verifikasi, silahkan tunggu ${showElapsedTime(Date.now() - (isExpired - Date.now()))}`)
            // }
            
            // const generateIdCode = Math.floor(Math.random() * 99999) + 1
            // await _mongo_UserSchema.updateOne({ iId: sender }, { $inc: { "limit.emailLimit": 1 } })
            // await _mongo_BotSchema.updateOne({ iId: 'emailverif' }, { $push: { register: { id: generateIdCode, email: args[1].toLowerCase(), number: sender, exp: Date.now() + toMs(Math.pow(2, (_userDb?.limit?.emailLimit || 1)) + 'm'), time: Date.now() } } })

            // const data = {
            //     from: "noreply@remcp.com",
            //     to: args[1].toLowerCase(),
            //     subject: `${generateIdCode} adalah Kode Verifikasi kamu`,
            //     template: "remcp_verifcode",
            //     'h:X-Mailgun-Variables': JSON.stringify({ verif_code: generateIdCode.toString() })
            // }
            // mailgunClient.messages.create('sandbox8265ded8cff843d3a580898ddc20d0a5.mailgun.org', data).then(() => {
            //     reply(from, `*Kode Verifikasi telah terkirim*, silahkan cek email kamu!\nJika tidak ada di inbox, cek di spam!\n\nJika ingin *memasukkan kode*\nKetikkan *_${prefix}verifcode <number>_*\nContoh: _${prefix}verifcode 00000_\n\n*_Abaikan Tanda < dan >_*`, id)
            // }).catch(err => {
            //     console.log(err)
            //     reply(from, `Error sending email!\nErr: ${err}`, id)
            // })
            // const data = {
            //     from: "noreply@remcp.com",
            //     to: args[1].toLowerCase(),
            //     subject: `${generateIdCode} adalah Kode Verifikasi kamu`,
            //     templateId: 'd-936b68678e504dd5893121b8eae707dd',
            //     dynamicTemplateData: {
            //         verif_code: generateIdCode.toString(),
            //         verif_url: `https://wa.me/${rem.user.jid.replace('@s.whatsapp.net', '')}?text=${encodeURIComponent(`${prefix}verifcode ${generateIdCode.toString()}`)}`
            //     }
            // }
            // sgMail.send(data).then(() => {
            //     reply(from, `*Kode Verifikasi telah terkirim*, silahkan cek email kamu!\nJika tidak ada di inbox, cek di spam!\n\nJika ingin *memasukkan kode*\nKetikkan *_${prefix}verifcode <number>_*\nContoh: _${prefix}verifcode 00000_\n\n*_Abaikan Tanda < dan >_*`, id)
            // }).catch(err => {
            //     console.error(err)
            //     reply(from, `Error sending email!\nErr: ${err}`, id)
            // })
            break
        case prefix+'verifcode':
            if(isGroupMsg) return reply(from, 'Perintah ini hanya bisa di gunakan di Private Chat!', id)
            if(!args[1]) return reply(from, 'Masukan code yang ingin di verifikasi!', id)
            if(isNaN(args[1])) return reply(from, 'Kode tidak valid!', id)

            // search register.number == sender in emailverif document
            const getVerifEmail = await _mongo_BotSchema.findOne({ iId: 'emailverif', register: { $elemMatch: { number: sender } } }, { register: { $elemMatch: { number: sender } } })
            if(getVerifEmail?.register?.[0] == undefined) return reply(from, 'Kamu belum meminta kode verifikasi!', id)
            const findNumber = getVerifEmail.register.find(object => object.number == sender)
            const isExpired = findNumber.time + toMs('5m')
            if(isExpired < Date.now()) {
                return reply(from, 'Kode verifikasi sudah kadaluarsa, silahkan meminta kode verifikasi kembali!', id)
            } else if(isExpired > Date.now()) {
                if(findNumber.id != Number(args[1])) return reply(from, 'Kode yang kamu masukan salah!', id)
                await _mongo_UserSchema.updateOne({ iId: sender }, { $set: { email: findNumber.email } })
                await _mongo_BotSchema.updateOne({ iId: 'emailverif' }, { $pull: { register: { number: sender } } })
                
                reply(from, 'Email berhasil di verifikasi!', id)
                if(!_userDb.email && !_userDb.isPremium) return reply(from, `Silahkan cmd *_${prefix}claimprem_*\nUntuk claim *Premium*`, id)
            }
            break
        case prefix+'claimprem':
            if(!_userDb.email) return reply(from, `Silahkan cmd *_${prefix}verifemail_*\nUntuk verifikasi email`, id)
            const getDonateListUser = _userDb.email ? await _mongo_BotSchema.findOne({ iId: 'donate' }, { _id: 0, "donate.email": 1, "claimed": 1 }) : null

            const isAfterClaim = getDonateListUser ? getDonateListUser.claimed.includes(_userDb.email) : null
            const isExistsDonateUser = getDonateListUser ? getDonateListUser.donate.find(object => object.email == _userDb.email) : null
            if(!isExistsDonateUser) return reply(from, 'Anda belum melakukan donasi!', id)
            if(isAfterClaim) return reply(from, 'Anda sudah mengklaim premium ini!', id)
            if(_userDb.isPremium) return reply(from, 'Anda sudah terdaftar sebagai premium user!', id)
            
            // push to element claimed
            await _mongo_BotSchema.updateOne({ iId: 'donate' }, { $addToSet: { claimed: _userDb.email } })
            await _mongo_UserSchema.updateOne({ iId: sender }, { $set: { isPremium: true }, $push: { "nametag.list": "üí´ Premium ‚ú®" } })
            reply(from, 'Success')
            break
        case prefix+'addlist':
            if(!isOwner) return reply(from, 'Perintah ini hanya bisa di gunakan oleh Owner Bot!', id) 

            const cmdAdded = args[1]
            const cmdAddedDesc = args.slice(2).join(' ')
            const mediaList = isImage ? await message.getMedia() : isQuotedImage ? await quotedMsg.getMedia() : null

            // buffer to baaase64
            const mediaListBase64 = mediaList ? mediaList.data.toString('base64') : null
            await _mongo_CommandSchema.updateOne({ cId: 'listcmd' }, { $push: { content: { cmd: cmdAdded, desc: cmdAddedDesc, img: mediaListBase64 } } } )
            reply(from, 'Success')
            break
            // INFORMATION
        case prefix+'donate':
        case prefix+'donasi':
            rem.sendText(from, sumbang)
            break
        case prefix+'donatur':
            const listDonatur = await _mongo_BotSchema.findOne({ iId: 'donate' }, { _id: 0, donate: 1 })

            let formattedArray = []
            for(let i = 0; i < listDonatur.donate.length; i++) {
                const listDonate = listDonatur.donate
                const indexDonate = formattedArray.findIndex(object => object.email == listDonate[i].email)
                if(indexDonate != -1) {
                    formattedArray[indexDonate].amount += listDonate[i].amount
                    formattedArray[indexDonate].name = listDonate[i].name
                } else {
                    formattedArray.push(listDonate[i])
                }
            }
            formattedArray.sort((a, b) => (a.amount < b.amount) ? 1 : -1)

            //limit formattedArray to 10
            formattedArray = allArgs[1] == 'all' ? formattedArray : formattedArray.slice(0, 10)

            let textFormattedFonatur = `----------‚ü©‚ü© DONATE ‚ü®‚ü®----------\n\nJumlah Terkumpul : *_Rp. ${numberWithCommas(listDonatur.donate.reduce((a, b) => a + b.amount, 0))}_*\n`
            for(let i = 0; i < formattedArray.length; i++) {
                const topDonate = formattedArray[i]
                const userEmailGet = await _mongo_UserSchema.findOne({ email: topDonate.email }, { _id: 0, iId: 1 })
                textFormattedFonatur += `\n${i + 1}. ${i == 0 ? 'ü•á' : i == 1 ? 'ü•à' : i == 2 ? 'ü•â' : '>'} Name : *${topDonate.name}* ${userEmailGet != undefined ? `wa.me/${userEmailGet.iId.replace('@s.whatsapp.net', '')}` : ''}\n     > Nominal : *_Rp. ${numberWithCommas(topDonate.amount)}_*\n`
            }

            textFormattedFonatur += `\nTerimakasih untuk para Donatur :D, Donasi dari kamu akan digunakan untuk pengembangan bot ini.`

            await reply(from, textFormattedFonatur)

            // Goal : 100.000, in 1 month
            const timeBeginMonth = moment().startOf('month').valueOf()
            const timeEndMonth = moment().endOf('month').valueOf()
            const totalDonateThisMonth = listDonatur.donate.filter(object => object.time >= timeBeginMonth && object.time <= timeEndMonth).reduce((a, b) => a + b.amount, 0)
            const progressBar = textProgressBar(totalDonateThisMonth, 100000, 20)
            const textProgressBarText = `*Goal : _Bayar Server Bot (Rp. 100.000)_*\n\nProgress Bulan Ini : _Rp. ${numberWithCommas(totalDonateThisMonth)}_\n${progressBar}`
            rem.sendText(from, textProgressBarText)
            break
        case prefix+'membership':
        case prefix+'member':
            rem.sendText(from, membership)
            break
        case prefix+'readme':
            reply(from, readme(prefix), id)
            break
        case prefix+'info':
        case prefix+'botinfo':
            try {
                const contributorsData = await axios.get(`https://api.github.com/repos/${process.env.GITHUB_REPO}/contributors`)
                await rem.sendText(from, info(contributorsData.data.map(all => all.login)))
            } catch (error) {
                console.error('Error fetching contributors:', error)
                await rem.sendText(from, info(['DwiRizqiH']))
            }
            break
        case prefix+'bahasa':
            reply(from, bahasalist, id)
            break
        case prefix+'tagme':
            rem.sendTextWithMentions(from, `@${sender.replace('@s.whatsapp.net', '')}`, messageRaw)
            break
        case prefix+'set_jadibot':
            // if(isVirtualBot) return reply(from, `Silahkan command _${prefix}set_jadibot_ di wa.me/${global?.coreBotNumber?.replace('@s.whatsapp.net', '')}`)
            if (isGroupMsg) return reply(from, 'Perintah ini hanya bisa di gunakan di Private Chat!', id)

            const editMessageSetJadibot = await rem.sendText(from, '_Syncing data..._')
            await getAllJadibotFromAPI()
            rem.sendEditMessage(from, editMessageSetJadibot.key, '_Syncing data: Success | 200_')

            let positionSetJadibot = undefined
            let virtualBotIDJadibotSet = undefined
            global.jadibot1.findIndex(object => object.id == sender) != -1 && ((positionSetJadibot = 1) && (virtualBotIDJadibotSet = (global.jadibot1.find(object => object.id == sender)).virtualBotId))
            global.jadibot2.findIndex(object => object.id == sender) != -1 && (positionSetJadibot = 2 && (virtualBotIDJadibotSet = (global.jadibot2.find(object => object.id == sender)).virtualBotId))
            global.jadibot3.findIndex(object => object.id == sender) != -1 && (positionSetJadibot = 3 && (virtualBotIDJadibotSet = (global.jadibot3.find(object => object.id == sender)).virtualBotId))
            global.jadibot4.findIndex(object => object.id == sender) != -1 && (positionSetJadibot = 4 && (virtualBotIDJadibotSet = (global.jadibot4.find(object => object.id == sender)).virtualBotId))
            global.jadibot5.findIndex(object => object.id == sender) != -1 && (positionSetJadibot = 5 && (virtualBotIDJadibotSet = (global.jadibot5.find(object => object.id == sender)).virtualBotId))
            // global.jadibot6.findIndex(object => object.id == sender) != -1 && (positionSetJadibot = 6 && (virtualBotIDJadibotSet = (global.jadibot6.find(object => object.id == sender)).virtualBotId))
            // global.jadibot7.findIndex(object => object.id == sender) != -1 && (positionSetJadibot = 7 && (virtualBotIDJadibotSet = (global.jadibot7.find(object => object.id == sender)).virtualBotId))
            // global.jadibot8.findIndex(object => object.id == sender) != -1 && (positionSetJadibot = 8 && (virtualBotIDJadibotSet = (global.jadibot8.find(object => object.id == sender)).virtualBotId))
            // global.jadibot9.findIndex(object => object.id == sender) != -1 && (positionSetJadibot = 9 && (virtualBotIDJadibotSet = (global.jadibot9.find(object => object.id == sender)).virtualBotId))
            // global.jadibot10.findIndex(object => object.id == sender) != -1 && (positionSetJadibot = 10)
            if(positionSetJadibot == undefined) return reply(from, 'Kamu sedang tidak jadibot')

            switch(args[1]) {
                case 'group':
                    if(isNaN(args[2])) return reply(from, `Format salah!, _${prefix}set_jadibot group <number>_\nContoh : ${prefix}set_jadibot group 10`)
                    
                    let jadibotSettingsSet = await _mongo_JadibotSchema.findOne({ iId: virtualBotIDJadibotSet })
                    if(jadibotSettingsSet == undefined) {
                        await _mongo_JadibotSchema.create({ iId: virtualBotIDJadibotSet, data: { groupLimit: Number(args[2]) } })
                    } else {
                        await _mongo_JadibotSchema.updateOne({ iId: virtualBotIDJadibotSet }, { $set: { "data.groupLimit": Number(args[2]) } })
                    }
        
                    reply(from, 'Success')
                    break
                case 'call':
                    if(!args[2] || (args[2] != 'block' && args[2] != 'allow')) return reply(from, `Format salah!, _${prefix}set_jadibot call <block/allow>_\n\nContoh : *${prefix}set_jadibot call block*\nUntuk menolak panggilan masuk`)
                    
                    let jadibotSettingsSetCall = await _mongo_JadibotSchema.findOne({ iId: virtualBotIDJadibotSet })
                    if(jadibotSettingsSetCall == undefined) {
                        await _mongo_JadibotSchema.create({ iId: virtualBotIDJadibotSet, data: { callBlock: args[2] === 'block' ? true : false } })
                    } else {
                        await _mongo_JadibotSchema.updateOne({ iId: virtualBotIDJadibotSet }, { $set: { "data.callBlock": args[2] === 'block' ? true : false } })
                    }

                    reply(from, 'Success')
                    break

                default:
                    reply(from, `Format salah!\n\n~ _${prefix}set_jadibot group_\n~ _${prefix}set_jadibot call_`)
                    break
            }
            break
            case prefix+'version':
            reply(from, `Current Version : ${_userDb?.setUser?.version || 'release'}\nPath Version : ${process.cwd()}`)
            break
        case prefix+'reportjadibot':
            
            if(args[1] == undefined || args[2] == undefined) return reply(from, `Format salah, *${prefix}reportjadibot <id_jadibot> <alasan>*\nContoh: _${prefix}reportjadibot OINAIWUAF2 Kudeta Group_`)
            const editMessageReportJadibot = await rem.sendText(from, '_Syncing data..._')
            await getAllJadibotFromAPI()
            rem.sendEditMessage(from, editMessageReportJadibot.key, '_Syncing data: Success | 200_')

            let positionReportJadibot = undefined
            let dataReportJadibot = undefined
            global.jadibot1.findIndex(object => object.virtualBotId == args[1]) != -1 && ((positionReportJadibot = 1) && (dataReportJadibot = global.jadibot1.find(object => object.virtualBotId == args[1])))
            global.jadibot2.findIndex(object => object.virtualBotId == args[1]) != -1 && ((positionReportJadibot = 2) && (dataReportJadibot = global.jadibot2.find(object => object.virtualBotId == args[1])))
            global.jadibot3.findIndex(object => object.virtualBotId == args[1]) != -1 && ((positionReportJadibot = 3) && (dataReportJadibot = global.jadibot3.find(object => object.virtualBotId == args[1])))
            global.jadibot4.findIndex(object => object.virtualBotId == args[1]) != -1 && ((positionReportJadibot = 4) && (dataReportJadibot = global.jadibot4.find(object => object.virtualBotId == args[1])))
            global.jadibot5.findIndex(object => object.virtualBotId == args[1]) != -1 && ((positionReportJadibot = 5) && (dataReportJadibot = global.jadibot5.find(object => object.virtualBotId == args[1])))
            // global.jadibot6.findIndex(object => object.virtualBotId == args[1]) != -1 && (positionReportJadibot = 6)
            // global.jadibot7.findIndex(object => object.virtualBotId == args[1]) != -1 && (positionReportJadibot = 7)
            // global.jadibot8.findIndex(object => object.virtualBotId == args[1]) != -1 && (positionReportJadibot = 8)
            // global.jadibot9.findIndex(object => object.virtualBotId == args[1]) != -1 && (positionReportJadibot = 9)
            // global.jadibot10.findIndex(object => object.id == args[1]) != -1 && (positionReportJadibot = 10)
            if(positionReportJadibot == undefined) return reply(from, 'Jadibot tidak ditemukan')

            const textReportJadibot = body.replace(`${prefix}reportjadibot ${args[1]} `, '')

            const textSendReportJadibot = `*[ REPORT JADIBOT ]*\n*WAKTU* : ${time}\nNO PENGIRIM : wa.me/${sender.match(/\d+/g)}\n\nJadibot ID : ${dataReportJadibot.virtualBotId}\nJadibot Server : ${positionReportJadibot}\n\nOwner Jadibot: wa.me/${dataReportJadibot.id?.split(':')[0]?.replace('@s.whatsapp.net', '')}\nJadibot Number: ${dataReportJadibot?.access?.user?.id?.split(':')[0]}\n\n${textReportJadibot}`
            const sendBodyReportJadibot = { id: '6281358181668-1621640771@g.us', key: 'OIAHOIFBAPW790709ba', method: 'sendMessage', content: ['6281358181668-1621640771@g.us', { text: textSendReportJadibot }, { quoted: messageRaw }] }
            const sendBodyReportJadibot1 = { id: '120363417108683279@g.us', key: 'OIAHOIFBAPW790709ba', method: 'sendMessage', content: ['120363417108683279@g.us', { text: textSendReportJadibot }, { quoted: messageRaw }] }
            const sendBodyReportJadibot2 = { id: '120363159869866611@g.us', key: 'OIAHOIFBAPW790709ba', method: 'sendMessage', content: ['120363159869866611@g.us', { text: textSendReportJadibot }, { quoted: messageRaw }] }
            await axios.post(`http://localhost:7516/access`, sendBodyReportJadibot)
            await axios.post(`http://localhost:7516/access`, sendBodyReportJadibot1)
            await axios.post(`http://localhost:7516/access`, sendBodyReportJadibot2)
            reply(from, 'Success')
            
            break
        case prefix+'jadibot':
            // if(!isOwner) return reply(from, 'Maintenance...')
            // if(!isOwner) return reply(from, 'Fitur ini sedang dalam perbaikan!')
            const editMessageJadibot = await rem.sendText(from, '_Syncing data..._')
            await getAllJadibotFromAPI()
            rem.sendEditMessage(from, editMessageJadibot.key, '_Syncing data: Success | 200_')

            // if((!isOwner && !isSideOwner) && global.jadibot1.length >= 4 && global.jadibot2.length >= 4 && global.jadibot3.length >= 4 && global.jadibot4.length >= 4 && global.jadibot5.length >= 4 && global.jadibot6.length >= 4 && global.jadibot7.length >= 4 && global.jadibot8.length >= 4 && global.jadibot9.length >= 4) return reply(from, 'Maaf, Maximum pemakaian jadibot telah tercapai, Mohon coba lagi lain kali')
            if((!isOwner && !isSideOwner) && global.jadibot1.length >= 5 && global.jadibot2.length >= 5 && global.jadibot3.length >= 5 && global.jadibot4.length >= 5 && global.jadibot5.length >= 5) return reply(from, 'Maaf, Maximum pemakaian jadibot telah tercapai, Mohon coba lagi lain kali')
            if (isGroupMsg) return reply(from, 'Perintah ini hanya bisa di gunakan di Private Chat!', id)
            if(message.selectedButtonId == undefined || !message?.selectedButtonId?.includes('grantedAccess1')) return rem.sendButtons(from, `*!! WARNING !!*\nWhatsApp melarang keras Bot Tidak Resmi, Jika ketahuan akan menyebabkan nomor *kebanned*.\n*Mohon gunakan WhatsApp dengan Nomor Virtual/Nomor Cadangan Anda*\n\nJika ingin melanjutkan, Tekan tombol Lanjutkan dibawah\nJika tidak, abaikan pesan ini`, [{id: `${prefix}jadibot grantedAccess1`, text: 'Lanjutkan'}], '', '@dwirizqi.h')
            if(!message?.selectedButtonId?.includes('grantedAccess2')) return rem.sendButtons(from, `*„Äå Pilih Metode Jadibot „Äç*

1. *Metode Scan QR Code _(Whatsapp Web)_*
    Bot akan mengirimkan *QR code*, dan scan di Nomer yang mau di Jadibot
    Memerlukan 2 Device/Hp

2. *Metode CODE*
    Bot akan mengirimkan *CODE*, dan masukkan di Nomer yang mau di Jadibot
    Memerlukan 1 Device/Hp`, [{ id: `${prefix}jadibot grantedAccess1 grantedAccess2 qr`, text: 'Scan QR' }, { id: `${prefix}jadibot grantedAccess1 grantedAccess2 code`, text: 'CODE' }])
            // if(message?.selectedButtonId?.includes('code') && !isOwner) return reply(from, 'Sedang dalam pengembangan!')
            if(!message?.selectedButtonId?.includes('grantedAccess3') && message?.selectedButtonId?.includes('qr') && !message?.selectedButtonId?.includes('code')) return rem.sendButtonsImage(from, `*Pastikan untuk mengaktifkan fitur _Multi Device_*\n[ _Cara lihat diatas_ ]\n\n*Note :* _Jika tidak ada tombol seperti gambar diatas, langsung tekan tombol *Lanjutkan* di bawah_`, './media/img/wamd.jpg', [{id: `${prefix}jadibot grantedAccess1 grantedAccess2 qr grantedAccess3`, text: 'Lanjutkan'}], '', '@dwirizqi.h')
            if(message?.selectedButtonId?.includes('code') && message.collectMessage == undefined) {
                await addCollectorMessage(sender, from, `${prefix}jadibot grantedAccess1 grantedAccess2 code`, Date.now() + toMs('1m'), true, JSON.stringify(messageRaw))
                return rem.sendText(from, 'Kirimkan ke sini\nNomer telepon *yang akan di Jadibot*')
            }

            if(message?.selectedButtonId?.includes('qr') && !message?.selectedButtonId?.includes('code')) rem.sendText(from, 'Scan Kode QR Dibawah, cara lihat dibawah\n\nKembali ke beranda WhastApp\n*1. Titik Tiga*\n[ _Pojok kanan atas_ ]\n*2. Perangkat Tertaut*\n*3. Tautkan Perangkat*\n\n*Note :* _Jika hanya mempunyai hp 1, Buka link dibawah kode QR dengan perangkat lainnya_')
            if(message?.selectedButtonId?.includes('code') && !message?.selectedButtonId?.includes('web')) await rem.sendFile(from, './media/img/wamdcode.png', 'wamdcode.png', 'Masukkan Kode Dibawah, cara lihat digambar\n\nKembali ke beranda WhastApp\n*1. Titik Tiga*\n[ _Pojok kanan atas_ ]\n*2. Perangkat Tertaut*\n*3. Tautkan Perangkat*\n*4. Tautkan dengan nomor telepon saja [ _Bawah sendiri_ ]*\n5. *Ketikkan kode yang kirim oleh bot*', '', image)

            const idVirtualBot = GenerateSerialNumber('000000000000')
            console.log(idVirtualBot)
            await fs.mkdirSync(`./SESSION/${idVirtualBot}`)

            // let availableJadibotSpace = global.jadibot1.length <= 11 && global.jadibot2.length <= 11 ? Math.floor(Math.random() * 3) + 1 : global.jadibot1.length <= 11 ? 1 : global.jadibot2.length <= 11 ? 2 : 3
            let availableJadibotSpace = undefined
            if(global.jadibot1.length <= 4) {
                availableJadibotSpace = 1
            } else if(global.jadibot2.length <= 4) {
                availableJadibotSpace = 2
            } else if(global.jadibot3.length <= 4) {
                availableJadibotSpace = 3
            } else if(global.jadibot4.length <= 4) {
                availableJadibotSpace = 4
            } else if(global.jadibot5.length <= 4) {
                availableJadibotSpace = 5
            }
            // } else if(global.jadibot6.length <= 4) {
            //     availableJadibotSpace = 6
            // } else if(global.jadibot7.length <= 4) {
            //     availableJadibotSpace = 7
            // } else if(global.jadibot8.length <= 4) {
            //     availableJadibotSpace = 8
            // } else if(global.jadibot9.length <= 4) {
            //     availableJadibotSpace = 9
            // }

            if(availableJadibotSpace == undefined && (isOwner || isSideOwner)) availableJadibotSpace = 1
            if(availableJadibotSpace == undefined) return reply(from, `Maaf, Maximum pemakaian jadibot telah tercapai, Mohon coba lagi lain kali\n\nMax 5 Jadibot Per Server | ${prefix}listjadibot`)
            // if(availableJadibotSpace == 0 || availableJadibotSpace == 6) availableJadibotSpace = 5

            const isV2Db = false
            let retrySendQR = 0
            let botNumber = ''
            const isCodeJadibot = message?.selectedButtonId?.includes('code')
            const numberJadibot = (isCodeJadibot ? message.collectMessage.startsWith('08') ? message.collectMessage.replace('08', '628') : message.collectMessage : undefined)?.replace(/\+|@s.whatsapp.net|@|-| /gi, '')?.replace(/\s/g, '')?.trim()
            if(isCodeJadibot && isNaN(numberJadibot)) return rem.sendText(from, 'Format nomor yang dikirimkan salah!\nContoh: 62813456789')

            let storeBottle = undefined
            let authStore = undefined
            // if(isV2Db) {
            //     if(!fs.existsSync(`./SESSION/${idVirtualBot}`)) fs.mkdirSync(`./SESSION/${idVirtualBot}`)
            //     storeBottle = await BaileysBottle.init({ type: 'better-sqlite3', database: `./SESSION/${idVirtualBot}/Auth.db` })
            //     authStore = await storeBottle.createStore(idVirtualBot)
            // }

            const { state, saveCreds, saveState } = !isV2Db ? await useMultiFileAuthState(`./SESSION/${idVirtualBot}`) : await authStore.auth.useAuthHandle();
            let version = undefined
            try {
                const fetchVersion = await fetchLatestBaileysVersion()
                if(fetchVersion.error) throw fetchVersion.error
                version = fetchVersion.version
            } catch {
                try {
                    let fetchFromServerUpdate = await axios.get('https://update.whapi.id/server_update/v2/file/baileys-version.json', { timeout: 5000 })
                    if(fetchFromServerUpdate.data?.version) {
                        version = fetchFromServerUpdate.data.version
                    } else {
                        console.warn('Baileys Version not found in server update, using default version')
                        throw new Error('Version not found in server update')
                    }
                } catch {
                    try {
                        const fetchWwebVersion = await fetchLatestWaWebVersion()
                        if(fetchWwebVersion.error) throw fetchWwebVersion.error
                        version = fetchWwebVersion.version
                    } catch (error) {
                        version = (process.env.WHATSAPP_CONN_VERSION_0 && process.env.WHATSAPP_CONN_VERSION_1 && process.env.WHATSAPP_CONN_VERSION_2) ? [Number(process.env.WHATSAPP_CONN_VERSION_0), Number(process.env.WHATSAPP_CONN_VERSION_1), Number(process.env.WHATSAPP_CONN_VERSION_2)] : [ 2, 3000, 1025196812 ]
                        console.error('Failed to fetch WA Web version:', error)
                    }
                }
            }
            async function mainStartVirtualBot (isAuthState) {
                try {
                    let vBot = await makeWASocket({ 
                        browser: ['Linux', 'Chrome', '1'],
                        version, 
                        printQRInTerminal: false, 
                        auth: state, 
                        syncFullHistory: false, 
                        downloadHistory: false, 
                        logger: pino({level: "silent"})
                    })
                    if(isAuthState) rem.sendText(from, 'Restarted, Connecting to client.js...')
    
                    vBot.ev.on('creds.update', !isV2Db ? saveCreds : saveState)

                    vBot.ev.on('connection.update', async (update) => {
                        const { connection, lastDisconnect } = update
                        if(connection == 'close') {
                            const shouldReconnect = lastDisconnect.error?.output?.statusCode !== DisconnectReason.loggedOut
                            if (connection === 'close') {
                                if(lastDisconnect.error?.output?.statusCode !== DisconnectReason.loggedOut) {
                                    if(retrySendQR >= 3) return vBot = undefined
                                    if(!isAuthState) await global[`jadibot${availableJadibotSpace}`].push({ id: sender, virtualBotId: idVirtualBot, access: vBot.user, isStop: false, retryCount: 0 })
                                    if(!isAuthState) {
                                        await _mongo_JadibotSchema.create({ iId: idVirtualBot, data: {} })
                                    }
                                    if(!isAuthState) rem.sendText(from, 'Scanned, Restarting...')
                                    if(!isAuthState) await mainStartVirtualBot(true)
                                    vBot = undefined
                                } else {
                                    console.log(`[ ${idVirtualBot} ] + connection closed`, lastDisconnect.error, ', reconnecting ', shouldReconnect)
                                    rem.sendText(from, 'Error!')
                                    rem.sendText(from, 'Pastikan telah mengaktifkan fitur Multi Device')
                                    if(authStore) await authStore._ds.destroy()
                                    if(fs.existsSync(`./SESSION/${idVirtualBot}`)) fs.rmSync(`./SESSION/${idVirtualBot}`, { recursive: true, force: true })
                                }
                            }
                        } else if(connection === 'open') {
                            botNumber = vBot?.user?.id
                            console.log(`[ ${idVirtualBot} ] opened connection`)
                        }

                        if(update.qr != undefined) {
                            if(!isCodeJadibot) {
                                if(retrySendQR >= 3) {
                                    await vBot.end()
                                    if(authStore) await authStore._ds.destroy()
                                    if(fs.existsSync(`./SESSION/${idVirtualBot}`)) fs.rmSync(`./SESSION/${idVirtualBot}`, { recursive: true, force: true })
                                    return rem.sendText(from, 'Gagal!, QR tidak di scan\n\nHarap Scan QR terbaru yang dikirim oleh bot, dan scan QR dengan cepat!')
                                }
                                console.log(idVirtualBot)
                                await QRCode.toFile(`./lib/cache/img/${idVirtualBot}.png`, update.qr, { version: 17, errorCorrectionLevel: 'H' })
    
                                await rem.sendFile(from, `./lib/cache/img/${idVirtualBot}.png`, 'session.png', `https://db1.remcp.com/img/${idVirtualBot}.png`, '', image)
                                addDelTime(`./lib/cache/img/${idVirtualBot}.png`, '1h')
                                retrySendQR += 1
                            }

                            if(isCodeJadibot && !vBot.authState.creds.registered) {
                                if(retrySendQR >= 3) {
                                    await vBot.end()
                                    if(authStore) await authStore._ds.destroy()
                                    return rem.sendText(from, 'Gagal!, Kode tidak dimasukkan\n\nHarap masukkan kode terbaru yang dikirim oleh bot, dan masukkan kode dengan cepat!')
                                }
                                const codeJadibot = await vBot.requestPairingCode(numberJadibot)
                                console.log(codeJadibot, numberJadibot)
                                rem.sendText(from, `*Jadibot Code:*\n\n_${codeJadibot.slice(0, 4) + "-" + codeJadibot.slice(4)}_\n\n*Masukkan kode ini ke nomer yang mau di jadibot*\n*Cara lihat di gambar pesan sebelumnya*`)
                                retrySendQR += 1
                            }
                        }
                    })
    
                    if(isAuthState) {
                        await sleep(5000)
                        await vBot.end()
                        if(isV2Db) {
                            storeBottle = undefined
                            authStore = undefined
                        }
                        await sleep(3000)

                        let response = {}
                        response = await axios.post(`http://localhost:${listJadibotServer[availableJadibotSpace - 1]}/start`, { id: idVirtualBot, sender, dbVer: isV2Db ? '2.0' : '1.0' })
                            
                        console.log(response.data)
                        if(!response.status) return reply(from, `Error!, Report to Owner\n*${prefix}owner*`)
                        
                        await sleep(5000)
                        rem.sendText(from, `*Success,* Connected Server ${availableJadibotSpace}\nUntuk berhenti *_${prefix}stopjadibot_*`)
                        rem.sendText(from, 'Jika bot tidak merespon silahkan menunggu sekitar 10 detik')
                        rem.sendText(from, `*PERINGATAN KERAS*\n*JANGAN JADIBOT LAGI DENGAN NOMER BOT YANG SAMA (${botNumber?.split('@')[0]?.split(':')[0]})*\n*JIKA DILANGGAR SANKSI BERUPA BAN*`)

                        await getAllJadibotFromAPI()
                    }
                } catch (err) {
                    console.error(`[ ${idVirtualBot} ] `, err)
                    // rem.sendText(numberReportError, `Err Jadibot\n\n${util.format(err)}`)
                    rem.sendText(from, `Error!, Report to Owner\n*${prefix}owner*`)
                    return { err: true }
                }
            }

            mainStartVirtualBot(false)
            break
        case prefix+'set_jadibot2':
            // if(isVirtualBot) return reply(from, `Silahkan command _${prefix}set_jadibot_ di wa.me/${global?.coreBotNumber?.replace('@s.whatsapp.net', '')}`)
            if (isGroupMsg) return reply(from, 'Perintah ini hanya bisa di gunakan di Private Chat!', id)

            const editMessageSetJadibot2 = await rem.sendText(from, '_Syncing data..._')
            await getAllJadibotNewFromAPI()
            rem.sendEditMessage(from, editMessageSetJadibot2.key, '_Syncing data: Success | 200_')

            const positionSetJadibot2 = Object.values(global.jadibot).find(all => all.id === sender)
            // global.jadibot10.findIndex(object => object.id == sender) != -1 && (positionSetJadibot = 10)
            if(!positionSetJadibot2) return reply(from, 'Kamu sedang tidak jadibot')

            switch(args[1]) {
                case 'group':
                    if(isNaN(args[2])) return reply(from, `Format salah!, _${prefix}set_jadibot2 group <number>_\nContoh : ${prefix}set_jadibot group 10`)
                    
                    let jadibotSettingsSet2 = await _mongo_JadibotSchema.findOne({ iId: positionSetJadibot2.virtualBotId })
                    if(jadibotSettingsSet2 == undefined) {
                        await _mongo_JadibotSchema.create({ iId: positionSetJadibot2.virtualBotId, data: { groupLimit: Number(args[2]) } })
                    } else {
                        await _mongo_JadibotSchema.updateOne({ iId: positionSetJadibot2.virtualBotId }, { $set: { "data.groupLimit": Number(args[2]) } })
                    }
        
                    reply(from, 'Success')
                    break
                case 'call':
                    if(!args[2] || (args[2] != 'block' && args[2] != 'allow')) return reply(from, `Format salah!, _${prefix}set_jadibot2 call <block/allow>_\n\nContoh : *${prefix}set_jadibot call block*\nUntuk menolak panggilan masuk`)
                    
                    let jadibotSettingsSetCall2 = await _mongo_JadibotSchema.findOne({ iId: positionSetJadibot2.virtualBotId })
                    if(jadibotSettingsSetCall2 == undefined) {
                        await _mongo_JadibotSchema.create({ iId: positionSetJadibot2.virtualBotId, data: { callBlock: args[2] === 'block' ? true : false } })
                    } else {
                        await _mongo_JadibotSchema.updateOne({ iId: positionSetJadibot2.virtualBotId }, { $set: { "data.callBlock": args[2] === 'block' ? true : false } })
                    }

                    reply(from, 'Success')
                    break

                default:
                    reply(from, `Format salah!\n\n~ _${prefix}set_jadibot2 group_\n~ _${prefix}set_jadibot2 call_`)
                    break
            }
            break
        // case prefix+'listjadibot2':
        case prefix+'listjadibot':
            const editMessageListJadibot2 = await rem.sendText(from, '_Syncing data..._')
            await getAllJadibotNewFromAPI()
            rem.sendEditMessage(from, editMessageListJadibot2.key, '_Syncing data: Success | 200_')

            // const getGithubVersion = get cmd response git rev-parse --short HEAD
            const getGithubVersion2 = execSync('git rev-parse --short HEAD')
            const getGithubLastCommitDate2 = execSync(`git --no-pager log -1 --pretty='format:%cd' --date='format:%d%m%y'`)

            const gitVersion2 = getGithubVersion2.toString().trim()
            const gitDateVersion2 = getGithubLastCommitDate2.toString().trim()

            const waClientVersion2 = execSync('git rev-parse --short HEAD', { cwd: '../wuzapi' })
            // const waClientLastCommitDate = execSync(`git --no-pager log -1 --pretty='format:%cd' --date='format:%d%m%y'`, { cwd: '../wuzapi' })

            const waClientGitVersion2 = waClientVersion2.toString().trim()
            // const waClientGitDateVersion = waClientLastCommitDate.toString().trim()

            const versionString2 = `b-${gitDateVersion2}_${gitVersion2}_#${waClientGitVersion2}`
            // const waClientVersionString = `${waClientGitDateVersion}_${waClientGitVersion}`

            let textListJadibot2 = `*„Äå List Jadibot2 „Äç*`
            const jadibotListKeys = Object.keys(global.jadibot)
            for(let i = 0; i < jadibotListKeys.length; i++) {
                if(jadibotListKeys[i] === 'CORE') continue
                const jadibot2 = global.jadibot[jadibotListKeys[i]]
                textListJadibot2 += `\n\n${i + 1}. [ _Online_ ] ${jadibot2?.virtualBotId}\n*OwnerNumber :* wa.me/${jadibot2?.id?.replace('@s.whatsapp.net', '')}\n*Bot Number :* wa.me/${(jadibot2?.user?.id || jadibot2?.access?.user?.id)?.split(':')[0]}\n_Bot Version_: *${versionString2}*`
            }
            reply(from, textListJadibot2)
        break
        case prefix+'jadibot2':
            const keyEnterJadibot2 = 'EMUACHRAPIDLOVLOVV'
            if(allArgs[1] != keyEnterJadibot2) return reply(from, 'Invalid!')
            const editMessageJadibot2 = await rem.sendText(from, '_Syncing data..._')
            await getAllJadibotNewFromAPI()
            rem.sendEditMessage(from, editMessageJadibot2.key, '_Syncing data: Success | 200_')

            if (isGroupMsg) return reply(from, 'Perintah ini hanya bisa di gunakan di Private Chat!', id)
            if(message.selectedButtonId == undefined || !message?.selectedButtonId?.includes('grantedAccess1')) return rem.sendButtons(from, `*!! WARNING !!*\nWhatsApp melarang keras Bot Tidak Resmi, Jika ketahuan akan menyebabkan nomor *kebanned*.\n*Mohon gunakan WhatsApp dengan Nomor Virtual/Nomor Cadangan Anda*\n\nJika ingin melanjutkan, Tekan tombol Lanjutkan dibawah\nJika tidak, abaikan pesan ini`, [{id: `${prefix}jadibot2 ${keyEnterJadibot2} grantedAccess1`, text: 'Lanjutkan'}], '', '@dwirizqi.h')

            if(!message?.selectedButtonId?.includes('grantedAccess2')) return rem.sendButtons(from, `*„Äå Pilih Metode Jadibot „Äç*

1. *Metode Scan QR Code _(Whatsapp Web)_*
Bot akan mengirimkan *QR code*, dan scan di Nomer yang mau di Jadibot
Memerlukan 2 Device/Hp

2. *Metode CODE*
Bot akan mengirimkan *CODE*, dan masukkan di Nomer yang mau di Jadibot
Memerlukan 1 Device/Hp`, [{ id: `${prefix}jadibot2 ${keyEnterJadibot2} grantedAccess1 grantedAccess2 qr`, text: 'Scan QR' }, { id: `${prefix}jadibot2 ${keyEnterJadibot2} grantedAccess1 grantedAccess2 code`, text: 'CODE' }])

        if(!message?.selectedButtonId?.includes('grantedAccess3') && message?.selectedButtonId?.includes('qr') && !message?.selectedButtonId?.includes('code')) return rem.sendButtonsImage(from, `*Pastikan untuk mengaktifkan fitur _Multi Device_*\n[ _Cara lihat diatas_ ]\n\n*Note :* _Jika tidak ada tombol seperti gambar diatas, langsung tekan tombol *Lanjutkan* di bawah_`, './media/img/wamd.jpg', [{id: `${prefix}jadibot2 ${keyEnterJadibot2} grantedAccess1 grantedAccess2 qr grantedAccess3`, text: 'Lanjutkan'}], '', '@dwirizqi.h')
        if(message?.selectedButtonId?.includes('code') && message.collectMessage == undefined) {
            await addCollectorMessage(sender, from, `${prefix}jadibot2 ${keyEnterJadibot2} grantedAccess1 grantedAccess2 code`, Date.now() + toMs('1m'), true, JSON.stringify(messageRaw))
            return rem.sendText(from, 'Kirimkan ke sini\nNomer telepon *yang akan di Jadibot*')
        }

        if(message?.selectedButtonId?.includes('qr') && !message?.selectedButtonId?.includes('code')) rem.sendText(from, 'Scan Kode QR Dibawah, cara lihat dibawah\n\nKembali ke beranda WhastApp\n*1. Titik Tiga*\n[ _Pojok kanan atas_ ]\n*2. Perangkat Tertaut*\n*3. Tautkan Perangkat*\n\n*Note :* _Jika hanya mempunyai hp 1, Buka link dibawah kode QR dengan perangkat lainnya_')
        if(message?.selectedButtonId?.includes('code') && !message?.selectedButtonId?.includes('web')) await rem.sendFile(from, './media/img/wamdcode.png', 'wamdcode.png', 'Masukkan Kode Dibawah, cara lihat digambar\n\nKembali ke beranda WhastApp\n*1. Titik Tiga*\n[ _Pojok kanan atas_ ]\n*2. Perangkat Tertaut*\n*3. Tautkan Perangkat*\n*4. Tautkan dengan nomor telepon saja [ _Bawah sendiri_ ]*\n5. *Ketikkan kode yang kirim oleh bot*', '', image)

        const isCodeJadibot2 = message?.selectedButtonId?.includes('code')
        const numberJadibot2 = (isCodeJadibot2 ? message.collectMessage.startsWith('08') ? message.collectMessage.replace('08', '628') : message.collectMessage : undefined)?.replace(/\+|@s.whatsapp.net|@|-| /gi, '')?.replace(/\s/g, '')?.trim()
        if(isCodeJadibot2 && isNaN(numberJadibot2)) return rem.sendText(from, 'Format nomor yang dikirimkan salah!\nContoh: 62813456789')

        const editMessageJadibot2Server = await rem.sendText(from, `Menghubungkan ke server...`)

        const idVirtualBot2 = GenerateSerialNumber('000000000000')
        // add user client
        const responseAddUser = await addUserAndConnectClientJadibot(sender, idVirtualBot2)
        if(!responseAddUser.status) return rem.sendEditMessage(from, editMessageJadibot2Server.key, `*Tidak dapat terhubung ke server!*\nMohon laporkan ke _${prefix}bugreport_ beserta code dibawah ini\n\n_Code: ${responseAddUser.err}_`)

        if(isCodeJadibot2) {
            const codeJadibot2 = await requestPairPhoneClientJadibot(idVirtualBot2, numberJadibot2)
            if(!codeJadibot2.status) return rem.sendEditMessage(from, editMessageJadibot2Server.key, `*Tidak dapat terhubung ke server!*\nMohon laporkan ke _${prefix}bugreport_ beserta code dibawah ini\n\n_Code: ${codeJadibot2.err}_`)
        
            rem.sendText(from, `*Jadibot Code:*\n\n_${codeJadibot2.data}_\n\n*Masukkan kode ini ke nomer yang mau di jadibot*\n*Cara lihat di gambar pesan sebelumnya*`)
        } else {
            const qrJadibot2 = await getQrClientJadibot(idVirtualBot2)
            if(!qrJadibot2.status) return rem.sendEditMessage(from, editMessageJadibot2Server.key, `*Tidak dapat terhubung ke server!*\nMohon laporkan ke _${prefix}bugreport_ beserta code dibawah ini\n\n_Code: ${qrJadibot2.err}_`)
        
            fs.writeFileSync(`./lib/cache/img/${idVirtualBot2}.png`, qrJadibot2.data.split(',')[1], 'base64')
            rem.sendFile(from, qrJadibot2.data.split(',')[1], 'session.png', `https://db1.remcp.com/img/${idVirtualBot2}.png`, '', image)
        }

        try {
            for(let i = 0; i < 60; i++) {
                await sleep(1000)
                const getStatusClientJadibot2 = await checkConnectClientJadibot(idVirtualBot2)
                if(!getStatusClientJadibot2.status) rem.sendText(from, `*Error!*\nMohon laporkan ke _${prefix}bugreport_ beserta code dibawah ini\n\n_Code: ${getStatusClientJadibot2.err}_`)
                
                if(getStatusClientJadibot2.data?.LoggedIn) {
                    rem.sendText(from, `*Success,* Connected Server\nUntuk berhenti *_${prefix}stopjadibot2_*\n\nJika bot tidak merespon silahkan menunggu sekitar 10 detik`)
                    rem.sendText(from, `*PERINGATAN KERAS*\n*JANGAN JADIBOT LAGI DENGAN NOMOR BOT YANG SAMA\n*JIKA DILANGGAR SANKSI BERUPA BAN*`)
                    break
                }
    
                // if last loop
                if(i == 59) {
                    rem.sendText(from, `Terlalu lama, Gagal verifikasi, coba lagi`)
                    console.log('disconnect jadibot', (await axios.post(`${process.env.CLIENT_GOLANG_URL}/session/disconnect`, {}, { headers: { Token: idVirtualBot2 }, validateStatus: false })).data)
                    console.log('deluser jadibot', (await axios.delete(`${process.env.CLIENT_GOLANG_URL}/admin/users/${responseAddUser.data.id}`, { validateStatus: false })).data)
                    break
                }
            }
        } catch (err) {
            console.error(err)
            rem.sendText(from, `*Error!*\nMohon laporkan ke _${prefix}bugreport_ beserta code dibawah ini\n\n_Code: ${err}_`)
            await axios.post(`${process.env.CLIENT_GOLANG_URL}/session/disconnect`, {}, { headers: { Token: idVirtualBot2 }, validateStatus: false })
            await axios.delete(`${process.env.CLIENT_GOLANG_URL}/admin/users/${responseAddUser.data.id}`, { validateStatus: false })
        }
        break
        case prefix+'stopjadibot2':
            const editMessageStopJadibot2 = await rem.sendText(from, '_Syncing data..._')
            await getAllJadibotNewFromAPI()
            rem.sendEditMessage(from, editMessageStopJadibot2.key, '_Syncing data: Success | 200_')

            const findDataJadibot = Object.values(global.jadibot).find(all => all.id === sender)
            if(!findDataJadibot) return reply(from, 'Kamu sedang tidak jadibot')

            await axios.post(`${process.env.CLIENT_GOLANG_URL}/session/disconnect`, {}, { headers: { Token: findDataJadibot.virtualBotId }, validateStatus: false })
            const responseStopJadibot2 = await axios.delete(`${process.env.CLIENT_GOLANG_URL}/admin/users/${findDataJadibot.dataId}`, { validateStatus: false })
            
            if(responseStopJadibot2?.status != 200) return rem.sendText(from, `Error!, Report to Owner\n*${prefix}owner*`)
            rem.sendText(from, `*Success!*\n\nres: ${util.format(responseStopJadibot2.data)}`)
            break
        // case prefix + 'afinitas':
        // case prefix + 'afn':
        //     if (!isOwner) return reply(from, '', id)
        //     if (mentionedJidList[0] == sender) return reply(from, 'Kamu tidak bisa afinitas dengan diri sendiri')

            // check db afinitas
            // if((_userDb.rl?.afinitas?.select == undefined) || !_userDb.rl?.afinitas?.list) {
            //     await _mongo_UserSchema.updateOne({ iId: sender }, {
            //         $set: {
            //             "rl.afinitas": {
            //                 select: '',
            //                 list: []
            //             }
            //         }
            //     })
            //     _userDb = await _mongo_UserSchema.findOne({ iId: sender })
            // }

        //     if (args[1] && args[1].toLowerCase() == 'lover') {

        //         // check if afinitas lover already exists
        //         if(_userDb.rl.afinitas.list.includes('lover')) return reply(from, `Afinitas lover sudah ada`)
    
        //         const textSendAfinitasLover = `@${sender.replace('@s.whatsapp.net', '')} ingin berafinitas *Lover* denganmu @${mentionedJidList[0].replace('@s.whatsapp.net', '')}`
        //         const buttonSendAfinitasLover = [{
        //                 // bakal nge cmd acceptAfinitas, dan yang ingin berafinitas adalah allArgs[1] & allArgs[2]
        //                 id: `${prefix}acceptafinitas ${sender} ${mentionedJidList[0]} lover`,
        //                 text: 'Terima'
        //             },
        //             {
        //                 id: `${prefix}rejectafinitas ${sender} ${mentionedJidList[0]} lover`,
        //                 text: 'Tolak'
        //             }
        //         ]
        //         rem.sendButtons(from, textSendAfinitasLover, buttonSendAfinitasLover, '', '', { quoted: messageRaw }, { mentions: [sender, mentionedJidList[0]] })
        // } else if(args[1] && args[1].toLowerCase() == 'saudara') {

        //     // check if afinitas lover already exists
        //     if(_userDb.rl.afinitas.list.includes('saudara')) return reply(from, `Afinitas saudara sudah ada`)
            
        //     const textSendAfinitasSaudara = `@${sender.replace('@s.whatsapp.net', '')} ingin berafinitas *Lover* denganmu @${mentionedJidList[0].replace('@s.whatsapp.net', '')}`
        //     const buttonSendAfinitasSaudara = [{
        //         // bakal nge cmd acceptAfinitas, dan yang ingin berafinitas adalah allArgs[1] & allArgs[2]
        //             id: `${prefix}acceptafinitas ${sender} ${mentionedJidList[0]} saudara`,
        //             text: 'Terima'
        //         },
        //         {
        //             id: `${prefix}rejectafinitas ${sender} ${mentionedJidList[0]} saudara`,
        //             text: 'Tolak'
        //         }
        //     ]
        //     rem.sendButtons(from, textSendAfinitasSaudara, buttonSendAfinitasSaudara, '', '', { quoted: messageRaw }, { mentions: [sender, mentionedJidList[0]] })
        // } else if(args[1] && args[1].toLowerCase() == 'sahabat') {

        //     // check if afinitas lover already exists
        //     if(_userDb.rl.afinitas.list.includes('sahabat')) return reply(from, `Afinitas sahabat sudah ada`)

        //     const textSendAfinitasSahabat = `@${sender.replace('@s.whatsapp.net', '')} ingin berafinitas *Sahabat* denganmu @${mentionedJidList[0].replace('@s.whatsapp.net', '')}`
        //     const buttonSendAfinitasSahabat = [{

        //             id: `${prefix}acceptafinitas ${sender} ${mentionedJidList[0]} sahabat`,
        //             text: 'Terima'
        //         },
        //         {
        //             id: `${prefix}rejectafinitas ${sender} ${mentionedJidList[0]} sahabat`,
        //             text: 'Tolak'
        //         }
        //     ]
        //     rem.sendButtons(from, textSendAfinitasSahabat, buttonSendAfinitasSahabat, '', '', { quoted: messageRaw }, { mentions: [sender, mentionedJidList[0]] })
        // } else if(args[1] && args[1].toLowerCase() == 'kepercayaan') {

        //     // check if afinitas lover already exists
        //     if(_userDb.rl.afinitas.list.includes('kepercayaan')) return reply(from, `Afinitas kepercayaan sudah ada`)

        //     const textSendAfinitasKepercayaan = `@${sender.replace('@s.whatsapp.net', '')} ingin berafinitas *Kepercayaan* denganmu @${mentionedJidList[0].replace('@s.whatsapp.net', '')}`
        //     const buttonSendAfinitasKepercayaan = [{

        //             id: `${prefix}acceptafinitas ${sender} ${mentionedJidList[0]} kepercayaan`,
        //             text: 'Terima'
        //         },
        //         {
        //             id: `${prefix}rejectafinitas ${sender} ${mentionedJidList[0]} kepercayaan`,
        //             text: 'Tolak'
        //         }
        //     ]
        //     rem.sendButtons(from, textSendAfinitasKepercayaan, buttonSendAfinitasKepercayaan, '', '', { quoted: messageRaw }, { mentions: [sender, mentionedJidList[0]] })
        // } else {
        //     const listSenderAfinitas = _userDb.rl?.afinitas?.list
        //     let textSendAfinitas = `*[ Afinitas ]*`

        //     // is select
        //     if(_userDb.rl?.afinitas?.select) {
        //         const whoIsAfinitasWith = listSenderAfinitas.find(all => all.type === _userDb.rl?.afinitas?.select)
        //         textSendAfinitas += `\n\n*wa.me/${sender.replace('@s.whatsapp.net', '')} _${capitalizeFirstLetter(whoIsAfinitasWith.type)}_ wa.me/${whoIsAfinitasWith.id.replace('@s.whatsapp.net', '')}*`
        //     }

        //     textSendAfinitas += '\n\nAfinitas yang ada adalah: *lover, saudara, sahabat, kepercayaan*'

        //     if(listSenderAfinitas.length > 0) {
        //         const listButtonAfinitas = listSenderAfinitas.map(afinitas => {
        //             return {
        //                 id: `${prefix}setafinitas ${sender} ${afinitas.id}`,
        //                 text: capitalizeFirstLetter(afinitas.type)
        //             }
        //         })

        //         const textButtonAfinitas = textSendAfinitas + `\n\n*Untuk set afinitas*\nReply pesan ini dan kirim nomer urut _afinitas_`
        //         rem.sendButtons(from, textButtonAfinitas, listButtonAfinitas)
        //     } else {
        //         const textReplyAfinitas = textSendAfinitas + `\n\nUntuk ber afinitas dengan member lain\n*_${prefix}afinitas <afinitas> @tagmember_*\nContoh : _${prefix}afinitas lover @Vera_`
        //         reply(from, textReplyAfinitas)
        //     }
        // }
        // break
        // case prefix+'acceptafinitas':
        //     if(!isOwner) return reply(from, '', id)

        //     const senderRequestAfinitas = allArgs[1]
        //     const senderAcceptAfinitas = allArgs[2]
        //     const afinitasType = allArgs[3]

        //     if(!senderRequestAfinitas && !senderAcceptAfinitas) return reply(from, 'Invalid')
        //     if(senderAcceptAfinitas != sender) return reply(from, 'Invalid')

        //     // if not exists afinitas
        //     if((_userDb.rl?.afinitas?.select == undefined) || !_userDb.rl?.afinitas?.list) {
        //         await _mongo_UserSchema.updateOne({ iId: sender }, {
        //             $set: {
        //                 "rl.afinitas": {
        //                     select: '',
        //                     list: [{ id: senderRequestAfinitas, type: afinitasType }]
        //                 }
        //             }
        //         })
        //     } else {
        //         // check if afinitas type already exists
        //         const checkAfinitasType = _userDb.rl.afinitas.list.find(all => all.type === afinitasType)
        //         if(checkAfinitasType) return reply(from, `Afinitas ${afinitasType} sudah ada`)
        //         await _mongo_UserSchema.updateOne({ iId: sender }, {
        //             $push: {
        //                 "rl.afinitas.list": { id: senderRequestAfinitas, type: afinitasType }
        //             }
        //         })
        //     }

        //     // update db request afinitas
        //     await _mongo_UserSchema.updateOne({ iId: senderRequestAfinitas }, {
        //         $push: {
        //             "rl.afinitas.list": { id: senderAcceptAfinitas, type: afinitasType }
        //         }
        //     })

        //     rem.sendTextWithMentions(from, `@${allArgs[1].replace('@s.whatsapp.net', '')} Bersedia menjadi Afinitas dari @${allArgs[2].replace('@s.whatsapp.net', '')}\n\n*Check di cmd _${prefix}afn_*`)
        //     break
        // case prefix+'rejectafinitas':
        //     if(!isOwner) return reply(from, '', id)
        //     if(!allArgs[1] && !allArgs[2]) return reply(from, 'Invalid')
        //     if(allArgs[2] != sender) return reply(from, 'Invalid')
        //     // await _mongo_UserSchema.updateOne({ iId: sender }, { $set: { "rl":  } })
        //     rem.sendTextWithMentions(from, `@${allArgs[1].replace('@s.whatsapp.net', '')} Menolak menjadi Afinitas dari @${allArgs[2].replace('@s.whatsapp.net', '')}`)
        //     break
        // case prefix+'setafinitas':
        //     if(!isOwner) return reply(from, '', id)

        //     const senderSetAfinitas = allArgs[1]
        //     const numberTargetAfinitas = allArgs[2]
        //     const selectedMenu = allArgs[3]

        //     if(!senderSetAfinitas && !numberTargetAfinitas) return reply(from, 'Invalid')
        //     if(senderSetAfinitas != sender) return reply(from, 'Invalid')

        //     // if not exists afinitas
        //     if(!_userDb.rl?.afinitas) return reply(from, `Kamu tidak memiliki afinitas!\n*Cmd _${prefix}afinitas_*`)
    
        //     const afinitasSetList = _userDb.rl?.afinitas?.list
        //     if(afinitasSetList?.length <= 0) return reply(from, `Kamu tidak memiliki afinitas!\n*Cmd _${prefix}afinitas_*`)

        //     const getAfinitasSetList = afinitasSetList.find(all => all.id === numberTargetAfinitas)
        //     if(!getAfinitasSetList) return reply(from, 'Invalid, Tidak ada afinitas ini!')

        //     if(selectedMenu === 'set') {
        //         await _mongo_UserSchema.updateOne({ iId: sender }, {
        //             $set: { 'rl.afinitas.select': getAfinitasSetList.type }
        //         })
    
        //         reply(from, `Afinitas ${getAfinitasSetList.type} berhasil di set`)
        //     } else if(selectedMenu === 'delete') {
        //         await _mongo_UserSchema.updateOne({ iId: sender }, {
        //             $pull: { 'rl.afinitas.list': { id: numberTargetAfinitas } }
        //         })
        //         if(_userDb.rl.afinitas.select === getAfinitasSetList.type) await _mongo_UserSchema.updateOne({ iId: sender }, { $set: { 'rl.afinitas.select': '' } })

        //         await _mongo_UserSchema.updateOne({ iId: numberTargetAfinitas }, {
        //             $pull: { 'rl.afinitas.list': { id: sender } }
        //         })
        //         const getNumberTargetSetAfinitas = await _mongo_UserSchema.findOne({ iId: numberTargetAfinitas })
        //         if(getNumberTargetSetAfinitas.rl.afinitas.select === getAfinitasSetList.type) await _mongo_UserSchema.updateOne({ iId: numberTargetAfinitas }, { $set: { 'rl.afinitas.select': '' } })

        //         reply(from, `Afinitas ${getAfinitasSetList.type} berhasil di hapus`)
        //     } else {
        //         const buttonMenuSetAfinitas = [{
        //             id: `${prefix}setafinitas ${sender} ${numberTargetAfinitas} set`,
        //             text: 'Set afinitas ini'
        //         }, {
        //             id: `${prefix}setafinitas ${sender} ${numberTargetAfinitas} delete`,
        //             text: 'Hapus afinitas ini'
        //         }]
        //         rem.sendButtons(from, `*Afinitas ${getAfinitasSetList.type}*\n\n*Set atau Hapus?*`, buttonMenuSetAfinitas)
        //     }
        //     break
        case prefix+'afinitas':
        case prefix+'afn':
            if(!isSideOwner) return reply('Err: 403!')
            if(!isPremium) return reply(from, 'Kamu harus premium untuk menggunakan fitur ini', id)

            try {
                if(args.length < 2) {
                    let afinitasInfo = `*„Äå AFINITAS „Äç*\n\nAfinitas adalah ikatan/hubungan yang kalian jalin dengan pengguna lain.\n\nJenis Afinitas:\n
1. Lover - Pasangan/Kekasih (Maks. 1)
2. Saudara - Hubungan persaudaraan (Maks. 5)
3. Sahabat - Teman terdekat (Maks. 5)
4. Kepercayaan - Orang yang dipercaya (Maks. 5)

Command: 
*${prefix}afinitas lover* @user - Request afinitas lover
*${prefix}afinitas saudara* @user - Request afinitas saudara
*${prefix}afinitas sahabat* @user - Request afinitas sahabat
*${prefix}afinitas kepercayaan* @user - Request afinitas kepercayaan
*${prefix}afinitas status* - Lihat status afinitas kamu
*${prefix}afinitas remove* <tipe> @user - Hapus afinitas 

Note: Batas tiap pengguna hanya dapat mengirim 3 request afinitas per hari.`
                    return reply(from, afinitasInfo, id)
                }
// add *${prefix}afinitas pasanganrl* - Lihat pasangan afinitas lover

                //cek status
                if(args[1] && args[1].toLowerCase() === 'status') {
                    const userAfinitas = getAfinitas(_userDb)
                    let statusMsg = `*„Äå AFINITAS STATUS „Äç*\n\nAfinitas kamu:\n`

                    //lover
                    statusMsg += `‚û§ *Lover:*\n`
                    if (userAfinitas.lover) {
                        const loverDb = await _mongo_UserSchema.findOne({ iId: userAfinitas.lover })
                        const loverName = getNama(loverDb) || loverDb.iId.replace('@s.whatsapp.net', '')
                        statusMsg += `ü©∑ @${userAfinitas.lover.replace('@s.whatsapp.net', '')}\n`
                    } else {
                        statusMsg += `Tidak ada\n‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ\n`
                    }

                    //saudara
                    statusMsg += `‚û§ *Saudara (${userAfinitas.saudara?.list?.length || 0}/5)*:\n`
                    if (userAfinitas.saudara?.list?.length > 0) {
                        for (let i = 0; i < userAfinitas.saudara.list.length; i++) {
                            statusMsg += `${i+1}. @${userAfinitas.saudara.list[i].replace('@s.whatsapp.net', '')}\n`
                        }
                    } else {
                        statusMsg += `Tidak ada\n‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ\n`
                    }

                    //sahabat
                    statusMsg += `‚û§ *Sahabat (${userAfinitas.sahabat?.list?.length || 0}/5)*:\n`
                    if (userAfinitas.sahabat?.list?.length > 0) {
                        for (let i = 0; i < userAfinitas.sahabat.list.length; i++) {
                            statusMsg += `${i+1}. @${userAfinitas.sahabat.list[i].replace('@s.whatsapp.net', '')}\n`
                        }
                    } else {
                        statusMsg += `Tidak ada\n‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ\n`
                    }

                    //kepercayaan
                    statusMsg += `‚û§ *Kepercayaan (${userAfinitas.kepercayaan?.list?.length || 0}/5)*:\n`
                    if (userAfinitas.kepercayaan?.list?.length > 0) {
                        for (let i = 0; i < userAfinitas.kepercayaan.list.length; i++) {
                            statusMsg += `${i+1}. @${userAfinitas.kepercayaan.list[i].replace('@s.whatsapp.net', '')}\n`
                        }
                    } else {
                        statusMsg += `Tidak ada\n‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ\n`
                    }

                    //pending request
                    const pendingRequests = getAfinitasRequests(_userDb).filter(req => req.status === 'pending' && req.expired > Date.now())
                        statusMsg += `\n‚û§ *Permintaan Masuk (${pendingRequests.length})*:\n`
                        if (pendingRequests.length > 0) {
                            for (let i = 0; i < pendingRequests.length; i++) {
                                const req = pendingRequests[i]
                                    statusMsg += `${i+1}. @${req.from.replace('@s.whatsapp.net', '')} (${req.type})

ID: ${req.id}
Terima: ${prefix}acceptafinitas ${req.id}
Tolak: ${prefix}rejectafinitas ${req.id}\n` 
                        }
                    } else {
                        statusMsg += `Tidak ada\n‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ\n`
                    }

                    if(isMention) {
                        await rem.sendTextWithMentions(from, statusMsg)
                    } else {
                        await rem.sendText(from, statusMsg.replace(/@/gi, 'wa.me/'))
                    }          
                    
                } else if (args[1].toLowerCase() === 'remove') {
                    if(!isSuperOwner) return reply(from, ``)
                    if(args.length < 4 || !mentionedJidList[0]) {
                        return reply(from, `Format salah. Gunakan: ${prefix}afinitas remove <tipe> @user`, id)
                    }

                    const type = args[2].toLowerCase()
                    const targetId = mentionedJidList[0]

                    if(!['lover', 'saudara', 'sahabat', 'kepercayaan'].includes(type)) {
                        return reply(from, `Tipe afinitas tidak valid. Gunakan: lover, saudara, sahabat, atau kepercayaan`, id)
                    }
                    const userAfinitas = getAfinitas(_userDb)

                    //cek apakah user punya tipe afinitas ini dengan target?
                    let hasAfinitas = false
                    switch (type) {
                        case 'lover':
                            hasAfinitas = userAfinitas.lover === targetId
                            break
                        case 'saudara':
                            hasAfinitas = userAfinitas.saudara?.list?.includes(targetId)
                            break
                        case 'sahabat':
                            hasAfinitas = userAfinitas.sahabat?.list?.includes(targetId)
                            break
                        case 'kepercayaan':
                            hasAfinitas = userAfinitas.kepercayaan?.list?.includes(targetId)
                            break
                    }

                    if (!hasAfinitas) {
                        return reply(from, `Kamu tidak memiliki afinitas ${type} dengan pengguna tersebut`, id)
                    }
                    
                    const result = await removeAfinitas(sender, targetId, type)
                    if (result.success) {
                        return reply(from, result.message, id)
                    } else {
                        return reply(from, `Gagal menghapus afinitas: ${result.message}`, id)
                    }
                }

                //handle afinitas request
                const validTypes = ['lover', 'saudara', 'sahabat', 'kepercayaan']
                const requestType = args[1].toLowerCase()

                if(!validTypes.includes(requestType)) {
                    return reply(from, `Tipe afinitas tidak valid. Gunakan: lover, saudara, sahabat, atau kepercayaan`, id)
                }
                
                if(!mentionedJidList[0]) {
                    return reply(from, `Tag pengguna yang ingin kamu ajak berafinitas. Contoh: ${prefix}afinitas ${requestType} @user`, id)
                }
                
                const targetId = mentionedJidList[0]

                //cek jika user mengajak afinitas kepada diri sendiri
                if(targetId === sender){
                    return reply('Kamu tidak bisa meminta afinitas dengan dirimu sendiri', id)
                }

                //cek jika user ga ada dalam database
                const targetUser = await _mongo_UserSchema.findOne({ iId: targetId })
                if(!targetUser) {
                    return reply(from, 'Pengguna yang kamu tag tidak terdaftar dalam database', id)
                }

                //cek batas user afinitas
                if(!checkAfinitasLimit(_userDb, requestType)) {
                    return reply(from, `Kamu sudah mencapai limit afinitas ${requestType}`, id)
                }

                //cek jika user sudah kirim permintaan ini kepada afinitas yang user inginkan
                const existingRequests = getAfinitasRequests(targetUser).filter(
                    req => req.from === sender && req.type === requestType && req.status === 'pending' && req.expired > Date.now()
                )
                
                if(existingRequests.length > 0) {
                    return reply(from, `Kamu sudah mengirim permintaan afinitas ${requestType} ke user tersebut, mohon tunggu responnya`, id)
                }

                //cek jika sudah mencapai batas harian
                const today = new Date()
                today.setHours(0, 0, 0, 0)
                const requestsToday = _userDb.rl?.afinitas?.requestsLogs?.filter(log => !isOwner && log.timestamp > today.getTime()) || []
                if (requestsToday.length >= 3) {
                    return reply(from, 'Kamu sudah mencapai limit harian permintaan afinitas (3 permintaan per hari)', id)
                }

                //send afinitas request
                const requestId = await sendAfinitasRequest(sender, targetId, requestType)

                //log req
                await _mongo_UserSchema.updateOne({ iId: sender }, { $push: { "rl.afinitas.requestsLogs": { timestamp: Date.now(), targetId, type: requestType } } })

                //send notification to target user
                const targetName = await getNama(targetUser) || targetId.replace('@s.whatsapp.net', '')
                const senderName = pushname || sender.replace('@s.whatsapp.net', '')

                //send msg to requester
                await reply(from, `Permintaan afinitas *${requestType}* telah dikirim ke wa.me/${targetId.replace('@s.whatsapp.net', '')}. Menunggu respons...`, id)

                //send msg to target
                // const requestMessage = `*„Äå PERMINTAAN AFINITAS „Äç*\n\n@${sender.replace('@s.whatsapp.net', '')} (${senderName}) mengirimimu permintaan afinitas *${requestType}*.\n\nUntuk menerima, kirim:\n*${prefix}acceptafinitas ${requestId}*\n\nUntuk menolak, kirim:\n*${prefix}rejectafinitas ${requestId}*\n\nPermintaan ini akan kadaluarsa dalam 5 menit.`
                // await rem.sendTextWithMentions(targetId, requestMessage, id)

                //send button to target
                rem.sendButtons(targetId, `*„Äå PERMINTAAN AFINITAS „Äç*

@${sender.replace('@s.whatsapp.net', '')} (${senderName}) mengirimimu permintaan afinitas _*${requestType}*_.`, [{

id: `${prefix}acceptafinitas ${requestId}`, text: 'Terima permintaan' }, {
id: `${prefix}rejectafinitas ${requestId}`, text: 'Tolak permintaan' }], '', '', { mentions: [sender, targetId] })  
                reply(targetId, 'Permintaan ini akan kadaluarsa dalam 5 menit.', id)  
            } catch (err) {
                console.error(err)
                reply(from, 'Terjadi kesalahan saat memproses permintaan afinitas', id)
            }
            break
        case prefix+'acceptafinitas':
            if(!isSideOwner) return reply('Err: 403!')
                try {
                    const senderReqAfinitas = allArgs[1]
                    const senderAcceptAfinitas = allArgs[2]
                    const afinitasType = allArgs[3]

                    // if (args.length > 1) {
                    //     return reply(from, `Silahkan reply pesan di tas, memilih 1 atau 2`, id)
                    // }

                    // const requestId = args[2]
                    const result = await acceptAfinitas(sender, senderReqAfinitas)
                    const pasrl = JSON.parse(result)

                    if (result.success) {
                        const fromUserDb = await _mongo_UserSchema.findOne({ iId: result.from })
                        const fromName = getNama(fromUserDb) || result.from.replace('@s.whatsapp.net', '')
                        
                        //notify the requester
                        await rem.sendTextWithMentions(result.from, `*„Äå AFINITAS DITERIMA „Äç*\n\n@${sender.replace('@s.whatsapp.net', '')} telah menerima permintaan afinitas *${result.type}* kamu. Kalian sekarang terhubung dalam afinitas *${result.type}*.`)
                        
                        //respond to the accepter
                        await setUser_pasanganrl(sender, pasrl.nama, pasrl.gender, pasrl.image)
                        await setPartner_pasanganrl(request.from, pasrl.nama, pasrl.gender, pasrl.image)
                        await reply(from, `*„Äå AFINITAS DITERIMA „Äç*\n\nKamu telah menerima permintaan afinitas *${result.type}* dari @${result.from.replace('@s.whatsapp.net', '')}. Kalian sekarang terhubung dalam afinitas *${result.type}*.`, id)
                    } else {
                        await reply(from, `Gagal menerima permintaan: ${result.message}`, id)
                    }
                } catch (err) {
                    console.error(err)
                    reply(from, 'Terjadi kesalahan saat memproses permintaan', id)
                }
                break
        case prefix+'rejectafinitas':
            if(!isSideOwner) return reply('Err: 403!')
                try {
                    if (allArgs.length < 2) {
                        return reply(from, `Format salah. Gunakan: ${prefix}rejectafinitas <request_id>`, id)
                    }

                    const requestId = allArgs[1]
                    const result = await rejectAfinitas(sender, requestId)
        
                    if (result.success) {
                        const fromUserDb = await _mongo_UserSchema.findOne({ iId: result.from })
                        const fromName = getNama(fromUserDb) || result.from.replace('@s.whatsapp.net', '')
            
                        //notify the requester
                        await rem.sendTextWithMentions(result.from, `*„Äå AFINITAS DITOLAK „Äç*\n\n@${sender.replace('@s.whatsapp.net', '')} telah menolak permintaan afinitas *${result.type}* kamu.`)
            
                        //respond to the rejecter
                        await reply(from, `*„Äå AFINITAS DITOLAK „Äç*\n\nKamu telah menolak permintaan afinitas *${result.type}* dari @${result.from.replace('@s.whatsapp.net', '')}`, id)
                    } else {
                        await reply(from, `Gagal menolak permintaan: ${result.message}`, id)
                    } 
                } catch (err) {
                    console.error(err)
                    reply(from, 'Terjadi kesalahan saat memproses permintaan', id)
                }
                break
        case prefix+'pasrl':
        case prefix+'pasanganrl':
            if(!isSideOwner) return reply('Err: 403!')
            
            if(args.length < 1) return reply(from, `Format salah. Gunakan: ${prefix}pasrl`, id)
            const userAfinitas = getAfinitasLover(_userDb)
            if(!userAfinitas) return reply(from, `Kamu belum memiliki afinitas lover! Silahkan cari kekasih dengan kirimkan perintah ${prefix}afn lover @tag`, id)
            const getUserGender = getGen(_userDb)
            if(!getUserGender) return reply(from, `Kamu belum mengisi gender! Silahkan isi dengan kirimkan perintah ${prefix}set_user gender cwo atau ${prefix}set_user gender cwe`, id)


            try {
                    if(args[1] != undefined) {
                    const getUserAfinitasLover = getAfinitasLover(_mentionUserDb)
                    if(!getUserAfinitasLover) return reply(from, `Dia belum memiliki afinitas lover! Silahkan cari kekasih dengan kirimkan perintah ${prefix}afn lover @tag`, id)
                } else if(args[1] != undefined && args[1].toLowerCase() == 'putus' && getAfinitasLover(_userDb) != undefined) {
                    const getUserAfinitasLoverPutus = getAfinitasLover(_userDb)
                    if(!getUserAfinitasLoverPutus) return reply(from, `Kamu belum memiliki afinitas lover! Silahkan cari kekasih dengan kirimkan perintah ${prefix}afn lover @tag`, id)
                    const getUserPasanganrlNama = getNama(_mentionUserDb)
                    let textSendPasrlPutus = `Apa anda yakin mengakhiri hubungan dengan @${getUserAfinitasLoverPutus.replace(/@/gi, 'wa.me/') || getUserPasanganrlNama} ?`
                    if(getUserPasanganPasrlPutus.status == 'Menikah') {
                        const hartaHakPasanganrl = Math.floor(20 / 100 * getMoney(_userDb))
                        textSendPasrlPutus += `\n\n_Harta Hak Pasangan Real Life: 20%_ | *${numberWithCommas(fixNumberE(hartaHakPasanganrl))}*`
                    } else if(getUserPasanganPasrlPutus.status.startsWith('Berkeluarga')) {
                        const hartaHakPasanganrl = Math.floor(45 / 100 * getMoney(_userDb))
                        textSendPasrlPutus += `\n\n_Harta Hak Pasangan Real Life : 45%_ | *${numberWithCommas(fixNumberE(hartaHakPasanganrl))}*`
                    }

                    rem.sendButtons(from, textSendPasrlPutus = shuffleArray(
                        [
                            {
                                id: `${prefix}pasrl putus ${sender} answer=1`,
                                text: 'Yakin'
                            }, 
                            {
                                id: `TidakPutus`,
                                text: 'Tidak Yakin'
                            }
                        ]
                    ), '', '', { quoted: message }, { mentions: [sender, _mentionUserDb] })
                } else if(message.selectedButtonId != undefined && message.selectedButtonId.trim().split(' ')[1] == 'putus' && getUserAfinitasLover(_userDb) != undefined) {
                    const argsPasrlPutus = message.selectedButtonId.trim().split(' ')
                    const getUserPasanganPasrlPutus = getUserAfinitasLover(_userDb)

                    if(argsPasrlPutus[2] == sender && parseFloat(argsPasrlPutus[3].split('answer=')[1]) == '1') {
                        await addUserMantanPasrl(sender, getUserPasanganPasrlPutus.nama)

                        let hartaHakPasanganrl_confirm = 0
                        if(getUserPasanganPasrlPutus.status == 'Menikah') {
                            hartaHakPasanganrl_confirm = Math.floor(20 / 100 * getMoney(_userDb))
                        } else if(getUserPasanganPasrlPutus.status.startsWith('Berkeluarga')) {
                            hartaHakPasanganrl_confirm = Math.floor(45 / 100 * getMoney(_userDb))
                        }

                        //pasanganrl putus
                        //await removeAfintias(sender, getUserPasanganPasrlPutus.nama, 'lover')

                        await _mongo_UserSchema.updateOne({ iId: sender }, { $set: { "rl.pasrl": {} } })
                        await _mongo_UserSchema.updateOne({ iId: _mentionUserDb }, { $set: { "rl.pasrl": {} } })
                        const removeAfinitas = getAfinitasLover(_mentionUserDb)
                        await _mongo_UserSchema.updateOne({ iId: sender }, { $set: { "rl.afinitas.lover": null }})
                        await _mongo_UserSchema.updateOne({ iId: removeAfinitas }, { $set: { "rl.afinitas.lover": null }})
                        await MinMoney(sender, hartaHakPasanganrl_confirm)
                        console.log('success')

                        rem.sendTextWithMentions(from, `Kamu telah mengakhiri hubungan dengan @${getUserPasanganPasrlPutus.nama}`)
                    } else {
                        reply(from, 'Invalid!')
                    }

                    const getUserPasanganrl = getUser_pasanganrl(_userDb)
                    const getUserRumahPasanganrl = getUserRoleplay_rumah(_userDb)
                    if(!getUserPasanganrl) return reply(from, `Kamu belum memiliki afinitas lover! Silahkan cari kekasih dengan kirimkan perintah ${prefix}afn lover @tag`, id)
                    if(!getUserRumahPasanganrl) return reply(from, `Kamu belum memiliki rumah! Silahkan cari rumah dengan kirimkan perintah ${prefix}beli_rumah`, id)

                    if(!getUserPasanganrl.img && !fs.existsSync(getUserPasanganrl.img)) {
                        const getUserPasanganrlImageDefault = './media/img/images_pp_blank.png'
                        await _mongo_UserSchema.updateOne({ iId: sender }, { $set: { "rl.pasanganrl.img": getUserPasanganrlImageDefault } })
                        getUserPasanganrl.img = getUserPasanganrlImageDefault.data.data.images?.jpg?.image_url
                    }

                    const calculateUserNextXpPasanganrl = 2000 * (Math.pow(2, getUserPasanganrl.level) - 1)
                    const calculateUmurPasanganrl = showElapsedTime(getUserPasanganrl.umurpasangan)
                    const calculateSejakPasanganrl = moment(getUserPasanganrl.umurpasangan).format('LL')

                    if(getUserRumahPasanganrl.lahan == 'd1') {
                        var lahanDisplayText = '1'
                    } else if(getUserRumahPasanganrl.lahan == 'd2') {
                        var lahanDisplayText = '2'
                    } else if(getUserRumahPasanganrl.lahan == 'd3') {
                        var lahanDisplayText = '3'
                    } else if(getUserRumahPasanganrl.lahan == 'd4') {
                        var lahanDisplayText = '4'
                    } else {
                        var lahanDisplayText = '?'
                    }
                    
                    if(getUserPasanganrl.status == 'Pacaran') {
                        var emoteDisplayStatusPasrl = `‚ù§Ô∏è ${getUserPasanganrl.status} ‚ù§Ô∏è`
                    } else if(getUserPasanganrl.status == 'Menikah') {
                        var emoteDisplayStatusPasrl = `üë©‚Äç‚ù§Ô∏è‚Äçüíã‚Äçüë® ${getUserPasanganrl.status} üë©‚Äç‚ù§Ô∏è‚Äçüíã‚Äçüë®`
                    } else if(getUserPasanganrl.status == 'Berkeluarga.1.Cowo') {
                        var emoteDisplayStatusPasrl = `üë®‚Äçüë©‚Äçüë¶ ${getUserPasanganrl.status.replace('.1.Cowo', '')} üë®‚Äçüë©‚Äçüë¶`
                    } else if(getUserPasanganrl.status == 'Berkeluarga.1.Cewe') {
                        var emoteDisplayStatusPasrl = `üë®‚Äçüë©‚Äçüëß ${getUserPasanganrl.status.replace('.1.Cewe', '')} üë®‚Äçüë©‚Äçüëß`
                    } else if(getUserPasanganrl.status == 'Berkeluarga.2..Cowo.Cewe') {
                        var emoteDisplayStatusPasrl = `üë®‚Äçüë©‚Äçüëß‚Äçüë¶ ${getUserPasanganrl.status.replace('.2..Cowo.Cewe', '')} üë®‚Äçüë©‚Äçüëß‚Äçüë¶`
                    } else if(getUserPasanganrl.status == 'Berkeluarga.2..Cewe.Cowo') {
                        var emoteDisplayStatusPasrl = `üë®‚Äçüë©‚Äçüëß‚Äçüë¶ ${getUserPasanganrl.status.replace('.2..Cewe.Cowo', '')} üë®‚Äçüë©‚Äçüëß‚Äçüë¶`
                    } else if(getUserPasanganrl.status == 'Berkeluarga.2..Cowo.Cowo') {
                        var emoteDisplayStatusPasrl = `üë®‚Äçüë©‚Äçüë¶‚Äçüë¶ ${getUserPasanganrl.status.replace('.2..Cowo.Cowo', '')} üë®‚Äçüë©‚Äçüë¶‚Äçüë¶`
                    } else if(getUserPasanganrl.status == 'Berkeluarga.2..Cewe.Cewe') {
                        var emoteDisplayStatusPasrl = `üë®‚Äçüë©‚Äçüëß‚Äçüëß ${getUserPasanganrl.status.replace('.2..Cewe.Cewe', '')} üë®‚Äçüë©‚Äçüëß‚Äçüëß`
                    } else if(getUserPasanganrl.status.startsWith('Berkeluarga')) {
                        var emoteDisplayStatusPasrl = `üë®‚Äçüë©‚Äçüëß‚Äçüë¶ Berkeluarga üë®‚Äçüë©‚Äçüëß‚Äçüë¶`
                    } else if(getUserPasanganrl.status.startsWith('Putus')) {
                        var emoteDisplayStatusPasrl = getUserPasanganrl.status.replace('Putus.', '')
                    } else {
                        var emoteDisplayStatusPasrl = 'Unknown'
                    }

                    if(getUserPasanganrl.status == 'Pacaran') {
                        var limitHubunganMaxPasrl = '100'
                    } else if(getUserPasanganrl.status == 'Menikah') {
                        var limitHubunganMaxPasrl = '500'
                    } else if(getUserPasanganrl.status.startsWith('Berkeluarga')) {
                        var limitHubunganMaxPasrl = '1000'
                    } else {
                        var limitHubunganMaxPasrl = '100'
                    }

                    if (getUserPasanganrl.status.startsWith('Putus')) {
                        rem.sendButtons(from, `*${pushname}* üíî *${getUserPasanganrl.nama}* 
Status: ${emoteDisplayStatusPasrl}
Hubungan: üíî *${getUserPasanganrl.hubungan}/${limitHubunganMaxPasrl}*\n\n_Cobalah dewasa lalu mengerti bagaimana caranya berkomitmen dan bertanggung jawab dengan apa yang kamu mulai._`, [{id: `${prefix}pasrl putus ${sender}`, text: 'üíî Putus üíî'}], '', '')
                    }

                }
            } catch (err) {
                console.error(err)
                reply(from, 'Terjadi kesalahan saat memproses permintaan', id)
            }
            break
        case prefix+'stopjadibot':
            // if(isVirtualBot) return reply(from, `Silahkan command _${prefix}stopjadibot_ di wa.me/${global?.coreBotNumber?.replace('@s.whatsapp.net', '')}`)

            // const position = global.jadibot.findIndex(object => object.id == sender)
            // if(position == -1) return reply(from, 'Kamu sedang tidak jadibot')

            // global.jadibot[position].isStop = true
            // await global.jadibot[position]?.access.end()

            // const virtualBotIdStop = global.jadibot[position]?.virtualBotId

            // const jadibotSettings = JSON.parse(fs.readFileSync('./lib/database/jadibot/jadibotSettings.json', 'utf8'))
            // const posJadibotSettings = jadibotSettings.findIndex(all => all.id == virtualBotIdStop)

            // // await fs.rmSync(`./SESSION/${virtualBotIdStop}`, { recursive: true, force: true });
            // jadibotSettings.splice(posJadibotSettings, 1)
            // fs.writeFileSync('./lib/database/jadibot/jadibotSettings.json', JSON.stringify(jadibotSettings))
            // // global.jadibot.splice(position, 1)

            const editMessageStopJadibot = await rem.sendText(from, '_Syncing data..._')
            await getAllJadibotFromAPI()
            rem.sendEditMessage(from, editMessageStopJadibot.key, '_Syncing data: Success | 200_')

            let positionStpopJadibot = undefined
            global.jadibot1.findIndex(object => object.id == sender) != -1 && (positionStpopJadibot = 1)
            global.jadibot2.findIndex(object => object.id == sender) != -1 && (positionStpopJadibot = 2)
            global.jadibot3.findIndex(object => object.id == sender) != -1 && (positionStpopJadibot = 3)
            global.jadibot4.findIndex(object => object.id == sender) != -1 && (positionStpopJadibot = 4)
            global.jadibot5.findIndex(object => object.id == sender) != -1 && (positionStpopJadibot = 5)
            // global.jadibot6.findIndex(object => object.id == sender) != -1 && (positionStpopJadibot = 6)
            // global.jadibot7.findIndex(object => object.id == sender) != -1 && (positionStpopJadibot = 7)
            // global.jadibot8.findIndex(object => object.id == sender) != -1 && (positionStpopJadibot = 8)
            // global.jadibot9.findIndex(object => object.id == sender) != -1 && (positionStpopJadibot = 9)
            // global.jadibot10.findIndex(object => object.id == sender) != -1 && (positionStpopJadibot = 10)

            // if(position1 == -1 && position2 == -1 && position3 == -1 && position4 == -1 && position5 == -1 && ) return reply(from, 'Kamu sedang tidak jadibot')
            if(positionStpopJadibot == undefined) return reply(from, 'Kamu sedang tidak jadibot')
            
            let response = {}
            response = await axios.post(`http://localhost:${listJadibotServer[positionStpopJadibot - 1]}/stop`, { sender })
            
            if(!response?.data?.status) return rem.sendText(from, `Error!, Report to Owner\n*${prefix}owner*`)
            rem.sendText(from, `*Success!*\n\nres: ${util.format(response.data)}`)
            break
        case prefix+'killjadibot':
        case prefix+'killjb':
            const staffAdmin = await _mongo_UserSchema.find({ 
                $or: [
                    { isAdmin: true },
                    { "rl.isMod": true }
                ]
            }).lean()
            if(staffAdmin && !isSideOwner) {
                if(from !== '120363417108683279@g.us') {
                    return reply(from, 'Sebagai moderator dan Bot Admin, Anda hanya dapat menggunakan perintah ini di grup tertentu!', id)
                }
            }
            if(!isSideOwner && !staffAdmin) {
                return reply(from, 'Perintah ini hanya untuk Side Owner!', id)
            }
            if(args.length == 1) return reply(from, `Untuk menggunakan perintah ini ketik *${prefix}killjadibot <id>*`, id)
           
            const editMessageKillJadibot = await rem.sendText(from, '_Syncing data..._')
            await getAllJadibotFromAPI()
            rem.sendEditMessage(from, editMessageKillJadibot.key, '_Syncing data: Success | 200_')

            let kill_positionJadibot = undefined
            let kill_jadibotData = undefined
            global.jadibot1.findIndex(object => object.virtualBotId == args[1]) != -1 && (kill_positionJadibot = 1) && (kill_jadibotData = global.jadibot1)
            global.jadibot2.findIndex(object => object.virtualBotId == args[1]) != -1 && (kill_positionJadibot = 2) && (kill_jadibotData = global.jadibot2)
            global.jadibot3.findIndex(object => object.virtualBotId == args[1]) != -1 && (kill_positionJadibot = 3) && (kill_jadibotData = global.jadibot3)
            global.jadibot4.findIndex(object => object.virtualBotId == args[1]) != -1 && (kill_positionJadibot = 4) && (kill_jadibotData = global.jadibot4)
            global.jadibot5.findIndex(object => object.virtualBotId == args[1]) != -1 && (kill_positionJadibot = 5) && (kill_jadibotData = global.jadibot5)
            // global.jadibot6.findIndex(object => object.virtualBotId == args[1]) != -1 && (kill_positionJadibot = 6) && (kill_jadibotData = global.jadibot6)
            // global.jadibot7.findIndex(object => object.virtualBotId == args[1]) != -1 && (kill_positionJadibot = 7) && (kill_jadibotData = global.jadibot7)
            // global.jadibot8.findIndex(object => object.virtualBotId == args[1]) != -1 && (kill_positionJadibot = 8) && (kill_jadibotData = global.jadibot8)
            // global.jadibot9.findIndex(object => object.virtualBotId == args[1]) != -1 && (kill_positionJadibot = 9) && (kill_jadibotData = global.jadibot9)
            // global.jadibot10.findIndex(object => object.virtualBotId == args[1]) != -1 && (kill_positionJadibot = 10) && (kill_jadibotData = global.jadibot10)
            if(kill_positionJadibot == undefined) return reply(from, '404 response!')
            
            const kill_jadibotDataFind = kill_jadibotData.find(object => object.virtualBotId == args[1])

            let kill_response = {}
            kill_response = await axios.post(`http://localhost:${listJadibotServer[kill_positionJadibot - 1]}/stop`, { sender: kill_jadibotDataFind.id })
            
            if(!kill_response?.data?.status) return rem.sendText(from, `Error!, Report to Owner\n*${prefix}owner*`)
            rem.sendText(from, `*Success!*\n\nres: ${util.format(kill_response.data)}`)
            break
        // case prefix+'listjadibot':
        case prefix+'listjadibot2':
            // let _jadibot1 = undefined
            // let _jadibot2 = undefined
            // let _jadibot3 = undefined
            // let _jadibot4 = undefined
            // // let _jadibot5 = undefined

            // try {
            //     _jadibot1 = (await axios.post('http://localhost:9027/get-jadibot', { validateStatus: () => true }))?.data
            // } catch (err) {
            //     console.error(err)
            // }
            // try {
            //     _jadibot2 = (await axios.post('http://localhost:7027/get-jadibot', { validateStatus: () => true }))?.data
            // } catch (err) {
            //     console.error(err)
            // }
            // try {
            //     _jadibot3 = (await axios.post('http://localhost:5027/get-jadibot', { validateStatus: () => true }))?.data
            // } catch (err) {
            //     console.error(err)
            // }
            // try {
            //     _jadibot4 = (await axios.post('http://localhost:3027/get-jadibot', { validateStatus: () => true }))?.data
            // } catch (err) {
            //     console.error(err)
            // }
            // // try {
            // //     _jadibot5 = (await axios.post('http://localhost:1027/get-jadibot', { validateStatus: () => true }))?.data
            // // } catch (err) {
            // //     console.error(err)
            // // }


            // global.jadibot1 = _jadibot1
            // global.jadibot2 = _jadibot2
            // global.jadibot3 = _jadibot3
            // global.jadibot4 = _jadibot4
            // // global.jadibot5 = _jadibot5
            // let outputTextListJadibot = `*{ List JadiBot }*\n${(_jadibot1?.length || 0) + (_jadibot2?.length || 0) + (_jadibot3?.length || 0) + (_jadibot4?.length || 0) } user Jadibot\n\n_Alternatif :_ https://jadibot.remcp.com\n\n*Jadibot Server 1*\n`

            // if(_jadibot1 != undefined) {
            //     for(let i = 0; i < _jadibot1.length; i++) {
            //         outputTextListJadibot += `${i + 1}. [ _${_jadibot1[i]?.isStop ? 'Offline' : 'Online'}_ ] ${_jadibot1[i]?.virtualBotId}\n*OwnerNumber :* wa.me/${_jadibot1[i]?.id?.replace('@s.whatsapp.net', '')}\n*Bot Number :* wa.me/${_jadibot1[i]?.access?.user?.id?.split(':')[0]}\n\n`
            //     }
            // } else {
            //     outputTextListJadibot += `{ "data._jadibot1.status": "Offline" }\n\n`
            // }

            // outputTextListJadibot += `\n*Jadibot Server 2*\n`
            // if(_jadibot2 != undefined) {
            //     for(let i = 0; i < _jadibot2.length; i++) {
            //         outputTextListJadibot += `${i + 1}. [ _${_jadibot2[i]?.isStop ? 'Offline' : 'Online'}_ ] ${_jadibot2[i]?.virtualBotId}\n*OwnerNumber :* wa.me/${_jadibot2[i]?.id?.replace('@s.whatsapp.net', '')}\n*Bot Number :* wa.me/${_jadibot2[i]?.access?.user?.id?.split(':')[0]}\n\n`
            //     }
            // } else {
            //     outputTextListJadibot += `{ "data._jadibot2.status": "Offline" }\n\n`
            // }

            // outputTextListJadibot += `\n*Jadibot Server 3*\n`
            // if(_jadibot3 != undefined) {
            //     for(let i = 0; i < _jadibot3.length; i++) {
            //         outputTextListJadibot += `${i + 1}. [ _${_jadibot3[i]?.isStop ? 'Offline' : 'Online'}_ ] ${_jadibot3[i]?.virtualBotId}\n*OwnerNumber :* wa.me/${_jadibot3[i]?.id?.replace('@s.whatsapp.net', '')}\n*Bot Number :* wa.me/${_jadibot3[i]?.access?.user?.id?.split(':')[0]}\n\n`
            //     }
            // } else {
            //     outputTextListJadibot += `{ "data._jadibot3.status": "Offline" }\n\n`
            // }

            // outputTextListJadibot += `\n*Jadibot Server 4*\n`
            // if(_jadibot4 != undefined) {
            //     for(let i = 0; i < _jadibot4.length; i++) {
            //         outputTextListJadibot += `${i + 1}. [ _${_jadibot4[i]?.isStop ? 'Offline' : 'Online'}_ ] ${_jadibot4[i]?.virtualBotId}\n*OwnerNumber :* wa.me/${_jadibot4[i]?.id?.replace('@s.whatsapp.net', '')}\n*Bot Number :* wa.me/${_jadibot4[i]?.access?.user?.id?.split(':')[0]}\n\n`
            //     }
            // } else {
            //     outputTextListJadibot += `{ "data._jadibot4.status": "Offline" }\n\n`
            // }

            // outputTextListJadibot += `\n*Jadibot Server 5*\n`
            // if(_jadibot5 != undefined) {
            //     for(let i = 0; i < _jadibot5.length; i++) {
            //         outputTextListJadibot += `${i + 1}. [ _${_jadibot5[i]?.isStop ? 'Offline' : 'Online'}_ ] ${_jadibot5[i]?.virtualBotId}\n*OwnerNumber :* wa.me/${_jadibot5[i]?.id?.replace('@s.whatsapp.net', '')}\n*Bot Number :* wa.me/${_jadibot5[i]?.access?.user?.id?.split(':')[0]}\n\n`
            //     }
            // } else {
            //     outputTextListJadibot += `{ "data._jadibot5.status": "Offline" }\n\n`
            // }

            const isDetailListJadibot = args[1] == 'detail' || args[1] == 'dt' || args[1] == 'dta'
            const isDisplayAllMemberGroup = args[1] === 'dta'
            const editMessageListJadibot = await rem.sendText(from, '_Syncing data..._')
            const allJadibotList = await getAllJadibotFromAPI()
            rem.sendEditMessage(from, editMessageListJadibot.key, '_Syncing data: Success | 200_')

            let outputTextListJadibot = `*{ List JadiBot }*\n${allJadibotList.countAllJadibot} user Jadibot\n_Note: Group Limit diperbarui setiap 10 menit!_\n\n_Alternatif :_ https://jadibot.remcp.com`
            for(let i = 0; i < 5; i++) {
                const allJadibotIdMap = allJadibotList[`_jadibot` + (i + 1)].data.map(all => all.virtualBotId)
                const getAllJadibotGcLimit = isDetailListJadibot ? await _mongo_JadibotSchema.find({ iId: { $in: allJadibotIdMap } }) : []

                outputTextListJadibot += `\n\n*Jadibot Server ${i + 1}*\n`
                if(allJadibotList[`_jadibot` + (i + 1)] == undefined) {
                    outputTextListJadibot += `{ "data._jadibot${i + 1}.status": "Offline" }\n\n`
                } else {
                    for(let j = 0; j < allJadibotList[`_jadibot` + (i + 1)].data.length; j++) {
                        const jadibot = allJadibotList[`_jadibot` + (i + 1)].data[j]
                        const getGroupLimit = (getAllJadibotGcLimit.find(all => all.iId === jadibot.virtualBotId))?.data || { groupLimit: 12 }
                        let getCurrentGroupCount = 'failed'
                        let averageGroupMember = 0
                        const allGroupMember = []
                        if(isDetailListJadibot) {
                            try {
                                if(!global.cacheCurrentGroupCount) global.cacheCurrentGroupCount = {}
                                if(!global.cacheCurrentGroupCount[jadibot.virtualBotId] || (global.cacheCurrentGroupCount[jadibot.virtualBotId]?.expired < Date.now())) {
                                    getCurrentGroupCount = (await axios({
                                        method: 'post',
                                        url: `http://localhost:${allJadibotList[`_jadibot` + (i + 1)].port}/access`,
                                        data: {
                                            id: jadibot.virtualBotId,
                                            key: 'OIAHOIFBAPW790709ba',
                                            method: 'getGroupAllCached',
                                            content: []
                                        },
                                        timeout: 5000
                                    })).data?.data
                                    
                                    global.cacheCurrentGroupCount[jadibot.virtualBotId] = { data: getCurrentGroupCount, expired: Date.now() + 1000 * 60 * 10 }
                                } else {
                                    getCurrentGroupCount = global.cacheCurrentGroupCount[jadibot.virtualBotId].data
                                }

                                global.cacheCurrentGroupCount[jadibot.virtualBotId].data.forEach(all => {
                                    if(all?.participants) {
                                        allGroupMember.push(all.participants.length)
                                    }
                                })
                                averageGroupMember = allGroupMember.reduce((a, b) => a + b, 0) / allGroupMember.length
                            } catch (err) {
                                console.error(jadibot.virtualBotId, err)
                                getCurrentGroupCount = 'failed'
                            }
                        }

                        outputTextListJadibot += `${j + 1}. [ _${jadibot?.isStop ? 'Offline' : 'Online'}_ ] ${jadibot?.virtualBotId}\n*OwnerNumber :* wa.me/${jadibot?.id?.replace('@s.whatsapp.net', '')}\n*Bot Number :* wa.me/${jadibot?.access?.user?.id?.split(':')[0]}${isDetailListJadibot ? `\n*Group Limit :* ${getCurrentGroupCount?.length || 'failed'}/${getGroupLimit.groupLimit || 12}\n*Rata2 Member :* ${averageGroupMember.toFixed(0)}${isDisplayAllMemberGroup ? `\n*Semua Member :* ${allGroupMember.join(', ')}` : ''}` : ''}\n\n`
                    }
                }

                // if last loop
                if(i == 4) {
                    reply(from, outputTextListJadibot)
                }
            }
            break
        case prefix+'getjadibot':
            const editMessageGetJadibot = await rem.sendText(from, '_Syncing data..._')
            await getAllJadibotFromAPI()
            rem.sendEditMessage(from, editMessageGetJadibot.key, '_Syncing data: Success | 200_')

            let jadibotPosition = undefined
            if(global.jadibot1.findIndex(all => all.virtualBotId == virtualBotID) != -1) jadibotPosition = { server: 1, data: global.jadibot1.find(all => all.virtualBotId == virtualBotID) }
            if(global.jadibot2.findIndex(all => all.virtualBotId == virtualBotID) != -1) jadibotPosition = { server: 2, data: global.jadibot2.find(all => all.virtualBotId == virtualBotID) }
            if(global.jadibot3.findIndex(all => all.virtualBotId == virtualBotID) != -1) jadibotPosition = { server: 3, data: global.jadibot3.find(all => all.virtualBotId == virtualBotID) }
            if(global.jadibot4.findIndex(all => all.virtualBotId == virtualBotID) != -1) jadibotPosition = { server: 4, data: global.jadibot4.find(all => all.virtualBotId == virtualBotID) }
            if(global.jadibot5.findIndex(all => all.virtualBotId == virtualBotID) != -1) jadibotPosition = { server: 5, data: global.jadibot5.find(all => all.virtualBotId == virtualBotID) }
            // if(global.jadibot6.findIndex(all => all.virtualBotId == virtualBotID) != -1) jadibotPosition = { server: 6, data: global.jadibot6.find(all => all.virtualBotId == virtualBotID) }
            // if(global.jadibot7.findIndex(all => all.virtualBotId == virtualBotID) != -1) jadibotPosition = { server: 7, data: global.jadibot7.find(all => all.virtualBotId == virtualBotID) }
            // if(global.jadibot8.findIndex(all => all.virtualBotId == virtualBotID) != -1) jadibotPosition = { server: 8, data: global.jadibot8.find(all => all.virtualBotId == virtualBotID) }
            // if(global.jadibot9.findIndex(all => all.virtualBotId == virtualBotID) != -1) jadibotPosition = { server: 9, data: global.jadibot9.find(all => all.virtualBotId == virtualBotID) }
            // if(global.jadibot10.findIndex(all => all.virtualBotId == virtualBotID) != -1) jadibotPosition = { server: 10, data: global.jadibot10.find(all => all.virtualBotId == virtualBotID) }

            if(jadibotPosition == undefined) return reply(from, `{ error: true, errId: 'client/AsyncExport/switch/case.getjadibot/jadibotPosition', err: 'jadibotPosition expected Object received undefined' }`, id)
            reply(from, `Bot terdaftar sebagai Jadibot di server ${jadibotPosition.server}\n\n*VirtualBotId :* ${jadibotPosition.data.virtualBotId}\n*OwnerNumber :* wa.me/${jadibotPosition.data.id.replace('@s.whatsapp.net', '')}\n*Bot Number :* wa.me/${jadibotPosition.data.access.user.id.split(':')[0]}`, id)
            break
        case prefix+'getjadibot2':
            const editMessageGetJadibot2 = await rem.sendText(from, '_Syncing data..._')
            await getAllJadibotNewFromAPI()
            rem.sendEditMessage(from, editMessageGetJadibot2.key, '_Syncing data: Success | 200_')

            const findDataJadibotGet = Object.values(global.jadibot).find(all => all.virtualBotId === virtualBotID)
            if(!findDataJadibotGet) return reply(from, 'Failed get jadibot info! report to owner')

            reply(from, `Bot terdaftar sebagai Jadibot\n\n*VirtualBotId :* ${findDataJadibotGet.virtualBotId}\n*OwnerNumber :* wa.me/${findDataJadibotGet.id.replace('@s.whatsapp.net', '')}\n*Bot Number :* wa.me/${findDataJadibotGet.access.user.id.split(':')[0]}`, id)
            break
            // By Gimenz
        case prefix+'wame':
            if(args.length >= 2) {
                const kata2 = body.slice(6)
                await reply(from, `*${pushname}*\n\n*wa.me/${sender.replace(/[@s.whatsapp.net]/g, '')}?text=${encodeURIComponent(kata2)}*\n\n*Atau*\n\n*api.whatsapp.com/send?phone=${sender.replace(/[@s.whatsapp.net]/g, '')}&text=${encodeURIComponent(kata2)}*`, id)
            } else if (args.length == 1) {
                await reply(from, `*${pushname}*\n\n*wa.me/${sender.replace(/[@s.whatsapp.net]/g, '')}*\n\n*Atau*\n\n*api.whatsapp.com/send?phone=${sender.replace(/[@s.whatsapp.net]/g, '')}*`, id)
            }
            break
// By Gimenz
        case prefix+'snk':
            reply(from, snk, id)
            break
        //Test command
        case prefix+'test8961':
            try {
                const asw = await rem.chatModify(
                    { clear: { messages: [{ id: quotedMsg.id, fromMe: true }] } }, 
                    quotedMsg.from, 
                    []
                )
                console.log(asw)
            } catch (err) {
                console.error(err)
            }
            break
        case prefix+'test5871':
            rem.sendEditMessage(from, {
                remoteJid: from,
                fromMe: quotedMsg.fromMe,
                id: quotedMsg.id,
                participant: isGroupMsg ? sender : undefined
              }, body.replace(args[0] + ' ', ''))
            break
        case prefix+'stopbot':
            if(!isOwner) return
            if(body.includes('--safe')) {
                await rem.sendText(from, '[EXIT] Stopping Bot *PM2*')
                await exec('pm2 stop index')
            } else if(body.includes('--close')) {
                await rem.sendText(from, '[EXIT] Closing Connection, *rem.end()*')
                await rem.end()
            } else if(body.includes('--close2')) {
                await rem.sendText(from, '[EXIT] Closing Connection, *rem.ws.close()*')
                await rem.ws.close()
            }
            break
        case prefix+'backupdb':
        case prefix+'dbbackup':
            if(!isOwner) return reply(from, 'Invalid!')

            // rem.sendText('120363021660813196@g.us', '*/Daily Backup\*\n\nSedang dilakukan backup Database\nMungkin akan ngelag untuk beberapa saat')

            // const filePathBackup = `${process.cwd()}/lib/cache/backup/${moment().format('DD-MM-YYYY')}.MongoBackup.db-bot-rem-comp.gz`
            // let backupProcess = spawn('mongodump', [
            //     '--username=db-bot-rem-comp',
            //     '--password=Gl2aXWpcQ8Af',
            //     '--host=localhost',
            //     '--port=8443',
            //     '--db=db-bot-rem-comp',
            //     `--archive=${filePathBackup}`,
            //     '--gzip'
            // ]);
            
            // backupProcess.on('exit', async (code, signal) => {
            //     if(code)  {
            //         console.log('Backup process exited with code ', code);
            //         reply(from, 'Backup process exited with code ' + code)
            //         rem.sendText('6281358181668-1621640771@g.us', '*!! WARNING !!*\nBackup process exited with code ' + code)
            //     } else if (signal) {
            //         console.error('Backup process was killed with singal ', signal);
            //         reply(from, 'Backup process was killed with singal '+  signal)
            //         rem.sendText('6281358181668-1621640771@g.us', '*!! WARNING !!*\nBackup process was killed with singal ' + signal)
            //     } else {
            //         console.log('Successfully backedup the database')
            //         reply(from, 'Successfully backedup the database')
            //         rem.sendText('120363021660813196@g.us', '*/Daily Backup\*\n\nBerhasil melakukan backup Database')
            //         await rem.sendFile('6281358181668@s.whatsapp.net', filePathBackup, `${moment().format('DD-MM-YYYY')}.MongoBackup.db-bot-rem-comp.gz`, '', '', document, 'application/gzip', false)
            //         fs.unlinkSync(filePathBackup)
            //     }
            // });

            // rem.sendText('120363021660813196@g.us', '*/Daily Backup\*\n\nSedang dilakukan backup Database\nMungkin akan ngelag untuk beberapa saat')

            const listCollection = ['bot', 'command', 'contact_name', 'group', 'user']
            rem.sendText(from, `Backup ${moment().format('DD-MM-YYYY')}`)

            const filePathBackup = `${process.cwd()}/lib/cache/backup`
            let backupProcess = spawn('mongodump', [
                `--uri="${process.env.MONGODB_ADMIN_URI}"`,
                '--authenticationDatabase=admin',
                '--db=db-bot-rem-comp',
                '--dumpDbUsersAndRoles',
                '--gzip',
                `--archive=${filePathBackup}/backup.${moment().format('DD-MM-YYYY')}.gz`,
                '--quiet'
            ]);
            
            backupProcess.on('exit', async (code, signal) => {
                if(code)  {
                    console.log('Backup process exited with code ', code);
                    reply(from, 'Backup process exited with code ' + code)
                    // rem.sendText('6281358181668-1621640771@g.us', '*!! WARNING !!*\nBackup process exited with code ' + code)
                } else if (signal) {
                    console.error('Backup process was killed with singal ', signal);
                    reply(from, 'Backup process was killed with singal '+  signal)
                    // rem.sendText('6281358181668-1621640771@g.us', '*!! WARNING !!*\nBackup process was killed with singal ' + signal)
                } else {
                    console.log('Successfully backedup the database')
                    // reply(from, 'Successfully backedup the database')
                    // rem.sendText('120363021660813196@g.us', '*/Daily Backup\*\n\nBerhasil melakukan backup Database')
                    // await rem.sendFile(from, `${filePathBackup}/${listCollection[i]}.json`, `${moment().format('DD-MM-YYYY')}.${listCollection[i]}.json`, '', '', document, 'application/json', false)
                    // await rem.sendFile(from, `${filePathBackup}/backup.${moment().format('DD-MM-YYYY')}.gz`, `backup.${moment().format('DD-MM-YYYY')}.gz`, '', '', document, 'application/gzip', false)
                    const sendBodyBackup = { id: 'CORE', key: 'OIAHOIFBAPW790709ba', method: 'sendFile' }
                    await axios.post('http://localhost:7516/access', Object.assign(sendBodyBackup, { content: ["6281358181668@s.whatsapp.net",`${filePathBackup}/backup.${moment().format('DD-MM-YYYY')}.gz`, `backup.${moment().format('DD-MM-YYYY')}.gz`, '', '', document, 'application/gzip'] }))
                    await axios.post('http://localhost:7516/access', Object.assign(sendBodyBackup, { content: ["6282229778223@s.whatsapp.net",`${filePathBackup}/backup.${moment().format('DD-MM-YYYY')}.gz`, `backup.${moment().format('DD-MM-YYYY')}.gz`, '', '', document, 'application/gzip'] }))
                    // fs.unlinkSync(`${filePathBackup}/${listCollection[i]}.json`)
                    fs.unlinkSync(`${filePathBackup}/backup.${moment().format('DD-MM-YYYY')}.gz`)
                }
            });
            rem.sendText(from, `Backup ${moment().format('DD-MM-YYYY')} Selesai`)
            break
        case prefix+'historyev':
            if(!isSideOwner) return reply(from, 'Invalid!')
            if(!args[1]) return reply(from, `Format salah!\nContoh: ${prefix}historyev 6281358181668`)

            if(args[1] === 'get') {

            } else {
                const parseArgs1EvHistory = (args[1].startsWith('08') ? args[1].replace('08', '628') : args[1])?.replace(/\+|@s.whatsapp.net|@|-| /gi, '')?.replace(/\s/g, '')?.trim() + '@s.whatsapp.net'
                const getHistoryEv = (await _mongo_CommandSchema.findOne({ cId: 'ev_history' })).content.filter(all => all.id === parseArgs1EvHistory).reverse()

                let formattedMsgSendHistoryEv = `History Ev ${parseArgs1EvHistory}`
                for(let i = 0; i < getHistoryEv.length; i++) {
                    formattedMsgSendHistoryEv += `\n\nNo: *${getHistoryEv[i].id}*\nFrom: *${getHistoryEv[i].from}*\nBody: _${getHistoryEv[i].body}_`
                }
                reply(from, formattedMsgSendHistoryEv)
            }
            break
        case prefix+'test3581':
            if(!isSideOwner) return reply(from, 'Perintah ini hanya untuk Side Owner!', id)
            try {
                const aa = Object.values(await rem.groupFetchAllParticipating())

                let bb = ``
                for (let i = 0; i < aa.length; i++) {
                    try {
                        const a = aa[i]
                        console.log(a)
                        //console.log(a)
                        const b = a.participants.filter(all => all.admin != null)
                        const c = b.map(nyeh => nyeh.id)
                    
                        if(c.includes(rem.user.jid)) {
                            console.log(aa[i].id)
                            const inv = await rem.groupInviteCode(aa[i].id)
                            console.log(inv)
                            bb += `${i+1}. https://chat.whatsapp.com/${inv}\n\n`
                        }
                    } catch (err) {
                        console.error(err)
                        console.log('asw')
                    }
                }
                
                console.log(bb)
                reply(from, bb)
            } catch (err) {
                console.error(err)
            }
            break
        case prefix+'test7514':
            await rem.sendMessage(from, {
                text: 'test',
                contextInfo: {
                    "externalAdReply": {
                        "title": '${judul}',
                        "body": '${isi}',
                        "mediaType": 3,
                        "thumbnail": await fs.readFileSync('./a.jpg')
                    }
                }
            }, {
                sendEphemeral: true,
                quoted: messageRaw,
            })
            break
        case prefix+'test67658':
            if(!isOwner) return reply(from, 'Perintah ini hanya untuk Dwi!', id)
            //Failed
            const pageRemErrOnMessage = await rem.getPage()
            await pageRemErrOnMessage.click('span[title="Dembug"]')
            await pageRemErrOnMessage.click('#main > header')
            
            await pageRemErrOnMessage.click('#app > div._1ADa8._3Nsgw.app-wrapper-web.font-fix.os-mac > div._1XkO3.three._22rDB > div._3ArsE > div.ldL67._1bLj8 > span > div._1N4rE > span > div.nBIOd._2T-Z0.tm2tP.copyable-area > div > section > div._2P1rL._1is6W.mf5g4 > div._8xDKI > div > div > span.hS9Jh > button')
            const element = await pageRemErrOnMessage.waitForSelector('#app > div._1ADa8._3Nsgw.app-wrapper-web.font-fix.os-mac > div._1XkO3.three._22rDB > div._3ArsE > div.ldL67._1bLj8 > span > div._1N4rE > span > div.nBIOd._2T-Z0.tm2tP.copyable-area > div > section > div._2P1rL._1is6W.mf5g4 > div._8xDKI > div > div._3mpG7 > div > div._13NKt.copyable-text.selectable-text');
            
            const textDescription = await element.evaluate(el => el.textContent);
            //console.log(textDescription) 
            
            const time12 = moment().format('DD/MM HH:mm:ss')
            const replaceTextTime0 = textDescription.split("~ *Last Detected Error* ~")[1];
            const replaceTextTime = textDescription.replace(replaceTextTime0, `${time12}`)
            rem.sendText(from, replaceTextTime)
            console.log(replaceTextTime)

            await pageRemErrOnMessage.focus('#app > div._1ADa8._3Nsgw.app-wrapper-web.font-fix.os-mac > div._1XkO3.three._22rDB > div._3ArsE > div.ldL67._1bLj8 > span > div._1N4rE > span > div.nBIOd._2T-Z0.tm2tP.copyable-area > div > section > div._2P1rL._1is6W.mf5g4 > div._8xDKI > div > div._3mpG7 > div > div._13NKt.copyable-text.selectable-text');
            const inputValue = await pageRemErrOnMessage.$eval('#app > div._1ADa8._3Nsgw.app-wrapper-web.font-fix.os-mac > div._1XkO3.three._22rDB > div._3ArsE > div.ldL67._1bLj8 > span > div._1N4rE > span > div.nBIOd._2T-Z0.tm2tP.copyable-area > div > section > div._2P1rL._1is6W.mf5g4 > div._8xDKI > div > div._3mpG7 > div > div._13NKt.copyable-text.selectable-text', el => el.value);
            for (let i = 0; i < inputValue.length; i++) {
              await pageRemErrOnMessage.keyboard.press('Backspace');
            }
            await pageRemErrOnMessage.keyboard.type(`${replaceTextTime}`);
            await pageRemErrOnMessage.keyboard.press('Enter');
            break
        case prefix+'test9789':
            if(!isOwner) return reply(from, 'Perintah ini hanya untuk Dwi!', id)
            try {
                if(!isOwner) return reply(from, 'Invalid!')
                const mediaDataa = await message.getMedia()
                const filenameNoBgPhoto = GenerateSerialNumber("00000000000000000000000")

                if(fs.existsSync(`./lib/cache/img/${sender}`)) await fs.removeSync(`./lib/cache/img/${sender}`)
                await fs.mkdirSync(`./lib/cache/img/${sender}`)
                await fs.writeFileSync(`./lib/cache/img/${sender}/temp_${filenameNoBgPhoto}.png`, mediaDataa)
                
                const noBgDownloadPath = path.resolve(`./lib/cache/img/${sender}`)

                const page = await browserSS.newPage()
                await page.goto('https://www.fococlipping.com/', {
                    waitUntil: 'networkidle0'
                });
                
                const [fileChooser] = await Promise.all([
                    page.waitForFileChooser(),
                    page.click("div.upload-file-button"),
                ]);
                await fileChooser.accept([`./lib/cache/img/${sender}/temp_${filenameNoBgPhoto}.png`])
        
                await sleep(15000)
                
                await page.click('#app > div > div > div.editor-header > div.header-section.image-section > button.fc-btn.edit-button.primary')
                
                await page._client.send('Page.setDownloadBehavior', {
                    behavior: 'allow',
                    downloadPath: noBgDownloadPath
                });
                
                await page.click('body > div.export-matting-dialog.g-dialog__wrapper.g-dialog__wrapper--centered > div > div > div.g-dialog__footer > div.g-dialog__footer-right > button')
                await page.close()
                
                const fileListNoBg = await fs.readdirSync(`./lib/cache/img/${sender}`)
                const fileNoBg = fileListNoBg.filter(result => !result.startsWith('temp_'))
                await rem.sendFile(from, `./lib/cache/img/${sender}/${fileNoBg[0]}`, 'nobg.png', '', messageRaw, image)
                fs.removeSync(`./lib/cache/img/${sender}`)
                /*let waifu1 = []
        
                for(let i = 0; i < 85; i++) {
                    await fetch('https://www.zerochan.net/Ram+%28Re%3AZero%29' + `?p=${i+1}` , { 
                        method: 'get' 
                    }) 
                    .then(res => res.text()) 
                    .then(res => {
        console.log(i+1)
                        const $ = cheerio.load(res)
                        $("#thumbs2").each((i, data) => {
                            $(data).find("li").each(function(c, d) {
                                $(d).find("p").each(function(e, f) {
                                    $(f).each(function(g, h) {
                                        $(h).find("a").each(function(i, j) {
                                            if($(j).attr('href').startsWith('http')) {
                                                waifu1.push($(j).attr('href'))
                                            }
                                        })
                                    })
                                })
                            })
                        })
                    })
                }
                await fs.writeFileSync('./lib/database/bot/ram.json', JSON.stringify(waifu1))
                console.log('success')*/
        } catch (err) {
            console.error(err)
        }
            break
        case prefix+'test5674':
            if(!isOwner) return reply(from, 'Perintah ini hanya untuk Dwi!', id)
            const page = await browserSS.newPage()
            await page.goto('https://bot.sannysoft.com')
            await page.waitForTimeout(5000)
            await page.screenshot({ path: 'testresult.png', width: 1920, height: 1080 })
            await page.close()
            await rem.sendFile(from, `testresult.png`, 'screenshot.png', `a*`, messageRaw, image)
            console.log(`All done, check the screenshot. ‚ú®`)
            break
        case prefix+'test5670':
            // if(!isOwner) return
            
            async function mainTest5670() {
                const imageTest5670 = (await prepareWAMessageMedia({
                    image: fs.readFileSync('./media/helpwall2.jpg')
                }, {
                    logger: rem.ws.config.logger,
                    userJid: rem.user.id,
                    upload: rem.waUploadToServer
                })).imageMessage
                let msgsTest5670 = generateWAMessageFromContent(
                    from, {
                        viewOnceMessage: {
                            message: {
                                interactiveMessage: {
                                    carouselMessage: {
                                        cards: [{
                                                header: {
                                                    imageMessage: imageTest5670,
                                                    hasMediaAttachment: true,
                                                },
                                                body: {
                                                    text: "Test1"
                                                },
                                                nativeFlowMessage: {
                                                    buttons: [{
                                                        name: "cta_url",
                                                        buttonParamsJson: '{"display_text":"Test2","url":"https:\\/\\/remcp.com","webview_presentation":null}',
                                                    }, ],
                                                },
                                            },
                                            {
                                                header: {
                                                    imageMessage: imageTest5670,
                                                    hasMediaAttachment: true,
                                                },
                                                body: {
                                                    text: "Walawe"
                                                },
                                                nativeFlowMessage: {
                                                    buttons: [{
                                                        name: "cta_url",
                                                        buttonParamsJson: '{"display_text":"bawadehewak","url":"https:\\/\\/remcp.com","webview_presentation":null}',
                                                    }, ],
                                                },
                                            },
                                            {
                                                header: {
                                                    imageMessage: imageTest5670,
                                                    hasMediaAttachment: true,
                                                },
                                                body: {
                                                    text: "Test"
                                                },
                                                nativeFlowMessage: {
                                                    buttons: [{
                                                        name: "cta_url",
                                                        buttonParamsJson: '{"display_text":"Test3","url":"https:\\/\\/remcp.com","webview_presentation":null}',
                                                    }, ],
                                                },
                                            },
                                            {
                                                header: {
                                                    imageMessage: imageTest5670,
                                                    hasMediaAttachment: true,
                                                },
                                                body: {
                                                    text: "Test5"
                                                },
                                                nativeFlowMessage: {
                                                    buttons: [{
                                                        name: "cta_url",
                                                        buttonParamsJson: '{"display_text":"Test4","url":"https:\\/\\/remcp.com","webview_presentation":null}',
                                                    }, ],
                                                },
                                            },
                                            {
                                                header: {
                                                    imageMessage: imageTest5670,
                                                    hasMediaAttachment: true,
                                                },
                                                body: {
                                                    text: "Test9"
                                                },
                                                nativeFlowMessage: {
                                                    buttons: [{
                                                        name: "cta_url",
                                                        buttonParamsJson: '{"display_text":"Test8","url":"https:\\/\\/remcp.com","webview_presentation":null}',
                                                    }, ],
                                                },
                                            },
                                            {
                                                header: {
                                                    imageMessage: imageTest5670,
                                                    hasMediaAttachment: true,
                                                },
                                                body: {
                                                    text: "mwuehehe"
                                                },
                                                nativeFlowMessage: {
                                                    buttons: [{
                                                        name: "cta_url",
                                                        buttonParamsJson: '{"display_text":"Test0","url":"https:\\/\\/remcp.com","webview_presentation":null}',
                                                    }, ],
                                                },
                                            },
                                        ],
                                        messageVersion: 1,
                                    },
                                },
                            },
                        },
                    }, {}
                );

                console.log(JSON.stringify(msgsTest5670.message))
            
                rem.relayMessage(from, msgsTest5670.message, {
                    messageId: message.key.id
                })
            }
            
            mainTest5670()
            break
        // case prefix+'test8749':
        //     if(!isOwner) return reply(from, 'Perintah ini hanya untuk Dwi!', id)
        //     const sendButtonsTemplateLocation = async (from, body, locFile, button, header = '', footer = '', options = {}) => {
        //         const template = generateWAMessageFromContent(from, proto.Message.fromObject({
        //             templateMessage: {
        //                 hydratedTemplate: {
        //                     hydratedContentText: body,
        //                     locationMessage: { jpegThumbnail: options.thumbnail },
        //                     hydratedFooterText: footer,
        //                     hydratedButtons: button
        //                 }
        //             }
        //         }), { userJid: options.sender });
        //         return await rem.relayMessage(
        //             from,
        //             template.message,
        //             { messageId: template.key.id }
        //         )
        //     }


        //     const imageBufferRead_pp = fs.readFileSync('./media/helpwall.png')
        //     const imageBufferRead_bg = fs.readFileSync('./media/helpwall2.jpg')

        //     const width = 400
        //     const height = 200
        //     const imgg = await cnvs.loadImage(imageBufferRead_bg);
        //     const imggg = await cnvs.loadImage(imageBufferRead_pp);
        //     const ctx = canvass.getContext("2d");
        //     ctx.clearRect(0, 0, width, height);
        //     ctx.globalCompositeOperation = 'xor'
        //     ctx.fillStyle = "transparent";
        //     ctx.beginPath()
        //     ctx.fillRect(0, 0, width, height);
        //     ctx.drawImage(imgg, 0, 0, 400, 150)
        //     ctx.save()
        //     ctx.globalCompositeOperation = 'xor'
        //     ctx.beginPath()
        //     ctx.arc(200, 150, 55, 0, Math.PI, true)
        //     ctx.fillStyle = 'white'
        //     ctx.fill()
        //     ctx.restore()
        //     ctx.save()
        //     ctx.beginPath()
        //     ctx.arc(200, 150, 50, 0, Math.PI * 2, false)
        //     ctx.clip()
        //     ctx.drawImage(imggg, 150, 100, 100, 100)
        //     ctx.restore()
        //     ctx.save()
        //     const test65768 = await canvass.toBuffer();

        //     /*const templateImg = await cnvs.loadImage(test65768)
        //     const canvasss = cnvs.createCanvas(width, height);
        //     const ctxx = canvasss.getContext("2d");
        //     ctxx.drawImage(templateImg, 0, 0, width, height)
        //     ctxx.save()
        //     ctxx.beginPath()
        //     ctxx.arc(200, 150, 50, 0, Math.PI * 2, false)
        //     ctxx.clip()
        //     ctxx.drawImage(imggg, 150, 100, 100, 100)
        //     ctxx.restore()
        //     const test657682 = await canvasss.toBuffer();*/

        //     const buttonTest = [{ index: 1, urlButton: { displayText: 'üîê GitHub Repository! ', url: 'https://github.com/RemComp/rem-comp-botwa' } },{ index: 3, quickReplyButton: { displayText: `${prefix}command`, id: '1' } },{ index: 4, quickReplyButton: { displayText: `${prefix}gametutorial`, id: '2' } },{ index: 5, quickReplyButton: { displayText: `${prefix}allcmd`, id: '5' } }]
        //     await rem.sendFile(from, test65768, 'profile.png', '', messageRaw, image)
        //     await sendButtonsTemplateImage(from, 'ahaha\nahahah\n\n\n\ntest', test65768, buttonTest, '', '@dwirizqi.h', { filename: 'test.png' })
        //     //rem.sendText(from, `${groupALLArray}`)
        //       //rem.sendText(from, `${Math.floor(100 * Math.abs(format1(os.totalmem() - os.freemem()).replace(' GB', '')).toFixed(0) / Math.abs(format1(os.totalmem()).replace(' GB', '')).toFixed(0))}`)
        //     break
        case prefix+'test8749':
            if(!isAdmin) return reply(from, 'Perintah ini hanya untuk admin bot!', id)

            var ngirimid = sender
            var pepeT = await rem.profilePictureUrl(sender, 'image')
            let begeT = getBg(_userDb)
            if(!fs.existsSync(begeT)) {
                await replaceBg(sender, `./media/img/bg.png`)
                begeT = `./media/img/bg.png`
            }
            // get begeT result
            const begeTr = (begeT.startsWith('http') ? (await axios.post(begeT, { responseType: 'arraybuffer' })).data : fs.readFileSync(begeT)).toString('base64')
            const findDbNeeded = await _mongo_BotSchema.find({ $or: [{ iId: 'donate' }, { iId: 'title' }] }, { _id: 0, iId: 1, donate: 1, data: 1 })

            async function executeTestT() {
                const dbTagLevel = _userDb
                const listDonatur = findDbNeeded.find(object => object.iId == 'donate')
                let formattedArray = []
                for(let i = 0; i < listDonatur.donate.length; i++) {
                    const listDonate = listDonatur.donate
                    const indexDonate = formattedArray.findIndex(object => object.email == listDonate[i].email)
                    if(indexDonate != -1) {
                        formattedArray[indexDonate].amount += listDonate[i].amount
                        formattedArray[indexDonate].name = listDonate[i].name
                    } else {
                        formattedArray.push(listDonate[i])
                    }
                }
                formattedArray.sort((a, b) => (a.amount < b.amount) ? 1 : -1)
    
                function getTitleTarget() {
                    let nameTitle = undefined
                    let styleRoundTitle = undefined
                    let svgIconTitle = undefined
    
                    const getDataListTitle = findDbNeeded.find(object => object.iId == 'title')
                    const sortDataListTitle = getDataListTitle.data.sort((a, b) => (a.priority > b.priority) ? 1 : -1)
                    for(let i = 0; i < sortDataListTitle.length; i++) {
                        const isTrueCondition = eval(sortDataListTitle[i].condition)
                        if(isTrueCondition) {
                            nameTitle = sortDataListTitle[i].name
                            styleRoundTitle = sortDataListTitle[i].style
                            svgIconTitle = sortDataListTitle[i].svgIcon
                            break
                        }
                    }
    
                    return { title: nameTitle, style: styleRoundTitle, svgIcon: svgIconTitle }
                }
    
                const getTitleUserRank = getTitleTarget()
    
                console.log(getTitleUserRank)
                const resultT = await getProfileBgTemplate(pushname, begeTr, pepeT, getTitleUserRank?.title, getTitleUserRank?.style, getTitleUserRank?.svgIcon)
                if(resultT.error || !resultT.result) return reply(from, `Err!\n${resultT.message}`)

                rem.sendFile(from, Buffer.from(resultT.result.replace(/^data:image\/\w+;base64,/, ""), 'base64'), 'profile.png', '', messageRaw, image)
            }

            executeTestT()
            break
        /*case prefix+'databaseuser':
            reply(from, `Jumlah User: ${_userRegister.length}`, id)
            //const userDatabasev = JSON.parse(fs.readFileSync('./lib/database/bot/userDatabase.txt'))
            //const userReg_ = fs.readFileSync('./lib/database/user/userreg.json')
            //await fs.writeFileSync('./lib/database/bot/userDatabase.txt'), JSON.stringify(userReg_)
            //await userDatabasev.push(userReg_)
            await fs.unlinkSync('./lib/database/bot/userDatabase.txt')
            fs.copyFileSync('./lib/database/user/userreg.json', './lib/database/bot/userDatabase.txt')
            rem.sendFile(from, './lib/database/bot/userDatabase.txt', 'userDatabase.txt', '', id)
            break*/
            //Owner
        case prefix+'getuserlog':
            if(!isOwner) return reply(from, 'Perintah ini hanya untuk Dwi!', id)
            if(args[1] == undefined) return reply(from, 'Invalid option')
            const getDirGroupLog = await fs.readdirSync('./lib/database/group/grouplog')
            let foundGroupLog = false
            for(let i = 0; i < getDirGroupLog.length; i++) {
                let check = undefined
                const b = fs.readdirSync(`./lib/database/group/grouplog/${getDirGroupLog[i]}`)
                if(b.includes(`${args[1]}.json`)) {
                    console.log(getDirGroupLog[i])
                    foundGroupLog = true
                    check = fs.readFileSync(`./lib/database/group/grouplog/${getDirGroupLog[i]}/${args[1]}.json`)
                }
                if(check != undefined) {
                    let datapreview_userlog = `Jumlah Chat ${check.length} di Group ${getDirGroupLog[i]}`
                    await rem.sendText(from, datapreview_userlog)
            
                    await rem.sendFile(from, check, `chat_.json`, '', messageRaw, document, 'text/plain')
                }
            }

            if(fs.existsSync(`./lib/database/user/userlog/${args[1]}.json`)) {
                await rem.sendFile(from, `./lib/database/user/userlog/${args[1]}.json`, `chat_private.json`, '', messageRaw, document, 'text/plain')
            } else {
                reply(from, 'not found private_chat')
            }

            if(!foundGroupLog) return reply(from, 'not found group_chat')
            break
        case prefix+'myanimelist':
        case prefix+'mal':
            return rem.sendText(from, 'Err')
            if(!isSuperOwner) return rem.sendText(from, 'Invalid!')
            await rem.sendText(from, 'Updating Library')
            try {
                const pageMAL = await browserMAL.newPage();
                const pageMAL01 = (await browserMAL.pages()) [0]; // Use the default tab instead of making a new one.
                await pageMAL01.close()
                await pageMAL.goto(`https://myanimelist.net/anime/${args[1]}`, { waitUntil: 'load' });
                if(args[2] == 'Watching') {
                    await pageMAL.select('select[class="form-user-status js-form-user-status myinfo_updateInfo"]', "1")
                    rem.sendText(from, 'Succes')
                } else if(args[2] == 'Completed') {
                    await pageMAL.select('select[class="form-user-status js-form-user-status myinfo_updateInfo"]', "2")
                    rem.sendText(from, 'Succes')
                } else if(args[2] == 'On-Hold') {
                    await pageMAL.select('select[class="form-user-status js-form-user-status myinfo_updateInfo"]', "3")
                    rem.sendText(from, 'Succes')
                } else if(args[2] == 'Dropped') {
                    await pageMAL.select('select[class="form-user-status js-form-user-status myinfo_updateInfo"]', "4")
                    rem.sendText(from, 'Succes')
                } else if(args[2] == 'Plan_to_Watch') {
                    await pageMAL.select('select[class="form-user-status js-form-user-status myinfo_updateInfo"]', "6")
                    rem.sendText(from, 'Succes')
                } else {
                    return rem.sendText(from, 'Invalid_nocontext')
                }
            } catch (err) {
                console.error(err)
            }
            break
        case prefix+'test9896':
            const socketUsers = []
            const addMultipleUser = (users, socketId) => {
                console.log(users)
                //Identify
                let finalInputData = []
                if(users.device_key == undefined) {
                    finalInputData = users
                } else {
                    finalInputData.push(users)
                }

                finalInputData.map(user => {
                    var u = socketUsers.find(us => us.userId == user.device_key && us.socketId == socketId)
                    if(!u) {
                        socketUsers.push({ userId: user.device_key, socketId })
                    }
                })
            }

            addMultipleUser({device_key: 'a12'}, 'test12')
            console.log(socketUsers)
        break
        case prefix+'test8062':
            if(!isOwner) return
            const searches = await ClientGenius.songs.search('amanojaku');
            console.log(JSON.stringify(searches))

            break
        case prefix+'test9807':
            const { BinaryNode, getBinaryNodeChild, getBinaryNodeChildren, jidEncode } = require('@dwirizqih/baileys')

            async function getAllGroupId(client) {
                let result = []
                const query = await client.query({
                    tag: 'iq',
                    attrs: {
                        to: '@g.us',
                        xmlns: 'w:g2',
                        type: 'get',
                      },
                    content: [{
                        tag: 'participating',
                          attrs: {},
                        content: [{
                              tag: 'participants',
                              attrs: {}
                        }]
                    }]
                });
                
                const groupsChild = getBinaryNodeChild(query, 'groups');
                if (groupsChild) {
                    getBinaryNodeChildren(groupsChild, 'group').map(({ attrs }) => {
                        const groupId = attrs.id.includes('@') ? attrs.id : jidEncode(attrs.id, 'g.us');
                        result.push(groupId)
                    })
                }
            
                return result
            }
            
            async function getAllGroupInfo(id, client) {
                const listIdGroup = await getAllGroupId(client)
                const allGroupMetadata = []
                for(let i = 0; i < listIdGroup.length; i++) {
                    try {
                        if(nyehTemp[id] != undefined && nyehTemp[id]?.findIndex(all => all.id == listIdGroup[i]) != -1) {
                            console.log('cache')
                            allGroupMetadata.push(nyehTemp[id]?.find(all => all.id == listIdGroup[i]))
                        } else {
                            console.log('request')
                            const groupMeta = await client.groupMetadata(listIdGroup[i])
                            await allGroupMetadata.push(groupMeta)
                            if(nyehTemp[id] == undefined) nyehTemp[id] = []
                            nyehTemp[id].push(groupMeta)
                        }
                    } catch (err) {
                        console.error(err)
                    }
                }
                return allGroupMetadata
            }
            
            await console.log(await getAllGroupInfo('asu', rem))
                reply(from, 'success')
            break
        case prefix+'test9808':
            const sendAdReply = {
                "extendedTextMessage": {
                  "text": "see this https://www.youtube.com/watch?v=dQw4w9WgXcQ",
                  "contextInfo": {
                    "externalAdReply": {
                        title: 'Title lorem ipsum dolor sit amet\n\n\n',
                        body: 'Body lorem ipsum dolor\n\n\n',
                        mediaType: 'VIDEO',
                        mediaUrl: 'https://www.youtube.com/watch?v=dQw4w9WgXcQ',
                        thumbnailUrl: 'https://id1.sgp1.digitaloceanspaces.com/img/midtrans1.jpeg',
                        sourceUrl: 'https://www.youtube.com/watch?v=dQw4w9WgXcQ',
                        renderLargerThumbnail: true,
                    }
                  }
                }
            }
        
        console.log(sendAdReply)
        rem.relayMessage(from, sendAdReply, {})
            break
        case prefix+'test9809':
            rem.sendMessage(from, { text: 'test bang', "contextInfo": {
                "externalAdReply": {
                  "title": "Test Bang",
                  "mediaType": "IMAGE",
                  "thumbnailUrl": "https://remcp.com/helpwall2.jpg",
                  "thumbnail": await imageThumbnail(fs.readFileSync('./media/helpwall2.jpg')),
                  "sourceUrl": "",
                  "renderLargerThumbnail": true,
                  "showAdAttribution": false
                }
            } })
            break
        case prefix+'test9810':
            async function test9810(from, body, imageFile, button, title = '', description = '', sourceUrl = '', mediaUrl = '', showAd = false, largerThumb = true) {
                let imageFileFilter = { isUrl: false, content: undefined }
                if(Buffer.isBuffer(imageFile)) {
                    imageFileFilter.content = imageFile
                } else if(imageFile.startsWith('https://') || imageFile.startsWith('http://')) {
                    imageFileFilter.isUrl = true
                    imageFileFilter.content = imageFile
                } else {
                    imageFileFilter.content = await fs.readFileSync(imageFile)
                }

                let arrayButton = []
                for(let i = 0; i < button.length; i++) {
                    const buttons = { buttonId: button[i].id, buttonText: { displayText: button[i].text }, type: 1 }
                    arrayButton.push(buttons)
                }

                const buttonMessage = {
                    text: body,
                    // footerText: footer,
                    buttons: arrayButton,
                    headerType: 0,
                    viewOnce: true
                }

                const buttonGenerateMessage = await generateWAMessage(sender, buttonMessage, {})
                const content = {
                    contextInfo: {
                        externalAdReply: {
                            title: 'test title',
                            body: 'test body',
                            mediaType: 1,
                            previewType: 0,
                            showAdAttribution: false,
                            renderLargerThumbnail: true,
                            thumbnail: fs.readFileSync('./media/img/bg.png'),
                            thumbnailUrl: 'https://telegra.ph/?id=' + Math.floor(Math.random() * 1111),
                            sourceUrl:  '',
                        },
                    }
                }

                buttonGenerateMessage.message.viewOnceMessage.message.buttonsMessage.contextInfo = content.contextInfo
                buttonGenerateMessage.message.viewOnceMessage.message.headerType = "TEXT"
                console.log(JSON.stringify(buttonGenerateMessage.message.viewOnceMessage.message))

                return await rem.relayMessage(from, buttonGenerateMessage.message, { messageId: buttonGenerateMessage.key.id })
            }

            test9810(from, 'test bang', './media/img/bg.png', [{ id: 'test', text: 'test' }])
            break
        case prefix+'test9811':
            async function test9811 (from, body, imageFile, title = '', description = '', sourceUrl = '', mediaUrl = '', showAd = false, largerThumb = true) {
                let imageFileFilter = undefined
                if(Buffer.isBuffer(imageFile)) {
                    imageFileFilter= imageFile
                } else if(imageFile.startsWith('https://') || imageFile.startsWith('http://')) {
                    imageFileFilter = (await axios.get(imageFile, { responseType: 'arraybuffer' })).data
                } else {
                    imageFileFilter = await fs.readFileSync(imageFile)
                }
                
                console.log(imageFileFilter)
                const content = {
                    extendedTextMessage: {
                        text: body,
                        contextInfo: {
                            externalAdReply: {
                                title: title,
                                body: description,
                                mediaType: 1,
                                previewType: 0,
                                showAdAttribution: showAd,
                                renderLargerThumbnail: largerThumb,
                                thumbnail: imageFileFilter,
                                thumbnailUrl: 'https://telegra.ph/?id=' + Math.floor(Math.random() * 1111),
                                sourceUrl: sourceUrl || '',
                                mediaUrl: mediaUrl || '',
                            },
                        }
                    }
                }

                return await rem.relayMessage(from, content, {})
            }

            test9811(from, 'test bang', './media/img/bgProfile.png', 'test title', 'test body', 'https://remcp.com', 'https://remcp.com', false, true)
            break
        case prefix+'test7901':
            const menu = [
                {index: 1, urlButton: { displayText: "test bang", url: 'https://www.whatsapp.com/otp/copy/'+9802 }}]
                
                rem.sendMessage(from, { text: "nyeh", templateButtons: menu })
            break
        // case prefix+'testdb':
        //     const dateNowDb = Date.now()

        //     global.db['./lib/database/bot/testdb.json'].push({ object: 'test', value: 'object' })
        //     global.db['./lib/database/bot/testdb.json'].splice(global.db['./lib/database/bot/testdb.json'].findIndex(all => all.object == 'test'), 1)
            
        //     const successDateNowDb = Date.now()
        //     reply(from, `Database Response : *${successDateNowDb - dateNowDb}ms*`)
        //     break
        case prefix+'testinternet':
        case prefix+'testnetwork':
            if(global.textTestInternetCache != undefined) return reply(from, global.textTestInternetCache)
            const speedTestTest = await speedTest({ acceptLicense: true })

            let UpSpeedTest = clacSize_kb(bytestobits(speedTestTest.upload.bandwidth), 2).split(' ')
            UpSpeedTest[1] = capitalizeFirstLetter(UpSpeedTest[1].toLowerCase()) + '/s'
            let DownSpeedTest = clacSize_kb(bytestobits(speedTestTest.download.bandwidth), 2).split(' ')
            DownSpeedTest[1] = capitalizeFirstLetter(DownSpeedTest[1].toLowerCase()) + '/s'

            const textTestInternet = `üöÄ *Server Network*
- Ping: *${speedTestTest.ping.latency}ms*
- Upload: *${UpSpeedTest.join('')}*
- Download: *${DownSpeedTest.join('')}*
_${speedTestTest.result.url}_`

            if(global.textTestInternetCache == undefined) global.textTestInternetCache = `_This is Cached SpeedTest_\n_${Date(speedTestTest.timestamp)}_\n\n${textTestInternet}`

            reply(from, textTestInternet)
            break
        case prefix+'insert_group_add':
            if(!isOwner || !isGroupMsg) return reply(from, 'Invalid!')

            const posScGroupAdd = _groupDb.scInsert
            const splitterScGroupAdd = body.replace(`${prefix}insert_group_add `, '')

            if(args[1] == undefined && posScGroupAdd != undefined) return reply(from, posScGroupAdd)

            await _mongo_GroupSchema.updateOne({ iId: groupId }, { $set: { scInsert: splitterScGroupAdd } })
            reply(from, 'Success')
            break
        case prefix+'test_welcome':
        case prefix+'testwelcome':
            if(!isGroupMsg) return reply(from, 'Command ini hanya bisa digunakan di dalam grup!')
            const isWelcomeEnable = _groupDb.isJoinMsg
            //Date Format
            const monthsDate = ['Januari','Februari','Maret','April','Mei','Juni','Juli','Agustus','September','October','November','Desember'];
            const daysDate = ['Minggu', 'Senin', 'Selasa', 'Rabu', 'Kamis', 'Jumat', 'Sabtu']
    
            const dateNow = new Date()
            const groupMetadataWelcome = groupMetadata
            let groupPicWelcome = './media/img/images_pp_blank.png'
            try {
                groupPicWelcome = await rem.profilePictureUrl(groupId, 'image')
            } catch (err) {
                console.error(err)
            }
    
            const prefixGroup = _groupDb.prefix
            let getRulesWelcome = getrules(_groupDb)
            if (getRulesWelcome === undefined) {
                await addrules(groupId, prefixGroup?.prefix || '.')
                _groupDb = await _mongo_GroupSchema.findOne({ iId: groupId })
                getRulesWelcome = getrules(_groupDb)
            }
    
            for(let i = 0; i < [sender].length; i++) {
                const participantsWelcome = [sender]
                let participantsImageWelcome = './media/img/images_pp_blank.png'
                try {
                    participantsImageWelcome = await rem.profilePictureUrl(participantsWelcome[i], 'image')
                } catch (err) {
                    console.error(err)
                }
                const dbParticipant = await _mongo_UserSchema.findOne({ iId: participantsWelcome[i] })
                const nameParticipants = dbParticipant?.rl?.name
    
                let _contactDb = await _mongo_ContactSchema.findOne({ iId: participantsWelcome[i] })
                let image = await cord.Welcome()
                .setUsername(nameParticipants || await rem.contacts(participantsWelcome[i], _contactDb))
                .setDiscriminator(participantsWelcome[i].substring(5, 9))
                .setMemberCount(groupMetadataWelcome.participants.length)
                .setGuildName(groupMetadataWelcome.subject)
                .setGuildIcon(groupPicWelcome)
                .setAvatar(participantsImageWelcome)
                .setBackground("./media/img/bgProfile.png")
                .toAttachment();
    
                const img = cord.write(image, "welcome.png");
    
                await rem.sendFile(from, img.files[0].attachment, img.files[0].name, '', '', MessageType.image, 'image/x-png')

                let namePushUser = nameParticipants || ''
                if(getRulesWelcome.includes('{name}')) {
                    namePushUser = (await _mongo_ContactSchema.findOne({ iId: participantsWelcome[i] })).name
                }
    
                //Format Rules Welcome
                getRulesWelcome = getRulesWelcome.replace(/{mentions}/g, `@${participantsWelcome[i].replace('@s.whatsapp.net', '')}`)
                getRulesWelcome = getRulesWelcome.replace(/{name}/g, nameParticipants || namePushUser)
                getRulesWelcome = getRulesWelcome.replace(/{group}/g, groupMetadataWelcome.subject)
    
                getRulesWelcome = getRulesWelcome.replace(/{days}/g, daysDate[dateNow.getDay()])
                getRulesWelcome = getRulesWelcome.replace(/{month}/g, monthsDate[dateNow.getMonth()])
                getRulesWelcome = getRulesWelcome.replace(/{years}/g, dateNow.getFullYear())
    
                getRulesWelcome = getRulesWelcome.replace(/{date_days}/g, dateNow.getDate())
                getRulesWelcome = getRulesWelcome.replace(/{date_month}/g, dateNow.getMonth() + 1)
                getRulesWelcome = getRulesWelcome.replace(/{date_years}/g, dateNow.getFullYear())
    
                getRulesWelcome = getRulesWelcome.replace(/{time_hours}/g, dateNow.getHours())
                getRulesWelcome = getRulesWelcome.replace(/{time_minute}/g, dateNow.getMinutes())
                getRulesWelcome = getRulesWelcome.replace(/{time_seconds}/g, dateNow.getSeconds())
    
                getRulesWelcome = getRulesWelcome.replace(/{count}/g, groupMetadataWelcome.participants.length)
                
    
                if (getRulesWelcome == undefined) {
                    rem.sendText(from, `*!! Warning !!* setrules kosong || ${prefixGroup?.prefix || '.'}setrules`)
                } else {
                    rem.sendTextWithMentions(from, getRulesWelcome)
                }
            }
            break
        case prefix+'update':
            if(!isOwner) return reply(from, 'Perintah ini hanya untuk Dwi!', id)
            
            require(process.cwd() + args[1])
            await uncache(require.resolve(process.cwd() + args[1]))

            console.log(`'${module}' Updated!`)
            reply(from, `${module} Updated!`)
            break
        case prefix+'addsnap':
            if(!isOwner) return reply(from, 'Perintah ini hanya untuk Dwi!', id)
            const heapdump = require('heapdump');
            heapdump.writeSnapshot('./' + Date.now() + '.heapsnapshot');
            break
        case prefix+'spawnbrowser':
            if(!isOwner) return reply(from, 'Perintah ini hanya untuk Dwi!', id)

            break
        case prefix+'test671':
            if(!isOwner) return reply(from, 'Perintah ini hanya untuk Dwi!', id)
            const getDirGroupLog1 = await fs.readdirSync('./lib/database/group/grouplog')
            let foundGroupLog1 = false
            for(let i = 0; i < getDirGroupLog1.length; i++) {
                console.log(`${i}/${getDirGroupLog1.length}`)
                const b = fs.readdirSync(`./lib/database/group/grouplog/${getDirGroupLog1[i]}`)
                for(let a = 0; a < b.length; a++) {
                    let check = []
                    try {
                        check = await JSON.parse(fs.readFileSync(`./lib/database/group/grouplog/${getDirGroupLog1[i]}/${b[a]}`))
                    } catch (err) {
                        console.log(`${getDirGroupLog1[i]}/${b[a]}`, err)
                    }
                    const filter = await check.map(all => all?.message?.toLowerCase() || '')
                    for(let c = 0; c < filter.length; c++) {
                        if(filter[c].includes('dinda tukang colmek')) {
                            foundGroupLog1 = b[a]
                            console.log('found test671', b[a], getDirGroupLog1[i])
                            await rem.sendFile(from, check, `chat_${b[a]}.json`, '', messageRaw, document, 'text/plain')
                        }
                    }
                }
            }
            break
        case prefix+'evalerror':
        case prefix+'evalerr':
            await JSON.parse('./run.js')
            break
        case prefix+'logmsg':
            console.log(message)
            break
        case prefix+'logmsgraw':
            console.log(messageRaw)
            break
        case prefix+'sec897':
            if(sender != '62856038120076@s.whatsapp.net') return
            const aBc = ["6281358181668-1621640771@g.us", "120363021660813196@g.us"]
const text = `<Auto Patch Update>

+> Bot Self Diagnosis at 02.00
+> API Self Diagnosis at 00.00
+> Server Self Diagnosis
+> Socket Auto Repair Activated

Bot Self Diagnosis
+> Jadibot reset setiap Hari Minggu / Jadibot reset ketika salah satu sesi bermasalah
+> Restart Otomatis jika terjadi kesalahan sistem
+> Server Restart setiap 2 minggu

API Self Diagnosis
+> Disable API dev route
+> Change Main Host to nginx for stability

Server Self Diagnosis
+> Add bot to systemctl for auto start when server restart
+> Add API to systemctl for auto start when server restart
+> Add API-V2 to systemctl for auto start when server restart`

for(let i = 0; i < aBc.length; i++) {
    rem.sendText(aBc[i], text)
}
            break
        default:
            if(config.isDebug) console.log(`${Date.now() - dateNowProccessIs}ms - case Default [1]`)
            const getNoCmdReply = isGroupMsg ? _groupDb.setGroup.nocmd : false
            if (command.startsWith(prefix) && !getNoCmdReply) {
                if(config.isDebug) console.log(`${Date.now() - dateNowProccessIs}ms - case Default [2]`)
                if(message.selectedButtonId != undefined) return

                const allCaseInClientJs = clientjs
                if(allCase == undefined) {
                    if(config.isDebug) console.log(`${Date.now() - dateNowProccessIs}ms - case Default [3]`)
                    const splitCase = allCaseInClientJs.split(`case prefix+'`)
                    let resultCaseAll = []
                    for(let i = 0; i < splitCase.length; i++) {
                        await resultCaseAll.push(splitCase[i].split(`'`)[0])
                    }
                    resultCaseAll.splice(0, 1)
                    resultCaseAll.pop()
                    allCase = resultCaseAll

                    if(config.isDebug) console.log(`${Date.now() - dateNowProccessIs}ms - case Default [4]`)
                }

                if(config.isDebug) console.log(`${Date.now() - dateNowProccessIs}ms - case Default [5]`)
                const allCaseResult = allCase
                const checkCommandSimilarity = args[0].trim().replace(prefix, '')
                const similarityCommand = checkCommandSimilarity == '' ? undefined : stringSimilarity.findBestMatch(checkCommandSimilarity, allCaseResult)

                if(config.isDebug) console.log(`${Date.now() - dateNowProccessIs}ms - case Default [6]`)
                if(_userDb?.setUser?.customNoCmd != undefined) {
                    // if(_userDb?.setUser?.customNoCmd.includes('fsstat.') || _userDb?.setUser?.customNoCmd.includes('rem.') || _userDb?.setUser?.customNoCmd.includes('clientjs')) return
                    // const customNoCmd = eval('`' + _userDb?.setUser?.customNoCmd.replace(/(\{.*?)/gi, '${') + '`')
                    let customNoCmd = _userDb?.setUser?.customNoCmd
                    customNoCmd = customNoCmd.replace(/{pushname}/g, pushname)
                    customNoCmd = customNoCmd.replace(/{cmd}/g, args[0])
                    customNoCmd = customNoCmd.replace(/{suggest}/g, similarityCommand?.bestMatch?.target ?? `help`)
                    customNoCmd = customNoCmd.replace(/{prefix}/g, prefix)
                    rem.sendButtons(from, customNoCmd, [{ id: `${prefix}${similarityCommand?.bestMatch?.target ?? `help`}`, text: `${prefix}${similarityCommand?.bestMatch?.target ?? `help`}` }], '', '@dwirizqi.h', { quoted: messageRaw })
                } else {
                    rem.sendButtons(from, `Maaf ${pushname}, Command *${args[0]}* Tidak Terdaftar Di Dalam *${prefix}help*\n_Mungkin maksud anda *${prefix}${similarityCommand?.bestMatch?.target ?? `help`}*_`, [{ id: `${prefix}${similarityCommand?.bestMatch?.target ?? `help`}`, text: `${prefix}${similarityCommand?.bestMatch?.target ?? `help`}` }], '', '@dwirizqi.h', { quoted: messageRaw })
                }

                if(config.isDebug) console.log(`${Date.now() - dateNowProccessIs}ms - case Default [7]`)
            }

            isCommandExists = false
            await _mongo_CommandMessageSchema.deleteOne({ iId: sender, iIdM: id })
        }

            if(config.isDebug) console.log(`${Date.now() - dateNowProccessIs}ms - recordRe`)
            // await _mongo_BotSchema.updateOne({ iId: "CORE" }, { $set: { "record.re9": Number(processTime(t, moment()) / 30 * 100) } })
            await _mongo_BotSchema.updateOne({ iId: "CORE" }, { $set: { "record.re9": Number(processTime(t, moment()) / 30 * 100) } })
            await _mongo_CommandMessageSchema.updateOne({ iId: sender, iIdM: id }, { $set: { status: 'success' } })
        // //Cleaning
        // //rem = null
        // //reply = null       
        // //message = null
        // //messageRaw = null
        // //MessageType = null
        // groupMetadata = null

        // banned = null
        // bannedTemp = null
        // hitsCount = null
        // nsfw_ = null
        // simi_ = null
        // limit = null
        // muted = null
        // mutedAdmin = null
        // levelUpMsgDisable = null
        // adminNumber = null
        // premium = null
        // antilink = null
        // _Backup = null
        // antibadword = null
        // _welcome = null
        // _leave = null
        // _joincode = null
        // _userRegister = null
        // _countGroupMessage = null
        // _job = null
        // _worklimit = null
        // _afk = null
        // _cmd = null
        // _level = null
        // _mathgame = null
        // _quizgame = null
        // _pref = null
        // _nama = null
        // _cvrt = null
        // _hidepp = null
        // _reminder = null
        // _sider = null
        // _investuser = null
        // _discountInvest = null
        // _setBotCMD = null
        // _setBotMention = null
        // _record_ram_cpu = null
        // _hunt = null
        // _duelses_hunt = null
        // _money = null
        // _rumah = null
        // _pasangan = null
        // _makan = null
        // _invest = null
        // _itemLevel = null
        // _mining = null

        if(config.isDebug) console.log(`${Date.now() - dateNowProccessIs}ms - Finish [1]`)
        if(isCmd) rem.readMessages(message.key)

        if(config.isDebug) console.log(`${Date.now() - dateNowProccessIs}ms - Finish [2]`)
        }
    } catch (err) {
        if(config.isDebug) console.log(`Err [1]`)
        if(isVirtualBot) {
            console.log(`[ ${virtualBotID} ] `, err)
        } else {
            console.error(err)
        }
        //Error Collection
        if(isCmd) {
            const isErrPushedCmd = { isErr: false, err: [] }
            isErrPushedCmd.isErr = true
            err.stack
            .split('\n')
            .slice(1)
            .map(r => r.match(/\((?<file>.*):(?<line>\d+):(?<pos>\d+)\)/))
            .forEach(r => {
                if (r && r.groups && r.groups.file.substr(0, 8) !== 'internal') 
                {
                    const { file, line, pos } = r.groups
                    isErrPushedCmd.err.push({ err: err.message, file, line: `${line}:${pos}` })
                }
            })

            if(isCommandExists) await dbAccess._mongo_CommandMessageSchema.updateOne({ iId: sender, iIdM: id }, { $set: { "isErr": isErrPushedCmd.isErr, "err": isErrPushedCmd.err } })

            if(config.isDebug) console.log(`Err [2]`)

            if(body.toLowerCase().includes('tc') || body.toLowerCase().includes('tictac') || body.toLowerCase().includes('tiktak') || body.toLowerCase().includes('tictactoe')) {
                if(err.toString().includes(`Cannot read properties of undefined (reading 'status')`)) {
                    await reply(from, `Error!\nMungkin sedang bermain, suruh orangnya ${prefix}resetgame`)
                }
            } 
            
            else if(body.toLowerCase().includes('join')) {
                if(err.toString().includes('401')) {
                    await reply(from, 'Error!\nMungkin karena sudah pernah dikick dari group tersebut, contact .owner untuk memasukkan secara manual')
                } else if(err.toString().includes('410')) {
                    await reply(from, 'Error!\nLink tidak valid')
                }
            } 

            else if(body.toLowerCase().includes('tiktok')) {
                if(err.toString().includes('404')) {
                    await reply(from, 'Error!\nMungkin video tidak ada/video bersifat private')
                }
            } 

            else if(body.toLowerCase().includes('images')) {
                if(err.toString().includes('503')) {
                    await reply(from, 'Error!\nServer API down, coba lagi dalam beberapa menit')
                }
            }

            else if(err.message.toString().toLowerCase().includes('unexpected end of json input')) {
                await reply(from, 'Error!\nMungkin kesalahan server, Coba lagi')
            }

            else if(err.toString().includes(`Cannot read properties of undefined (reading '0')`)) {
                if(isNotifErrorRecord) {
                    await rem.sendTextWithMentions('6281358181668-1621640771@g.us', `*Database Corrupted*\n*Memerlukan perbaikan manual* @6281358181668\nReason : _probably ${process.cwd()}/lib/database/bot/record.json_\n*Err :* ${err}`)
                    isNotifErrorRecord = false
                }
            } 
            
            else if(err.toString().includes('Not expecting a response')) {
                await reply(from, 'Error!\nMungkin ngelag, Coba lagi')
            } else {
                const errorMessage = util.format(err)
                const startIndex = errorMessage.indexOf("at module.exports (");
                const endIndex = errorMessage.indexOf(")", startIndex);
                
                const extractedText = errorMessage.substring(startIndex, endIndex);
                await reply(from, 'Error!\nUnknown Error, reported to owner\n```ErrCode:' + `${command}:` + extractedText.split('Mizu2/')[1] + '```', id)
                // await reply('6281358181668-1621640771@g.us', `*Unknown Error*\n*Err :* ${err}`)
            }
            rem.sendReact(from, message.key, "‚ùå")
            if(config.isDebug) console.log(`Err [3]`)

            if(config.isDebug) console.log(`Err [4]`)
        }
        if(!isVirtualBot) {
            reply('6281358181668-1621640771@g.us', `Error detected!\nSector : *onMessage*\nErr : ${util.format(err)}`, id)
        } else {
            // reply('62856038120076@s.whatsapp.net', `Error detected!\nSector : *onMessage*\nErr : ${util.format(err)}`, id)
        }
    }

    if(config.isDebug) console.log(`----- END -----`)
    return 'success'
}
